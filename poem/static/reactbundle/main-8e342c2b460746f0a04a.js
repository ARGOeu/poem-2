(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"/WES":function(e,t,a){var n=a("kWNB");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(e.exports=n.locals)},"29KK":function(e,t,a){"use strict";a.d(t,"k",(function(){return oe})),a.d(t,"f",(function(){return ie})),a.d(t,"q",(function(){return le})),a.d(t,"d",(function(){return se})),a.d(t,"m",(function(){return ue})),a.d(t,"n",(function(){return me})),a.d(t,"i",(function(){return pe})),a.d(t,"l",(function(){return fe})),a.d(t,"o",(function(){return _e})),a.d(t,"b",(function(){return he})),a.d(t,"c",(function(){return ge})),a.d(t,"h",(function(){return Ee})),a.d(t,"a",(function(){return be})),a.d(t,"g",(function(){return ye})),a.d(t,"j",(function(){return Me})),a.d(t,"e",(function(){return Oe})),a.d(t,"p",(function(){return De}));var n=a("q1tI"),r=a.n(n),o=a("9ONQ"),i=a("DCcX"),l=a("vkoW"),c=a("CaDr"),s=a("OBzv"),u=a("sOKU"),m=a("XI7o"),d=a("EvW+"),p=a("tiWs"),f=a("374E"),_=a("a5/R"),h=a("nsn4"),g=a("9a8N"),E=a("F66N"),v=a("arvA"),b=a("BLzl"),y=a("afej"),M=a("/kxI"),O=a("xdlx"),D=a("aLZG"),w=a("jrRI"),A=a("ok1R"),k=a("rhny"),S=a("q7Gj"),P=a("re1l"),C=a("0E8A"),I=a("55Ip"),N=a("5tO7"),T=a.n(N),j=a("RYGk"),L=a.n(j),x=a("uU5Y"),U=a.n(x),R=a("hQ4L"),W=a.n(R),B=(a("Pn3v"),a("IP2g")),K=a("wHSu"),z=a("of9s"),Y=a("KYPV"),Q=a("/8CB"),F=a.n(Q),V=a("a/x8"),H=a("XNy0"),q=a.n(H);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function J(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function te(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ae=["administration","services","reports","probes","metrics","metricprofiles","aggregationprofiles","thresholdsprofiles"],ne=["administration","probes","yumrepos","packages","metrictemplates"],re=new Map;re.set("administration","Administration"),re.set("services","Services"),re.set("reports","Reports"),re.set("probes","Probes"),re.set("metrics","Metrics"),re.set("metricprofiles","Metric profiles"),re.set("aggregationprofiles","Aggregation profiles"),re.set("groupofaggregations","Groups of aggregations"),re.set("groupofmetrics","Groups of metrics"),re.set("groupofmetricprofiles","Groups of metric profiles"),re.set("users","Users"),re.set("apikey","API key"),re.set("metrictemplates","Metric templates"),re.set("yumrepos","YUM repos"),re.set("groupofthresholdsprofiles","Groups of thresholds profiles"),re.set("thresholdsprofiles","Thresholds profiles"),re.set("packages","Packages");var oe=function(e){var t=new Map;return t.set("administration",K.v),t.set("services",K.p),t.set("serviceflavour",K.h),t.set("reports",K.g),t.set("probes",K.n),t.set("metrics",K.d),t.set("metrictemplates",K.d),t.set("metricprofiles",K.e),t.set("aggregationprofiles",K.r),t.set("apikey",K.j),t.set("yumrepos",K.b),t.set("thresholdsprofiles",K.f),t.set("users",K.u),t.set("packages",K.a),e.i.startsWith("groupof")?r.a.createElement("span",{className:"fa-layers fa-fw"},r.a.createElement(B.a,{icon:K.q,color:"white",fixedWidth:!0}),r.a.createElement(B.a,{icon:t.get(e.i.replace("groupof","")),transform:"shrink-".concat("groupofmetricprofiles"===e.i?9:8," up-3")}),r.a.createElement(B.a,{icon:t.get(e.i.replace("groupof","")),transform:"shrink-".concat("groupofmetricprofiles"===e.i?9:8," down-4.2 left-5")}),r.a.createElement(B.a,{icon:t.get(e.i.replace("groupof","")),transform:"shrink-".concat("groupofmetricprofiles"===e.i?9:8," down-4.2 right-5")})):r.a.createElement(B.a,{icon:t.get(e.i),size:"yumrepos"===e.i||"metricprofiles"===e.i?"sm":"1x",fixedWidth:!0})},ie=function(e){var t=e.field,a=e.data,n=void 0===a?[]:a,o=e.prefix,i=void 0===o?"":o,l=e.class_name,c=void 0===l?"":l,s=e.isnew,u=void 0!==s&&s;return r.a.createElement(Y.a,{component:"select",name:i?"".concat(i,".").concat(t.name):t.name,required:!0,className:"form-control ".concat(c," ").concat(u?"border-success":"")},n.map((function(e,t){return 0===t?r.a.createElement("option",{key:t,hidden:!0},e):r.a.createElement("option",{key:t,value:e},e)})))},le=function(e){e.form;var t=e.field,a=te(e,["form","field"]);return r.a.createElement("div",{className:"input-group"},r.a.createElement("input",ee({type:"text",placeholder:"Search"},t,a)),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("span",{className:"input-group-text",id:"basic-addon"},r.a.createElement(B.a,{icon:K.m}))))},ce=function(e){var t=e.isOpen,a=e.toggle,n=e.title,o=e.msg,m=e.onYes;return r.a.createElement(i.a,{isOpen:t,toggle:a},r.a.createElement(l.a,{toggle:a},n),r.a.createElement(c.a,null,o),r.a.createElement(s.a,null,r.a.createElement(u.a,{color:"primary",onClick:function(){m(),a()}},"Yes")," ",r.a.createElement(u.a,{color:"secondary",onClick:a},"No")))},se=function(e){var t=e.location,a=(e.history,t.pathname.split("/")),n=new Array;n.push({url:"/ui/home",title:"Home"});var o=new Object({url:"/ui/"+a[2]});if(o.title=re.get(a[2]),n.push(o),a.length>3){var i=new Object({url:o.url+"/"+a[3]});i.title="Administration"===o.title?re.get(a[3]):a[3],n.push(i)}if(a.length>4){var l=new Object({url:i.url+"/"+a[4]});l.title=a[4],n.push(l)}if(a.length>5){var c=new Object({url:l.url+"/"+a[5]});c.title=a[5],n.push(c)}if(a.length>6&&"history"===c.title){var s=new Object({url:c.url+"/"+a[6]});s.title=a[6],n.push(s)}return r.a.createElement(m.a,{id:"argo-breadcrumb",className:"border-top rounded"},n.map((function(e,t){return t!==n.length-1?r.a.createElement(d.a,{key:t},r.a.createElement(I.b,{to:e.url},e.title)):r.a.createElement(d.a,{key:t,active:!0},e.title)})))},ue=function(e){var t=e.history,a=e.onLogout,n=e.isOpenModal,i=e.toggle,l=e.titleModal,c=e.msgModal,s=e.userDetails;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,{isOpen:n,toggle:i,title:l,msg:c,onYes:function(){return function(e,t){var a=new o.a;return t(),fetch("/rest-auth/logout/",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":a.get("csrftoken"),Referer:"same-origin"}}).then((function(t){return e.push("/ui/login")}))}(t,a)}}),r.a.createElement(p.a,{expand:"md",id:"argo-nav",className:"border rounded"},r.a.createElement(f.a,{className:"text-light"},r.a.createElement("img",{src:T.a,alt:"ARGO logo",className:"img-responsive"}),r.a.createElement("span",{className:"pl-3"},r.a.createElement("strong",null,"ARGO")," POEM")),r.a.createElement(_.a,null),r.a.createElement(h.a,{navbar:!0,className:"justify-content-end"},r.a.createElement(g.a,{navbar:!0},r.a.createElement(E.a,{className:"m-2 text-light"},"Welcome, ",s.username),r.a.createElement(E.a,{className:"m-2"},r.a.createElement(u.a,{id:"argo-navbar-logout",size:"sm",onClick:function(){return i()}},r.a.createElement(B.a,{icon:K.o})))))))},me=function(e){var t=e.location,a=e.isTenantSchema,n=e.userDetails,o=void 0;return o=a?ae:ne,r.a.createElement(g.a,{vertical:!0,pills:!0,id:"argo-navlinks",className:"border-left border-right border-top rounded-top sticky-top"},o.map((function(e,a){return"administration"===e?n.is_superuser?r.a.createElement(E.a,{key:a},r.a.createElement(v.a,{tag:I.b,active:!!t.pathname.includes(e),className:t.pathname.includes(e)?"text-white bg-info":"text-dark",to:"/ui/"+e},r.a.createElement(oe,{i:e})," ",re.get(e))):null:r.a.createElement(E.a,{key:a},r.a.createElement(v.a,{tag:I.b,active:t.pathname.split("/")[2]===e,className:t.pathname.split("/")[2]===e?"text-white bg-info":"text-dark",to:"/ui/"+e},r.a.createElement(oe,{i:e})," ",re.get(e)))})))},de=function(e){var t=e.border,a=void 0!==t&&t;return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement("div",{className:"pt-1"}),r.a.createElement("div",{className:"text-center pt-1"},r.a.createElement("img",{src:U.a,id:"eulogo",alt:"EU logo"}),r.a.createElement("img",{src:W.a,id:"eosclogo",alt:"EOSC logo",className:"pl-1"})),r.a.createElement("p",{className:"text-center"},r.a.createElement("small",null,r.a.createElement("strong",null,"ARGO POEM")," is a service jointly developed and maintained by  ",r.a.createElement("a",{href:"http://www.cnrs.fr/",title:"Centre national de la recherche scientifique"},"CNRS"),",  ",r.a.createElement("a",{href:"https://grnet.gr/",title:"Greek Research and Technology Network"},"GRNET")," and  ",r.a.createElement("a",{href:"http://www.srce.unizg.hr/",title:"University computing centre"},"SRCE"),"  co-funded by ",r.a.createElement("a",{href:"https://www.eosc-hub.eu",title:"EOSC-Hub"},"EOSC-Hub")," and  ",r.a.createElement("a",{href:"http://www.egi.eu/",title:"EGI.eu"},"EGI.eu"),r.a.createElement("br",null),r.a.createElement("a",{href:"http://argo.egi.eu/lavoisier/TermsofUse",title:"Terms of use"},"Terms of use"),", ",r.a.createElement("a",{href:"http://www.apache.org/licenses/LICENSE-2.0",title:"License"},"License"))))},pe=function(e){var t=e.loginPage;return void 0!==t&&t?r.a.createElement("div",{id:"argo-loginfooter"},r.a.createElement(de,null)):r.a.createElement("div",{id:"argo-footer",className:"border rounded"},r.a.createElement(de,{border:!0}))},fe=function(){return r.a.createElement(b.a,{className:"text-center"},r.a.createElement(y.a,{className:"bg-light"},r.a.createElement("h4",{className:"text-dark"},"Loading data...")),r.a.createElement(M.a,null,r.a.createElement("img",{src:L.a,alt:"ARGO logo anim",className:"img-responsive",height:"300px"})))},_e=function(e){var t=e.msg,a=void 0===t?"":t,n=e.title,r=void 0===n?"":n,o=e.callback,i=void 0===o?void 0:o;z.NotificationManager.success(a,r,2e3),setTimeout(i,2e3)},he=function(e){var t=e.resourcename,a=void 0===t?"":t,n=e.location,o=void 0===n?void 0:n,i=e.infoview,l=void 0!==i&&i,c=e.addview,s=void 0!==c&&c,u=e.listview,m=void 0!==u&&u,d=e.modal,p=void 0!==d&&d,f=e.state,_=void 0===f?void 0:f,h=e.toggle,g=void 0===h?void 0:h,E=e.submitperm,v=void 0===E||E,b=e.history,y=void 0===b||b,M=e.addnew,w=void 0===M||M,A=e.clone,k=void 0!==A&&A,S=e.cloneview,P=void 0!==S&&S,C=e.tenantview,N=void 0!==C&&C,T=e.children;return r.a.createElement(r.a.Fragment,null,p&&r.a.createElement(ce,{isOpen:_.areYouSureModal,toggle:g,title:_.modalTitle,msg:_.modalMsg,onYes:_.modalFunc}),r.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},l?r.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},a):s?r.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Add ".concat(a)):m?r.a.createElement(r.a.Fragment,null,w?r.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Select ".concat(a," to change")):r.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Select ".concat(a," for details")),w&&r.a.createElement(I.b,{className:"btn btn-secondary",to:o.pathname+"/add",role:"button"},"Add")):P?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Clone ".concat(a))):N?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},a),y&&r.a.createElement(I.b,{className:"btn btn-secondary",to:o.pathname+"/history",role:"button"},"History")):r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Change ".concat(a)),r.a.createElement(O.a,null,k&&r.a.createElement(I.b,{className:"btn btn-secondary mr-2",to:o.pathname+"/clone",role:"button"},"Clone"),y&&r.a.createElement(I.b,{className:"btn btn-secondary",to:o.pathname+"/history",role:"button"},"History")))),r.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},!v&&!l&&!m&&r.a.createElement(D.a,{color:"danger"},r.a.createElement("center",null,"This is a read-only instance, please request the corresponding permissions to perform any changes in this form.")),T))},ge=function(e){var t=e.field,a=t.name,n=t.value,o=t.onChange,i=t.onBlur,l=e.form,c=l.errors,s=l.touched,u=e.id,m=e.label;te(e,["field","form","id","label"]);return r.a.createElement("div",null,r.a.createElement("input",{name:a,id:u,type:"checkbox",value:n,checked:n,onChange:o,onBlur:i}),r.a.createElement("label",{htmlFor:u},m),s[a]&&c[a]&&r.a.createElement("div",{className:"error"},c[a]))},Ee=function(e){return r.a.createElement("div",{style:{color:"#FF0000",fontSize:"small"}},e)};function ve(e,t){if(t)return-1!==e.toLowerCase().indexOf(t.toLowerCase())}var be=function(e){var t=e.lists,a=e.onselect_handler,n=e.field,o=e.val,i=e.icon,l=e.setFieldValue,c=e.req,s=e.label,u=(e.values,"form-control ".concat(c&&"border-danger"));return r.a.createElement(F.a,{inputProps:{className:u},getItemValue:function(e){return e},items:t,value:o,renderItem:function(e,a){return r.a.createElement("div",{key:t.indexOf(e),className:"argo-autocomplete-entries ".concat(a?"argo-autocomplete-entries-highlighted":"")},e?r.a.createElement(oe,{i:i}):""," ",e)},renderInput:function(e){return s?r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},s)),r.a.createElement("input",ee({},e,{type:"text",className:u,"aria-label":"label"}))):r.a.createElement("input",e)},onChange:function(e){l(n,e.target.value)},onSelect:function(e){l(n,e),a(n,e)},wrapperStyle:{},shouldItemRender:ve,renderMenu:function(e){return r.a.createElement("div",{className:"argo-autocomplete-menu",children:e})}})},ye=function(e){var t=e.value,a=e.onChange,n=e.data;return r.a.createElement("select",{onChange:a,style:{width:"100%"},value:t},r.a.createElement("option",{key:0,value:""},"Show all"),n.map((function(e,t){return r.a.createElement("option",{key:t+1,value:e},e)})))};function Me(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(function(a){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=J(this,X(n).call(this,e))).name=e.match.params.name,t.history=e.history,t.state={loading:!1,list_versions:null,compare1:"",compare2:""},t.backend=new V.a,t}var o,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(n,a),o=n,(i=[{key:"componentDidMount",value:function(){var t=this;this.setState({loading:!0});var a=void 0;a=["metric","metricprofile","aggregationprofile","thresholdsprofile"].includes(e)?"/api/v2/internal/tenantversion/":"/api/v2/internal/version/",this.backend.fetchData("".concat(a,"/").concat(e,"/").concat(this.name)).then((function(e){e.length>1?t.setState({list_versions:e,loading:!1,compare1:e[0].version,compare2:e[1].version}):t.setState({list_versions:e,loading:!1})}))}},{key:"render",value:function(){var a=this,n=this.state,o=n.loading,i=n.list_versions,l=void 0;return l=t?"/ui/administration/".concat(e,"s/").concat(this.name,"/history"):"/ui/".concat(e,"s/").concat(this.name,"/history"),o?r.a.createElement(fe,null):!o&&i?r.a.createElement(he,{resourcename:"Version history",infoview:!0},r.a.createElement("table",{className:"table table-sm"},r.a.createElement("thead",{className:"table-active"},r.a.createElement("tr",null,1===i.length?r.a.createElement("th",{scope:"col"},"Compare"):r.a.createElement("th",{scope:"col"},r.a.createElement(u.a,{color:"info",onClick:function(){return a.history.push("".concat(l,"/compare/").concat(a.state.compare1,"/").concat(a.state.compare2))}},"Compare")),r.a.createElement("th",{scope:"col"},"Version"),r.a.createElement("th",{scope:"col"},"Date/time"),r.a.createElement("th",{scope:"col"},"User"),r.a.createElement("th",{scope:"col"},"Comment"))),r.a.createElement("tbody",null,i.map((function(e,t){return r.a.createElement("tr",{key:t},1===i.length?r.a.createElement("td",null,"-"):0===t?r.a.createElement("td",null,r.a.createElement("input",{type:"radio",name:"radio-1",value:e.version,defaultChecked:!0,onChange:function(e){return a.setState({compare1:e.target.value})}})):r.a.createElement("td",null,r.a.createElement("input",{type:"radio",name:"radio-1",value:e.version,onChange:function(e){return a.setState({compare1:e.target.value})}})," ",r.a.createElement("input",{type:"radio",name:"radio-2",value:e.version,defaultChecked:1===t,onChange:function(e){return a.setState({compare2:e.target.value})}})),r.a.createElement("td",null,e.version?r.a.createElement(I.b,{to:"".concat(l,"/").concat(e.version)},e.version):""),r.a.createElement("td",null,e.date_created?e.date_created:""),r.a.createElement("td",null,e.user?e.user:""),r.a.createElement("td",{className:"col-md-6"},e.comment?e.comment:""))}))))):null}}])&&Z(o.prototype,i),l&&Z(o,l),n}(n.Component))}var Oe=function(e){var t=e.title,a=e.item1,n=e.item2;a=a.split("\r\n"),n=n.split("\r\n");var o=Math.max(a.length,n.length);if(a.length>n.length)for(var i=n.length;i<a.length;i++)n.push(" ");else if(n.length>a.length)for(var l=a.length;l<n.length;l++)a.push(" ");for(var c=[],s=0;s<o;s++)c.push(r.a.createElement(q.a,{oldValue:n[s],newValue:a[s],showDiffOnly:!0,splitView:!1,hideLineNumbers:!0,disableWordDiff:!0,key:"diff-"+s}));return r.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},r.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},t),c)},De=function(e){var t=e.errors,a=e.grouplist,n=void 0===a?void 0:a,o=e.fieldsdisable,i=void 0!==o&&o,l=e.profiletype,c=void 0===l?void 0:l;return r.a.createElement(w.a,null,r.a.createElement(A.a,null,r.a.createElement(k.a,{md:6},r.a.createElement(S.a,null,r.a.createElement(P.a,{addonType:"prepend"},"Name"),r.a.createElement(Y.a,{type:"text",name:"name",className:"form-control form-control-lg ".concat(t.name&&"border-danger"),disabled:i})),t.name&&Ee(t.name),r.a.createElement(C.a,{color:"muted"},"Name of ".concat(c," profile")))),r.a.createElement(A.a,{className:"mt-4"},r.a.createElement(k.a,{md:3},r.a.createElement(S.a,null,r.a.createElement(P.a,{addonType:"prepend"},"Group"),i?r.a.createElement(Y.a,{type:"text",name:"groupname",className:"form-control",disabled:!0}):r.a.createElement(Y.a,{name:"groupname",component:"select",className:"form-control custom-select ".concat(t.groupname&&"border-danger")},r.a.createElement("option",{key:0,value:"",hidden:!0,color:"muted"},"Select group"),n.map((function(e,t){return r.a.createElement("option",{key:t+1,value:e},e)})))),t.groupname&&Ee(t.groupname),r.a.createElement(C.a,{color:"muted"},"".concat(c.charAt(0).toUpperCase()+c.slice(1)," profile is member of given group.")))))}},"5tO7":function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgdmVyc2lvbj0iMS4xIiAKICAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgCiAgICB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQgbWVldCIgdmlld0JveD0iNC45MTc4NjU2NTY3NTI0NCA0LjY0MjkwMjM3NzQwOTk2OCAxMDIuMjMzMjE1NTQ3NzAzMiA1MCIgd2lkdGg9Ijk4LjIzIiBoZWlnaHQ9IjQ2Ij4KICAgIDxkZWZzPgogICAgICAgIDxwYXRoIGQ9Ik0xMDMuMTkgMjkuMDFMMTAyLjIyIDMwLjE2TDEwMS4yMyAzMS4yOUwxMDAuMjMgMzIuMzhMOTkuMjEgMzMuNDVMOTguMTggMzQuNDhMOTcuMTQgMzUuNDlMOTYuMDggMzYuNDZMOTUuMDEgMzcuNDFMOTMuOTMgMzguMzJMOTIuODMgMzkuMkw5MS43MiA0MC4wNkw5MC42IDQwLjg4TDg5LjQ2IDQxLjY3TDg4LjMxIDQyLjQzTDg3LjE0IDQzLjE2TDg1Ljk2IDQzLjg3TDg0Ljc3IDQ0LjU0TDgzLjU3IDQ1LjE4TDgyLjM1IDQ1Ljc5TDgxLjExIDQ2LjM3TDc5Ljg3IDQ2LjkyTDc4LjYxIDQ3LjQ0TDc3LjMzIDQ3LjkzTDc2LjA0IDQ4LjM5TDc0Ljc0IDQ4LjgyTDczLjQzIDQ5LjIyTDcyLjEgNDkuNThMNzAuNzYgNDkuOTJMNjkuNCA1MC4yM0w2OC4wMyA1MC41MUw2Ni42NSA1MC43Nkw2NS4yNSA1MC45N0w2My44NCA1MS4xNkw2Mi40MiA1MS4zMkw2MC45OCA1MS40NEw1OS41MyA1MS41NEw1OC4wNiA1MS42TDU2LjU4IDUxLjY0TDU1LjA5IDUxLjY0TDUzLjYgNTEuNjJMNTIuMTIgNTEuNTdMNTAuNjYgNTEuNDlMNDkuMjEgNTEuMzhMNDcuNzcgNTEuMjRMNDYuMzQgNTEuMDdMNDQuOTMgNTAuODhMNDMuNTMgNTAuNjZMNDIuMTUgNTAuNDFMNDAuNzggNTAuMTNMMzkuNDIgNDkuODJMMzguMDggNDkuNDlMMzYuNzUgNDkuMTJMMzUuNDMgNDguNzNMMzQuMTMgNDguMzFMMzIuODQgNDcuODZMMzEuNTYgNDcuMzlMMzAuMyA0Ni44OEwyOS4wNSA0Ni4zNUwyNy44MSA0NS43OUwyNi41OSA0NS4yTDI1LjM4IDQ0LjU4TDI0LjE4IDQzLjk0TDIzIDQzLjI2TDIxLjgzIDQyLjU2TDIwLjY4IDQxLjgzTDE5LjU0IDQxLjA3TDE4LjQxIDQwLjI5TDE3LjI5IDM5LjQ3TDE2LjE5IDM4LjYzTDE1LjEgMzcuNzZMMTQuMDMgMzYuODZMMTIuOTcgMzUuOTNMMTEuOTIgMzQuOTdMMTAuODkgMzMuOTlMOS44NyAzMi45OEw4Ljg2IDMxLjk0TDcuODYgMzAuODdMNi44OCAyOS43N0w1LjkyIDI4LjY0TDU1LjA5IDUuNjRMMTA0LjE1IDI3LjgyTDEwMy4xOSAyOS4wMVpNNTEuNzkgMTMuNjFMNTAuNTQgMTMuODhMNDkuMzMgMTQuMjVMNDguMTcgMTQuNzJMNDcuMDUgMTUuMjdMNDUuOTkgMTUuOTFMNDQuOTkgMTYuNjNMNDQuMDUgMTcuNDNMNDMuMTggMTguMzFMNDIuMzggMTkuMjRMNDEuNjUgMjAuMjVMNDEuMDEgMjEuMzFMNDAuNDYgMjIuNDJMMzkuOTkgMjMuNTlMMzkuNjIgMjQuOEwzOS4zNSAyNi4wNEwzOS4xOSAyNy4zM0wzOS4xMyAyOC42NEwzOS4xOSAyOS45NkwzOS4zNSAzMS4yNEwzOS42MiAzMi40OUwzOS45OSAzMy43TDQwLjQ2IDM0Ljg3TDQxLjAxIDM1Ljk4TDQxLjY1IDM3LjA0TDQyLjM4IDM4LjA0TDQzLjE4IDM4Ljk4TDQ0LjA1IDM5Ljg2TDQ0Ljk5IDQwLjY1TDQ1Ljk5IDQxLjM4TDQ3LjA1IDQyLjAyTDQ4LjE3IDQyLjU3TDQ5LjMzIDQzLjA0TDUwLjU0IDQzLjQxTDUxLjc5IDQzLjY4TDUzLjA3IDQzLjg0TDU0LjM5IDQzLjlMNTUuNyA0My44NEw1Ni45OSA0My42OEw1OC4yNCA0My40MUw1OS40NCA0My4wNEw2MC42MSA0Mi41N0w2MS43MiA0Mi4wMkw2Mi43OCA0MS4zOEw2My43OSA0MC42NUw2NC43MyAzOS44Nkw2NS42IDM4Ljk4TDY2LjQgMzguMDRMNjcuMTIgMzcuMDRMNjcuNzYgMzUuOThMNjguMzIgMzQuODdMNjguNzggMzMuN0w2OS4xNSAzMi40OUw2OS40MiAzMS4yNEw2OS41OCAyOS45Nkw2OS42NCAyOC42NEw2OS41OCAyNy4zM0w2OS40MiAyNi4wNEw2OS4xNSAyNC44TDY4Ljc4IDIzLjU5TDY4LjMyIDIyLjQyTDY3Ljc2IDIxLjMxTDY3LjEyIDIwLjI1TDY2LjQgMTkuMjRMNjUuNiAxOC4zMUw2NC43MyAxNy40M0w2My43OSAxNi42M0w2Mi43OCAxNS45MUw2MS43MiAxNS4yN0w2MC42MSAxNC43Mkw1OS40NCAxNC4yNUw1OC4yNCAxMy44OEw1Ni45OSAxMy42MUw1NS43IDEzLjQ1TDU0LjM5IDEzLjM5TDUzLjA3IDEzLjQ1TDUxLjc5IDEzLjYxWiIgaWQ9ImIzZHhnVUpTTFciPjwvcGF0aD4KICAgICAgICA8cGF0aCBkPSJNNjYuMTEgMjguODJDNjYuMTEgMzUuMzUgNjAuOCA0MC42NiA1NC4yNyA0MC42NkM0Ny43NCA0MC42NiA0Mi40MyAzNS4zNSA0Mi40MyAyOC44MkM0Mi40MyAyMi4yOSA0Ny43NCAxNi45OCA1NC4yNyAxNi45OEM2MC44IDE2Ljk4IDY2LjExIDIyLjI5IDY2LjExIDI4LjgyWiIgaWQ9ImU0ZXBvZkxQV0wiPjwvcGF0aD4KICAgIDwvZGVmcz4KICAgIDxnPgogICAgICAgIDxnPgogICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9IiNiM2R4Z1VKU0xXIiBvcGFjaXR5PSIxIiBmaWxsPSIjNzViM2Q5IiAgZmlsbC1vcGFjaXR5PSIxIj48L3VzZT4KICAgICAgICA8L2c+CiAgICAgICAgPGc+CiAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI2U0ZXBvZkxQV0wiIG9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlPSJ3aGl0ZSIgZmlsbD0iIzZmOGRjNCIgZmlsbC1vcGFjaXR5PSIxIj48L3VzZT4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},ML16:function(e,t,a){var n=a("dtk8");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(e.exports=n.locals)},Pn3v:function(e,t,a){var n=a("p3/T");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(e.exports=n.locals)},QjdQ:function(e,t,a){var n=a("tYV+");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(e.exports=n.locals)},RYGk:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgdmVyc2lvbj0iMS4xIiAKICAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgCiAgICB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQgbWVldCIgdmlld0JveD0iNC45MTc4NjU2NTY3NTI0NCA0LjY0MjkwMjM3NzQwOTk2OCAxMDIuMjMzMjE1NTQ3NzAzMiA1MCIgd2lkdGg9Ijk4LjIzIiBoZWlnaHQ9IjQ2Ij4KICAgIDxkZWZzPgogICAgICAgIDxwYXRoIGQ9Ik0xMDMuMTkgMjkuMDFMMTAyLjIyIDMwLjE2TDEwMS4yMyAzMS4yOUwxMDAuMjMgMzIuMzhMOTkuMjEgMzMuNDVMOTguMTggMzQuNDhMOTcuMTQgMzUuNDlMOTYuMDggMzYuNDZMOTUuMDEgMzcuNDFMOTMuOTMgMzguMzJMOTIuODMgMzkuMkw5MS43MiA0MC4wNkw5MC42IDQwLjg4TDg5LjQ2IDQxLjY3TDg4LjMxIDQyLjQzTDg3LjE0IDQzLjE2TDg1Ljk2IDQzLjg3TDg0Ljc3IDQ0LjU0TDgzLjU3IDQ1LjE4TDgyLjM1IDQ1Ljc5TDgxLjExIDQ2LjM3TDc5Ljg3IDQ2LjkyTDc4LjYxIDQ3LjQ0TDc3LjMzIDQ3LjkzTDc2LjA0IDQ4LjM5TDc0Ljc0IDQ4LjgyTDczLjQzIDQ5LjIyTDcyLjEgNDkuNThMNzAuNzYgNDkuOTJMNjkuNCA1MC4yM0w2OC4wMyA1MC41MUw2Ni42NSA1MC43Nkw2NS4yNSA1MC45N0w2My44NCA1MS4xNkw2Mi40MiA1MS4zMkw2MC45OCA1MS40NEw1OS41MyA1MS41NEw1OC4wNiA1MS42TDU2LjU4IDUxLjY0TDU1LjA5IDUxLjY0TDUzLjYgNTEuNjJMNTIuMTIgNTEuNTdMNTAuNjYgNTEuNDlMNDkuMjEgNTEuMzhMNDcuNzcgNTEuMjRMNDYuMzQgNTEuMDdMNDQuOTMgNTAuODhMNDMuNTMgNTAuNjZMNDIuMTUgNTAuNDFMNDAuNzggNTAuMTNMMzkuNDIgNDkuODJMMzguMDggNDkuNDlMMzYuNzUgNDkuMTJMMzUuNDMgNDguNzNMMzQuMTMgNDguMzFMMzIuODQgNDcuODZMMzEuNTYgNDcuMzlMMzAuMyA0Ni44OEwyOS4wNSA0Ni4zNUwyNy44MSA0NS43OUwyNi41OSA0NS4yTDI1LjM4IDQ0LjU4TDI0LjE4IDQzLjk0TDIzIDQzLjI2TDIxLjgzIDQyLjU2TDIwLjY4IDQxLjgzTDE5LjU0IDQxLjA3TDE4LjQxIDQwLjI5TDE3LjI5IDM5LjQ3TDE2LjE5IDM4LjYzTDE1LjEgMzcuNzZMMTQuMDMgMzYuODZMMTIuOTcgMzUuOTNMMTEuOTIgMzQuOTdMMTAuODkgMzMuOTlMOS44NyAzMi45OEw4Ljg2IDMxLjk0TDcuODYgMzAuODdMNi44OCAyOS43N0w1LjkyIDI4LjY0TDU1LjA5IDUuNjRMMTA0LjE1IDI3LjgyTDEwMy4xOSAyOS4wMVpNNTEuNzkgMTMuNjFMNTAuNTQgMTMuODhMNDkuMzMgMTQuMjVMNDguMTcgMTQuNzJMNDcuMDUgMTUuMjdMNDUuOTkgMTUuOTFMNDQuOTkgMTYuNjNMNDQuMDUgMTcuNDNMNDMuMTggMTguMzFMNDIuMzggMTkuMjRMNDEuNjUgMjAuMjVMNDEuMDEgMjEuMzFMNDAuNDYgMjIuNDJMMzkuOTkgMjMuNTlMMzkuNjIgMjQuOEwzOS4zNSAyNi4wNEwzOS4xOSAyNy4zM0wzOS4xMyAyOC42NEwzOS4xOSAyOS45NkwzOS4zNSAzMS4yNEwzOS42MiAzMi40OUwzOS45OSAzMy43TDQwLjQ2IDM0Ljg3TDQxLjAxIDM1Ljk4TDQxLjY1IDM3LjA0TDQyLjM4IDM4LjA0TDQzLjE4IDM4Ljk4TDQ0LjA1IDM5Ljg2TDQ0Ljk5IDQwLjY1TDQ1Ljk5IDQxLjM4TDQ3LjA1IDQyLjAyTDQ4LjE3IDQyLjU3TDQ5LjMzIDQzLjA0TDUwLjU0IDQzLjQxTDUxLjc5IDQzLjY4TDUzLjA3IDQzLjg0TDU0LjM5IDQzLjlMNTUuNyA0My44NEw1Ni45OSA0My42OEw1OC4yNCA0My40MUw1OS40NCA0My4wNEw2MC42MSA0Mi41N0w2MS43MiA0Mi4wMkw2Mi43OCA0MS4zOEw2My43OSA0MC42NUw2NC43MyAzOS44Nkw2NS42IDM4Ljk4TDY2LjQgMzguMDRMNjcuMTIgMzcuMDRMNjcuNzYgMzUuOThMNjguMzIgMzQuODdMNjguNzggMzMuN0w2OS4xNSAzMi40OUw2OS40MiAzMS4yNEw2OS41OCAyOS45Nkw2OS42NCAyOC42NEw2OS41OCAyNy4zM0w2OS40MiAyNi4wNEw2OS4xNSAyNC44TDY4Ljc4IDIzLjU5TDY4LjMyIDIyLjQyTDY3Ljc2IDIxLjMxTDY3LjEyIDIwLjI1TDY2LjQgMTkuMjRMNjUuNiAxOC4zMUw2NC43MyAxNy40M0w2My43OSAxNi42M0w2Mi43OCAxNS45MUw2MS43MiAxNS4yN0w2MC42MSAxNC43Mkw1OS40NCAxNC4yNUw1OC4yNCAxMy44OEw1Ni45OSAxMy42MUw1NS43IDEzLjQ1TDU0LjM5IDEzLjM5TDUzLjA3IDEzLjQ1TDUxLjc5IDEzLjYxWiIgaWQ9ImExcGtjZVVMNDQiPjwvcGF0aD4KICAgICAgICA8cGF0aCBkPSJNNjYuMTEgMjguODJDNjYuMTEgMzUuMzUgNjAuOCA0MC42NiA1NC4yNyA0MC42NkM0Ny43NCA0MC42NiA0Mi40MyAzNS4zNSA0Mi40MyAyOC44MkM0Mi40MyAyMi4yOSA0Ny43NCAxNi45OCA1NC4yNyAxNi45OEM2MC44IDE2Ljk4IDY2LjExIDIyLjI5IDY2LjExIDI4LjgyWiIgaWQ9ImRqWGR6bnhlSSI+PC9wYXRoPgogICAgPC9kZWZzPgogICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCw0MCkiPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsLTQwKSI+CiAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI2ExcGtjZVVMNDQiIG9wYWNpdHk9IjEiIGZpbGw9IiNkMmQyZDIiIGZpbGwtb3BhY2l0eT0iMSI+PC91c2U+CiAgICAgICAgPC9nPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsLTQwKSI+CiAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI2RqWGR6bnhlSSIgb3BhY2l0eT0iMSIgZmlsbD0iI2JmYmZiZiIgZmlsbC1vcGFjaXR5PSIxIj48L3VzZT4KICAgICAgICA8L2c+CiAgICAgICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIgogICAgICAgICAgICAgdHlwZT0ic2NhbGUiCiAgICAgICAgICAgICBhZGRpdGl2ZT0ic3VtIiAKICAgICAgICAgICAgIGZyb209IjEgMSIKICAgICAgICAgICAgIHRvPSIxIDEiCiAgICAgICAgICAgICBiZWdpbj0iMHMiCiAgICAgICAgICAgICBkdXI9IjFzIgogICAgICAgICAgICAgdmFsdWVzPSIxIDE7IDEgMTsgMSAwOyAxIDE7IDEgMTsgMSAwOyAxIDE7IDEgMDsgMSAxIgogICAgICAgICAgICAga2V5VGltZXM9IjA7IDAuMzsgMC40OyAwLjU7IDAuNzsgMC43NjsgMC44OyAwLjk7IDEiCiAgICAgICAgICAgICByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIKICAgICAgICAvPgogICAgPC9nPgo8L3N2Zz4="},SKq3:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",(function(){return MetricList})),__webpack_require__.d(__webpack_exports__,"e",(function(){return MetricHistory})),__webpack_require__.d(__webpack_exports__,"h",(function(){return MetricVersonCompare})),__webpack_require__.d(__webpack_exports__,"i",(function(){return ProbeVersionLink})),__webpack_require__.d(__webpack_exports__,"b",(function(){return ListOfMetrics})),__webpack_require__.d(__webpack_exports__,"d",(function(){return MetricForm})),__webpack_require__.d(__webpack_exports__,"a",(function(){return CompareMetrics})),__webpack_require__.d(__webpack_exports__,"c",(function(){return MetricChange})),__webpack_require__.d(__webpack_exports__,"g",(function(){return MetricVersionDetails}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("q1tI"),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_DataManager__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("a/x8"),react_router_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("55Ip"),_UIElements__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("29KK"),react_table__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("0enf"),formik__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("KYPV"),reactstrap__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("ok1R"),reactstrap__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("rhny"),reactstrap__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("3OM0"),reactstrap__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("sOKU"),reactstrap__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("aLZG"),reactstrap__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("jrRI"),reactstrap__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("q7Gj"),reactstrap__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("re1l"),reactstrap__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("0E8A"),reactstrap__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("iqOp"),reactstrap__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("glTy"),reactstrap__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("YGfb"),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("IP2g"),_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("wHSu"),react_notifications__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("of9s"),react_notifications__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(react_notifications__WEBPACK_IMPORTED_MODULE_20__),react_diff_viewer__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("XNy0"),react_diff_viewer__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(react_diff_viewer__WEBPACK_IMPORTED_MODULE_21__);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var MetricList=ListOfMetrics("metric"),MetricHistory=Object(_UIElements__WEBPACK_IMPORTED_MODULE_3__.j)("metric"),MetricVersonCompare=CompareMetrics("metric"),DefaultFilterComponent=function(e){var t=e.value,a=e.onChange,n=e.field;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{type:"text",placeholder:"Search by "+n,value:t,onChange:a,style:{width:"100%"}})};function validateConfig(e){var t;return e||(t="Required"),t}var InlineDiffElement=function(e){for(var t=e.title,a=e.item1,n=e.item2,r=Math.max(a.length,n.length),o=[],i=0;i<a.length;i++)o.push("key: "+a[i].key+", value: "+a[i].value);for(var l=[],c=0;c<n.length;c++)l.push("key: "+n[c].key+", value: "+n[c].value);if(a.length>n.length)for(var s=n.length;s<a.length;s++)l.push(" ");else if(n.length>a.length)for(var u=a.length;u<n.length;u++)o.push(" ");for(var m=[],d=0;d<r;d++)m.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_diff_viewer__WEBPACK_IMPORTED_MODULE_21___default.a,{oldValue:l[d],newValue:o[d],showDiffOnly:!0,splitView:!1,hideLineNumbers:!0,disableWordDiff:!0,key:"diff-"+d}));return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},t),m)};function arraysEqual(e,t){if(e.length!==t.length)return!1;for(var a=e.length;a--;)if(e[a].key!==t[a].key||e[a].value!==t[a].value)return!1;return!0}var InlineFields=function(e){var t=e.values,a=e.errors,n=e.field,r=e.addnew,o=void 0!==r&&r,i=e.readonly,l=void 0!==i&&i;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase",hidden:"Passive"===t.type&&"flags"!==n},n.replace("_"," ")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.b,{name:n,render:function(e){return t[n]&&t[n].length>0?t[n].map((function(r,i){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,{key:"fragment.".concat(n,".").concat(i)},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_6__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:5},0===i&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_8__.a,{hidden:"Passive"===t.type&&"flags"!==n,for:"".concat(n,".0.key")},"Key")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:5},0===i&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_8__.a,{hidden:"Passive"===t.type&&"flags"!==n,for:"".concat(n,".0.value")},"Value"))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_6__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:5},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",name:"".concat(n,".").concat(i,".key"),id:"".concat(n,".").concat(i,".key"),className:"form-control ".concat(t[n][i].isNew&&"border-success"),disabled:!o||"config"===n||"Passive"===t.type&&"PASSIVE"===r.key,hidden:"Passive"===t.type&&"flags"!==n})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:5},"Active"===t.type&&"config"===n?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",name:"".concat(n,".").concat(i,".value"),id:"".concat(n,".").concat(i,".value"),className:"form-control ".concat(a.config&&a.config[i]&&"border-danger"),disabled:l||!o&&"config"===n&&"path"===r.key,validate:validateConfig}):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",name:"".concat(n,".").concat(i,".value"),id:"".concat(n,".").concat(i,".value"),className:"form-control ".concat(t[n][i].isNew&&"border-success"),disabled:l||!o&&("config"!==n||"config"===n&&"path"===r.key)||"Passive"===t.type&&"PASSIVE"===r.key,hidden:"Passive"===t.type&&"flags"!==n}),a.config&&"config"===n&&a.config[i]&&Object(_UIElements__WEBPACK_IMPORTED_MODULE_3__.h)(a.config[i].value)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:2},o&&"config"!==n&&(""!==t[n][0].key||""!==t[n][0].value||t[n].length>1)&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_9__.a,{hidden:"Passive"===t.type&&"flags"!==n||"flags"===n&&"Passive"===t.type&&("PASSIVE"===t[n][i].key||""===t[n][i].key&&""===t[n][i].value),size:"sm",color:"danger",type:"button",onClick:function(){e.remove(i),1===t[n].length&&e.push({key:"",value:""})}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_18__.a,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_19__.k})))),o&&"config"!==n&&i===t[n].length-1&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_6__.a,{className:"Passive"===t.type?"mt-0":"mt-2"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:2},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_9__.a,{hidden:"Passive"===t.type&&"flags"!==n,size:"sm",color:"success",type:"button",onClick:function(){return e.push({key:"",value:"",isNew:!0})}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_18__.a,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_19__.l})," Add another ","s"===n.slice(-1)?n.slice(0,-1).replace("_"," "):n.replace("_"," ")))))})):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,{key:"fragment.".concat(n)},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_6__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:5},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_8__.a,{to:"empty-key",hidden:"Passive"===t.type&&"flags"!==n},"Key"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",className:"form-control",value:"",id:"empty-key",disabled:!o,hidden:"Passive"===t.type&&"flags"!==n})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:5},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_8__.a,{to:"empty-value",hidden:"Passive"===t.type&&"flags"!==n},"Value"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",value:"",className:"form-control",id:"empty-value",disabled:!o,hidden:"Passive"===t.type&&"flags"!==n}))),o&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_6__.a,{className:"Passive"===t.type?"mt-0":"mt-2"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:2},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_9__.a,{hidden:"Passive"===t.type&&"flags"!==n,size:"sm",color:"success",type:"button",onClick:function(){return e.push({key:"",value:""})}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_18__.a,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_19__.l})," Add another ","s"===n.slice(-1)?n.slice(0,-1).replace("_"," "):n.replace("_"," ")))))}}))},ProbeVersionLink=function(e){var t=e.probeversion;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.b,{to:"/ui/probes/"+t.split(" ")[0]+"/history/"+t.split(" ")[1].substring(1,t.split(" ")[1].length-1)},t)};function ListOfMetrics(type){var imp=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(function(_Component){function _class(e){var t;return _classCallCheck(this,_class),(t=_possibleConstructorReturn(this,_getPrototypeOf(_class).call(this,e))).location=e.location,t.state="metric"===type?{loading:!1,list_metric:null,list_tags:null,list_groups:null,list_types:null,search_name:"",search_probeversion:"",search_type:"",search_group:"",userDetails:void 0}:{loading:!1,list_metric:null,list_types:null,list_ostags:null,search_name:"",search_probeversion:"",search_ostag:"",search_type:"",selected:{},selectAll:0,userDetails:void 0},t.backend=new _DataManager__WEBPACK_IMPORTED_MODULE_1__.a,t.doFilter=t.doFilter.bind(_assertThisInitialized(t)),t.toggleRow=t.toggleRow.bind(_assertThisInitialized(t)),t.importMetrics=t.importMetrics.bind(_assertThisInitialized(t)),t}return _inherits(_class,_Component),_createClass(_class,[{key:"doFilter",value:function doFilter(list_metric,field,filter){return list_metric.filter((function(row){return eval("row.".concat(field)).toLowerCase().includes(filter.toLowerCase())}))}},{key:"toggleRow",value:function(e){var t=Object.assign({},this.state.selected);t[e]=!this.state.selected[e],this.setState({selected:t,selectAll:2})}},{key:"toggleSelectAll",value:function(){var e=this,t=this.state.list_metric;this.state.search_name&&(t=this.doFilter(t,"name",this.state.search_name)),this.state.search_probeversion&&(t=this.doFilter(t,"probeversion",this.state.search_probeversion)),this.state.search_type&&(t=this.doFilter(t,"mtype",this.state.search_type)),this.state.search_ostag&&(t=t.filter((function(t){return"".concat(t.ostag.join(", ")).includes(e.state.search_ostag)})));var a={};0===this.state.selectAll&&t.forEach((function(e){a[e.name]=!0})),this.setState({selected:a,selectAll:0===this.state.selectAll?1:0})}},{key:"importMetrics",value:function(){var e=this.state.selected;Object.keys(e).length>0?this.backend.importMetrics({metrictemplates:Object.keys(e)}).then((function(e){return e.json()})).then((function(e){e.imported&&react_notifications__WEBPACK_IMPORTED_MODULE_20__.NotificationManager.success(e.imported,"Imported"),e.err&&react_notifications__WEBPACK_IMPORTED_MODULE_20__.NotificationManager.warning(e.err,"Not imported")})):react_notifications__WEBPACK_IMPORTED_MODULE_20__.NotificationManager.error("No metric templates were selected!","Error")}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.isActiveSession().then((function(t){t.active&&("metric"===type?Promise.all([e.backend.fetchData("/api/v2/internal/metric"),e.backend.fetchResult("/api/v2/internal/usergroups"),e.backend.fetchData("/api/v2/internal/mtypes")]).then((function(a){var n=_slicedToArray(a,3),r=n[0],o=n[1],i=n[2];return e.setState({list_metric:r,list_groups:o.metrics,list_types:i,loading:!1,search_name:"",search_probeversion:"",search_group:"",search_type:"",userDetails:t.userdetails})})):Promise.all([e.backend.fetchData("/api/v2/internal/metrictemplates".concat(imp?"-import":"")),e.backend.fetchData("/api/v2/internal/mttypes"),e.backend.fetchData("/api/v2/internal/ostags")]).then((function(a){var n=_slicedToArray(a,3),r=n[0],o=n[1],i=n[2];return e.setState({list_metric:r,list_types:o,list_ostags:i,loading:!1,search_name:"",search_probeversion:"",search_type:"",search_ostag:"",userDetails:t.userdetails})})))}))}},{key:"render",value:function(){var e=this,t=void 0;t="metric"===type?"/ui/metrics/":imp?"/ui/administration/metrictemplates/":"/ui/metrictemplates/";var a=[{Header:"Name",id:"name",minWidth:100,accessor:function(a){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.b,{to:imp?"CentOS 6"===e.state.search_ostag&&a.centos6_probeversion?"".concat(t).concat(a.name,"/history/").concat(a.centos6_probeversion.split(" ")[1].substring(1,a.centos6_probeversion.split(" ")[1].length-1)):"CentOS 7"===e.state.search_ostag&&a.centos7_probeversion?"".concat(t).concat(a.name,"/history/").concat(a.centos7_probeversion.split(" ")[1].substring(1,a.centos7_probeversion.split(" ")[1].length-1)):"".concat(t).concat(a.name):"".concat(t).concat(a.name)},a.name)},filterable:!0,Filter:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DefaultFilterComponent,{field:"name",value:this.state.search_name,onChange:function(t){return e.setState({search_name:t.target.value})}})},{Header:"Probe version",id:"probeversion",minWidth:80,accessor:function(t){return t.probeversion?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ProbeVersionLink,{probeversion:imp?"CentOS 6"===e.state.search_ostag&&t.centos6_probeversion?t.centos6_probeversion:"CentOS 7"===e.state.search_ostag&&t.centos7_probeversion?t.centos7_probeversion:t.probeversion:t.probeversion}):""},Cell:function(e){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{textAlign:"center"}},e.value)},filterable:!0,Filter:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DefaultFilterComponent,{field:"probe version",value:this.state.search_probeversion,onChange:function(t){return e.setState({search_probeversion:t.target.value})}})},{Header:"Type",minWidth:30,accessor:"mtype",Cell:function(e){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{textAlign:"center"}},e.value)},filterable:!0,Filter:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.g,{value:this.state.mtype,onChange:function(t){return e.setState({search_type:t.target.value})},data:this.state.list_types})}];imp&&this.state.userDetails.is_superuser?a.splice(0,0,{id:"checkbox",accessor:"",Cell:function(t){var a=t.original;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{type:"checkbox",className:"checkbox",checked:!0===e.state.selected[a.name],onChange:function(){return e.toggleRow(a.name)}}))},Header:"Select all",Filter:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{type:"checkbox",className:"checkbox",checked:1===this.state.selectAll,ref:function(t){t&&(t.indeterminate=2===e.state.selectAll)},onChange:function(){return e.toggleSelectAll()}})),filterable:!0,sortable:!1,minWidth:12}):a.splice(0,0,{Header:"#",id:"row",minWidth:12,Cell:function(e){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{textAlign:"center"}},e.index+1)}}),"metric"===type&&a.splice(3,0,{Header:"Group",minWidth:30,accessor:"group",Cell:function(e){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{textAlign:"center"}},e.value)},filterable:!0,Filter:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.g,{value:this.state.search_group,onChange:function(t){return e.setState({search_group:t.target.value})},data:this.state.list_groups})}),imp&&a.splice(4,0,{Header:"OS",minWidth:30,accessor:"ostag",Cell:function(e){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{textAlign:"center"}},e.value.join(", "))},filterable:!0,Filter:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.g,{value:this.state.ostag,onChange:function(t){return e.setState({search_ostag:t.target.value})},data:this.state.list_ostags})});var n=this.state,r=n.loading,o=n.list_metric;return this.state.search_name&&(o=this.doFilter(o,"name",this.state.search_name)),this.state.search_probeversion&&(o=this.doFilter(o,"probeversion",this.state.search_probeversion)),this.state.search_type&&(o=this.doFilter(o,"mtype",this.state.search_type)),this.state.search_ostag&&(o=o.filter((function(t){return"".concat(t.ostag.join(", ")).toLowerCase().includes(e.state.search_ostag.toLowerCase())}))),"metric"===type&&this.state.search_group&&(o=this.doFilter(o,"group",this.state.search_group)),r?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.l,null):!r&&o?"metric"===type?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.b,{resourcename:"metric",location:this.location,listview:!0,addnew:!1},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_table__WEBPACK_IMPORTED_MODULE_4__.a,{data:o,columns:a,className:"-striped -highlight",defaultPageSize:50})):imp?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Select metric template".concat(this.state.userDetails.is_superuser?"(s) to import":" for details")),this.state.userDetails.is_superuser&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_9__.a,{className:"btn btn-secondary",disabled:!this.state.search_ostag,onClick:function(){return e.importMetrics()}},"Import")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},!this.state.search_ostag&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_10__.a,{color:"danger"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("center",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_18__.a,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_19__.i,size:"lg",color:"black"}),"   You should choose OS for import.")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_table__WEBPACK_IMPORTED_MODULE_4__.a,{data:o,columns:a,className:"-striped -highlight",defaultPageSize:50}))):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.b,{resourcename:"metric template",location:this.location,listview:!imp,importlistview:imp,addnew:!0},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_table__WEBPACK_IMPORTED_MODULE_4__.a,{data:o,columns:a,className:"-striped -highlight",defaultPageSize:50})):null}}]),_class}(react__WEBPACK_IMPORTED_MODULE_0__.Component))}var MetricForm=function(e){var t=e.values,a=void 0===t?void 0:t,n=e.errors,r=void 0===n?{name:void 0,probeversion:void 0,probeexecutable:void 0}:n,o=e.setFieldValue,i=void 0===o?void 0:o,l=e.handleChange,c=e.obj,s=void 0===c?"":c,u=e.state,m=void 0===u?void 0:u,d=e.togglePopOver,p=void 0===d?void 0:d,f=e.onSelect,_=void 0===f?void 0:f,h=e.isHistory,g=void 0!==h&&h,E=e.isTenantSchema,v=void 0!==E&&E,b=e.addview,y=void 0!==b&&b,M=e.probeversions,O=void 0===M?[]:M,D=e.groups,w=void 0===D?[]:D,A=e.metrictemplatelist,k=void 0===A?[]:A,S=e.types,P=void 0===S?[]:S;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_11__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_6__.a,{className:"mb-3"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:4},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{addonType:"prepend"},"Name"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",name:"name",className:"form-control ".concat(r.name&&"border-danger"),id:"name",disabled:g||v})),r.name&&Object(_UIElements__WEBPACK_IMPORTED_MODULE_3__.h)(r.name),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_14__.a,{color:"muted"},"Metric name.")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:4},"Passive"===a.type?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{addonType:"prepend"},"Probe"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{type:"text",className:"form-control",disabled:!0,id:"passive-probeversion"})):g||v&&"metrictemplate"===s?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{addonType:"prepend"},"Probe"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",name:"probeversion",className:"form-control",id:"probeversion",disabled:!0})):v&&"metric"===s?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{addonType:"prepend"},"Probe"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{component:"select",name:"probeversion",className:"form-control custom-select",id:"probeversion",onChange:function(e){return _("probeversion",e.target.value)}},O.map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option",{key:t,value:e},e)})))):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.a,{setFieldValue:i,lists:O,icon:"probes",field:"probeversion",val:a.probeversion,onselect_handler:_,req:r.probeversion,label:"Probe"}),r.probeversion&&Object(_UIElements__WEBPACK_IMPORTED_MODULE_3__.h)(r.probeversion),"Active"===a.type&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_14__.a,{color:"muted"},"Probe name and version",!g&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_18__.a,{id:"probe-popover",hidden:"Passive"==="state.".concat(s,".mtype")||y,icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_19__.i,style:{color:"#416090"}}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_15__.a,{placement:"bottom",isOpen:m.popoverOpen,target:"probe-popover",toggle:p,trigger:"click"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_16__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ProbeVersionLink,{probeversion:"metric"===s?m.metric.probeversion:m.metrictemplate.probeversion})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_17__.a,null,m.probe.description))))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:2},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{addonType:"prepend"},"Type"),v||g?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",name:"type",className:"form-control",id:"mtype",disabled:!0}):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{component:"select",name:"type",className:"form-control custom-select",id:"mtype",onChange:function(e){if(l(e),"Passive"===e.target.value){var t=a.flags.length;1===t&&""===a.flags[0].key?(i("flags[0].key","PASSIVE"),i("flags[0].value","1")):(i("flags[".concat(t,"].key"),"PASSIVE"),i("flags[".concat(t,"].value"),"1"))}else if("Active"===e.target.value){var n=void 0;a.flags.forEach((function(e,t){"PASSIVE"===e.key&&(n=t)})),1===a.flags.length?a.flags.splice(n,1,{key:"",value:""}):a.flags.splice(n,1)}}},P.map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option",{key:t,value:e},e)})))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_14__.a,{color:"muted"},"Metric is of given type."))),"metric"===s&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_6__.a,{className:"mb-4"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:2},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{addonType:"prepend"},"Group"),g?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",name:"group",className:"form-control",disabled:!0,id:"group"}):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{component:"select",name:"group",className:"form-control custom-select",id:"group"},w.map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option",{key:t,value:e},e)})))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_14__.a,{color:"muted"},"Metric is member of selected group.")))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_11__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Metric configuration"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase",hidden:"Passive"===a.type},"probe executable"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_6__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:5},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",name:"probeexecutable",id:"probeexecutable",className:"form-control ".concat(r.probeexecutable&&"border-danger"),hidden:"Passive"===a.type,disabled:v||g}),r.probeexecutable&&Object(_UIElements__WEBPACK_IMPORTED_MODULE_3__.h)(r.probeexecutable))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineFields,{values:a,errors:r,field:"config",addnew:!v&&!g,readonly:"metrictemplate"===s&&v||g}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineFields,{values:a,errors:r,field:"attributes",addnew:!v&&!g}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineFields,{values:a,errors:r,field:"dependency",addnew:!v&&!g}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineFields,{values:a,errors:r,field:"parameter",addnew:!v&&!g}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineFields,{values:a,errors:r,field:"flags",addnew:!v&&!g}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineFields,{values:a,errors:r,field:"file_attributes",addnew:!v&&!g}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineFields,{values:a,errors:r,field:"file_parameters",addnew:!v&&!g}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},"parent"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_6__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:5},v||g?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",name:"parent",id:"parent",className:"form-control",disabled:!0}):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.a,{setFieldValue:i,lists:k,field:"parent",val:a.parent,icon:"metrics",className:"form-control ".concat(r.parent&&"border-danger"),onselect_handler:_,req:r.parent}),r.parent&&Object(_UIElements__WEBPACK_IMPORTED_MODULE_3__.h)(r.parent))))))};function CompareMetrics(e){return function(t){function a(e){var t;return _classCallCheck(this,a),(t=_possibleConstructorReturn(this,_getPrototypeOf(a).call(this,e))).version1=e.match.params.id1,t.version2=e.match.params.id2,t.name=e.match.params.name,t.state={loading:!1,name1:"",probeversion1:"",type1:"",group1:"",probeexecutable1:"",parent1:"",config1:"",attribute1:"",dependency1:"",parameter1:"",flags1:"",files1:"",fileparameter1:"",name2:"",probeversion2:"",type2:"",group2:"",probeexecutable2:"",parent2:"",config2:"",attribute2:"",dependency2:"",parameter2:"",flags2:"",files2:"",fileparameter2:""},t.backend=new _DataManager__WEBPACK_IMPORTED_MODULE_1__.a,t}return _inherits(a,t),_createClass(a,[{key:"componentDidMount",value:function(){var t=this;this.setState({loading:!0});var a=void 0;a="metric"===e?"/api/v2/internal/tenantversion/metric/".concat(this.name):"/api/v2/internal/version/metrictemplate/".concat(this.name),this.backend.fetchData(a).then((function(a){var n="",r="",o="",i="",l="",c="",s="",u="",m="",d="",p="",f="",_="",h="",g="",E="",v="",b="",y="",M="",O="",D="",w="",A="",k="",S="";a.forEach((function(a){a.version==t.version1?(n=a.fields.name,r=a.fields.probeversion,o=a.fields.mtype,"metric"===e?(i=a.fields.group,m=a.fields.dependancy):m=a.fields.dependency,l=a.fields.probeexecutable,c=a.fields.parent,s=a.fields.config,u=a.fields.attribute,f=a.fields.parameter,d=a.fields.flags,p=a.fields.files,_=a.fields.fileparameter):a.version==t.version2&&(h=a.fields.name,g=a.fields.probeversion,E=a.fields.mtype,"metric"===e?(v=a.fields.group,D=a.fields.dependancy):D=a.fields.dependency,b=a.fields.probeexecutable,y=a.fields.parent,M=a.fields.config,O=a.fields.attribute,w=a.fields.flags,A=a.fields.files,k=a.fields.parameter,S=a.fields.fileparameter)})),t.setState({name1:n,probeversion1:r,type1:o,group1:i,probeexecutable1:l,parent1:c,config1:s,attribute1:u,dependency1:m,parameter1:f,flags1:d,files1:p,fileparameter1:_,name2:h,probeversion2:g,type2:E,group2:v,probeexecutable2:b,parent2:y,config2:M,attribute2:O,dependency2:D,parameter2:k,flags2:w,files2:A,fileparameter2:S,loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.name1,a=e.name2,n=e.probeversion1,r=e.probeversion2,o=e.type1,i=e.type2,l=e.probeexecutable1,c=e.probeexecutable2,s=e.parent1,u=e.parent2,m=e.config1,d=e.config2,p=e.attribute1,f=e.attribute2,_=e.dependency1,h=e.dependency2,g=e.parameter1,E=e.parameter2,v=e.flags1,b=e.flags2,y=e.files1,M=e.files2,O=e.fileparameter1,D=e.fileparameter2,w=e.group1,A=e.group2,k=e.loading;return k?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.l,null):!k&&t&&a?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Compare ".concat(this.name))),t!==a&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.e,{title:"name",item1:t,item2:a}),n!==r&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.e,{title:"probe version",item1:n,item2:r}),o!==i&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.e,{title:"type",item1:o,item2:i}),w&&A&&w!==A&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.e,{title:"group",item1:w,item2:A}),l!==c&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.e,{title:"probe executable",item1:l,item2:c}),s!==u&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.e,{title:"parent",item1:s,item2:u}),!arraysEqual(m,d)&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineDiffElement,{title:"config",item1:m,item2:d}),!arraysEqual(p,f)&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineDiffElement,{title:"attribute",item1:p,item2:f}),!arraysEqual(_,h)&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineDiffElement,{title:"dependency",item1:_,item2:h}),!arraysEqual(g,E)&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineDiffElement,{title:"parameter",item1:g,item2:E}),!arraysEqual(v,b)&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineDiffElement,{title:"flags",item1:v,item2:b}),!arraysEqual(y,M)&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineDiffElement,{title:"file attributes",item1:y,item2:M}),!arraysEqual(O,D)&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineDiffElement,{title:"file parameters",item1:O,item2:D})):null}}]),a}(react__WEBPACK_IMPORTED_MODULE_0__.Component)}var MetricChange=function(e){function t(e){var a;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).name=e.match.params.name,a.addview=e.addview,a.location=e.location,a.history=e.history,a.backend=new _DataManager__WEBPACK_IMPORTED_MODULE_1__.a,a.state={metric:{},probe:{},groups:[],probeversions:[],metrictemplateversions:[],loading:!1,popoverOpen:!1,write_perm:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},a.toggleAreYouSure=a.toggleAreYouSure.bind(_assertThisInitialized(a)),a.toggleAreYouSureSetModal=a.toggleAreYouSureSetModal.bind(_assertThisInitialized(a)),a.onSubmitHandle=a.onSubmitHandle.bind(_assertThisInitialized(a)),a.doChange=a.doChange.bind(_assertThisInitialized(a)),a.doDelete=a.doDelete.bind(_assertThisInitialized(a)),a.togglePopOver=a.togglePopOver.bind(_assertThisInitialized(a)),a.onSelect=a.onSelect.bind(_assertThisInitialized(a)),a}return _inherits(t,e),_createClass(t,[{key:"togglePopOver",value:function(){this.setState({popoverOpen:!this.state.popoverOpen})}},{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(n){return{areYouSureModal:!n.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSelect",value:function(e,t){var a=this,n=this.state.metric;this.state.metrictemplateversions.forEach((function(e){if(e.fields.probeversion===t){var r,o=(_defineProperty(r={name:e.fields.name,probeversion:e.fields.probeversion,group:n.group,mtype:e.fields.mtype,probeexecutable:e.fields.probeexecutable,parent:e.fields.parent,config:e.fields.config,attribute:e.fields.attribute,dependancy:e.fields.dependency,parameter:e.fields.parameter,flags:e.fields.flags,files:e.fields.flags},"files",e.fields.files),_defineProperty(r,"fileparameter",e.fields.fileparameter),r);a.setState({metric:o})}}))}},{key:"onSubmitHandle",value:function(e,t){var a=this;this.toggleAreYouSureSetModal("Are you sure you want to change metric?","Change metric",(function(){return a.doChange(e,t)}))}},{key:"doChange",value:function(e,t){var a=this;this.backend.changeObject("/api/v2/internal/metric/",{name:e.name,mtype:e.type,group:e.group,parent:e.parent,probeversion:e.probeversion,probeexecutable:e.probeexecutable,config:e.config,attribute:e.attributes,dependancy:e.dependency,flags:e.flags,files:e.file_attributes,parameter:e.parameter,fileparameter:e.file_parameters}).then((function(){return Object(_UIElements__WEBPACK_IMPORTED_MODULE_3__.o)({msg:"Metric successfully changed",title:"Changed",callback:function(){return a.history.push("/ui/metrics")}})})).catch((function(e){return alert("Something went wrong: "+e)}))}},{key:"doDelete",value:function(e){var t=this;this.backend.deleteObject("/api/v2/internal/metric/".concat(e)).then((function(){return Object(_UIElements__WEBPACK_IMPORTED_MODULE_3__.o)({msg:"Metric successfully deleted",title:"Deleted",callback:function(){return t.history.push("/ui/metrics")}})})).catch((function(e){return alert("Something went wrong: "+e)}))}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.addview||Promise.all([this.backend.isActiveSession(),this.backend.fetchData("/api/v2/internal/metric/".concat(this.name)),this.backend.fetchData("/api/v2/internal/version/metrictemplate/".concat(this.name))]).then((function(t){var a=_slicedToArray(t,3),n=a[0],r=a[1],o=a[2];n.active&&(r.probeversion?e.backend.fetchData("/api/v2/internal/version/probe/".concat(r.probeversion.split(" ")[0])).then((function(t){var a={},i=[];t.forEach((function(e){i.push(e.object_repr),e.object_repr===r.probeversion&&(a=e.fields)})),e.setState({metric:r,probe:a,probeversions:i,metrictemplateversions:o,groups:n.userdetails.groups.metrics,loading:!1,write_perm:n.userdetails.is_superuser||n.userdetails.groups.metrics.indexOf(r.group)>=0})})):e.setState({metric:r,groups:n.userdetails.groups.metrics,loading:!1,write_perm:n.userdetails.is_superuser||n.userdetails.groups.metrics.indexOf(r.group)>=0}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.metric,n=t.probeversions,r=t.groups,o=t.loading,i=t.write_perm;return r.includes(a.group)||r.push(a.group),o?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.l,null):o?void 0:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.b,{resourcename:"metric",location:this.location,addview:this.addview,modal:!0,state:this.state,toggle:this.toggleAreYouSure,submitperm:i},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.d,{enableReinitialize:!0,initialValues:{name:a.name,probeversion:a.probeversion,type:a.mtype,group:a.group,probeexecutable:a.probeexecutable,parent:a.parent,config:a.config,attributes:a.attribute,dependency:a.dependancy,parameter:a.parameter,flags:a.flags,file_attributes:a.files,file_parameters:a.fileparameter},onSubmit:function(t,a){return e.onSubmitHandle(t,a)},render:function(t){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.c,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(MetricForm,_extends({},t,{obj:"metric",isTenantSchema:!0,state:e.state,onSelect:e.onSelect,togglePopOver:e.togglePopOver,probeversions:n,groups:r})),i&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_9__.a,{color:"danger",onClick:function(){e.toggleAreYouSureSetModal("Are you sure you want to delete Metric?","Delete metric",(function(){return e.doDelete(t.values.name)}))}},"Delete"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_9__.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}}))}}]),t}(react__WEBPACK_IMPORTED_MODULE_0__.Component),MetricVersionDetails=function(e){function t(e){var a;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).name=e.match.params.name,a.version=e.match.params.version,a.backend=new _DataManager__WEBPACK_IMPORTED_MODULE_1__.a,a.state={name:"",probeversion:"",mtype:"",group:"",probeexecutable:"",parent:"",config:[],attribute:[],dependancy:[],parameter:[],flags:[],files:[],fileparameter:[],loading:!1},a}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/tenantversion/metric/".concat(this.name)).then((function(t){t.forEach((function(t){t.version==e.version&&e.setState({name:t.fields.name,probeversion:t.fields.probeversion,type:t.fields.mtype,group:t.fields.group,probeexecutable:t.fields.probeexecutable,parent:t.fields.parent,config:t.fields.config,attribute:t.fields.attribute,dependancy:t.fields.dependancy,parameter:t.fields.parameter,flags:t.fields.flags,files:t.fields.files,fileparameter:t.fields.fileparameter,date_created:t.date_created,loading:!1})}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.probeversion,r=t.type,o=t.group,i=t.probeexecutable,l=t.parent,c=t.config,s=t.attribute,u=t.dependancy,m=t.parameter,d=t.flags,p=t.files,f=t.fileparameter,_=t.date_created,h=t.loading;return h?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.l,null):!h&&a?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.b,{resourcename:"".concat(a," (").concat(_,")"),infoview:!0},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.d,{initialValues:{name:a,probeversion:n,type:r,group:o,probeexecutable:i,parent:l,config:c,attributes:s,dependency:u,parameter:m,flags:d,files:p,fileparameter:f},render:function(t){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.c,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(MetricForm,_extends({},t,{obj:"metric",state:e.state,isHistory:!0})))}})):null}}]),t}(react__WEBPACK_IMPORTED_MODULE_0__.Component)},ZnWx:function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,".metricprofiles-autocomplete-menu {\n  display: block;\n  width: 40%;\n  color: #495057;\n  position: absolute;\n  background-color: white;\n  z-index: 1000;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n  overflow-y: auto;\n  max-height: 400px;\n}\n\n.metricprofiles-autocomplete-entries {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #495057;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n.metricprofiles-autocomplete-entries-highlighted {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  background-color: #4A90D9;\n  color: white;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n",""])},"a/x8":function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return c}));var n=a("9ONQ");function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,a){return t&&o(e.prototype,t),a&&o(e,a),e}var l=function(){function e(){r(this,e)}return i(e,[{key:"isActiveSession",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return fetch("/api/v2/internal/sessionactive/".concat(e)).then((function(e){return!!e.ok&&e.json()})).catch((function(){return!1}))}},{key:"isTenantSchema",value:function(){return fetch("/api/v2/internal/istenantschema").then((function(e){return e.ok?e.json():null})).then((function(e){return e.isTenantSchema})).catch((function(e){return alert("Something went wrong: ".concat(e))}))}},{key:"fetchData",value:function(e){return fetch(e).then((function(e){return e.json()})).catch((function(e){return alert("Something went wrong: ".concat(e))}))}},{key:"fetchListOfNames",value:function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){var t=[];return e.forEach((function(e){return t.push(e.name)})),t})).catch((function(e){return alert("Something went wrong: ".concat(e))}))}},{key:"fetchResult",value:function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){return e.result})).catch((function(e){return alert("Something went wrong: ".concat(e))}))}},{key:"changeObject",value:function(e,t){return this.send(e,"PUT",t)}},{key:"addObject",value:function(e,t){return this.send(e,"POST",t)}},{key:"deleteObject",value:function(e){return this.send(e,"DELETE")}},{key:"importMetrics",value:function(e){return this.send("/api/v2/internal/importmetrics/","POST",e)}},{key:"send",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=new n.a;return fetch(e,{method:t,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":r.get("csrftoken"),Referer:"same-origin"},body:a&&JSON.stringify(a)})}}]),e}(),c=function(){function e(t){var a=t.token,n=void 0===a?void 0:a,o=t.metricProfiles,i=void 0===o?void 0:o,l=t.aggregationProfiles,c=void 0===l?void 0:l,s=t.thresholdsProfiles,u=void 0===s?void 0:s;t.reportsConfigurations;r(this,e),this.token=n,this.metricprofiles=i,this.aggregationprofiles=c,this.thresholdsprofiles=u}return i(e,[{key:"fetchMetricProfiles",value:function(){return fetch(this.metricprofiles,{headers:{Accept:"application/json","x-api-key":this.token}}).then((function(e){return e.json()})).then((function(e){return e.data})).catch((function(e){return alert("Something went wrong: ".concat(e))}))}},{key:"fetchMetricProfile",value:function(e){return this.fetchProfile("".concat(this.metricprofiles,"/").concat(e))}},{key:"fetchAggregationProfile",value:function(e){return this.fetchProfile("".concat(this.aggregationprofiles,"/").concat(e))}},{key:"fetchThresholdsProfile",value:function(e){return this.fetchProfile("".concat(this.thresholdsprofiles,"/").concat(e))}},{key:"changeAggregation",value:function(e){return this.changeProfile(this.aggregationprofiles,e)}},{key:"changeMetricProfile",value:function(e){return this.changeProfile(this.metricprofiles,e)}},{key:"changeThresholdsProfile",value:function(e){return this.changeProfile(this.thresholdsprofiles,e)}},{key:"addMetricProfile",value:function(e){return this.addProfile(this.metricprofiles,e)}},{key:"addAggregation",value:function(e){return this.addProfile(this.aggregationprofiles,e)}},{key:"addThresholdsProfile",value:function(e){return this.addProfile(this.thresholdsprofiles,e)}},{key:"deleteMetricProfile",value:function(e){return this.deleteProfile("".concat(this.metricprofiles,"/").concat(e))}},{key:"deleteAggregation",value:function(e){return this.deleteProfile("".concat(this.aggregationprofiles,"/").concat(e))}},{key:"deleteThresholdsProfile",value:function(e){return this.deleteProfile("".concat(this.thresholdsprofiles,"/").concat(e))}},{key:"fetchProfile",value:function(e){return fetch(e,{headers:{Accept:"application/json","x-api-key":this.token}}).then((function(e){return e.json()})).then((function(e){return e.data})).then((function(e){return e[0]})).catch((function(e){return alert("Something went wrong: ".concat(e))}))}},{key:"changeProfile",value:function(e,t){return this.send("".concat(e,"/").concat(t.id),"PUT",t)}},{key:"addProfile",value:function(e,t){return this.send(e,"POST",t)}},{key:"deleteProfile",value:function(e){return this.send(e,"DELETE")}},{key:"send",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return fetch(e,{method:t,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","x-api-key":this.token},body:a&&JSON.stringify(a)})}}]),e}()},acgP:function(e,t,a){var n=a("ZnWx");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(e.exports=n.locals)},b4bE:function(e,t,a){var n=a("s1Uj");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(e.exports=n.locals)},dLgX:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return n}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function n(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}}).call(this,a("8oxB"))},dtk8:function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,".bodyreact {\n  background-color: #ecf0f5;\n}\n.login-first-row {\n  margin-top: 10%;\n}\n#argo-loginheader {\n  background-color:#416090;\n}\n#argo-loginfooter {\n  background-color:#ffffff;\n}\n",""])},eVqg:function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,".group-operation {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n       appearance: none;\n  text-align: center;\n}\n\n.group-operation > select {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n       appearance: none;\n  text-align: center;\n}\n\n.aggregation-autocomplete-menu {\n  display: block;\n  width: 100%;\n  color: #495057;\n  position: absolute;\n  background-color: white;\n  z-index: 1000;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n  overflow-y: auto;\n  max-height: 400px;\n}\n\n.aggregation-autocomplete-entries {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #495057;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n.aggregation-autocomplete-entries-highlighted {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  background-color: #4A90D9;\n  color: white;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n",""])},f1jT:function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),r=a.n(n),o=a("i8i4"),i=a.n(o),l=a("1Yj4"),c=a("ok1R"),s=a("rhny"),u=a("BLzl"),m=a("afej"),d=a("/kxI"),p=a("jrRI"),f=a("3OM0"),_=a("aLZG"),h=a("sOKU"),g=a("cZcL"),E=a("KYPV"),v=a("5tO7"),b=a.n(v),y=(a("ML16"),a("29KK")),M=a("a/x8");function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){function t(e){var a,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(r=w(t).call(this,e))||"object"!==O(r)&&"function"!=typeof r?A(n):r)._isMounted=!1,a.state={samlIdpString:null,loginFailedVisible:!1,isTenantSchema:null},a.backend=new M.a,a.dismissLoginAlert=a.dismissLoginAlert.bind(A(a)),a.AppOnLogin=e.onLogin,a}var a,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,e),a=t,(n=[{key:"fetchSamlButtonString",value:function(){return fetch("/api/v2/internal/config_options").then((function(e){return e.json()})).catch((function(e){return alert("Something went wrong: "+e)}))}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.backend.isTenantSchema().then((function(t){!0===t?e.fetchSamlButtonString().then((function(a){e.setState({isTenantSchema:t,samlIdpString:a.result.saml_login_string})})):!1===t&&e.setState({isTenantSchema:t})})).catch((function(e){return alert("Something went wrong: "+e)}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"doUserPassLogin",value:function(e,t){var a=this;return fetch("/rest-auth/login/",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json",Referer:"same-origin"},body:JSON.stringify({username:e,password:t})}).then((function(){return a.backend.isActiveSession(a.state.isTenantSchema)}))}},{key:"dismissLoginAlert",value:function(){this._isMounted&&this.setState({loginFailedVisible:!1})}},{key:"render",value:function(){var e=this;return null!==this.state.isTenantSchema?r.a.createElement(l.a,null,r.a.createElement(c.a,{className:"login-first-row"},r.a.createElement(s.a,{sm:{size:4,offset:4}},r.a.createElement(u.a,null,r.a.createElement(m.a,{id:"argo-loginheader",className:"d-sm-inline-flex align-items-center justify-content-around"},r.a.createElement("img",{src:b.a,id:"argologo",alt:"ARGO logo"}),r.a.createElement("h4",{className:"text-light"},r.a.createElement("strong",null,"ARGO")," POEM")),r.a.createElement(d.a,null,r.a.createElement(E.d,{initialValues:{username:"",password:""},onSubmit:function(t){return e.doUserPassLogin(t.username,t.password).then((function(t){t.active?e.AppOnLogin(t.userdetails,e.props.history):e.setState({loginFailedVisible:!0})}))}},r.a.createElement(E.c,null,r.a.createElement(p.a,null,r.a.createElement(f.a,{for:"username"},"Username: "),r.a.createElement(E.a,{name:"username",className:"form-control"})),r.a.createElement(p.a,null,r.a.createElement(f.a,{for:"password"},"Password: "),r.a.createElement(E.a,{name:"password",className:"form-control",type:"password"})),r.a.createElement(p.a,null,r.a.createElement(_.a,{color:"danger",isOpen:this.state.loginFailedVisible,toggle:this.dismissLoginAlert,fade:!1},r.a.createElement("p",{className:"text-center"},"Login failed, invalid username and password provided"))),r.a.createElement("div",{className:"pt-3"}),r.a.createElement(p.a,null,r.a.createElement(h.a,{color:"success",type:"submit",block:!0},"Log in using username and password"),this.state.isTenantSchema&&r.a.createElement("a",{className:"btn btn-success btn-block",role:"button",href:"/saml2/login"},this.state.samlIdpString))))),r.a.createElement(g.a,{id:"argo-loginfooter"},r.a.createElement(y.i,{loginPage:!0})))))):null}}])&&D(a.prototype,n),o&&D(a,o),t}(n.Component),P=a("55Ip"),C=a("/8CB"),I=a.n(C),N=a("0enf"),T=(a("qBGJ"),a("IP2g")),j=a("wHSu"),L=a("XNy0"),x=a.n(L);a("acgP");function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){B(e,t,a[t])}))}return e}function B(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function K(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function F(e,t,a){return t&&Q(e.prototype,t),a&&Q(e,a),e}function V(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?q(e):t}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var J=Object(y.j)("metricprofile");function X(e,t){return-1!==e.toLowerCase().indexOf(t.toLowerCase())}var $=function(e){var t=e.serviceflavours_all,a=e.metrics_all,n=e.search_handler,o=e.remove_handler,i=e.insert_handler,l=e.onselect_handler,c=e.form,s=e.remove,u=e.insert;return r.a.createElement("table",{className:"table table-bordered table-sm"},r.a.createElement("thead",{className:"table-active"},r.a.createElement("tr",null,r.a.createElement("th",{className:"align-middle text-center",style:{width:"5%"}},"#"),r.a.createElement("th",{style:{width:"42.5%"}},r.a.createElement(y.k,{i:"serviceflavour"})," Service flavour"),r.a.createElement("th",{style:{width:"42.5%"}},r.a.createElement(y.k,{i:"metrics"})," Metric"),r.a.createElement("th",{style:{width:"10%"}},"Actions"))),r.a.createElement("tbody",null,r.a.createElement("tr",{style:{background:"#ECECEC"}},r.a.createElement("td",{className:"align-middle text-center"},r.a.createElement(T.a,{icon:j.m})),r.a.createElement("td",null,r.a.createElement(E.a,{type:"text",name:"search_serviceflavour",required:!1,className:"form-control",id:"searchServiceFlavour",onChange:function(e){return n(e,"view_services","searchServiceFlavour","service","searchMetric","metric")},component:y.q})),r.a.createElement("td",null,r.a.createElement(E.a,{type:"text",name:"search_metric",required:!1,className:"form-control",id:"searchMetric",onChange:function(e){return n(e,"view_services","searchMetric","metric","searchServiceFlavour","service")},component:y.q})),r.a.createElement("td",null,"")),c.values.view_services.map((function(e,n){return r.a.createElement("tr",null,r.a.createElement("td",{className:e.isNew?"bg-light align-middle text-center":"align-middle text-center"},n+1),r.a.createElement("td",{className:e.isNew?"bg-light":""},r.a.createElement(I.a,{inputProps:{className:'"form-control custom-select " '.concat(e.isNew?"border border-success":"")},getItemValue:function(e){return e},items:t,value:e.service,renderItem:function(e,a){return r.a.createElement("div",{key:t.indexOf(e),className:"metricprofiles-autocomplete-entries ".concat(a?"metricprofiles-autocomplete-entries-highlighted":"")},e?r.a.createElement(y.k,{i:"serviceflavour"}):""," ",e)},onChange:function(e){return c.setFieldValue("view_services.".concat(n,".service"),e.target.value)},onSelect:function(e){c.setFieldValue("view_services.".concat(n,".service"),e),l(c.values.view_services[n],"service",e)},wrapperStyle:{},shouldItemRender:X,renderMenu:function(e){return r.a.createElement("div",{className:"metricprofiles-autocomplete-menu",children:e})}})),r.a.createElement("td",{className:e.isNew?"bg-light":""},r.a.createElement(I.a,{inputProps:{className:'"form-control custom-select " '.concat(e.isNew?"border border-success":"")},getItemValue:function(e){return e},items:a,value:e.metric,renderItem:function(e,t){return r.a.createElement("div",{key:a.indexOf(e),className:"metricprofiles-autocomplete-entries ".concat(t?"metricprofiles-autocomplete-entries-highlighted":"")},e?r.a.createElement(y.k,{i:"metrics"}):""," ",e)},onChange:function(e){return c.setFieldValue("view_services.".concat(n,".metric"),e.target.value)},onSelect:function(e){c.setFieldValue("view_services.".concat(n,".metric"),e),l(c.values.view_services[n],"metric",e)},wrapperStyle:{},shouldItemRender:X,renderMenu:function(e){return r.a.createElement("div",{className:"metricprofiles-autocomplete-menu",children:e})}})),r.a.createElement("td",{className:"align-middle pl-3"},r.a.createElement(h.a,{size:"sm",color:"light",type:"button",onClick:function(){return o(c.values.view_services[n]),s(n)}},r.a.createElement(T.a,{icon:j.s})),r.a.createElement(h.a,{size:"sm",color:"light",type:"button",onClick:function(){var e={index:n+1,service:"",metric:"",isNew:!0};return i(e,n+1,c.values.groupname,c.values.name),u(n+1,e)}},r.a.createElement(T.a,{icon:j.l}))))}))))},ee=function(e){function t(e){var a;return Y(this,t),(a=V(this,H(t).call(this,e))).tenant_name=e.tenant_name,a.token=e.webapitoken,a.webapimetric=e.webapimetric,a.profile_name=e.match.params.name,a.addview=e.addview,a.history=e.history,a.location=e.location,a.state={metric_profile:{},metric_profile_name:void 0,groupname:void 0,list_user_groups:void 0,view_services:void 0,list_services:void 0,write_perm:!1,serviceflavours_all:void 0,metrics_all:void 0,areYouSureModal:!1,loading:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0,searchServiceFlavour:"",searchMetric:""},a.backend=new M.a,a.webapi=new M.b({token:e.webapitoken,metricProfiles:e.webapimetric}),a.toggleAreYouSure=a.toggleAreYouSure.bind(q(a)),a.toggleAreYouSureSetModal=a.toggleAreYouSureSetModal.bind(q(a)),a.handleSearch=a.handleSearch.bind(q(a)),a.onRemove=a.onRemove.bind(q(a)),a.onInsert=a.onInsert.bind(q(a)),a.onSelect=a.onSelect.bind(q(a)),a}return G(t,e),F(t,[{key:"flattenServices",value:function(e){var t=[],a=0;return e.forEach((function(e){var n=e.service;e.metrics.forEach((function(e){t.push({index:a,service:n,metric:e}),a+=1}))})),t}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.isActiveSession().then((function(t){t.active&&Promise.all([e.backend.fetchListOfNames("/api/v2/internal/serviceflavoursall"),e.backend.fetchListOfNames("/api/v2/internal/metricsall")]).then((function(a){var n=z(a,2),r=n[0],o=n[1];if(e.addview){e.setState({metric_profile:{id:"",name:"",services:[]},metric_profile_name:"",groupname:"",list_user_groups:t.userdetails.groups.metricprofiles,write_perm:t.userdetails.is_superuser||t.userdetails.groups.metricprofiles.length>0,view_services:[{service:"",metric:"",index:0,isNew:!0}],serviceflavours_all:r,metrics_all:o,list_services:[{service:"",metric:"",index:0,isNew:!0}],loading:!1})}else e.backend.fetchData("/api/v2/internal/metricprofiles/".concat(e.profile_name)).then((function(a){return Promise.all([e.webapi.fetchMetricProfile(a.apiid)]).then((function(n){var i=z(n,1)[0];return e.setState({metric_profile:i,metric_profile_name:i.name,groupname:a.groupname,list_user_groups:t.userdetails.groups.metricprofiles,write_perm:t.userdetails.is_superuser||t.userdetails.groups.metricprofiles.indexOf(a.groupname)>=0,view_services:e.flattenServices(i.services).sort(e.sortServices),serviceflavours_all:r,metrics_all:o,list_services:e.flattenServices(i.services).sort(e.sortServices),loading:!1})}))}))}))}))}},{key:"insertSelectPlaceholder",value:function(e,t){return e?[t].concat(K(e)):[t]}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(n){return{areYouSureModal:!n.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"sortServices",value:function(e,t){if(e.service.toLowerCase()<t.service.toLowerCase())return-1;if(e.service.toLowerCase()>t.service.toLowerCase())return 1;if(e.service.toLowerCase()===t.service.toLowerCase()){if(e.metric.toLowerCase()<t.metric.toLowerCase())return-1;if(e.metric.toLowerCase()>t.metric.toLowerCase())return 1;if(e.metric.toLowerCase()===t.metric.toLowerCase())return 0}}},{key:"handleSearch",value:function(e,t,a,n,r,o){var i,l=this,c=this.state[t.replace("view_","list_")],s=K(this.state.list_services);if(this.state[a].length>e.target.value.length){c=this.state[t.replace("view_","list_")].filter((function(t){return X(t[n],e.target.value)}));var u=0;s.forEach((function(e){e.index=u,u+=1})),s.sort(this.sortServices)}else""!==e.target.value&&(c=this.state[t].filter((function(t){return X(t[n],e.target.value)})));this.state[r].length&&(c=c.filter((function(e){return X(e[o],l.state[r])}))),c.sort(this.sortServices),this.setState((B(i={},"".concat(a),e.target.value),B(i,"".concat(t),c),B(i,"list_services",s),i))}},{key:"onInsert",value:function(e,t,a,n){if(""===this.state.searchServiceFlavour&&""===this.state.searchMetric){var r=e.service,o=e.metric,i=K(this.state.list_services),l=K(i).slice(0,t),c=K(i).slice(t);l.push({index:t,service:r,metric:o,isNew:!0});var s=0;l.forEach((function(e){e.index=s,s+=1})),s=l.length,c.forEach((function(e){e.index=s,s+=1})),i=[].concat(K(l),K(c)),this.setState({list_services:i,view_services:i,groupname:a,metric_profile_name:n})}else{var u=K(this.state.view_services),m=K(this.state.list_services),d=K(u).slice(0,t),p=K(u).slice(t);d.push(W({},e,{isNew:!0}));var f=0;d.forEach((function(e){e.index=f,f+=1})),f=t+1,p.forEach((function(e){e.index=f,f+=1})),m.push(W({},e,{isNew:!0})),this.setState({view_services:[].concat(K(d),K(p)),list_services:m})}}},{key:"onSubmitHandle",value:function(e,t){var a=this,n=e.formValues,r=e.servicesList,o=void 0,i=void 0;this.addview?(o="Are you sure you want to add Metric profile?",i="Add metric profile"):(o="Are you sure you want to change Metric profile?",i="Change metric profile"),this.toggleAreYouSureSetModal(o,i,(function(){return a.doChange({formValues:n,servicesList:r},t)}))}},{key:"groupMetricsByServices",value:function(e){var t=[];return e.forEach((function(e){var a=t.filter((function(t){return t.service===e.service}));a.length?a[0].metrics.push(e.metric):t.push({service:e.service,metrics:[e.metric]})})),t}},{key:"doChange",value:function(e,t){var a=this,n=e.formValues,r=e.servicesList,o=[],i=[];if(this.addview)o=this.groupMetricsByServices(r),i={name:n.name,services:o},this.webapi.addMetricProfile(i).then((function(e){e.ok?e.json().then((function(e){a.backend.addObject("/api/v2/internal/metricprofiles/",{apiid:e.data.id,name:i.name,groupname:n.groupname,services:n.view_services}).then((function(){return Object(y.o)({msg:"Metric profile successfully added",title:"Added",callback:function(){return a.history.push("/ui/metricprofiles")}})})).catch((function(e){return alert("Something went wrong: "+e)}))})).catch((function(e){return alert("Something went wrong: "+e)})):a.toggleAreYouSureSetModal("Error: ".concat(e.status,", ").concat(e.statusText),"Error adding metric profile",void 0)})).catch((function(e){return alert("Something went wrong: "+e)}));else{var l=this.state.metric_profile,c=l.id,s=l.name;o=this.groupMetricsByServices(r),i={id:c,name:s,services:o},this.webapi.changeMetricProfile(i).then((function(e){e.ok?e.json().then((function(e){a.backend.changeObject("/api/v2/internal/metricprofiles/",{apiid:i.id,name:i.name,groupname:n.groupname,services:n.view_services}).then((function(){return Object(y.o)({msg:"Metric profile succesfully changed",title:"Changed",callback:function(){return a.history.push("/ui/metricprofiles")}})})).catch((function(e){return alert("Something went wrong: "+e)}))})).catch((function(e){return alert("Something went wrong: "+e)})):a.toggleAreYouSureSetModal("Error: ".concat(e.status,", ").concat(e.statusText),"Error changing metric profile",void 0)})).catch((function(e){return alert("Something went wrong: "+e)}))}}},{key:"doDelete",value:function(e){var t=this;this.webapi.deleteMetricProfile(e).then((function(a){a.ok?a.json().then(t.backend.deleteObject("/api/v2/internal/metricprofiles/".concat(e))).then((function(){return Object(y.o)({msg:"Metric profile sucessfully deleted",title:"Deleted",callback:function(){return t.history.push("/ui/metricprofiles")}})})):alert("Error: ".concat(a.status,", ").concat(a.statusText))})).catch((function(e){return alert("Something went wrong: "+e)}))}},{key:"onSelect",value:function(e,t,a){var n=e.index,r=K(this.state.list_services),o=K(this.state.view_services),i=r.findIndex((function(e){return e.index===n&&!0===e.isNew}));i>=0?r[i][t]=a:r[n][t]=a;for(var l=0;l<o.length;l++)o[l].index===n&&(o[l][t]=a);this.setState({list_services:r,view_services:o})}},{key:"onRemove",value:function(e){var t=this.state.list_services.findIndex((function(t){return e.index===t.index&&e.service===t.service&&e.metric===t.metric})),a=this.state.view_services.findIndex((function(t){return e.index===t.index&&e.service===t.service&&e.metric===t.metric}));if(t>=0&&a>=0){var n=K(this.state.list_services),r=K(this.state.view_services);n.splice(t,1),r.splice(a,1);for(var o=t;o<n.length;o++){var i=n[o].index;n[o].index=i-1}for(o=a;o<r.length;o++){var l=r[o].index;r[o].index=l-1}this.setState({list_services:n,view_services:r})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.write_perm,n=t.loading,o=t.metric_profile,i=t.metric_profile_name,l=t.view_services,c=t.groupname,s=t.list_user_groups,u=t.serviceflavours_all,m=t.metrics_all,d=t.searchMetric,p=t.searchServiceFlavour;return n?r.a.createElement(y.l,null):!n&&o&&l?r.a.createElement(y.b,{resourcename:"Metric profile",location:this.location,addview:this.addview,modal:!0,state:this.state,toggle:this.toggleAreYouSure,submitperm:a},r.a.createElement(E.d,{initialValues:{id:o.id,name:i,groupname:c,view_services:l,search_metric:d,search_serviceflavour:p},onSubmit:function(t,a){return e.onSubmitHandle({formValues:t,servicesList:e.state.list_services},a)},enableReinitialize:!0,render:function(t){return r.a.createElement(E.c,null,r.a.createElement(y.p,R({},t,{grouplist:a?s:[c].concat(K(s)),profiletype:"metric"})),r.a.createElement("h4",{className:"mt-4 alert-info p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Metric instances"),r.a.createElement(E.b,{name:"view_services",render:function(t){return r.a.createElement($,R({},t,{serviceflavours_all:e.insertSelectPlaceholder(u,""),metrics_all:e.insertSelectPlaceholder(m,""),search_handler:e.handleSearch,remove_handler:e.onRemove,insert_handler:e.onInsert,onselect_handler:e.onSelect}))}}),a&&r.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},r.a.createElement(h.a,{color:"danger",onClick:function(){e.toggleAreYouSureSetModal("Are you sure you want to delete Metric profile?","Delete metric profile",(function(){return e.doDelete(t.values.id)}))}},"Delete"),r.a.createElement(h.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):null}}]),t}(n.Component),te=function(e){function t(e){var a;return Y(this,t),(a=V(this,H(t).call(this,e))).state={loading:!1,list_metricprofiles:null},a.location=e.location,a.backend=new M.a,a}return G(t,e),F(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/metricprofiles").then((function(t){return e.setState({list_metricprofiles:t,loading:!1})}))}},{key:"render",value:function(){var e=[{Header:"Name",id:"name",accessor:function(e){return r.a.createElement(P.b,{to:"/ui/metricprofiles/"+e.name},e.name)}},{Header:"Group",accessor:"groupname",maxWidth:150}],t=this.state,a=t.loading,n=t.list_metricprofiles;return a?r.a.createElement(y.l,null):!a&&n?r.a.createElement(y.b,{resourcename:"metric profile",location:this.location,listview:!0},r.a.createElement(N.a,{data:n,columns:e,className:"-striped -highlight",defaultPageSize:12})):null}}]),t}(n.Component),ae=function(e){for(var t=e.title,a=e.item1,n=e.item2,o=[],i=[],l=0;l<a.length;l++)o.push("service: ".concat(a[l].service,", metric: ").concat(a[l].metric));for(var c=0;c<n.length;c++)i.push("service: ".concat(n[c].service,", metric: ").concat(n[c].metric));return r.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},r.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},t),r.a.createElement(x.a,{oldValue:i.join("\n"),newValue:o.join("\n"),showDiffOnly:!1,splitView:!0,hideLineNumbers:!0}))},ne=function(e){function t(e){var a;return Y(this,t),(a=V(this,H(t).call(this,e))).version1=e.match.params.id1,a.version2=e.match.params.id2,a.name=e.match.params.name,a.state={loading:!1,name1:"",groupname1:"",metricinstances1:[],name2:"",groupname2:"",metricinstances2:[]},a.backend=new M.a,a}return G(t,e),F(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/tenantversion/metricprofile/".concat(this.name)).then((function(t){var a="",n="",r=[],o="",i="",l=[];t.forEach((function(t){t.version==e.version1?(a=t.fields.name,n=t.fields.groupname,r=t.fields.metricinstances):t.version==e.version2&&(o=t.fields.name,i=t.fields.groupname,l=t.fields.metricinstances)})),e.setState({name1:a,groupname1:n,metricinstances1:r,name2:o,groupname2:i,metricinstances2:l,loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.name1,a=e.name2,n=e.groupname1,o=e.groupname2,i=e.metricinstances1,l=e.metricinstances2,c=e.loading;return c?r.a.createElement(y.l,null):!c&&t&&a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},r.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Compare ".concat(this.name," versions"))),t!==a&&r.a.createElement(y.e,{title:"name",item1:t,item2:a}),n!==o&&r.a.createElement(y.e,{title:"groupname",item1:n,item2:o}),i!==l&&r.a.createElement(ae,{title:"metric instances",item1:i,item2:l})):null}}]),t}(n.Component),re=function(e){function t(e){var a;return Y(this,t),(a=V(this,H(t).call(this,e))).name=e.match.params.name,a.version=e.match.params.version,a.backend=new M.a,a.state={name:"",groupname:"",date_created:"",metricinstances:[],loading:!1},a}return G(t,e),F(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/tenantversion/metricprofile/".concat(this.name)).then((function(t){t.forEach((function(t){t.version==e.version&&e.setState({name:t.fields.name,groupname:t.fields.groupname,date_created:t.date_created,metricinstances:t.fields.metricinstances,loading:!1})}))}))}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.groupname,n=e.date_created,o=e.metricinstances,i=e.loading;return i?r.a.createElement(y.l,null):!i&&t?r.a.createElement(y.b,{resourcename:"".concat(t," (").concat(n,")"),infoview:!0},r.a.createElement(E.d,{initialValues:{name:t,groupname:a,metricinstances:o},render:function(e){return r.a.createElement(E.c,null,r.a.createElement(y.p,R({},e,{fieldsdisable:!0,profiletype:"metric"})),r.a.createElement("h4",{className:"mt-4 alert-info p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Metric instances"),r.a.createElement(E.b,{name:"metricinstances",render:function(t){return r.a.createElement("table",{className:"table table-bordered table-sm"},r.a.createElement("thead",{className:"table-active"},r.a.createElement("tr",null,r.a.createElement("th",{className:"align-middle text-center",style:{width:"5%"}},"#"),r.a.createElement("th",{style:{width:"47.5%"}},r.a.createElement(y.k,{i:"serviceflavour"}),"Service flavour"),r.a.createElement("th",{style:{width:"47.5%"}},r.a.createElement(y.k,{i:"metrics"}),"Metric"))),r.a.createElement("tbody",null,e.values.metricinstances.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{className:"align-middle text-center"},t+1),r.a.createElement("td",null,e.service),r.a.createElement("td",null,e.metric))}))))}}))}})):null}}]),t}(n.Component),oe=function(e){return r.a.createElement("div",null,'"I\'m Home"')},ie=a("q7Gj"),le=a("re1l"),ce=a("0E8A"),se=a("of9s"),ue=a("lCZi");function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function he(e,t,a){return t&&_e(e.prototype,t),a&&_e(e,a),e}function ge(e,t){return!t||"object"!==me(t)&&"function"!=typeof t?Ee(e):t}function Ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Me(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Oe=Object(y.j)("probe"),De=Ce(),we=Ce(!0),Ae=ue.object().shape({name:ue.string().matches(/^\S*$/,"Name cannot contain white spaces").required("Required"),package:ue.string().required("Required"),repository:ue.string().url("Invalid url").required("Required"),docurl:ue.string().url("Invalid url").required("Required"),description:ue.string().required("Required"),comment:ue.string().required("Required")}),ke=function(e){var t=e.field.value;Me(e,["field"]);return r.a.createElement("div",{className:"form-control",style:{backgroundColor:"#e9ecef"}},r.a.createElement("a",{href:t},t))},Se=function(e){var t=e.isTenantSchema,a=void 0!==t&&t,n=e.isHistory,o=void 0!==n&&n,i=e.errors,l=void 0===i?{name:void 0,package:void 0,repository:void 0,docurl:void 0,comment:void 0}:i,u=e.state,m=void 0===u?void 0:u,d=e.addview,_=void 0!==d&&d,h=e.cloneview,g=void 0!==h&&h,v=e.list_packages,b=void 0===v?[]:v,M=e.setFieldValue,O=void 0===M?void 0:M,D=e.values,w=void 0===D?void 0:D,A=e.onSelect,k=void 0===A?void 0:A,S=e.metrictemplatelist,C=void 0===S?[]:S;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null,r.a.createElement(c.a,null,r.a.createElement(s.a,{md:6},r.a.createElement(ie.a,null,r.a.createElement(le.a,{addonType:"prepend"},"Name"),r.a.createElement(E.a,{type:"text",name:"name",className:"form-control ".concat(l.name&&"border-danger"),id:"name",disabled:a||o})),l.name&&Object(y.h)(l.name),r.a.createElement(ce.a,{color:"muted"},"Name of this probe.")),r.a.createElement(s.a,{md:2},r.a.createElement(ie.a,null,r.a.createElement(le.a,{addonType:"prepend"},"Version"),r.a.createElement(E.a,{type:"text",name:"version",className:"form-control",value:o?m.version:m.probe.version,id:"version",disabled:!0})),r.a.createElement(ce.a,{color:"muted"},"Version of the probe.")),!_&&!g&&!a&&!o&&r.a.createElement(s.a,{md:2},r.a.createElement(E.a,{component:y.c,name:"update_metrics",className:"form-control",id:"checkbox",label:"Update metric templates"}),r.a.createElement(ce.a,{color:"muted"},"Update all associated metric templates."))),r.a.createElement(c.a,{className:"mt-3"},r.a.createElement(s.a,{md:8},a||o?r.a.createElement(ie.a,null,r.a.createElement(le.a,{addonType:"prepend"},"Package"),r.a.createElement(E.a,{type:"text",name:"package",className:"form-control",id:"package",disabled:!0})):r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{setFieldValue:O,lists:b,icon:"packages",field:"package",val:w.package,onselect_handler:k,req:l.package,label:"Package"}),l.package&&Object(y.h)(l.package)),r.a.createElement(ce.a,{color:"muted"},"Probe is part of selected package.")))),r.a.createElement(p.a,null,r.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Probe metadata"),r.a.createElement(c.a,{className:"mt-4 mb-3 align-items-top"},r.a.createElement(s.a,{md:8},r.a.createElement(ie.a,null,r.a.createElement(le.a,{addonType:"prepend"},"Repository"),a||o?r.a.createElement(E.a,{component:ke,name:"repository",className:"form-control",id:"repository",disabled:!0}):r.a.createElement(E.a,{type:"text",name:"repository",className:"form-control ".concat(l.repository&&"border-danger"),id:"repository"})),l.repository&&Object(y.h)(l.repository),r.a.createElement(ce.a,{color:"muted"},"Probe repository URL."))),r.a.createElement(c.a,{className:"mb-3 align-items-top"},r.a.createElement(s.a,{md:8},r.a.createElement(ie.a,null,r.a.createElement(le.a,{addonType:"prepend"},"Documentation"),a||o?r.a.createElement(E.a,{component:ke,name:"docurl",className:"form-control",id:"docurl",disabled:!0}):r.a.createElement(E.a,{type:"text",name:"docurl",className:"form-control ".concat(l.docurl&&"border-danger"),id:"docurl"})),l.docurl&&Object(y.h)(l.docurl),r.a.createElement(ce.a,{color:"muted"},"Documentation URL."))),r.a.createElement(c.a,{className:"mb-3 align-items-top"},r.a.createElement(s.a,{md:8},r.a.createElement(f.a,{for:"description"},"Description"),r.a.createElement(E.a,{component:"textarea",name:"description",rows:"15",className:"form-control ".concat(l.description&&"border-danger"),id:"description",disabled:a||o}),l.description&&Object(y.h)(l.description),r.a.createElement(ce.a,{color:"muted"},"Free text description outlining the purpose of this probe."))),r.a.createElement(c.a,{className:"mb-3 align-items-top"},r.a.createElement(s.a,{md:8},r.a.createElement(f.a,{for:"comment"},"Comment"),r.a.createElement(E.a,{component:"textarea",name:"comment",rows:"5",className:"form-control ".concat(l.comment&&"border-danger"),id:"comment",disabled:a||o}),l.comment&&Object(y.h)(l.comment),r.a.createElement(ce.a,{color:"muted"},"Short comment about this version."))),!a&&!o&&!_&&!g&&r.a.createElement(c.a,null,r.a.createElement(s.a,{md:8},r.a.createElement("div",null,"Metric templates:",C.length>0&&r.a.createElement("div",null,C.map((function(e,t){return r.a.createElement(P.b,{key:t,to:"/ui/metrictemplates/".concat(e)},e)})).reduce((function(e,t){return[e,", ",t]}))))))))},Pe=function(e){function t(e){var a;return fe(this,t),(a=ge(this,ve(t).call(this,e))).location=e.location,a.state={loading:!1,list_probe:null,isTenantSchema:null,search_name:"",search_description:""},a.backend=new M.a,a}return be(t,e),he(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),Promise.all([this.backend.fetchData("/api/v2/internal/probes"),this.backend.isTenantSchema()]).then((function(t){var a=pe(t,2),n=a[0],r=a[1];return e.setState({list_probe:n,isTenantSchema:r,loading:!1,search_name:""})}))}},{key:"render",value:function(){var e=this,t=[{Header:"#",id:"row",minWidth:12,Cell:function(e){return r.a.createElement("div",{style:{textAlign:"center"}},e.index+1)}},{Header:"Name",id:"name",minWidth:80,accessor:function(e){return r.a.createElement(P.b,{to:"/ui/probes/".concat(e.name)},e.name)},filterable:!0,Filter:r.a.createElement("input",{value:this.state.search_name,onChange:function(t){return e.setState({search_name:t.target.value})},placeholder:"Search by name",style:{width:"100%"}})},{Header:"#versions",id:"nv",minWidth:25,accessor:function(e){return r.a.createElement(P.b,{to:"/ui/probes/".concat(e.name,"/history")},e.nv)},Cell:function(e){return r.a.createElement("div",{style:{textAlign:"center"}},e.value)}},{Header:"Description",minWidth:300,accessor:"description",filterable:!0,Filter:r.a.createElement("input",{type:"text",placeholder:"Search by description",value:this.state.search_description,onChange:function(t){return e.setState({search_description:t.target.value})},style:{width:"100%"}}),filterMethod:function(e,t){return void 0===t[e.id]||String(t[e.id]).toLowerCase().includes(e.value.toLowerCase())}}],a=this.state,n=a.isTenantSchema,o=a.list_probe,i=a.loading;return this.state.search_name&&(o=o.filter((function(t){return t.name.toLowerCase().includes(e.state.search_name.toLowerCase())}))),this.state.search_description&&(o=o.filter((function(t){return t.description.toLowerCase().includes(e.state.search_description.toLowerCase())}))),i?r.a.createElement(y.l,null):!i&&o?r.a.createElement(y.b,{resourcename:"probe",location:this.location,listview:!0,addnew:!n},r.a.createElement(N.a,{data:o,columns:t,className:"-striped -highlight",defaultPageSize:50})):null}}]),t}(n.Component);function Ce(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(function(t){function a(e){var t;return fe(this,a),(t=ge(this,ve(a).call(this,e))).name=e.match.params.name,t.addview=e.addview,t.location=e.location,t.history=e.history,t.backend=new M.a,t.state={probe:{id:"",name:"",version:"",package:"",repository:"",docurl:"",description:"",comment:""},isTenantSchema:null,metrictemplatelist:[],list_packages:[],validationVisible:!0,update_metrics:!1,loading:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},t.toggleAreYouSure=t.toggleAreYouSure.bind(Ee(t)),t.toggleAreYouSureSetModal=t.toggleAreYouSureSetModal.bind(Ee(t)),t.onSubmitHandle=t.onSubmitHandle.bind(Ee(t)),t.doDelete=t.doDelete.bind(Ee(t)),t.onDismiss=t.onDismiss.bind(Ee(t)),t.onSelect=t.onSelect.bind(Ee(t)),t}return be(a,t),he(a,[{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(n){return{areYouSureModal:!n.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSubmitHandle",value:function(t,a){var n=this,r=void 0,o=void 0;this.addview||e?(r="Are you sure you want to add probe?",o="Add probe"):(r="Are you sure you want to change probe?",o="Change probe"),this.toggleAreYouSureSetModal(r,o,(function(){return n.doChange(t,a)}))}},{key:"doChange",value:function(t,a){var n=this;if(this.addview||e){var r=void 0;r=e?t.id:"",this.backend.addObject("/api/v2/internal/probes/",{name:t.name,package:t.package,repository:t.repository,docurl:t.docurl,description:t.description,comment:t.comment,cloned_from:r}).then((function(e){e.ok?Object(y.o)({msg:"Probe successfully added",title:"Added",callback:function(){return n.history.push("/ui/probes")}}):e.json().then((function(e){se.NotificationManager.error(e.detail,"Error")}))}))}else this.backend.changeObject("/api/v2/internal/probes/",{id:t.id,name:t.name,package:t.package,repository:t.repository,docurl:t.docurl,description:t.description,comment:t.comment,update_metrics:t.update_metrics}).then((function(e){e.ok?Object(y.o)({msg:"Probe successfully changed",title:"Changed",callback:function(){return n.history.push("/ui/probes")}}):e.json().then((function(e){se.NotificationManager.error(e.detail,"Error")}))}))}},{key:"doDelete",value:function(e){var t=this;this.backend.deleteObject("/api/v2/internal/probes/".concat(e)).then((function(e){e.ok?Object(y.o)({msg:"Probe successfully deleted",title:"Deleted",callback:function(){return t.history.push("/ui/probes")}}):e.json().then((function(e){se.NotificationManager.error(e.detail,"Error")}))}))}},{key:"onDismiss",value:function(){this.setState({validationVisible:!1})}},{key:"onSelect",value:function(e,t){var a=this.state.probe;a[e]=t,a.version=t.split(" ")[1].slice(1,-1),this.setState({probe:a})}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),Promise.all([this.backend.isTenantSchema(),this.backend.fetchData("/api/v2/internal/packages")]).then((function(t){var a=pe(t,2),n=a[0],r=a[1],o=[];r.forEach((function(e){return o.push("".concat(e.name," (").concat(e.version,")"))})),e.addview?e.setState({list_packages:o,isTenantSchema:n,loading:!1}):e.backend.fetchData("/api/v2/internal/probes/".concat(e.name)).then((function(t){e.backend.fetchData("/api/v2/internal/metricsforprobes/".concat(t.name,"(").concat(t.version,")")).then((function(a){e.setState({probe:t,list_packages:o,isTenantSchema:n,metrictemplatelist:a,loading:!1})}))}))}))}},{key:"render",value:function(){var t=this,a=this.state,n=a.probe,o=a.update_metrics,i=a.isTenantSchema,l=a.metrictemplatelist,c=a.list_packages,s=a.loading;return s?r.a.createElement(y.l,null):s?void 0:i?r.a.createElement(y.b,{resourcename:"Probe details",location:this.location,tenantview:!0,history:!0},r.a.createElement(E.d,{initialValues:{id:n.id,name:n.name,version:n.version,package:n.package,repository:n.repository,docurl:n.docurl,description:n.description,comment:n.comment},render:function(e){return r.a.createElement(Se,de({},e,{isTenantSchema:!0,state:t.state}))}})):r.a.createElement(y.b,{resourcename:"probe",location:this.location,addview:this.addview,cloneview:e,clone:!0,modal:!0,state:this.state,toggle:this.toggleAreYouSure},r.a.createElement(E.d,{initialValues:{id:n.id,name:n.name,version:n.version,package:n.package,repository:n.repository,docurl:n.docurl,description:n.description,comment:n.comment,update_metrics:o},validationSchema:Ae,onSubmit:function(e,a){return t.onSubmitHandle(e,a)}},(function(a){return r.a.createElement(E.c,null,r.a.createElement(Se,de({},a,{state:t.state,addview:t.addview,cloneview:e,list_packages:c,onSelect:t.onSelect,metrictemplatelist:l})),r.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},t.addview||e?r.a.createElement("div",null):r.a.createElement(h.a,{color:"danger",onClick:function(){t.toggleAreYouSureSetModal("Are you sure you want to delete probe?","Delete probe",(function(){return t.doDelete(a.values.name)}))}},"Delete"),r.a.createElement(h.a,{color:"success",id:"submit-button",type:"submit"},"Save")))})))}}]),a}(n.Component))}var Ie=function(e){function t(e){var a;return fe(this,t),(a=ge(this,ve(t).call(this,e))).version1=e.match.params.id1,a.version2=e.match.params.id2,a.name=e.match.params.name,a.state={loading:!1,name1:"",version1:"",package1:"",description1:"",repository1:"",docurl1:"",comment1:"",name2:"",version2:"",package2:"",description2:"",repository2:"",docurl2:"",comment2:""},a.backend=new M.a,a}return be(t,e),he(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/version/probe/".concat(this.name)).then((function(t){var a="",n="",r="",o="",i="",l="",c="",s="",u="",m="",d="",p="",f="",_="";t.forEach((function(t){t.version==e.version1?(a=t.fields.name,n=t.fields.version,r=t.fields.package,o=t.fields.description,i=t.fields.repository,l=t.fields.docurl,c=t.fields.comment):t.version===e.version2&&(s=t.fields.name,u=t.fields.version,m=t.fields.package,d=t.fields.description,p=t.fields.repository,f=t.fields.docurl,_=t.fields.comment)})),e.setState({name1:a,version1:n,package1:r,description1:o,repository1:i,docurl1:l,comment1:c,name2:s,version2:u,package2:m,description2:d,repository2:p,docurl2:f,comment2:_,loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.name1,a=e.name2,n=e.version1,o=e.version2,i=e.package1,l=e.package2,c=e.description1,s=e.description2,u=e.repository1,m=e.repository2,d=e.docurl1,p=e.docurl2,f=e.comment1,_=e.comment2,h=e.loading;return h?r.a.createElement(y.l,null):!h&&t&&a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},r.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Compare "+this.name)),t!==a&&r.a.createElement(y.e,{title:"name",item1:t,item2:a}),n!==o&&r.a.createElement(y.e,{title:"version",item1:n,item2:o}),i!==l&&r.a.createElement(y.e,{title:"package",item1:i,item2:l}),c!==s&&r.a.createElement(y.e,{title:"description",item1:c,item2:s}),u!==m&&r.a.createElement(y.e,{title:"repository",item1:u,item2:m}),d!==p&&r.a.createElement(y.e,{title:"documentation",item1:d,item2:p}),f!==_&&r.a.createElement(y.e,{title:"comment",item1:f,item2:_})):null}}]),t}(n.Component),Ne=function(e){function t(e){var a;return fe(this,t),(a=ge(this,ve(t).call(this,e))).name=e.match.params.name,a.version=e.match.params.version,a.backend=new M.a,a.state={name:"",version:"",pkg:"",description:"",repository:"",docurl:"",comment:"",loading:!1},a}return be(t,e),he(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/version/probe/".concat(this.name)).then((function(t){t.forEach((function(t){t.version===e.version&&e.setState({name:t.fields.name,version:t.fields.version,pkg:t.fields.package,description:t.fields.description,repository:t.fields.repository,docurl:t.fields.docurl,comment:t.fields.comment,loading:!1})}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.version,o=t.pkg,i=t.description,l=t.repository,c=t.docurl,s=t.comment,u=t.loading;return u?r.a.createElement(y.l,null):!u&&a?r.a.createElement(y.b,{resourcename:"".concat(a," (").concat(n,")"),infoview:!0},r.a.createElement(E.d,{initialValues:{name:a,version:n,package:o,repository:l,docurl:c,description:i,comment:s},render:function(t){return r.a.createElement(Se,de({},t,{state:e.state,isHistory:!0}))}})):null}}]),t}(n.Component),Te=a("SKq3");function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function We(e,t,a){return t&&Re(e.prototype,t),a&&Re(e,a),e}function Be(e,t){return!t||"object"!==je(t)&&"function"!=typeof t?ze(e):t}function Ke(e){return(Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ye(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fe=Object(Te.b)("metrictemplate"),Ve=Object(Te.b)("metrictemplate",!0),He=$e(),qe=$e(!0),Ge=Object(y.j)("metrictemplate"),Ze=Object(y.j)("metrictemplate",!0),Je=Object(Te.a)("metrictemplate"),Xe=ue.object().shape({name:ue.string().matches(/^\S*$/,"Name cannot contain white spaces").required("Required"),type:ue.string(),probeversion:ue.string().when("type",{is:function(e){return"Active"===e},then:ue.string().required("Required")}),probeexecutable:ue.string().when("type",{is:function(e){return"Active"===e},then:ue.string().required("Required")})});function $e(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(function(t){function a(e){var t;return Ue(this,a),(t=Be(this,Ke(a).call(this,e))).name=e.match.params.name,t.location=e.location,t.addview=e.addview,t.tenantview=e.tenantview,t.history=e.history,t.backend=new M.a,t.state={metrictemplate:{},probe:{},types:[],probeversions:[],metrictemplatelist:[],loading:!1,popoverOpen:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},t.toggleAreYouSure=t.toggleAreYouSure.bind(ze(t)),t.toggleAreYouSureSetModal=t.toggleAreYouSureSetModal.bind(ze(t)),t.togglePopOver=t.togglePopOver.bind(ze(t)),t.onSelect=t.onSelect.bind(ze(t)),t.onSubmitHandle=t.onSubmitHandle.bind(ze(t)),t.doChange=t.doChange.bind(ze(t)),t.doDelete=t.doDelete.bind(ze(t)),t}return Ye(a,t),We(a,[{key:"togglePopOver",value:function(){this.setState({popoverOpen:!this.state.popoverOpen})}},{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(n){return{areYouSureModal:!n.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSelect",value:function(e,t){var a=this.state.metrictemplate;a[e]=t,this.setState({metrictemplate:a})}},{key:"onSubmitHandle",value:function(t,a){var n=this,r=void 0,o=void 0;this.addview||e?(r="Are you sure you want to add metric template?",o="Add metric template"):(r="Are you sure you want to change metric template?",o="Change metric template"),this.toggleAreYouSureSetModal(r,o,(function(){return n.doChange(t,a)}))}},{key:"doChange",value:function(t,a){var n=this;if(this.addview||e){var r=void 0;r=e?t.id:"",this.backend.addObject("/api/v2/internal/metrictemplates/",{cloned_from:r,name:t.name,probeversion:t.probeversion,mtype:t.type,probeexecutable:t.probeexecutable,parent:t.parent,config:t.config,attribute:t.attributes,dependency:t.dependency,parameter:t.parameter,flags:t.flags,files:t.file_attributes,fileparameter:t.file_parameters}).then((function(e){e.ok?Object(y.o)({msg:"Metric template successfully added",title:"Added",callback:function(){return n.history.push("/ui/metrictemplates")}}):e.json().then((function(e){se.NotificationManager.error(e.detail,"Error")}))})).catch((function(e){return alert("Something went wrong: "+e)}))}else this.backend.changeObject("/api/v2/internal/metrictemplates/",{id:t.id,name:t.name,probeversion:t.probeversion,mtype:t.type,probeexecutable:t.probeexecutable,parent:t.parent,config:t.config,attribute:t.attributes,dependency:t.dependency,parameter:t.parameter,flags:t.flags,files:t.file_attributes,fileparameter:t.file_parameters}).then((function(e){e.ok?Object(y.o)({msg:"Metric template successfully changed",title:"Changed",callback:function(){return n.history.push("/ui/metrictemplates")}}):e.json().then((function(e){se.NotificationManager.error(e.detail,"Error")}))})).catch((function(e){return alert("Something went wrong: "+e)}))}},{key:"doDelete",value:function(e){var t=this;this.backend.deleteObject("/api/v2/internal/metrictemplates/".concat(e)).then((function(){return Object(y.o)({msg:"Metric template successfully deleted",title:"Deleted",callback:function(){return t.history.push("/ui/metrictemplates")}})})).catch((function(e){return alert("Something went wrong: "+e)}))}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),Promise.all([this.backend.fetchData("/api/v2/internal/mttypes"),this.backend.fetchData("/api/v2/internal/version/probe"),this.backend.fetchData("/api/v2/internal/metrictemplates")]).then((function(t){var a=xe(t,3),n=a[0],r=a[1],o=a[2],i=[];o.forEach((function(e){return i.push(e.name)})),e.addview?e.setState({metrictemplate:{id:"",name:"",probeversion:"",mtype:"Active",probeexecutable:"",parent:"",config:[{key:"maxCheckAttempts",value:""},{key:"timeout",value:""},{key:"path",value:""},{key:"interval",value:""},{key:"retryInterval",value:""}],attribute:[{key:"",value:""}],dependency:[{key:"",value:""}],parameter:[{key:"",value:""}],flags:[{key:"",value:""}],files:[{key:"",value:""}],fileparameter:[{key:"",value:""}]},metrictemplatelist:i,probeversions:r,types:n,loading:!1}):e.backend.fetchData("/api/v2/internal/metrictemplates/".concat(e.name)).then((function(t){0===t.attribute.length&&(t.attribute=[{key:"",value:""}]),0===t.dependency.length&&(t.dependency=[{key:"",value:""}]),0===t.parameter.length&&(t.parameter=[{key:"",value:""}]),0===t.flags.length&&(t.flags=[{key:"",value:""}]),0===t.files.length&&(t.files=[{key:"",value:""}]),0===t.fileparameter.length&&(t.fileparameter=[{key:"",value:""}]),t.probeversion?e.backend.fetchData("/api/v2/internal/version/probe/".concat(t.probeversion.split(" ")[0])).then((function(a){var o={};a.forEach((function(e){e.object_repr===t.probeversion&&(o=e.fields)})),e.setState({metrictemplate:t,probe:o,probeversions:r,metrictemplatelist:i,types:n,loading:!1})})):e.setState({metrictemplate:t,metrictemplatelist:i,types:n,loading:!1})}))}))}},{key:"render",value:function(){var t=this,a=this.state,n=a.metrictemplate,o=a.types,i=a.probeversions,l=a.metrictemplatelist,c=a.loading;return c?r.a.createElement(y.l,null):!c&&n?r.a.createElement(y.b,{resourcename:this.tenantview?"".concat(n.name):"metric template",location:this.location,addview:this.addview,tenantview:this.tenantview,cloneview:e,clone:!0,modal:!0,state:this.state,toggle:this.toggleAreYouSure},r.a.createElement(E.d,{initialValues:{id:n.id,name:n.name,probeversion:n.probeversion,type:n.mtype,probeexecutable:n.probeexecutable,parent:n.parent,config:n.config,attributes:n.attribute,dependency:n.dependency,parameter:n.parameter,flags:n.flags,file_attributes:n.files,file_parameters:n.fileparameter},onSubmit:function(e,a){return t.onSubmitHandle(e,a)},validationSchema:Xe,render:function(a){return r.a.createElement(E.c,null,r.a.createElement(Te.d,Le({},a,{obj:"metrictemplate",isTenantSchema:t.tenantview,addview:t.addview,state:t.state,onSelect:t.onSelect,togglePopOver:t.togglePopOver,types:o,probeversions:i,metrictemplatelist:l})),!t.tenantview&&r.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},t.addview||e?r.a.createElement("div",null):r.a.createElement(h.a,{color:"danger",onClick:function(){t.toggleAreYouSureSetModal("Are you sure you want to delete Metric template?","Delete metric template",(function(){return t.doDelete(a.values.name)}))}},"Delete"),r.a.createElement(h.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):null}}]),a}(n.Component))}var et=function(e){function t(e){var a;return Ue(this,t),(a=Be(this,Ke(t).call(this,e))).name=e.match.params.name,a.version=e.match.params.version,a.backend=new M.a,a.state={name:"",probeversion:"",mtype:"",probeexecutable:"",parent:"",config:[],attribute:[],dependency:[],parameter:[],flags:[],files:[],fileparameter:[],loading:!1},a}return Ye(t,e),We(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/version/metrictemplate/".concat(this.name)).then((function(t){t.forEach((function(t){t.version==e.version&&e.setState({name:t.fields.name,probeversion:t.fields.probeversion,type:t.fields.mtype,probeexecutable:t.fields.probeexecutable,parent:t.fields.parent,config:t.fields.config,attribute:t.fields.attribute,dependency:t.fields.dependency,parameter:t.fields.parameter,flags:t.fields.flags,files:t.fields.files,fileparameter:t.fields.fileparameter,date_created:t.date_created,loading:!1})}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.probeversion,o=t.type,i=t.probeexecutable,l=t.parent,c=t.config,s=t.attribute,u=t.dependency,m=t.parameter,d=t.flags,p=t.files,f=t.fileparameter,_=t.loading;return _?r.a.createElement(y.l,null):!_&&a?r.a.createElement(y.b,{resourcename:"".concat(a," ").concat(n&&"[".concat(n,"]")),infoview:!0},r.a.createElement(E.d,{initialValues:{name:a,probeversion:n,type:o,probeexecutable:i,parent:l,config:c,attributes:s,dependency:u,parameter:m,flags:d,file_attributes:p,file_parameters:f},render:function(t){return r.a.createElement(E.c,null,r.a.createElement(Te.d,Le({},t,{obj:"metrictemplate",state:e.state,isHistory:!0})))}})):null}}]),t}(n.Component),tt=function(e){return r.a.createElement(E.c,{className:"ml-2 mb-2 mt-2"},r.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Administration"),r.a.createElement(u.a,{className:"mb-2 pb-1 pt-1"},r.a.createElement(m.a,{className:"sm-5 p-2 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Poem"),r.a.createElement(d.a,null,r.a.createElement(c.a,{className:"p-1 align-items-center"},r.a.createElement(y.k,{i:"reports"})," ",r.a.createElement(P.b,{className:"pl-1",to:"/ui/reports"},"Reports")),r.a.createElement(c.a,{className:"p-1 align-items-center"},r.a.createElement(y.k,{i:"metrics"})," ",r.a.createElement(P.b,{className:"pl-1",to:"/ui/metrics"},"Metrics")),r.a.createElement(c.a,{className:"p-1 align-items-center"},r.a.createElement(y.k,{i:"metricprofiles"})," ",r.a.createElement(P.b,{className:"pl-1",to:"/ui/metricprofiles"},"Metric profiles")),r.a.createElement(c.a,{className:"p-1 align-items-center"},r.a.createElement(y.k,{i:"aggregationprofiles"})," ",r.a.createElement(P.b,{className:"pl-1",to:"/ui/aggregationprofiles"},"Aggregation profiles")))),r.a.createElement(u.a,{className:"mb-2"},r.a.createElement(m.a,{className:"mt-2 p-2 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Authentication and authorization"),r.a.createElement(d.a,null,r.a.createElement(c.a,{className:"p-1 align-items-center"},r.a.createElement(y.k,{i:"groupofaggregationprofiles"})," ",r.a.createElement(P.b,{to:"/ui/administration/groupofaggregations"},"Groups of aggregations")),r.a.createElement(c.a,{className:"p-1 align-items-center"},r.a.createElement(y.k,{i:"groupofmetrics"})," ",r.a.createElement(P.b,{to:"/ui/administration/groupofmetrics"},"Groups of metrics")),r.a.createElement(c.a,{className:"p-1 align-items-center"},r.a.createElement(y.k,{i:"groupofmetricprofiles"})," ",r.a.createElement(P.b,{to:"/ui/administration/groupofmetricprofiles"},"Groups of metric profiles")),r.a.createElement(c.a,{className:"p-1 align-items-center"},r.a.createElement(y.k,{i:"groupofthresholdsprofiles"})," ",r.a.createElement(P.b,{to:"/ui/administration/groupofthresholdsprofiles"},"Groups of thresholds profiles")),r.a.createElement(c.a,{className:"p-1 align-items-center"},r.a.createElement(y.k,{i:"users"})," ",r.a.createElement(P.b,{to:"/ui/administration/users"},"Users")))),r.a.createElement(u.a,null,r.a.createElement(m.a,{className:"mt-2 p-2 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Available data"),r.a.createElement(d.a,null,r.a.createElement(c.a,{className:"p-1 align-items-center"},r.a.createElement(y.k,{i:"metrics"})," ",r.a.createElement(P.b,{to:"/ui/administration/metrictemplates"},"Metric templates")),r.a.createElement(c.a,{className:"p-1 align-items-center"},r.a.createElement(y.k,{i:"yumrepos"})," ",r.a.createElement(P.b,{to:"/ui/administration/yumrepos"},"YUM repos")))),r.a.createElement(u.a,null,r.a.createElement(m.a,{className:"mt-2 p-2 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"API key permissions"),r.a.createElement(d.a,null,r.a.createElement(c.a,{className:"p-1 align-items-center"},r.a.createElement(y.k,{i:"apikey"})," ",r.a.createElement(P.b,{to:"/ui/administration/apikey"},"API keys")))))},at=function(e){return r.a.createElement(E.c,{className:"ml-2 mb-2 mt-2"},r.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Administration"),r.a.createElement(u.a,{className:"mb-2 pb-1 pt-1"},r.a.createElement(m.a,{className:"sm-5 p-2 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Poem"),r.a.createElement(d.a,null,r.a.createElement(c.a,{className:"p-1 align-items-center"},r.a.createElement(y.k,{i:"probes"})," ",r.a.createElement(P.b,{className:"pl-1",to:"/ui/probes"},"Probes")),r.a.createElement(c.a,{className:"p-1 align-items-center"},r.a.createElement(y.k,{i:"metrictemplates"})," ",r.a.createElement(P.b,{className:"pl-1",to:"/ui/metrictemplates"},"Metric templates")),r.a.createElement(c.a,{className:"p-1 align-items-center"},r.a.createElement(y.k,{i:"yumrepos"})," ",r.a.createElement(P.b,{className:"pl-1",to:"/ui/yumrepos"},"YUM repos")),r.a.createElement(c.a,{className:"p-1 align-items-center"},r.a.createElement(y.k,{i:"packages"})," ",r.a.createElement(P.b,{className:"pl-1",to:"/ui/packages"},"Packages")))),r.a.createElement(u.a,{className:"mb-2"},r.a.createElement(m.a,{className:"mt-2 p-2 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Authentication and authorization"),r.a.createElement(d.a,null,r.a.createElement(c.a,{className:"p-1 align-items-center"},r.a.createElement(y.k,{i:"users"})," ",r.a.createElement(P.b,{to:"/ui/administration/users"},"Users")))))};function nt(e){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ot(e,t){return!t||"object"!==nt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lt(e,t){return(lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ct=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ot(this,it(t).apply(this,arguments))}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lt(e,t)}(t,e),a=t,(n=[{key:"componentDidUpdate",value:function(e){e.formik!==this.props.formik&&this.props.onChange(this.props.formik,e.formik)}},{key:"render",value:function(){return null}}])&&rt(a.prototype,n),r&&rt(a,r),t}(n.Component),st=Object(E.e)(ct);a("R9sY"),a("lrsP");function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ft(e,t,a){return t&&pt(e.prototype,t),a&&pt(e,a),e}function _t(e,t){return!t||"object"!==ut(t)&&"function"!=typeof t?gt(e):t}function ht(e){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Et(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vt(e,t)}function vt(e,t){return(vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bt(){return(bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function yt(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Mt=Object(y.j)("aggregationprofile");function Ot(e,t){return-1!==e.toLowerCase().indexOf(t.toLowerCase())}function Dt(e,t){return e?[t].concat(yt(e)):[t]}var wt=function(e){var t=e.name,a=e.form,n=e.list_services,o=e.list_operations,i=e.last_service_operation,l=e.write_perm;return r.a.createElement(c.a,{className:"groups"},a.values[t].map((function(e,c){return r.a.createElement(E.b,{key:c,name:"groups",render:function(s){return r.a.createElement(At,bt({},s,{key:c,operation:e.operation,services:e.services,list_services:n,list_operations:o,last_service_operation:i,write_perm:l,groupindex:c,isnew:e.isNew,last:c===a.values[t].length-1}))}})})))},At=function(e){var t=e.operation,a=e.services,n=e.list_operations,o=e.list_services,i=e.last_service_operation,l=e.write_perm,p=e.form,f=e.groupindex,_=e.remove,v=e.insert,b=e.isnew;return e.last?r.a.createElement(s.a,{sm:{size:12},md:{size:6},className:"mt-4 mb-2 d-flex justify-content-center align-items-center"},r.a.createElement(h.a,{outline:!0,color:"secondary",size:"lg",disabled:!l,onClick:function(){return l&&v(f,{name:"",operation:"",isNew:!0,services:[{name:"",operation:""}]})}},"Add new group")):r.a.createElement(r.a.Fragment,{key:f},r.a.createElement(s.a,{sm:{size:8},md:{size:5},className:"mt-4 mb-2"},r.a.createElement(u.a,{className:b?"border-success":""},r.a.createElement(m.a,{className:"p-1",color:"primary"},r.a.createElement(c.a,{className:"d-flex align-items-center no-gutters"},r.a.createElement(s.a,{sm:{size:10},md:{size:11}},r.a.createElement(E.a,{name:"groups.".concat(f,".name"),placeholder:"Name of service group",required:!0,className:"form-control"})),r.a.createElement(s.a,{sm:{size:2},md:{size:1},className:"pl-1"},r.a.createElement(h.a,{size:"sm",color:"danger",type:"button",onClick:function(){return l&&_(f)}},r.a.createElement(T.a,{icon:j.s}))))),r.a.createElement(d.a,{className:"p-1"},r.a.createElement(E.b,{name:"groups.".concat(f),render:function(e){return r.a.createElement(kt,{list_services:o,list_operations:n,last_service_operation:i,services:a,groupindex:f,groupoperation:t,groupnew:b,form:p})}})),r.a.createElement(g.a,{className:"p-1 d-flex justify-content-center"},r.a.createElement(y.f,{field:{name:"operation",value:t},data:n,prefix:"groups.".concat(f),class_name:"custom-select col-2"})))),r.a.createElement(s.a,{sm:{size:4},md:{size:1},className:"mt-5"},r.a.createElement("div",{className:"group-operation",key:f},r.a.createElement(y.f,{field:{name:"profile_operation",value:p.values.profile_operation},data:n}))))},kt=function(e){var t=e.services,a=e.list_services,n=void 0===a?[]:a,o=e.list_operations,i=void 0===o?[]:o,l=e.last_service_operation,c=e.groupindex,s=e.groupnew,u=void 0!==s&&s,m=e.form;return t.map((function(e,a){return r.a.createElement(E.b,{key:a,name:"groups.".concat(c,".services"),render:function(o){return r.a.createElement(St,bt({},o,{key:a,service:e,operation:e.operation,list_services:n,list_operations:i,last_service_operation:l,groupindex:c,groupnew:u,index:a,last:a===t.length-1,form:m,isnew:e.isnew,ismissing:-1===n.indexOf(e.name)}))}})}))},St=function(e){e.name;var t=e.service,a=e.operation,n=e.list_services,o=e.list_operations,i=e.last_service_operation,l=e.groupindex,u=e.groupnew,m=e.index,d=e.remove,p=e.insert,f=e.form,_=e.isnew,g=e.ismissing;return r.a.createElement(c.a,{className:"d-flex align-items-center service pt-1 pb-1 no-gutters",key:m},r.a.createElement(s.a,{md:8},r.a.createElement(I.a,{inputProps:{className:'"form-control custom-select " '.concat(_&&!u?"border-success":""," ").concat(g?"border-danger":"")},getItemValue:function(e){return e},items:n,value:t.name,renderItem:function(e,t){return r.a.createElement("div",{key:n.indexOf(e),className:"aggregation-autocomplete-entries ".concat(t?"aggregation-autocomplete-entries-highlighted":"")},e?r.a.createElement(y.k,{i:"serviceflavour"}):""," ",e)},onChange:function(e){return f.setFieldValue("groups.".concat(l,".services.").concat(m,".name"),e.target.value)},onSelect:function(e){f.setFieldValue("groups.".concat(l,".services.").concat(m,".name"),e)},wrapperStyle:{},shouldItemRender:Ot,renderMenu:function(e){return r.a.createElement("div",{className:"aggregation-autocomplete-menu",children:e})}})),r.a.createElement(s.a,{md:2},r.a.createElement("div",{className:"input-group"},r.a.createElement(y.f,{field:{name:"operation",value:a},data:o,prefix:"groups.".concat(l,".services.").concat(m),class_name:"custom-select service-operation",isnew:_&&!u}))),r.a.createElement(s.a,{md:2,className:"pl-2"},r.a.createElement(h.a,{size:"sm",color:"light",type:"button",onClick:function(){return d(m)}},r.a.createElement(T.a,{icon:j.s})),r.a.createElement(h.a,{size:"sm",color:"light",type:"button",onClick:function(){return p(m+1,{name:"",operation:i(m,f.values.groups[l].services),isnew:!0})}},r.a.createElement(T.a,{icon:j.l}))))},Pt=function(e){var t=e.values,a=e.errors,n=e.historyview,o=void 0!==n&&n,i=e.write_perm,l=void 0!==i&&i,u=e.list_user_groups,m=e.logic_operations,d=e.endpoint_groups,f=e.list_id_metric_profiles;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.p,{values:t,errors:a,fieldsdisable:o,grouplist:o?void 0:l?u:[t.groupname].concat(yt(u)),profiletype:"aggregation"}),r.a.createElement("h4",{className:"mt-4 alert-info p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Operations and group"),r.a.createElement(c.a,{className:"mt-4"},r.a.createElement(s.a,{md:4},r.a.createElement(p.a,null,r.a.createElement(c.a,null,r.a.createElement(s.a,{md:8},r.a.createElement(ie.a,null,r.a.createElement(le.a,{addonType:"prepend"},"Metric operation"),o?r.a.createElement(E.a,{name:"metric_operation",className:"form-control",disabled:!0}):r.a.createElement(E.a,{name:"metric_operation",component:y.f,data:Dt(m,""),required:!0,class_name:"custom-select"})))),r.a.createElement(c.a,null,r.a.createElement(s.a,{md:12},r.a.createElement(ce.a,null,"Logical operation that will be applied between metrics of each service flavour"))))),r.a.createElement(s.a,{md:4},r.a.createElement(p.a,null,r.a.createElement(c.a,null,r.a.createElement(s.a,{md:8},r.a.createElement(ie.a,null,r.a.createElement(le.a,{addonType:"prepend"},"Aggregation operation"),o?r.a.createElement(E.a,{name:"profile_operation",className:"form-control",disabled:!0}):r.a.createElement(E.a,{name:"profile_operation",component:y.f,data:Dt(m,""),required:!0,class_name:"custom-select"})))),r.a.createElement(c.a,null,r.a.createElement(s.a,{md:12},r.a.createElement(ce.a,null,"Logical operation that will be applied between defined service flavour groups"))))),r.a.createElement(s.a,{md:4},r.a.createElement(p.a,null,r.a.createElement(c.a,null,r.a.createElement(s.a,{md:8},r.a.createElement(ie.a,null,r.a.createElement(le.a,{addonType:"prepend"},"Endpoint group"),o?r.a.createElement(E.a,{name:"endpoint_group",className:"form-control",disabled:!0}):r.a.createElement(E.a,{name:"endpoint_group",component:y.f,data:Dt(d,""),required:!0,class_name:"custom-select"}))))))),r.a.createElement("h4",{className:"mt-4 alert-info p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Metric profile"),r.a.createElement(c.a,{className:"mt-4"},r.a.createElement(s.a,{md:6},r.a.createElement(p.a,null,r.a.createElement(ie.a,null,r.a.createElement(le.a,{addonType:"prepend"},"Metric profile"),o?r.a.createElement(E.a,{name:"metric_profile",className:"form-control",disabled:!0}):r.a.createElement(E.a,{name:"metric_profile",component:y.f,data:Dt(f.map((function(e){return e.name})),""),required:!0,class_name:"custom-select"})),r.a.createElement(ce.a,null,"Metric profile associated to Aggregation profile. Service flavours defined in service flavour groups originate from selected metric profile.")))),r.a.createElement("h4",{className:"mt-2 alert-info p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Service flavour groups"))},Ct=function(e){function t(e){var a;return dt(this,t),(a=_t(this,ht(t).call(this,e))).tenant_name=e.tenant_name,a.token=e.webapitoken,a.webapiaggregation=e.webapiaggregation,a.webapimetric=e.webapimetric,a.profile_name=e.match.params.name,a.addview=e.addview,a.history=e.history,a.location=e.location,a.state={aggregation_profile:{},groupname:void 0,list_user_groups:[],write_perm:!1,list_id_metric_profiles:[],list_services:[],list_complete_metric_profiles:{},areYouSureModal:!1,loading:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},a.backend=new M.a,a.webapi=new M.b({token:e.webapitoken,metricProfiles:e.webapimetric,aggregationProfiles:e.webapiaggregation}),a.extractListOfMetricsProfiles=a.extractListOfMetricsProfiles.bind(gt(a)),a.toggleAreYouSure=a.toggleAreYouSure.bind(gt(a)),a.doChange=a.doChange.bind(gt(a)),a.doDelete=a.doDelete.bind(gt(a)),a.toggleAreYouSureSetModal=a.toggleAreYouSureSetModal.bind(gt(a)),a.onSubmitHandle=a.onSubmitHandle.bind(gt(a)),a.logic_operations=["OR","AND"],a.endpoint_groups=["servicegroups","sites"],a}return Et(t,e),ft(t,[{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(n){return{areYouSureModal:!n.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"extractListOfServices",value:function(e,t){return t.filter((function(t){return t.name===e.name}))[0].services.map((function(e){return e.service}))}},{key:"extractListOfMetricsProfiles",value:function(e){var t=[];return e.forEach((function(e){var a=t.length,n=e.name,r=e.id;t[a]={name:n,id:r},a+=1})),t}},{key:"insertEmptyServiceForNoServices",value:function(e){return e.forEach((function(e){0===e.services.length&&e.services.push({name:"",operation:""})})),e}},{key:"insertOperationFromPrevious",value:function(e,t){return t.length?t[t.length-1].operation:""}},{key:"onSubmitHandle",value:function(e,t){var a=this,n=void 0,r=void 0;this.addview?(n="Are you sure you want to add Aggregation profile?",r="Add aggregation profile"):(n="Are you sure you want to change Aggregation profile?",r="Change aggregation profile"),this.toggleAreYouSureSetModal(n,r,(function(){return a.doChange(e,t)}))}},{key:"doChange",value:function(e,t){var a=this,n=JSON.parse(JSON.stringify(e));this.removeDummyGroup(n),n.namespace=this.tenant_name;var r=this.state.list_id_metric_profiles.filter((function(e){return n.metric_profile===e.name}));n.metric_profile=r[0],this.addview?this.webapi.addAggregation(n).then((function(t){t.ok?t.json().then((function(t){a.backend.addObject("/api/v2/internal/aggregations/",{apiid:t.data.id,name:n.name,groupname:n.groupname,endpoint_group:n.endpoint_group,metric_operation:n.metric_operation,profile_operation:n.profile_operation,metric_profile:e.metric_profile,groups:JSON.stringify(n.groups)}).then((function(){return Object(y.o)({msg:"Aggregation profile successfully added",title:"Added",callback:function(){return a.history.push("/ui/aggregationprofiles")}})})).catch((function(e){return alert("Something went wrong: "+e)}))})).catch((function(e){return alert("Something went wrong: "+e)})):a.toggleAreYouSureSetModal("Error: ".concat(t.status,", ").concat(t.statusText),"Error adding aggregation profile",void 0)})).catch((function(e){return alert("Something went wrong: "+e)})):this.webapi.changeAggregation(n).then((function(t){t.ok?t.json().then((function(t){a.backend.changeObject("/api/v2/internal/aggregations/",{apiid:n.id,name:n.name,groupname:n.groupname,endpoint_group:n.endpoint_group,metric_operation:n.metric_operation,profile_operation:n.profile_operation,metric_profile:e.metric_profile,groups:JSON.stringify(n.groups)}).then((function(){return Object(y.o)({msg:"Aggregation profile succesfully changed",title:"Changed",callback:function(){return a.history.push("/ui/aggregationprofiles")}})})).catch((function(e){return alert("Something went wrong: "+e)}))})).catch((function(e){return alert("Something went wrong: "+e)})):a.toggleAreYouSureSetModal("Error: ".concat(t.status,", ").concat(t.statusText),"Error changing aggregation profile",void 0)})).catch((function(e){return alert("Something went wrong: "+e)}))}},{key:"doDelete",value:function(e){var t=this;this.webapi.deleteAggregation(e).then((function(a){a.ok?a.json().then(t.backend.deleteObject("/api/v2/internal/aggregations/".concat(e))).then((function(){return Object(y.o)({msg:"Aggregation profile sucessfully deleted",title:"Deleted",callback:function(){return t.history.push("/ui/aggregationprofiles")}})})):alert("Error: ".concat(a.status,", ").concat(a.statusText))})).catch((function(e){return alert("Something went wrong: "+e)}))}},{key:"insertDummyGroup",value:function(e){return[].concat(yt(e),[{name:"dummy",operation:"OR",services:[{name:"dummy",operation:"OR"}]}])}},{key:"removeDummyGroup",value:function(e){var t=e.groups[e.groups.length-1];"dummy"==t.name&&"dummy"==t.services[0].name&&e.groups.pop()}},{key:"checkIfServiceMissingInMetricProfile",value:function(e,t){var a=new Set(e),n=!1;return t.forEach((function(e){var t=!0,r=!1,o=void 0;try{for(var i,l=e.services[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){var c=i.value;if(!a.has(c.name)){n=!0;break}}}catch(e){r=!0,o=e}finally{try{t||null==l.return||l.return()}finally{if(r)throw o}}})),n}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.isActiveSession().then((function(t){t.active&&Promise.all([e.webapi.fetchMetricProfiles()]).then((function(a){var n=mt(a,1)[0];if(e.addview){e.setState({aggregation_profile:{id:"",name:"",metric_operation:"",profile_operation:"",endpoint_group:"",metric_profile:{name:""},groups:[]},groupname:"",list_user_groups:t.userdetails.groups.aggregations,write_perm:t.userdetails.is_superuser||t.userdetails.groups.aggregations.length>0,list_id_metric_profiles:e.extractListOfMetricsProfiles(n),list_complete_metric_profiles:n,list_services:[],loading:!1})}else e.backend.fetchData("/api/v2/internal/aggregations/".concat(e.profile_name)).then((function(a){return Promise.all([e.webapi.fetchAggregationProfile(a.apiid)]).then((function(r){var o=mt(r,1)[0];return e.setState({aggregation_profile:o,groupname:a.groupname,list_user_groups:t.userdetails.groups.aggregations,write_perm:t.userdetails.is_superuser||t.userdetails.groups.aggregations.indexOf(a.groupname)>=0,list_id_metric_profiles:e.extractListOfMetricsProfiles(n),list_services:e.extractListOfServices(o.metric_profile,n),list_complete_metric_profiles:n,loading:!1})}))}))}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.aggregation_profile,n=t.list_id_metric_profiles,o=t.list_complete_metric_profiles,i=t.list_user_groups,l=t.groupname,c=t.list_services,s=t.write_perm,u=t.loading;if(u)return r.a.createElement(y.l,null);if(!u&&a&&a.metric_profile&&i&&this.token){var m=this.checkIfServiceMissingInMetricProfile(c,a.groups);return r.a.createElement(y.b,{resourcename:"aggregation profile",location:this.location,addview:this.addview,modal:!0,state:this.state,toggle:this.toggleAreYouSure,submitperm:s},r.a.createElement(E.d,{initialValues:{id:a.id,name:a.name,groupname:l,metric_operation:a.metric_operation,profile_operation:a.profile_operation,metric_profile:a.metric_profile.name,endpoint_group:a.endpoint_group,groups:this.insertDummyGroup(this.insertEmptyServiceForNoServices(a.groups))},onSubmit:function(t,a){return e.onSubmitHandle(t,a)},render:function(t){return r.a.createElement(E.c,null,r.a.createElement(st,{onChange:function(t,a){if(t.values.metric_profile!==a.values.metric_profile){var n={name:t.values.metric_profile};e.setState({list_services:e.extractListOfServices(n,o)})}}}),m&&r.a.createElement(_.a,{color:"danger"},r.a.createElement("center",null,r.a.createElement(T.a,{icon:j.i,size:"lg",color:"black"}),"   Some Service Flavours used in Aggregation profile are not presented in associated Metric profile meaning that two profiles are out of sync. Check below for Service Flavours in red borders.")),r.a.createElement(Pt,bt({},t,{list_user_groups:i,logic_operations:e.logic_operations,endpoint_groups:e.endpoint_groups,list_id_metric_profiles:n})),r.a.createElement(E.b,{name:"groups",render:function(t){return r.a.createElement(wt,bt({},t,{list_services:Dt(c,""),list_operations:Dt(e.logic_operations,""),last_service_operation:e.insertOperationFromPrevious,write_perm:s}))}}),s&&r.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},r.a.createElement(h.a,{color:"danger",onClick:function(){e.toggleAreYouSureSetModal("Are you sure you want to delete Aggregation profile?","Delete aggregation profile",(function(){return e.doDelete(t.values.id)}))}},"Delete"),r.a.createElement(h.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}}))}return null}}]),t}(n.Component),It=function(e){function t(e){var a;return dt(this,t),(a=_t(this,ht(t).call(this,e))).state={loading:!1,list_aggregations:null},a.location=e.location,a.backend=new M.a,a}return Et(t,e),ft(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/aggregations").then((function(t){return e.setState({list_aggregations:t,loading:!1})}))}},{key:"render",value:function(){var e=[{Header:"Name",id:"name",accessor:function(e){return r.a.createElement(P.b,{to:"/ui/aggregationprofiles/"+e.name},e.name)}},{Header:"Group",accessor:"groupname",maxWidth:150}],t=this.state,a=t.loading,n=t.list_aggregations;return a?r.a.createElement(y.l,null):!a&&n?r.a.createElement(y.b,{resourcename:"aggregation profile",location:this.location,listview:!0},r.a.createElement(N.a,{data:n,columns:e,className:"-striped -highlight",defaultPageSize:12})):null}}]),t}(n.Component),Nt=function(e){for(var t=e.title,a=e.item1,n=e.item2,o=[],i=[],l=0;l<a.length;l++){for(var c=[],s=0;s<a[l].services.length;s++)c.push("{name: ".concat(a[l].services[s].name,", operation: ").concat(a[l].services[s].operation,"}"));o.push("name: ".concat(a[l].name,",\noperation: ").concat(a[l].operation,",\nservices: [\n").concat(c.join("\n"),"\n]"))}for(var u=0;u<n.length;u++){for(var m=[],d=0;d<n[u].services.length;d++)m.push("{name: ".concat(n[u].services[d].name,", operation: ").concat(n[u].services[d].operation,"}"));i.push("name: ".concat(n[u].name,",\noperation: ").concat(n[u].operation,",\nservices: [\n").concat(m.join("\n"),"\n]"))}return r.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},r.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},t),r.a.createElement(x.a,{oldValue:i.join("\n"),newValue:o.join("\n"),showDiffOnly:!0,splitView:!0,hideLineNumbers:!0}))},Tt=function(e){function t(e){var a;return dt(this,t),(a=_t(this,ht(t).call(this,e))).version1=e.match.params.id1,a.version2=e.match.params.id2,a.name=e.match.params.name,a.state={loading:!1,name1:"",groupname1:"",metric_operation1:"",profile_operation1:"",endpoint_group1:"",metric_profile1:"",groups1:[],name2:"",groupname2:"",metric_operation2:"",profile_operation2:"",endpoint_group2:"",metric_profile2:"",groups2:[]},a.backend=new M.a,a}return Et(t,e),ft(t,[{key:"componentDidMount",value:function(){var e=this;this.backend.fetchData("/api/v2/internal/tenantversion/aggregationprofile/".concat(this.name)).then((function(t){var a="",n="",r="",o="",i="",l="",c=[],s="",u="",m="",d="",p="",f="",_=[];t.forEach((function(t){t.version==e.version1?(a=t.fields.name,n=t.fields.groupname,r=t.fields.metric_operation,o=t.fields.profile_operation,i=t.fields.endpoint_group,l=t.fields.metric_profile,c=t.fields.groups):t.version==e.version2&&(s=t.fields.name,u=t.fields.groupname,m=t.fields.metric_operation,d=t.fields.profile_operation,p=t.fields.endpoint_group,f=t.fields.metric_profile,_=t.fields.groups)})),e.setState({name1:a,groupname1:n,metric_operation1:r,profile_operation1:o,endpoint_group1:i,metric_profile1:l,groups1:c,name2:s,groupname2:u,metric_operation2:m,profile_operation2:d,endpoint_group2:p,metric_profile2:f,groups2:_,loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.name1,a=e.name2,n=e.groupname1,o=e.groupname2,i=e.metric_operation1,l=e.metric_operation2,c=e.profile_operation1,s=e.profile_operation2,u=e.endpoint_group1,m=e.endpoint_group2,d=e.metric_profile1,p=e.metric_profile2,f=e.groups1,_=e.groups2,h=e.loading;return h?r.a.createElement(y.l,null):!h&&t&&a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},r.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Compare ".concat(this.name," versions"))),t!==a&&r.a.createElement(y.e,{title:"name",item1:t,item2:a}),n!==o&&r.a.createElement(y.e,{title:"group name",item1:n,item2:o}),i!==l&&r.a.createElement(y.e,{title:"metric operation",item1:i,item2:l}),c!==s&&r.a.createElement(y.e,{title:"aggregation operation",item1:c,item2:s}),u!==m&&r.a.createElement(y.e,{title:"endpoint group",item1:u,item2:m}),d!==p&&r.a.createElement(y.e,{title:"metric profile",item1:d,item2:p}),f!==_&&r.a.createElement(Nt,{title:"groups",item1:f,item2:_})):null}}]),t}(n.Component),jt=function(e){function t(e){var a;return dt(this,t),(a=_t(this,ht(t).call(this,e))).name=e.match.params.name,a.version=e.match.params.version,a.backend=new M.a,a.state={name:"",groupname:"",metric_operation:"",profile_operation:"",endpoint_group:"",metric_profile:"",groups:[],date_created:"",loading:!1},a}return Et(t,e),ft(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/tenantversion/aggregationprofile/".concat(this.name)).then((function(t){t.forEach((function(t){t.version==e.version&&e.setState({name:t.fields.name,groupname:t.fields.groupname,metric_operation:t.fields.metric_operation,profile_operation:t.fields.profile_operation,endpoint_group:t.fields.endpoint_group,metric_profile:t.fields.metric_profile,groups:t.fields.groups,date_created:t.date_created,loading:!1})}))}))}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.groupname,n=e.metric_operation,o=e.profile_operation,i=e.endpoint_group,l=e.metric_profile,p=e.groups,f=e.date_created,_=e.loading;return _?r.a.createElement(y.l,null):!_&&t?r.a.createElement(y.b,{resourcename:"".concat(t," (").concat(f,")"),infoview:!0},r.a.createElement(E.d,{initialValues:{name:t,groupname:a,metric_operation:n,profile_operation:o,endpoint_group:i,metric_profile:l,groups:p},render:function(e){return r.a.createElement(E.c,null,r.a.createElement(Pt,bt({},e,{historyview:!0})),r.a.createElement(E.b,{name:"groups",render:function(t){return r.a.createElement(c.a,{className:"groups"},e.values.groups.map((function(t,a){return r.a.createElement(E.b,{key:a,name:"groups",render:function(n){return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement(s.a,{sm:{size:8},md:{size:5},className:"mt-4 mb-2"},r.a.createElement(u.a,null,r.a.createElement(m.a,{className:"p-1",color:"primary"},r.a.createElement(c.a,{className:"d-flex align-items-center no-gutters"},r.a.createElement(s.a,{sm:{size:10},md:{size:11}},p[a].name))),r.a.createElement(d.a,{className:"p-1"},t.services.map((function(e,t){return r.a.createElement(E.b,{key:t,name:"groups.".concat(a,".services"),render:function(e){return r.a.createElement(c.a,{className:"d-flex align-items-center service pt-1 pb-1 no-gutters",key:t},r.a.createElement(s.a,{md:8},p[a].services[t].name),r.a.createElement(s.a,{md:2},p[a].services[t].operation))}})}))),r.a.createElement(g.a,{className:"p-1 d-flex justify-content-center"},p[a].operation))),r.a.createElement(s.a,{sm:{size:4},md:{size:1},className:"mt-5"},r.a.createElement("div",{className:"group-operation",key:a},e.values.profile_operation)))}})})))}}))}})):null}}]),t}(n.Component),Lt=function(e){return r.a.createElement("div",null,'"I\'m Reports"')};a("b4bE");function xt(e){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ut(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Rt(e,t){return!t||"object"!==xt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wt(e){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bt(e,t){return(Bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Kt=function(e){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=Rt(this,Wt(t).call(this,e))).state={loading:!1,rows:null,rowspan:null},a.backend=new M.a,a}var a,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bt(e,t)}(t,e),a=t,(n=[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/services").then((function(t){return e.setState({rows:t.result.rows,rowspan:t.result.rowspan,loading:!1})}))}},{key:"getRowSpan",value:function(e,t){var a=e.filter((function(e){return e[0]===t}));return a.length?a[0][1]:1}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.rows,o=t.rowspan;return a?r.a.createElement(y.l,null):!a&&n?r.a.createElement(y.b,{resourcename:"Services and probes",infoview:!0},r.a.createElement("table",{className:"table table-bordered table-sm"},r.a.createElement("thead",{className:"table-active"},r.a.createElement("tr",null,r.a.createElement("th",{id:"argo-th",scope:"col"},"Service category"),r.a.createElement("th",{id:"argo-th",scope:"col"},"Service name"),r.a.createElement("th",{id:"argo-th",scope:"col"},r.a.createElement(y.k,{i:"serviceflavour"})," Service type"),r.a.createElement("th",{id:"argo-th",scope:"col"},r.a.createElement(y.k,{i:"metrics"})," Metric"),r.a.createElement("th",{id:"argo-th",scope:"col"},r.a.createElement(y.k,{i:"probes"})," Probe"))),r.a.createElement("tbody",null,n.map((function(t,a){return r.a.createElement("tr",{key:a},t.service_category&&r.a.createElement("td",{id:"argo-td",className:"table-light",rowSpan:e.getRowSpan(o.service_category,t.service_category)},t.service_category),t.service_name&&r.a.createElement("td",{id:"argo-td",className:"table-light",rowSpan:e.getRowSpan(o.service_name,t.service_name)},t.service_name),t.service_type&&r.a.createElement("td",{id:"argo-td",className:"table-light",rowSpan:e.getRowSpan(o.service_type,t.service_type)},r.a.createElement(y.k,{i:"serviceflavour"})," ",t.service_type),t.metric&&r.a.createElement("td",{id:"argo-td",className:"table-light",rowSpan:e.getRowSpan(o.metric,t.metric)},r.a.createElement(y.k,{i:"metrics"})," ",r.a.createElement(P.b,{to:"/ui/metrics/"+t.metric},t.metric)),t.probe&&r.a.createElement("td",{id:"argo-td",className:"table-light",rowSpan:e.getRowSpan(o.probe,t.probe)},r.a.createElement(y.k,{i:"probes"})," ",r.a.createElement(Te.i,{probeversion:t.probe})))}))))):null}}])&&Ut(a.prototype,n),o&&Ut(a,o),t}(n.Component);a("QjdQ");function zt(e){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yt(){return(Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Qt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ht(e,t,a){return t&&Vt(e.prototype,t),a&&Vt(e,a),e}function qt(e,t){return!t||"object"!==zt(t)&&"function"!=typeof t?Gt(e):t}function Gt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zt(e){return(Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xt(e,t)}function Xt(e,t){return(Xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $t=ue.object().shape({username:ue.string().max(30,"Username must be 30 characters or fewer.").matches(/^[A-Za-z0-9@.+\-_]*$/,"Letters, numbers and @/./+/-/_ characters").required("Required"),addview:ue.boolean(),password:ue.string().when("addview",{is:!0,then:ue.string().required("Required").min(8,"Your password must contain at least 8 characters.").matches(/^\d*[a-zA-Z][a-zA-Z\d]*$/,"Your password cannot be entirely numeric.")}),confirm_password:ue.string().when("addview",{is:!0,then:ue.string().required("Required").oneOf([ue.ref("password"),null],"Passwords do not match!")}),email:ue.string().email("Enter valid email.").required("Required")}),ea=ra(!0),ta=ra(),aa=function(e){var t=e.add,a=e.errors;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(p.a,null,r.a.createElement(c.a,null,r.a.createElement(s.a,{md:6},r.a.createElement(ie.a,null,r.a.createElement(le.a,{addonType:"prepend"},"Username"),r.a.createElement(E.a,{type:"text",name:"username",className:"form-control ".concat(a.username&&"border-danger"),id:"userUsername"})),a.username&&Object(y.h)(a.username))),r.a.createElement(c.a,null,r.a.createElement(s.a,{md:6},r.a.createElement(ie.a,null,r.a.createElement(le.a,{addonType:"prepend"},"Password"),r.a.createElement(E.a,{type:"password",name:"password",className:"form-control ".concat(a.password&&"border-danger"),id:"password"})),a.password&&Object(y.h)(a.password))),r.a.createElement(c.a,null,r.a.createElement(s.a,{md:6},r.a.createElement(ie.a,null,r.a.createElement(le.a,{addonType:"prepend"},"Confirm password"),r.a.createElement(E.a,{type:"password",name:"confirm_password",className:"form-control ".concat(a.confirm_password&&"border-danger"),id:"confirm_password"})),a.confirm_password&&Object(y.h)(a.confirm_password)))):r.a.createElement(p.a,null,r.a.createElement(c.a,null,r.a.createElement(s.a,{md:6},r.a.createElement(ie.a,null,r.a.createElement(le.a,{addonType:"prepend"},"Username"),r.a.createElement(E.a,{type:"text",name:"username",className:"form-control",id:"userUsername"})),a.username&&Object(y.h)(a.username)))),r.a.createElement(p.a,null,r.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Personal info"),r.a.createElement(c.a,null,r.a.createElement(s.a,{md:6},r.a.createElement(ie.a,null,r.a.createElement(le.a,{addonType:"prepend"},"First name"),r.a.createElement(E.a,{type:"text",name:"first_name",className:"form-control",id:"userFirstName"})))),r.a.createElement(c.a,null,r.a.createElement(s.a,{md:6},r.a.createElement(ie.a,null,r.a.createElement(le.a,{addonType:"prepend"},"Last name"),r.a.createElement(E.a,{type:"text",name:"last_name",className:"form-control",id:"userLastName"})))),r.a.createElement(c.a,null,r.a.createElement(s.a,{md:6},r.a.createElement(ie.a,null,r.a.createElement(le.a,{addonType:"prepend"},"Email"),r.a.createElement(E.a,{type:"text",name:"email",className:"form-control ".concat(a.email&&"border-danger"),id:"userEmail"})),a.email&&Object(y.h)(a.email)))),r.a.createElement(p.a,null,r.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Permissions"),r.a.createElement(c.a,null,r.a.createElement(s.a,{md:6},r.a.createElement(E.a,{component:y.c,name:"is_superuser",className:"form-control",id:"checkbox",label:"Superuser status"}),r.a.createElement(ce.a,{color:"muted"},"Designates that this user has all permissions without explicitly assigning them."))),r.a.createElement(c.a,null,r.a.createElement(s.a,{md:6},r.a.createElement(E.a,{component:y.c,name:"is_staff",className:"form-control",id:"checkbox",label:"Staff status"}),r.a.createElement(ce.a,{color:"muted"},"Designates whether the user can log into this admin site."))),r.a.createElement(c.a,null,r.a.createElement(s.a,{md:6},r.a.createElement(E.a,{component:y.c,name:"is_active",className:"form-control",id:"checkbox",label:"Active"}),r.a.createElement(ce.a,{color:"muted"},"Designates whether this user should be treated as active. Unselect this instead of deleting accounts.")))))},na=function(e){function t(e){var a;return Ft(this,t),(a=qt(this,Zt(t).call(this,e))).state={loading:!1,list_users:null},a.location=e.location,a.backend=new M.a,a}return Jt(t,e),Ht(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/users").then((function(t){return e.setState({list_users:t,loading:!1})}))}},{key:"render",value:function(){var e=[{Header:"Username",id:"username",accessor:function(e){return r.a.createElement(P.b,{to:"/ui/administration/users/"+e.username},e.username)}},{Header:"First name",accessor:"first_name",Cell:function(e){return r.a.createElement("div",{style:{textAlign:"center"}},e.value)}},{Header:"Last name",accessor:"last_name",Cell:function(e){return r.a.createElement("div",{style:{textAlign:"center"}},e.value)}},{Header:"Email address",accessor:"email",Cell:function(e){return r.a.createElement("div",{style:{textAlign:"center"}},e.value)}},{id:"is_superuser",Header:"Superuser status",Cell:function(e){return r.a.createElement("div",{style:{textAlign:"center"}},e.value)},accessor:function(e){return e.is_superuser?r.a.createElement(T.a,{icon:j.c,style:{color:"#339900"}}):r.a.createElement(T.a,{icon:j.t,style:{color:"#CC0000"}})}},{Header:"Staff status",id:"is_staff",Cell:function(e){return r.a.createElement("div",{style:{textAlign:"center"}},e.value)},accessor:function(e){return e.is_staff?r.a.createElement(T.a,{icon:j.c,style:{color:"#339900"}}):r.a.createElement(T.a,{icon:j.t,style:{color:"#CC0000"}})}}],t=this.state,a=t.loading,n=t.list_users;return a?r.a.createElement(y.l,null):!a&&n?r.a.createElement(y.b,{resourcename:"users",location:this.location,listview:!0},r.a.createElement(N.a,{data:n,columns:e,className:"-striped -highlight",defaultPageSize:20})):null}}]),t}(n.Component);function ra(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(function(t){function a(e){var t;return Ft(this,a),(t=qt(this,Zt(a).call(this,e))).user_name=e.match.params.user_name,t.addview=e.addview,t.location=e.location,t.history=e.history,t.state={custuser:{pk:"",first_name:"",last_name:"",username:"",is_active:!0,is_superuser:!1,is_staff:!0,email:""},password:"",userprofile:{displayname:"",subject:"",egiid:""},usergroups:{aggregations:[],metrics:[],metricprofiles:[],thresholdsprofiles:[]},allgroups:{metrics:[],aggregations:[],metricprofiles:[],thresholdsprofiles:[]},loading:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},t.backend=new M.a,t.toggleAreYouSure=t.toggleAreYouSure.bind(Gt(t)),t.toggleAreYouSureSetModal=t.toggleAreYouSureSetModal.bind(Gt(t)),t.onSubmitHandle=t.onSubmitHandle.bind(Gt(t)),t.doChange=t.doChange.bind(Gt(t)),t.doDelete=t.doDelete.bind(Gt(t)),t}return Jt(a,t),Ht(a,[{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(n){return{areYouSureModal:!n.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSubmitHandle",value:function(e,t){var a=this,n=void 0,r=void 0;this.addview?(n="Are you sure you want to add user?",r="Add user"):(n="Are you sure you want to change user?",r="Change user"),this.toggleAreYouSureSetModal(n,r,(function(){return a.doChange(e,t)}))}},{key:"doChange",value:function(t,a){var n=this;this.addview?this.backend.addObject("/api/v2/internal/users/",{username:t.username,password:t.password,first_name:t.first_name,last_name:t.last_name,email:t.email,is_superuser:t.is_superuser,is_staff:t.is_staff,is_active:t.is_active}).then((function(a){a.ok?e?n.backend.addObject("/api/v2/internal/userprofile/",{username:t.username,displayname:t.displayname,subject:t.subject,egiid:t.egiid,groupsofaggregations:t.groupsofaggregations,groupsofmetrics:t.groupsofmetrics,groupsofmetricprofiles:t.groupsofmetricprofiles,groupsofthresholdsprofiles:t.groupsofthresholdsprofiles}).then((function(){return Object(y.o)({msg:"User successfully added",title:"Added",callback:function(){return n.history.push("/ui/administration/users")}})})):Object(y.o)({msg:"User successfully added",title:"Added",callback:function(){return n.history.push("/ui/administration/users")}}):a.json().then((function(e){se.NotificationManager.error(e.detail,"Error")}))})):this.backend.changeObject("/api/v2/internal/users/",{pk:t.pk,username:t.username,first_name:t.first_name,last_name:t.last_name,email:t.email,is_superuser:t.is_superuser,is_staff:t.is_staff,is_active:t.is_active}).then((function(a){a.ok?e?n.backend.changeObject("/api/v2/internal/userprofile/",{username:t.username,displayname:t.displayname,subject:t.subject,egiid:t.egiid,groupsofaggregations:t.groupsofaggregations,groupsofmetrics:t.groupsofmetrics,groupsofmetricprofiles:t.groupsofmetricprofiles,groupsofthresholdsprofiles:t.groupsofthresholdsprofiles}).then((function(){return Object(y.o)({msg:"User successfully changed",title:"Changed",callback:function(){return n.history.push("/ui/administration/users")}})})):Object(y.o)({msg:"User successfully changed",title:"Changed",callback:function(){return n.history.push("/ui/administration/users")}}):a.json().then((function(e){se.NotificationManager.error(e.detail,"Error")}))}))}},{key:"doDelete",value:function(e){var t=this;this.backend.deleteObject("/api/v2/internal/users/".concat(e)).then((function(){return Object(y.o)({msg:"User successfully deleted",title:"Deleted",callback:function(){return t.history.push("/ui/administration/users")}})}))}},{key:"componentDidMount",value:function(){var t=this;this.setState({loading:!0}),this.addview?e?this.backend.fetchResult("/api/v2/internal/usergroups").then((function(e){return t.setState({allgroups:e,loading:!1})})):this.setState({loading:!1}):e?Promise.all([this.backend.fetchData("/api/v2/internal/users/".concat(this.user_name)),this.backend.fetchData("/api/v2/internal/userprofile/".concat(this.user_name)),this.backend.fetchResult("/api/v2/internal/usergroups/".concat(this.user_name)),this.backend.fetchResult("/api/v2/internal/usergroups")]).then((function(e){var a=Qt(e,4),n=a[0],r=a[1],o=a[2],i=a[3];t.setState({custuser:n,userprofile:r,usergroups:o,allgroups:i,loading:!1})})):this.backend.fetchData("/api/v2/internal/users/".concat(this.user_name)).then((function(e){t.setState({custuser:e,loading:!1})}))}},{key:"render",value:function(){var t=this,a=this.state,n=a.custuser,o=a.userprofile,i=a.usergroups,l=a.allgroups,u=a.loading;return u?r.a.createElement(y.l,null):u?void 0:r.a.createElement(y.b,{resourcename:"users",location:this.location,addview:this.addview,history:!1,modal:!0,state:this.state,toggle:this.toggleAreYouSure},r.a.createElement(E.d,{initialValues:{addview:this.addview,pk:n.pk,first_name:n.first_name,last_name:n.last_name,username:n.username,password:"",confirm_password:"",is_active:n.is_active,is_superuser:n.is_superuser,is_staff:n.is_staff,email:n.email,groupsofaggregations:i.aggregations,groupsofmetrics:i.metrics,groupsofmetricprofiles:i.metricprofiles,groupsofthresholdsprofiles:i.thresholdsprofiles,displayname:o.displayname,subject:o.subject,egiid:o.egiid},validationSchema:$t,onSubmit:function(e,a){return t.onSubmitHandle(e,a)},render:function(a){return r.a.createElement(E.c,null,r.a.createElement(aa,Yt({},a,{add:t.addview})),e&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null,r.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"POEM user permissions"),r.a.createElement(c.a,null,r.a.createElement(s.a,{md:6},r.a.createElement(f.a,{for:"groupsofmetrics",className:"grouplabel"},"Groups of metrics"),r.a.createElement(E.a,{component:"select",name:"groupsofmetrics",id:"select-field",onChange:function(e){return a.setFieldValue("groupsofmetrics",[].slice.call(e.target.selectedOptions).map((function(e){return e.value})))},multiple:!0},l.metrics.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement(ce.a,{color:"muted"},'The groups of metrics that user will control. Hold down "Control" or "Command" on a Mac to select more than one.'))),r.a.createElement(c.a,null,r.a.createElement(s.a,{md:6},r.a.createElement(f.a,{for:"groupsofmetricprofiles",className:"grouplabel"},"Groups of metric profiles"),r.a.createElement(E.a,{component:"select",name:"groupsofmetricprofiles",id:"select-field",onChange:function(e){return a.setFieldValue("groupsofmetricprofiles",[].slice.call(e.target.selectedOptions).map((function(e){return e.value})))},multiple:!0},l.metricprofiles.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement(ce.a,{color:"muted"},'The groups of metric profiles that user will control. Hold down "Control" or "Command" on a Mac to select more than one.'))),r.a.createElement(c.a,null,r.a.createElement(s.a,{md:6},r.a.createElement(f.a,{for:"groupsofaggregations",className:"grouplabel"},"Groups of aggregations"),r.a.createElement(E.a,{component:"select",name:"groupsofaggregations",id:"select-field",onChange:function(e){return a.setFieldValue("groupsofaggregations",[].slice.call(e.target.selectedOptions).map((function(e){return e.value})))},multiple:!0},l.aggregations.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement(ce.a,{color:"muted"},'The groups of aggregations that user will control. Hold down "Control" or "Command" on a Mac to select more than one.'))),r.a.createElement(c.a,null,r.a.createElement(s.a,{md:6},r.a.createElement(f.a,{for:"groupsofthresholdsprofiles",className:"grouplabel"},"Groups of thresholds profiles"),r.a.createElement(E.a,{component:"select",name:"groupsofthresholdsprofiles",id:"select-field",onChange:function(e){return a.setFieldValue("groupsofthresholdsprofiles",[].slice.call(e.target.selectedOptions).map((function(e){return e.value})))},multiple:!0},l.thresholdsprofiles.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement(ce.a,{color:"muted"},'The groups of thresholds profiles that user will control. Hold down "Control" or "Command" on a Mac to select more than one.')))),r.a.createElement(p.a,null,r.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Additional information"),r.a.createElement(c.a,null,r.a.createElement(s.a,{md:12},r.a.createElement(ie.a,null,r.a.createElement(le.a,{addonType:"prepend"},"distinguishedName"),r.a.createElement(E.a,{type:"text",name:"subject",required:!1,className:"form-control",id:"distinguishedname"}))))),r.a.createElement(p.a,null,r.a.createElement(c.a,null,r.a.createElement(s.a,{md:8},r.a.createElement(ie.a,null,r.a.createElement(le.a,{addonType:"prepend"},"eduPersonUniqueId"),r.a.createElement(E.a,{type:"text",name:"egiid",required:!1,className:"form-control",id:"eduid"}))))),r.a.createElement(p.a,null,r.a.createElement(c.a,null,r.a.createElement(s.a,{md:6},r.a.createElement(ie.a,null,r.a.createElement(le.a,{addonType:"prepend"},"displayName"),r.a.createElement(E.a,{type:"text",name:"displayname",required:!1,className:"form-control",id:"displayname"})))))),r.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},t.addview?r.a.createElement("div",null):r.a.createElement(h.a,{color:"danger",onClick:function(){t.toggleAreYouSureSetModal("Are you sure you want to delete User?","Delete user",(function(){return t.doDelete(a.values.username)}))}},"Delete"),r.a.createElement(h.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}}))}}]),a}(n.Component))}var oa=a("csno");function ia(e){return(ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function la(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ca(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sa(e,t,a){return t&&ca(e.prototype,t),a&&ca(e,a),e}function ua(e,t){return!t||"object"!==ia(t)&&"function"!=typeof t?ma(e):t}function ma(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function da(e){return(da=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pa(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fa(e,t)}function fa(e,t){return(fa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _a=Oa("metrics","groupofmetrics","group of metrics"),ha=Da("metrics","groupofmetrics","metrics"),ga=Oa("aggregations","groupofaggregations","group of aggregations"),Ea=Da("aggregations","groupofaggregations","aggregations"),va=Oa("metricprofiles","groupofmetricprofiles","group of metric profiles"),ba=Da("metricprofiles","groupofmetricprofiles","metric profiles"),ya=Oa("thresholdsprofiles","groupofthresholdsprofiles","group of thresholds profiles"),Ma=Da("thresholdsprofiles","groupofthresholdsprofiles","thresholds profiles");function Oa(e,t,a){return function(n){function o(e){var t;return la(this,o),(t=ua(this,da(o).call(this,e))).state={loading:!1,list_groups:null},t.location=e.location,t.backend=new M.a,t}return pa(o,n),sa(o,[{key:"componentDidMount",value:function(){var t=this;this.setState({loading:!0}),this.backend.fetchResult("/api/v2/internal/usergroups").then((function(a){return t.setState({list_groups:a[e],loading:!1})}))}},{key:"render",value:function(){var e=[{Header:a.charAt(0).toUpperCase()+a.slice(1),id:t,accessor:function(e){return r.a.createElement(P.b,{to:"/ui/administration/".concat(t,"/").concat(e)},e)}}],n=this.state,o=n.loading,i=n.list_groups;return o?r.a.createElement(y.l,null):!o&&i?r.a.createElement(y.b,{resourcename:a,location:this.location,listview:!0},r.a.createElement(N.a,{data:i,columns:e,className:"-striped -highlight",defaultPageSize:12})):null}}]),o}(n.Component)}function Da(e,t,a){return function(n){function o(e){var t;return la(this,o),(t=ua(this,da(o).call(this,e))).group=e.match.params.group,t.addview=e.addview,t.location=e.location,t.history=e.history,t.state={name:"",items:[],nogroupitems:[],loading:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},t.backend=new M.a,t.handleDeselect=t.handleDeselect.bind(ma(t)),t.handleSelect=t.handleSelect.bind(ma(t)),t.toggleAreYouSure=t.toggleAreYouSure.bind(ma(t)),t.toggleAreYouSureSetModal=t.toggleAreYouSureSetModal.bind(ma(t)),t.onSubmitHandle=t.onSubmitHandle.bind(ma(t)),t.doChange=t.doChange.bind(ma(t)),t.doDelete=t.doDelete.bind(ma(t)),t}return pa(o,n),sa(o,[{key:"handleDeselect",value:function(e){var t=this.state.items.slice(),a=this.state.nogroupitems.slice();e.forEach((function(e){t.splice(t.indexOf(e),1)})),e.forEach((function(e){-1===a.indexOf(e)&&a.push(e)})),this.setState({items:t,nogroupitems:a})}},{key:"handleSelect",value:function(e){e.sort((function(e,t){return e.id-t.id})),this.setState({items:e})}},{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(n){return{areYouSureModal:!n.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSubmitHandle",value:function(e,t){var n=this,r=void 0,o=void 0;this.addview?(r="Are you sure you want to add group of ".concat(a,"?"),o="Add group of ".concat(a)):(r="Are you sure you want to change group of ".concat(a,"?"),o="Change group of ".concat(a)),this.toggleAreYouSureSetModal(r,o,(function(){return n.doChange(e,t)}))}},{key:"doChange",value:function(n,r){var o=this,i=[];this.state.items.forEach((function(e){return i.push(e.name)})),this.addview?this.backend.addObject("/api/v2/internal/".concat(e,"group/"),{name:n.name,items:i}).then((function(){return Object(y.o)({msg:"Group of ".concat(a," successfully added"),title:"Added",callback:function(){return o.history.push("/ui/administration/".concat(t))}})})).catch((function(e){return alert("Something went wrong: ".concat(e))})):this.backend.changeObject("/api/v2/internal/".concat(e,"group/"),{name:n.name,items:i}).then((function(){return Object(y.o)({msg:"Group of ".concat(a," successfully changed"),title:"Changed",callback:function(){return o.history.push("/ui/administration/".concat(t))}})})).catch((function(e){return alert("Something went wrong: ".concat(e))}))}},{key:"doDelete",value:function(n){var r=this;this.backend.deleteObject("/api/v2/internal/".concat(e,"group/").concat(n)).then((function(){return Object(y.o)({msg:"Group of ".concat(a," successfully deleted"),title:"Deleted",callback:function(){return r.history.push("/ui/administration/".concat(t))}})})).catch((function(e){return alert("Something went wrong: ".concat(e))}))}},{key:"componentDidMount",value:function(){var t=this;this.setState({loading:!0}),this.backend.fetchResult("/api/v2/internal/".concat(e,"group")).then((function(a){t.addview?t.setState({name:"",items:[],nogroupitems:a,loading:!1}):t.backend.fetchResult("/api/v2/internal/".concat(e,"group/").concat(t.group)).then((function(e){return t.setState({name:t.group,items:e,nogroupitems:a,loading:!1})}))}))}},{key:"render",value:function(){var t=this,n=this.state,o=n.name,i=n.items,l=n.loading,u=this.state.nogroupitems,m={filter:"form-control",select:"form-control",button:"btn btn btn-block btn-primary",buttonActive:"btn btn btn-block btn-primary"};return l?r.a.createElement(y.l,null):l?void 0:r.a.createElement(y.b,{resourcename:"group of ".concat(a),location:this.location,addview:this.addview,history:!1,modal:!0,state:this.state,toggle:this.toggleAreYouSure},r.a.createElement(E.d,{initialValues:{name:o,items:i},onSubmit:function(e,a){return t.onSubmitHandle(e,a)},render:function(n){return r.a.createElement(E.c,null,r.a.createElement(p.a,null,r.a.createElement(c.a,null,r.a.createElement(s.a,{md:6},r.a.createElement(f.a,{for:"groupname"},"Name"),r.a.createElement(E.a,{type:"text",name:"name",required:!0,className:"form-control",id:"groupname",disabled:!t.addview})))),r.a.createElement(p.a,null,r.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},a),r.a.createElement(c.a,null,r.a.createElement(s.a,{md:5},r.a.createElement(oa.a,{buttonText:"Add",classNames:m,onChange:t.handleSelect,options:u,selectedOptions:i,size:15,textProp:"name",valueProp:"id"})),r.a.createElement(s.a,{md:5},r.a.createElement(oa.a,{buttonText:"Remove",classNames:{filter:"form-control",select:"form-control",button:"btn btn btn-block btn-danger",buttonActive:"btn btn btn-block btn-danger"},onChange:t.handleDeselect,options:i,size:15,textProp:"name",valueProp:"id"})))),r.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},t.addview?r.a.createElement("div",null):r.a.createElement(h.a,{color:"danger",onClick:function(){t.toggleAreYouSureSetModal("Are you sure you want to delete group of ".concat(e,"?"),"Delete group of ".concat(e),(function(){return t.doDelete(n.values.name)}))}},"Delete"),r.a.createElement(h.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}}))}}]),o}(n.Component)}var wa=a("Q4bY"),Aa=a("VtcC"),ka=a("p2VU");function Sa(e){return(Sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ca(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ia(e,t,a){return t&&Ca(e.prototype,t),a&&Ca(e,a),e}function Na(e,t){return!t||"object"!==Sa(t)&&"function"!=typeof t?Ta(e):t}function Ta(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ja(e){return(ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function La(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xa(e,t)}function xa(e,t){return(xa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ua=function(e){function t(e){var a;return Pa(this,t),(a=Na(this,ja(t).call(this,e))).location=e.location,a.state={list_keys:null,loading:!1},a.backend=new M.a,a}return La(t,e),Ia(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/apikeys").then((function(t){return e.setState({list_keys:t,loading:!1})}))}},{key:"render",value:function(){var e=[{Header:"Name",id:"name",accessor:function(e){return r.a.createElement(P.b,{to:"/ui/administration/apikey/"+e.name},e.name)}},{Header:"Created",accessor:"created"},{Header:"Revoked",id:"revoked",Cell:function(e){return r.a.createElement("div",{style:{textAlign:"center"}},e.value)},accessor:function(e){return e.revoked?r.a.createElement(T.a,{icon:j.c,style:{color:"#339900"}}):r.a.createElement(T.a,{icon:j.t,style:{color:"#CC0000"}})}}],t=this.state,a=t.loading,n=t.list_keys;return a?r.a.createElement(y.l,null):!a&&n?r.a.createElement(y.b,{resourcename:"API key",location:this.location,listview:!0},r.a.createElement(N.a,{data:n,columns:e,className:"-striped -highlight",defaultPageSize:5})):null}}]),t}(n.Component),Ra=function(e){function t(e){var a;return Pa(this,t),(a=Na(this,ja(t).call(this,e))).name=e.match.params.name,a.location=e.location,a.addview=e.addview,a.history=e.history,a.state={key:{},loading:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},a.backend=new M.a,a.toggleAreYouSure=a.toggleAreYouSure.bind(Ta(a)),a.toggleAreYouSureSetModal=a.toggleAreYouSureSetModal.bind(Ta(a)),a.onSubmitHandle=a.onSubmitHandle.bind(Ta(a)),a.doChange=a.doChange.bind(Ta(a)),a.doDelete=a.doDelete.bind(Ta(a)),a}return La(t,e),Ia(t,[{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(n){return{areYouSureModal:!n.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSubmitHandle",value:function(e,t){var a=this,n=void 0,r=void 0;this.addview?(n="Are you sure you want to add API key?",r="Add API key"):(n="Are you sure you want to change API key?",r="Change API key"),this.toggleAreYouSureSetModal(n,r,(function(){return a.doChange(e,t)}))}},{key:"doChange",value:function(e,t){var a=this;this.addview?this.backend.addObject("/api/v2/internal/apikeys/",{name:e.name}).then((function(e){return e.ok?Object(y.o)({msg:"API key successfully added",title:"Added",callback:function(){return a.history.push("/ui/administration/apikey")}}):alert("Something went wrong: "+e.statusText)})):this.backend.changeObject("/api/v2/internal/apikeys/",{id:this.state.key.id,revoked:e.revoked,name:e.name}).then((function(e){return e.ok?Object(y.o)({msg:"API key successfully changed",title:"Changed",callback:function(){return a.history.push("/ui/administration/apikey")}}):alert("Something went wrong: "+e.statusText)}))}},{key:"doDelete",value:function(e){var t=this;this.backend.deleteObject("/api/v2/internal/apikeys/".concat(e)).then((function(e){return e.ok?Object(y.o)({msg:"API key successfully deleted",title:"Deleted",callback:function(){return t.history.push("/ui/administration/apikey")}}):alert("Something went wrong: "+e.statusText)}))}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.addview?this.setState({key:{name:"",revoked:!1,token:""},loading:!1}):this.backend.fetchData("/api/v2/internal/apikeys/".concat(this.name)).then((function(t){return e.setState({key:t,loading:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.key,n=t.loading;return n?r.a.createElement(y.l,null):!n&&a?r.a.createElement(y.b,{resourcename:"API key",location:this.location,addview:this.addview,history:!1,modal:!0,state:this.state,toggle:this.toggleAreYouSure},r.a.createElement(E.d,{initialValues:{name:a.name,revoked:a.revoked,token:a.token},onSubmit:function(t,a){return e.onSubmitHandle(t,a)},render:function(t){return r.a.createElement(E.c,null,r.a.createElement(p.a,null,r.a.createElement(c.a,null,r.a.createElement(s.a,{md:6},r.a.createElement(f.a,{for:"name"},"Name"),r.a.createElement(E.a,{type:"text",name:"name",id:"name",required:!0,className:"form-control"}),r.a.createElement(ce.a,{color:"muted"},"A free-form unique identifier of the client. 50 characters max."))),r.a.createElement(c.a,{className:"mt-2"},r.a.createElement(s.a,{md:6},r.a.createElement(E.a,{component:y.c,name:"revoked",className:"form-control",id:"checkbox",label:"Revoked"}),r.a.createElement(ce.a,{color:"muted"},"If the API key is revoked, clients cannot use it any more. (This cannot be undone.)")))),r.a.createElement(p.a,null,r.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Credentials"),r.a.createElement(c.a,null,r.a.createElement(s.a,{sm:6},r.a.createElement(ie.a,null,r.a.createElement(le.a,{addonType:"prepend"},"Token"),r.a.createElement(E.a,{type:"text",name:"token",id:"token",readOnly:!0,className:"form-control"})),r.a.createElement(ce.a,{color:"muted"},"A public, unique identifier for this API key."))),e.addview&&r.a.createElement(wa.a,{className:"mt-3"},r.a.createElement(Aa.a,{icon:"info"},"Info"),r.a.createElement(ka.a,null,"Token will be generated when clicking save."))),r.a.createElement("div",{className:e.addview?"submit-row d-flex align-items-center justify-content-end bg-light p-3 mt-5":"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},!e.addview&&r.a.createElement(h.a,{color:"danger",onClick:function(){e.toggleAreYouSureSetModal("Are you sure you want to delete API key?","Delete API key",(function(){return e.doDelete(t.values.name)}))}},"Delete"),r.a.createElement(h.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):void 0}}]),t}(n.Component),Wa=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Not found"))},Ba=a("Ty5D");function Ka(e){return(Ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function za(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ya(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qa(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fa(e,t,a){return t&&Qa(e.prototype,t),a&&Qa(e,a),e}function Va(e,t){return!t||"object"!==Ka(t)&&"function"!=typeof t?Ha(e):t}function Ha(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qa(e){return(qa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ga(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Za(e,t)}function Za(e,t){return(Za=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ja=ue.object().shape({name:ue.string().matches(/^\S*$/,"Name cannot contain white spaces").required("Required"),content:ue.string().required("Required"),description:ue.string().required("Required")}),Xa=function(e){function t(e){var a;return Ya(this,t),(a=Va(this,qa(t).call(this,e))).location=e.location,a.state={loading:!1,list_repos:null,list_tags:null,isTenantSchema:null,search_name:"",search_description:"",search_tag:""},a.backend=new M.a,a}return Ga(t,e),Fa(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),Promise.all([this.backend.fetchData("/api/v2/internal/yumrepos"),this.backend.fetchData("/api/v2/internal/ostags"),this.backend.isTenantSchema()]).then((function(t){var a=za(t,3),n=a[0],r=a[1],o=a[2];e.setState({list_repos:n,list_tags:r,isTenantSchema:o,loading:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.list_repos,n=t.isTenantSchema,o=t.loading,i=void 0;i=n?"/ui/administration/yumrepos/":"/ui/yumrepos/";var l=[{Header:"#",id:"row",minWidth:12,Cell:function(e){return r.a.createElement("div",{style:{textAlign:"center"}},e.index+1)}},{Header:"Name",id:"name",minWidth:80,accessor:function(e){return r.a.createElement(P.b,{to:i+e.name+"-"+e.tag.replace(/\s/g,"").toLowerCase()},"".concat(e.name," (").concat(e.tag,")"))},filterable:!0,Filter:r.a.createElement("input",{value:this.state.search_name,onChange:function(t){return e.setState({search_name:t.target.value})},placeholder:"Search by name",style:{width:"100%"}})},{Header:"Description",accessor:"description",filterable:!0,Filter:r.a.createElement("input",{type:"text",placeholder:"Search by description",value:this.state.search_description,onChange:function(t){return e.setState({search_description:t.target.value})},style:{width:"100%"}})},{Header:"Tag",accessor:"tag",Cell:function(e){return r.a.createElement("div",{style:{textAlign:"center"}},e.value)},filterable:!0,Filter:r.a.createElement(y.g,{value:this.state.tag,onChange:function(t){return e.setState({search_tag:t.target.value})},data:this.state.list_tags})}];return this.state.search_name&&(a=a.filter((function(t){return t.name.toLowerCase().includes(e.state.search_name.toLowerCase())}))),this.state.search_description&&(a=a.filter((function(t){return t.description.toLowerCase().includes(e.state.search_description.toLowerCase())}))),this.state.search_tag&&(a=a.filter((function(t){return t.tag.toLowerCase().includes(e.state.search_tag.toLowerCase())}))),o?r.a.createElement(y.l,null):!o&&a?r.a.createElement(y.b,{resourcename:"YUM repo",location:this.location,listview:!0,addnew:!n},r.a.createElement(N.a,{data:a,columns:l,className:"-striped -highlight",defaultPageSize:20})):null}}]),t}(n.Component),$a=function(e){function t(e){var a;return Ya(this,t),a=Va(this,qa(t).call(this,e)),e.match.params.name&&(a.tag=e.match.params.name.split("-")[e.match.params.name.split("-").length-1],a.name=e.match.params.name.replace("-"+a.tag,"")),a.addview=e.addview,a.disabled=e.disabled,a.location=e.location,a.history=e.history,a.backend=new M.a,a.state={repo:{id:"",name:"",tag:"CentOS 6",content:"",description:""},tagslist:[],loading:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},a.toggleAreYouSure=a.toggleAreYouSure.bind(Ha(a)),a.toggleAreYouSureSetModal=a.toggleAreYouSureSetModal.bind(Ha(a)),a.onSubmitHandle=a.onSubmitHandle.bind(Ha(a)),a.doChange=a.doChange.bind(Ha(a)),a.doDelete=a.doDelete.bind(Ha(a)),a}return Ga(t,e),Fa(t,[{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(n){return{areYouSureModal:!n.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSubmitHandle",value:function(e,t){var a=this,n=void 0,r=void 0;this.addview?(n="Are you sure you want to add YUM repo?",r="Add YUM repo"):(n="Are you sure you want to change YUM repo?",r="Change YUM repo"),this.toggleAreYouSureSetModal(n,r,(function(){return a.doChange(e,t)}))}},{key:"doChange",value:function(e,t){var a=this;this.addview?this.backend.addObject("/api/v2/internal/yumrepos/",{name:e.name,tag:e.tag,content:e.content,description:e.description}).then((function(e){e.ok?Object(y.o)({msg:"YUM repo successfully added",title:"Added",callback:function(){return a.history.push("/ui/yumrepos")}}):e.json().then((function(e){se.NotificationManager.error(e.detail,"Error")}))})):this.backend.changeObject("/api/v2/internal/yumrepos/",{id:e.id,name:e.name,tag:e.tag,content:e.content,description:e.description}).then((function(e){e.ok?Object(y.o)({msg:"YUM repo successfully changed",title:"Changed",callback:function(){return a.history.push("/ui/yumrepos")}}):e.json().then((function(e){se.NotificationManager.error(e.detail,"Error")}))}))}},{key:"doDelete",value:function(e,t){var a=this;this.backend.deleteObject("/api/v2/internal/yumrepos/".concat(e,"/").concat(t)).then((function(e){e.ok?Object(y.o)({msg:"YUM repo successfully deleted",title:"Deleted",callback:function(){return a.history.push("/ui/yumrepos")}}):e.json().then((function(e){se.NotificationManager.error(e.detail,"Error")}))}))}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/ostags").then((function(t){e.addview?e.setState({tagslist:t,loading:!1}):e.backend.fetchData("/api/v2/internal/yumrepos/".concat(e.name,"/").concat(e.tag)).then((function(a){e.setState({repo:a,tagslist:t,loading:!1})}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.repo,n=t.tagslist,o=t.loading;return o?r.a.createElement(y.l,null):!o&&a?r.a.createElement(y.b,{resourcename:"YUM repo",location:this.location,addview:this.addview,modal:!0,state:this.state,toggle:this.toggleAreYouSure,history:!1},r.a.createElement(E.d,{initialValues:{id:a.id,name:a.name,tag:a.tag,content:a.content,description:a.description},onSubmit:function(t,a){return e.onSubmitHandle(t,a)},validationSchema:Ja,render:function(t){return r.a.createElement(E.c,null,r.a.createElement(p.a,null,r.a.createElement(c.a,null,r.a.createElement(s.a,{md:6},r.a.createElement(ie.a,null,r.a.createElement(le.a,{addonType:"prepend"},"Name"),r.a.createElement(E.a,{type:"text",name:"name",className:"form-control ".concat(t.errors.name&&"border-danger"),id:"name",disabled:e.disabled})),t.errors.name&&Object(y.h)(t.errors.name),r.a.createElement(ce.a,{color:"muted"},"Name of YUM repo file.")),r.a.createElement(s.a,{md:2},r.a.createElement(ie.a,null,r.a.createElement(le.a,{addonType:"prepend"},"Tag"),e.disabled?r.a.createElement(E.a,{type:"text",name:"tag",className:"form-control",id:"tag",disabled:!0}):r.a.createElement(E.a,{component:"select",name:"tag",className:"form-control",id:"tag"},n.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)})))),r.a.createElement(ce.a,{color:"muted"},"OS tag.")))),r.a.createElement(p.a,null,r.a.createElement(c.a,null,r.a.createElement(s.a,{md:8},r.a.createElement(f.a,{for:"content"},"File content"),r.a.createElement(E.a,{component:"textarea",name:"content",rows:"20",className:"form-control ".concat(t.errors.content&&"border-danger"),id:"content",disabled:e.disabled}),t.errors.content&&Object(y.h)(t.errors.content),r.a.createElement(ce.a,{color:"muted"},"Content of the repo file.")))),r.a.createElement(p.a,null,r.a.createElement(c.a,null,r.a.createElement(s.a,{md:8},r.a.createElement(f.a,{for:"description"},"Description"),r.a.createElement(E.a,{component:"textarea",name:"description",rows:"5",className:"form-control ".concat(t.errors.description&&"border-danger"),id:"description",disabled:e.disabled}),t.errors.description&&Object(y.h)(t.errors.description),r.a.createElement(ce.a,{color:"muted"},"Short free text description.")))),!e.disabled&&r.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},e.addview?r.a.createElement("div",null):r.a.createElement(h.a,{color:"danger",onClick:function(){e.toggleAreYouSureSetModal("Are you sure you want to delete YUM repo?","Delete YUM repo",(function(){return e.doDelete(e.name,e.tag)}))}},"Delete"),r.a.createElement(h.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):null}}]),t}(n.Component),en=a("iqOp"),tn=a("glTy"),an=a("YGfb");function nn(e){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rn(){return(rn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function on(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ln(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cn(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sn(e,t,a){return t&&cn(e.prototype,t),a&&cn(e,a),e}function un(e,t){return!t||"object"!==nn(t)&&"function"!=typeof t?mn(e):t}function mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dn(e){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fn(e,t)}function fn(e,t){return(fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _n=Object(y.j)("thresholdsprofile"),hn=ue.object().shape({name:ue.string().required("Required"),groupname:ue.string().required("Required"),rules:ue.array().of(ue.object().shape({metric:ue.string().required("Required"),thresholds:ue.array().of(ue.object().shape({label:ue.string().matches(/^[a-zA-Z][A-Za-z0-9]*$/,"Label can contain alphanumeric characters, but must always begin with a letter.").required("Required"),value:ue.string().matches(/^([-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").required("Required"),warn1:ue.string().matches(/^[@]?(~|[-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").required("Required"),warn2:ue.string().matches(/^([-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").test("greater-than","Should be greater than lower warning limit",(function(e){var t="@"===this.parent.warn1.charAt(0)?this.parent.warn1.substr(1):this.parent.warn1;return!t||!e||("~"===t||(!(!isNaN(Number(t))&&!isNaN(Number(e)))||Number(t)<=Number(e)))})),crit1:ue.string().matches(/^[@]?(~|[-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").required("Required"),crit2:ue.string().matches(/^([-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").test("greater-than","Should be greater than lower critical limit",(function(e){var t="@"===this.parent.crit1.charAt(0)?this.parent.crit1.substr(1):this.parent.crit1;return!t||!e||("~"===t||(!(!isNaN(Number(t))&&!isNaN(Number(e)))||Number(t)<=Number(e)))})),min:ue.string().matches(/^([-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number."),max:ue.string().matches(/^([-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").test("greater-than-min","Should be greater than min value.",(function(e){var t=this.parent.min;return!t||(!(!isNaN(Number(t))&&!isNaN(Number(e)))||Number(t)<Number(e))}))}))}))});function gn(e){return e.forEach((function(e){var t=e.thresholds.split(" "),a=[];t.forEach((function(e){var t="",n="",r="",o="",i="",l="",c="",s="",u="",m=e.split("=");if(2===m.length){t=m[0];var d=m[1].split(";");if(d.length>0&&(r=function(e){return isNaN(e.charAt(e.length-1))?e.endsWith("us")?"us":e.endsWith("ms")?"ms":e.endsWith("s")?"s":e.endsWith("%")?"%":e.endsWith("KB")?"KB":e.endsWith("MB")?"MB":e.endsWith("TB")?"TB":e.endsWith("B")?"B":e.endsWith("c")?"c":void 0:""}(d[0]),n=d[0].replace(r,""),d.length>1))for(var p=1;p<d.length;p++)if(1===p){var f=d[p].split(":");f.length>1?(o=f[0],i=f[1]):(o="0",i=d[p])}else if(2===p){var _=d[p].split(":");_.length>1?(l=_[0],c=_[1]):(l="0",c=d[p])}else 3===p?s=d[p]:4===p&&(u=d[p])}a.push({label:t,value:n,uom:r,warn1:o,warn2:i,crit1:l,crit2:c,min:s,max:u})})),e.thresholds=a})),e}var En=function(e){var t=e.values,a=e.errors,n=e.setFieldValue,o=e.historyview,i=void 0!==o&&o,l=e.groups_list,f=void 0===l?void 0:l,_=e.metrics_list,v=void 0===_?void 0:_,b=e.write_perm,M=void 0!==b&&b,O=e.onSelect,D=e.state,w=e.toggleWarningPopOver,A=e.toggleCriticalPopOver;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.p,{values:t,errors:a,grouplist:f,fieldsdisable:i,profiletype:"thresholds"}),r.a.createElement(p.a,null,r.a.createElement("h4",{className:"mt-4 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Thresholds rules"),r.a.createElement(c.a,null,r.a.createElement(s.a,{md:12},r.a.createElement(E.b,{name:"rules",render:function(e){return r.a.createElement("div",null,t.rules&&t.rules.length>0?t.rules.map((function(o,l){return r.a.createElement(r.a.Fragment,{key:"fragment.rules.".concat(l)},r.a.createElement(u.a,{className:"mt-".concat(0===l?"1":"4")},r.a.createElement(m.a,{className:"p-1 font-weight-bold text-uppercase"},r.a.createElement("div",{className:"d-flex align-items-center justify-content-between no-gutters"},"Rule ",l+1,!i&&r.a.createElement(h.a,{size:"sm",color:"danger",type:"button",onClick:function(){return M&&e.remove(l)}},r.a.createElement(T.a,{icon:j.s})))),r.a.createElement(d.a,{className:"p-1"},r.a.createElement(c.a,{className:"d-flex align-items-center no-gutters"},r.a.createElement(s.a,{md:12},i?r.a.createElement(ie.a,null,r.a.createElement(le.a,{addonType:"prepend"},"Metric"),r.a.createElement(E.a,{name:"rules.".concat(l,".metric"),className:"form-control",disabled:!0})):r.a.createElement(y.a,{req:a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].metric,setFieldValue:n,lists:v,icon:"metrics",field:"rules[".concat(l,"].metric"),val:t.rules[l].metric,onselect_handler:O,label:"Metric"}),a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].metric&&Object(y.h)(a.rules[l].metric))),r.a.createElement(c.a,{className:"mt-2"},r.a.createElement(s.a,{md:12},r.a.createElement(ie.a,null,r.a.createElement(le.a,{addonType:"prepend"},"Host"),r.a.createElement(E.a,{name:"rules.".concat(l,".host"),className:"form-control",disabled:i})))),r.a.createElement(c.a,{className:"mt-2"},r.a.createElement(s.a,{md:12},r.a.createElement(ie.a,null,r.a.createElement(le.a,{addonType:"prepend"},"Endpoint group"),r.a.createElement(E.a,{name:"rules.".concat(l,".endpoint_group"),className:"form-control",disabled:i}))))),r.a.createElement(g.a,null,r.a.createElement(c.a,{className:"mt-2"},r.a.createElement(s.a,{md:12},r.a.createElement("h6",{className:"text-uppercase rounded"},"Thresholds"),r.a.createElement(E.b,{name:"rules.".concat(l,".thresholds"),render:function(e){return r.a.createElement("div",null,r.a.createElement("table",{className:"table table-bordered table-sm"},r.a.createElement("thead",{className:"table-active"},r.a.createElement("tr",{className:"align-middle text-center"},r.a.createElement("th",{style:{width:"4%"}},"#"),r.a.createElement("th",{style:{width:"13%"}},"Label"),r.a.createElement("th",{colSpan:2,style:{width:"13%"}},"Value"),i?r.a.createElement("th",{colSpan:3,style:{width:"13%"}},"Warning"):r.a.createElement("th",{colSpan:3,style:{width:"13%"}},"Warning ",r.a.createElement(T.a,{id:"warning-popover",icon:j.i,style:{color:"#416090"}}),r.a.createElement(en.a,{placement:"bottom",isOpen:D.popoverWarningOpen,target:"warning-popover",toggle:w,trigger:"hover"},r.a.createElement(tn.a,null,"Warning range"),r.a.createElement(an.a,null,r.a.createElement("p",null,"Defined in format: ",r.a.createElement("code",null,"@{floor}:{ceil}")),r.a.createElement("p",null,r.a.createElement("code",null,"@")," - optional - negates the range (value should belong outside limits)"),r.a.createElement("p",null,r.a.createElement("code",null,"{floor}"),": integer/float or ",r.a.createElement("code",null,"~")," that defines negative infinity"),r.a.createElement("p",null,r.a.createElement("code",null,"{ceil}"),": integer/float or empty (defines positive infinity)")))),i?r.a.createElement("th",{colSpan:3,style:{width:"13%"}},"Critical"):r.a.createElement("th",{colSpan:3,style:{width:"13%"}},"Critical ",r.a.createElement(T.a,{id:"critical-popover",icon:j.i,style:{color:"#416090"}}),r.a.createElement(en.a,{placement:"bottom",isOpen:D.popoverCriticalOpen,target:"critical-popover",toggle:A,trigger:"hover"},r.a.createElement(tn.a,null,"Critical range"),r.a.createElement(an.a,null,r.a.createElement("p",null,"Defined in format: ",r.a.createElement("code",null,"@{floor}:{ceil}")),r.a.createElement("p",null,r.a.createElement("code",null,"@")," - optional - negates the range (value should belong outside limits)"),r.a.createElement("p",null,r.a.createElement("code",null,"{floor}"),": integer/float or ",r.a.createElement("code",null,"~")," that defines negative infinity"),r.a.createElement("p",null,r.a.createElement("code",null,"{ceil}"),": integer/float or empty (defines positive infinity)")))),r.a.createElement("th",{style:{width:"12%"}},"min"),r.a.createElement("th",{style:{width:"12%"}},"max"),!i&&r.a.createElement("th",{style:{width:"8%"}},"Action"))),r.a.createElement("tbody",null,t.rules&&t.rules.length>l&&t.rules[l]&&t.rules[l].thresholds&&t.rules[l].thresholds.length>0?t.rules[l].thresholds.map((function(n,o){return r.a.createElement("tr",{key:"rule-".concat(l,"-threshold-").concat(o)},r.a.createElement("td",{className:"align-middle text-center"},o+1),r.a.createElement("td",null,i?t.rules[l].thresholds[o].label:r.a.createElement(E.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].label&&"border-danger"),name:"rules[".concat(l,"].thresholds[").concat(o,"].label"),id:"values.rules.".concat(l,".thresholds.").concat(o,".label")}),a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].label&&Object(y.h)(a.rules[l].thresholds[o].label)),r.a.createElement("td",null,i?t.rules[l].thresholds[o].value:r.a.createElement(E.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].value&&"border-danger"),name:"rules.".concat(l,".thresholds.").concat(o,".value"),id:"values.rules.".concat(l,".thresholds.").concat(o,".value")}),a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].value&&Object(y.h)(a.rules[l].thresholds[o].value)),r.a.createElement("td",{style:{width:"6%"}},i?t.rules[l].thresholds[o].uom:r.a.createElement(E.a,{component:"select",className:"form-control custom-select",name:"rules.".concat(l,".thresholds.").concat(o,".uom"),id:"values.rules.".concat(l,".thresholds.").concat(o,".uom")},r.a.createElement("option",{key:"option-0",value:""}),r.a.createElement("option",{key:"option-1",value:"s"},"s"),r.a.createElement("option",{key:"option-2",value:"us"},"us"),r.a.createElement("option",{key:"option-3",value:"ms"},"ms"),r.a.createElement("option",{key:"option-4",value:"B"},"B"),r.a.createElement("option",{key:"option-5",value:"KB"},"KB"),r.a.createElement("option",{key:"option-6",value:"MB"},"MB"),r.a.createElement("option",{key:"option-7",value:"TB"},"TB"),r.a.createElement("option",{key:"option-8",value:"%"},"%"),r.a.createElement("option",{key:"option-9",value:"c"},"c"))),r.a.createElement("td",null,i?t.rules[l].thresholds[o].warn1:r.a.createElement(E.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].warn1&&"border-danger"),name:"rules.".concat(l,".thresholds.").concat(o,".warn1"),id:"values.rules.".concat(l,".thresholds.").concat(o,".warn1")}),a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].warn1&&Object(y.h)(a.rules[l].thresholds[o].warn1)),r.a.createElement("td",null,":"),r.a.createElement("td",null,i?t.rules[l].thresholds[o].warn2:r.a.createElement(E.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].warn2&&"border-danger"),name:"rules.".concat(l,".thresholds.").concat(o,".warn2"),id:"values.rules.".concat(l,".thresholds.").concat(o,".warn2")}),a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].warn2&&Object(y.h)(a.rules[l].thresholds[o].warn2)),r.a.createElement("td",null,i?t.rules[l].thresholds[o].crit1:r.a.createElement(E.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].crit1&&"border-danger"),name:"rules.".concat(l,".thresholds.").concat(o,".crit1"),id:"values.rules.".concat(l,".thresholds.").concat(o,".crit1")}),a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].crit1&&Object(y.h)(a.rules[l].thresholds[o].crit1)),r.a.createElement("td",null,":"),r.a.createElement("td",null,i?t.rules[l].thresholds[o].crit2:r.a.createElement(E.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].crit2&&"border-danger"),name:"rules.".concat(l,".thresholds.").concat(o,".crit2"),id:"values.rules.".concat(l,".thresholds.").concat(o,".crit2")}),a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].crit2&&Object(y.h)(a.rules[l].thresholds[o].crit2)),r.a.createElement("td",null,i?t.rules[l].thresholds[o].min:r.a.createElement(E.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].min&&"border-danger"),name:"rules.".concat(l,".thresholds.").concat(o,".min"),id:"values.rules.".concat(l,".thresholds.").concat(o,".min")}),a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].min&&Object(y.h)(a.rules[l].thresholds[o].min)),r.a.createElement("td",null,i?t.rules[l].thresholds[o].max:r.a.createElement(E.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].max&&"border-danger"),name:"rules.".concat(l,".thresholds.").concat(o,".max"),id:"values.rules.".concat(l,".thresholds.").concat(o,".max")}),a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].max&&Object(y.h)(a.rules[l].thresholds[o].max)),!i&&r.a.createElement("td",{className:"align-middle d-flex justify-content-center align-items-center"},r.a.createElement(h.a,{size:"sm",color:"light",type:"button",onClick:function(){e.remove(o),1===t.rules[l].thresholds.length&&e.push({label:"",value:"",uom:"",warn1:"",warn2:"",crit1:"",crit2:"",min:"",max:""})}},r.a.createElement(T.a,{icon:j.s})),r.a.createElement(h.a,{size:"sm",color:"light",type:"button",onClick:function(){return e.push({label:"",value:"",uom:"",warn1:"",warn2:"",crit1:"",crit2:"",min:"",max:""})}},r.a.createElement(T.a,{icon:j.l}))))})):null)))}}))))),l+1===t.rules.length&&!i&&r.a.createElement(h.a,{color:"success",className:"mt-4",onClick:function(){return e.push({metric:"",thresholds:[{label:"",value:"",uom:"",warn1:"",warn2:"",crit1:"",crit2:"",min:"",max:""}],host:"",endpoint_group:""})}},"Add new rule"))})):!i&&r.a.createElement(h.a,{color:"success",onClick:function(){return e.push({metric:"",thresholds:[{label:"",value:"",uom:"",warn1:"",warn2:"",crit1:"",crit2:"",min:"",max:""}],host:"",endpoint_group:""})}},"Add a rule"))}})))))},vn=function(e){function t(e){var a;return ln(this,t),(a=un(this,dn(t).call(this,e))).location=e.location,a.backend=new M.a,a.state={loading:!1,list_thresholdsprofiles:null},a}return pn(t,e),sn(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/thresholdsprofiles").then((function(t){return e.setState({list_thresholdsprofiles:t,loading:!1})}))}},{key:"render",value:function(){var e=[{Header:"Name",id:"name",accessor:function(e){return r.a.createElement(P.b,{to:"/ui/thresholdsprofiles/"+e.name},e.name)}},{Header:"Group",accessor:"groupname",maxWidth:150}],t=this.state,a=t.loading,n=t.list_thresholdsprofiles;return a?r.a.createElement(y.l,null):!a&&n?r.a.createElement(y.b,{resourcename:"thresholds profile",location:this.location,listview:!0},r.a.createElement(N.a,{data:n,columns:e,className:"-striped -highlight",defaultPageSize:12})):null}}]),t}(n.Component),bn=function(e){function t(e){var a;return ln(this,t),(a=un(this,dn(t).call(this,e))).name=e.match.params.name,a.addview=e.addview,a.history=e.history,a.location=e.location,a.tenant_name=e.tenantname,a.webapithresholds=e.webapithresholds,a.token=e.webapitoken,a.backend=new M.a,a.webapi=new M.b({token:a.token,thresholdsProfiles:a.webapithresholds}),a.state={thresholds_profile:{apiid:"",name:"",groupname:""},thresholds_rules:[],groups_list:[],metrics_list:[],write_perm:!1,areYouSureModal:!1,loading:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0,popoverWarningOpen:!1,popoverCriticalOpen:!1},a.toggleAreYouSure=a.toggleAreYouSure.bind(mn(a)),a.toggleAreYouSureSetModal=a.toggleAreYouSureSetModal.bind(mn(a)),a.onSelect=a.onSelect.bind(mn(a)),a.toggleWarningPopOver=a.toggleWarningPopOver.bind(mn(a)),a.toggleCriticalPopOver=a.toggleCriticalPopOver.bind(mn(a)),a.thresholdsToString=a.thresholdsToString.bind(mn(a)),a.onSubmitHandle=a.onSubmitHandle.bind(mn(a)),a.doChange=a.doChange.bind(mn(a)),a.doDelete=a.doDelete.bind(mn(a)),a}return pn(t,e),sn(t,[{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(n){return{areYouSureModal:!n.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleWarningPopOver",value:function(){this.setState({popoverWarningOpen:!this.state.popoverWarningOpen})}},{key:"toggleCriticalPopOver",value:function(){this.setState({popoverCriticalOpen:!this.state.popoverCriticalOpen})}},{key:"onSelect",value:function(e,t){var a=this.state.thresholds_rules,n=e.split("[")[1].split("]")[0];a.length==n&&a.push({metric:"",thresholds:[],host:"",endpoint_group:""}),a[n].metric=t,this.setState({thresholds_rules:a})}},{key:"thresholdsToString",value:function(e){return e.forEach((function(e){var t=[];e.host||delete e.host,e.endpoint_group||delete e.endpoint_group,e.thresholds.forEach((function(e){var a=void 0;a=e.label+"="+e.value+e.uom+";"+e.warn1+":"+e.warn2+";"+e.crit1+":"+e.crit2,e.min&&e.max&&(a=a+";"+e.min+";"+e.max),t.push(a)}));var a=t.join(" ");e.thresholds=a})),e}},{key:"onSubmitHandle",value:function(e,t){var a=this,n=void 0,r=void 0;this.addview?(n="Are you sure you want to add thresholds profile?",r="Add thresholds profile"):(n="Are you sure you want to change thresholds profile?",r="Change thresholds profile"),this.toggleAreYouSureSetModal(n,r,(function(){return a.doChange(e,t)}))}},{key:"doChange",value:function(e,t){var a=this,n=JSON.parse(JSON.stringify(e));this.addview?this.webapi.addThresholdsProfile({name:n.name,rules:this.thresholdsToString(n.rules)}).then((function(t){t.ok?t.json().then((function(t){a.backend.addObject("/api/v2/internal/thresholdsprofiles/",{apiid:t.data.id,name:n.name,groupname:e.groupname,rules:n.rules}).then((function(){return Object(y.o)({msg:"Thresholds profile successfully added",title:"Added",callback:function(){return a.history.push("/ui/thresholdsprofiles")}})}))})):se.NotificationManager.error("Error: ".concat(t.status," ").concat(t.statusText),"Error adding thresholds profile")})):this.webapi.changeThresholdsProfile({id:n.id,name:n.name,rules:this.thresholdsToString(n.rules)}).then((function(t){t.ok?t.json().then((function(t){a.backend.changeObject("/api/v2/internal/thresholdsprofiles/",{apiid:n.id,name:n.name,groupname:e.groupname,rules:n.rules}).then((function(){return Object(y.o)({msg:"Thresholds profile successfully changed",title:"Changed",callback:function(){return a.history.push("/ui/thresholdsprofiles")}})}))})):se.NotificationManager.error("Error: ".concat(t.status," ").concat(t.statusText),"Error changing thresholds profile")}))}},{key:"doDelete",value:function(e){var t=this;this.webapi.deleteThresholdsProfile(e).then((function(a){a.ok?a.json().then(t.backend.deleteObject("/api/v2/internal/thresholdsprofiles/".concat(e))).then((function(){return Object(y.o)({msg:"Thresholds profile successfully deleted",title:"Deleted",callback:function(){return t.history.push("/ui/thresholdsprofiles")}})})):se.NotificationManager.error("Error: ".concat(a.status," ").concat(a.statusText),"Error deleting thresholds profile")}))}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.isActiveSession().then((function(t){Promise.all([e.backend.fetchListOfNames("/api/v2/internal/metricsall"),e.backend.fetchData("/api/v2/internal/thresholdsprofiles/".concat(e.name))]).then((function(a){var n=on(a,2),r=n[0],o=n[1];e.addview?e.setState({loading:!1,groups_list:t.userdetails.groups.thresholdsprofiles,metrics_list:r,write_perm:t.userdetails.is_superuser||t.userdetails.groups.thresholdsprofiles.indexOf(o.groupname)>=0}):e.webapi.fetchThresholdsProfile(o.apiid).then((function(a){return e.setState({thresholds_profile:{apiid:a.id,name:a.name,groupname:o.groupname},thresholds_rules:gn(a.rules),groups_list:t.userdetails.groups.thresholdsprofiles,metrics_list:r,write_perm:t.userdetails.is_superuser||t.userdetails.groups.thresholdsprofiles.length>0,loading:!1})}))}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.thresholds_profile,n=t.thresholds_rules,o=t.metrics_list,i=t.groups_list,l=t.loading,c=t.write_perm;return l?r.a.createElement(y.l,null):!l&&a?r.a.createElement(y.b,{resourcename:"thresholds profile",location:this.location,addview:this.addview,modal:!0,state:this.state,toggle:this.toggleAreYouSure,submitperm:c},r.a.createElement(E.d,{initialValues:{id:a.apiid,name:a.name,groupname:a.groupname,rules:n},validationSchema:hn,onSubmit:function(t,a){return e.onSubmitHandle(t,a)},render:function(t){return r.a.createElement(E.c,null,r.a.createElement(En,rn({},t,{groups_list:i,metrics_list:o,write_perm:c,onSelect:e.onSelect,state:e.state,toggleWarningPopOver:e.toggleWarningPopOver,toggleCriticalPopOver:e.toggleCriticalPopOver})),c&&r.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},e.addview?r.a.createElement("div",null):r.a.createElement(h.a,{color:"danger",onClick:function(){e.toggleAreYouSureSetModal("Are you sure you want to delete thresholds profile?","Delete thresholds profile",(function(){return e.doDelete(t.values.id)}))}},"Delete"),r.a.createElement(h.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):null}}]),t}(n.Component),yn=function(e){for(var t=e.title,a=e.item1,n=e.item2,o=[],i=[],l=0;l<a.length;l++){var c="metric: ".concat(a[l].metric,",\n");"host"in a[l]&&(c+="host: ".concat(a[l].host,",\n")),"endpoint_group"in a[l]&&(c+="endpoint_group: ".concat(a[l].endpoint_group,",\n")),c+="thresholds: ".concat(a[l].thresholds),o.push(c)}for(var s=0;s<n.length;s++){var u="metric: ".concat(n[s].metric,",\n");"host"in n[s]&&(u+="host: ".concat(n[s].host,",\n")),"endpoint_group"in n[s]&&(u+="endpoint_group: ".concat(n[s].endpoint_group,",\n")),u+="thresholds: ".concat(n[s].thresholds),i.push(u)}return r.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},r.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},t),r.a.createElement(x.a,{oldValue:i.join("\n"),newValue:o.join("\n"),showDiffOnly:!0,splitView:!0,hideLineNumbers:!0}))};var Mn=function(e){function t(e){var a;return ln(this,t),(a=un(this,dn(t).call(this,e))).version1=e.match.params.id1,a.version2=e.match.params.id2,a.name=e.match.params.name,a.state={loading:!1,name1:"",groupname1:"",rules1:[],name2:"",groupname2:"",rules2:[]},a.backend=new M.a,a}return pn(t,e),sn(t,[{key:"componentDidMount",value:function(){var e=this;this.backend.fetchData("/api/v2/internal/tenantversion/thresholdsprofile/".concat(this.name)).then((function(t){var a="",n="",r=[],o="",i="",l=[];t.forEach((function(t){t.version==e.version1?(a=t.fields.name,n=t.fields.groupname,r=t.fields.rules):t.version==e.version2&&(o=t.fields.name,i=t.fields.groupname,l=t.fields.rules)})),e.setState({name1:a,groupname1:n,rules1:r,name2:o,groupname2:i,rules2:l,loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.name1,a=e.name2,n=e.groupname1,o=e.groupname2,i=e.rules1,l=e.rules2,c=e.loading;return c?r.a.createElement(y.l,null):!c&&t&&a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},r.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Compare ".concat(this.name," versions"))),t!==a&&r.a.createElement(y.e,{title:"name",item1:t,item2:a}),n!==o&&r.a.createElement(y.e,{title:"group name",item1:n,item2:o}),!function(e,t){if(e.length!==t.length)return!1;for(var a=e.length;a--;)if(e[a].metric!==t[a].metric||e[a].thresholds!==t[a].thresholds||e[a].host!==t[a].host||e[a].endpoint_group!==t[a].endpoint_group)return!1;return!0}(i,l)&&r.a.createElement(yn,{title:"rules",item1:i,item2:l})):null}}]),t}(n.Component),On=function(e){function t(e){var a;return ln(this,t),(a=un(this,dn(t).call(this,e))).name=e.match.params.name,a.version=e.match.params.version,a.backend=new M.a,a.state={name:"",groupname:"",rules:[],date_created:"",loading:!1},a}return pn(t,e),sn(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/tenantversion/thresholdsprofile/".concat(this.name)).then((function(t){t.forEach((function(t){t.version==e.version&&e.setState({name:t.fields.name,groupname:t.fields.groupname,rules:gn(t.fields.rules),date_created:t.date_created,loading:!1})}))}))}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.groupname,n=e.rules,o=e.date_created,i=e.loading;return i?r.a.createElement(y.l,null):!i&&t?r.a.createElement(y.b,{resourcename:"".concat(t," (").concat(o,")"),infoview:!0},r.a.createElement(E.d,{initialValues:{name:t,groupname:a,rules:n},render:function(e){return r.a.createElement(E.c,null,r.a.createElement(En,rn({},e,{historyview:!0})))}})):null}}]),t}(n.Component),Dn=a("9ONQ");a("/WES");function wn(e){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function An(){return(An=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function kn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Sn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pn(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Cn(e,t,a){return t&&Pn(e.prototype,t),a&&Pn(e,a),e}function In(e,t){return!t||"object"!==wn(t)&&"function"!=typeof t?Nn(e):t}function Nn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tn(e){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ln(e,t)}function Ln(e,t){return(Ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xn=ue.object().shape({name:ue.string().matches(/^\S*$/,"Name cannot contain white spaces").required("Required"),present_version:ue.boolean(),version:ue.string().matches(/^\S*$/,"Version cannot contain white spaces").when("present_version",{is:!1,then:ue.string().required("Required")}),repo_6:ue.string(),repo_7:ue.string()}).test("undefined","You must provide at least one repo!",(function(e){return!(!e.repo_6&&!e.repo_7)})),Un=function(e){function t(e){var a;return Sn(this,t),(a=In(this,Tn(t).call(this,e))).location=e.location,a.backend=new M.a,a.state={loading:!1,list_packages:null,list_repos:null,search_name:"",search_repo:""},a}return jn(t,e),Cn(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),Promise.all([this.backend.fetchData("/api/v2/internal/packages"),this.backend.fetchData("/api/v2/internal/yumrepos")]).then((function(t){var a=kn(t,2),n=a[0],r=a[1],o=[];r.forEach((function(e){return o.push(e.name+" ("+e.tag+")")})),e.setState({list_packages:n,list_repos:o,loading:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.list_packages,n=t.loading,o=[{Header:"#",id:"row",minWidth:12,Cell:function(e){return r.a.createElement("div",{style:{textAlign:"center"}},e.index+1)}},{Header:"Name and version",id:"name",minWidth:80,accessor:function(e){return r.a.createElement(P.b,{to:"/ui/packages/"+e.name+"-"+e.version},e.name+" ("+e.version+")")},filterable:!0,Filter:r.a.createElement("input",{value:this.state.search_name,onChange:function(t){return e.setState({search_name:t.target.value})},placeholder:"Search by name and version",style:{width:"100%"}})},{Header:"Repo",id:"repo",accessor:"repos",Cell:function(e){return r.a.createElement("div",{style:{textAlign:"center"}},e.value.join(", "))},filterable:!0,Filter:r.a.createElement(y.g,{value:this.state.repo,onChange:function(t){return e.setState({search_repo:t.target.value})},data:this.state.list_repos})}];return this.state.search_name&&(a=a.filter((function(t){return"".concat(t.name," + ' (' + ").concat(t.version," + ')").toLowerCase().includes(e.state.search_name.toLowerCase())}))),this.state.search_repo&&(a=a.filter((function(t){return"".concat(t.repos.join(", ")).toLowerCase().includes(e.state.search_repo.toLowerCase())}))),n?r.a.createElement(y.l,null):!n&&a?r.a.createElement(y.b,{resourcename:"package",location:this.location,listview:!0},r.a.createElement(N.a,{data:a,columns:o,className:"-striped -highlight",defaultPageSize:50})):null}}]),t}(n.Component),Rn=function(e){function t(e){var a;return Sn(this,t),(a=In(this,Tn(t).call(this,e))).nameversion=e.match.params.nameversion,a.addview=e.addview,a.location=e.location,a.history=e.history,a.backend=new M.a,a.state={pkg:{id:"",name:"",version:""},repo_6:"",repo_7:"",list_repos_6:[],list_repos_7:[],list_probes:[],present_version:!1,loading:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},a.toggleAreYouSure=a.toggleAreYouSure.bind(Nn(a)),a.toggleAreYouSureSetModal=a.toggleAreYouSureSetModal.bind(Nn(a)),a.onSelect=a.onSelect.bind(Nn(a)),a.onSubmitHandle=a.onSubmitHandle.bind(Nn(a)),a.doChange=a.doChange.bind(Nn(a)),a.doDelete=a.doDelete.bind(Nn(a)),a.toggleCheckbox=a.toggleCheckbox.bind(Nn(a)),a}return jn(t,e),Cn(t,[{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(n){return{areYouSureModal:!n.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSelect",value:function(e,t){var a=this.state.pkg;a[e]=t,this.setState({pkg:a})}},{key:"onSubmitHandle",value:function(e,t){var a=this,n=void 0,r=void 0;this.addview?(n="Are you sure you want to add package?",r="Add package"):(n="Are you sure you want to change package?",r="Change package"),this.toggleAreYouSureSetModal(n,r,(function(){return a.doChange(e,t)}))}},{key:"doChange",value:function(e,t){var a=this,n=[];e.repo_6&&n.push(e.repo_6),e.repo_7&&n.push(e.repo_7),this.addview?this.backend.addObject("/api/v2/internal/packages/",{name:e.name,version:e.version,use_present_version:e.present_version,repos:n}).then((function(e){e.ok?Object(y.o)({msg:"Package successfully added",title:"Added",callback:function(){return a.history.push("/ui/packages")}}):e.json().then((function(e){se.NotificationManager.error(e.detail,"Error")}))})):this.backend.changeObject("/api/v2/internal/packages/",{id:e.id,name:e.name,version:e.version,use_present_version:e.present_version,repos:n}).then((function(e){e.ok?Object(y.o)({msg:"Package successfully changed",title:"Changed",callback:function(){return a.history.push("/ui/packages")}}):e.json().then((function(e){se.NotificationManager.error(e.detail,"Erro")}))}))}},{key:"doDelete",value:function(e){var t=this;this.backend.deleteObject("/api/v2/internal/packages/".concat(e)).then((function(e){e.ok?Object(y.o)({msg:"Package successfully deleted",title:"Deleted",callback:function(){return t.history.push("/ui/packages")}}):e.json().then((function(e){se.NotificationManager.error(e.detail,"Error")}))}))}},{key:"toggleCheckbox",value:function(){this.setState({present_version:!present_version})}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/yumrepos").then((function(t){var a=[],n=[];t.forEach((function(e){"CentOS 6"===e.tag?a.push(e.name+" ("+e.tag+")"):"CentOS 7"===e.tag&&n.push(e.name+" ("+e.tag+")")})),e.addview?e.setState({list_repos_6:a,list_repos_7:n,loading:!1}):Promise.all([e.backend.fetchData("/api/v2/internal/packages/".concat(e.nameversion)),e.backend.fetchData("/api/v2/internal/probes")]).then((function(t){for(var r=kn(t,2),o=r[0],i=r[1],l=[],c="",s="",u=0;u<o.repos.length;u++)"CentOS 6"===o.repos[u].split("(")[1].slice(0,-1)&&(c=o.repos[u]),"CentOS 7"===o.repos[u].split("(")[1].slice(0,-1)&&(s=o.repos[u]);i.forEach((function(e){e.package==="".concat(o.name," (").concat(o.version,")")&&l.push(e.name)})),e.setState({pkg:o,list_repos_6:a,list_repos_7:n,repo_6:c,repo_7:s,list_probes:l,loading:!1})}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.pkg,n=t.repo_6,o=t.repo_7,i=t.list_repos_6,l=t.list_repos_7,u=t.list_probes,m=t.loading,d=t.present_version;return m?r.a.createElement(y.l,null):!m&&i?r.a.createElement(y.b,{resourcename:"package",location:this.location,addview:this.addview,modal:!0,state:this.state,toggle:this.toggleAreYouSure,history:!1},r.a.createElement(E.d,{initialValues:{id:a.id,name:a.name,version:a.version,repo_6:n,repo_7:o,present_version:d},onSubmit:function(t,a){return e.onSubmitHandle(t,a)},validationSchema:xn,enableReinitialize:!0,render:function(t){return r.a.createElement(E.c,null,r.a.createElement(p.a,null,r.a.createElement(c.a,{className:"align-items-center"},r.a.createElement(s.a,{md:6},r.a.createElement(ie.a,null,r.a.createElement(le.a,{addonType:"prepend"},"Name"),r.a.createElement(E.a,{type:"text",name:"name",className:"form-control ".concat(t.errors.name&&"border-danger"),id:"name"})),t.errors.name&&Object(y.h)(t.errors.name),r.a.createElement(ce.a,{color:"muted"},"Package name.")),r.a.createElement(s.a,{md:2},r.a.createElement(c.a,null,r.a.createElement(s.a,{md:12},r.a.createElement(ie.a,null,r.a.createElement(le.a,{addonType:"prepend"},"Version"),r.a.createElement(E.a,{type:"text",name:"version",value:t.values.present_version?"present":t.values.version,disabled:t.values.present_version,className:"form-control ".concat(t.errors.version&&"border-danger"),id:"version"})),t.errors.version&&Object(y.h)(t.errors.version),r.a.createElement(ce.a,{color:"muted"},"Package version.")))),r.a.createElement(s.a,{md:3},r.a.createElement(E.a,{component:y.c,name:"present_version",className:"form-control",id:"checkbox",label:"Use version which is present in repo",onChange:e.toggleCheckbox})))),r.a.createElement(p.a,null,r.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Yum repo"),r.a.createElement(c.a,null,r.a.createElement(s.a,{md:8},r.a.createElement(y.a,An({},t,{lists:i,icon:"yumrepos",field:"repo_6",val:t.values.repo_6,onselect_handler:e.onSelect,req:t.errors.undefined,label:"CentOS 6 repo"})),t.errors.undefined&&Object(y.h)(t.errors.undefined),r.a.createElement(ce.a,{color:"muted"},"Package is part of selected CentOS 6 repo."))),r.a.createElement(c.a,{className:"mt-4"},r.a.createElement(s.a,{md:8},r.a.createElement(y.a,An({},t,{lists:l,icon:"yumrepos",field:"repo_7",val:t.values.repo_7,onselect_handler:e.onSelect,req:t.errors.undefined,label:"CentOS 7 repo"})),t.errors.undefined&&Object(y.h)(t.errors.undefined),r.a.createElement(ce.a,{color:"muted"},"Package is part of selected CentOS 7 repo."))),!e.addview&&r.a.createElement(c.a,{className:"mt-3"},r.a.createElement(s.a,{md:8},"Probes:",u.length>0&&r.a.createElement("div",null,u.map((function(e,t){return r.a.createElement(P.b,{key:t,to:"/ui/probes/"+e},e)})).reduce((function(e,t){return[e,", ",t]})))))),r.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},e.addview?r.a.createElement("div",null):r.a.createElement(h.a,{color:"danger",onClick:function(){e.toggleAreYouSureSetModal("Are you sure you want to delete package?","Delete package",(function(){return e.doDelete(e.nameversion)}))}},"Delete"),r.a.createElement(h.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):null}}]),t}(n.Component);function Wn(e){return(Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Kn(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zn(e){return(zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qn(e,t){return(Qn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fn(){return(Fn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Vn=Object(Ba.g)(y.m),Hn=Object(Ba.g)(y.n),qn=Object(Ba.g)(y.d),Gn=function(e){var t=e.webApiAggregation,a=e.webApiMetric,n=e.webApiThresholds,o=e.token,i=e.tenantName;return r.a.createElement(Ba.d,null,r.a.createElement(Ba.b,{exact:!0,path:"/ui/login",render:function(){return r.a.createElement(Ba.a,{to:"/ui/home"})}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/home",component:oe}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/services",component:Kt}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/reports",component:Lt}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/probes",component:Pe}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/probes/:name/history",render:function(e){return r.a.createElement(Oe,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/probes/:name/history/compare/:id1/:id2",render:function(e){return r.a.createElement(Ie,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/probes/:name/history/:version",render:function(e){return r.a.createElement(Ne,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/probes/:name",render:function(e){return r.a.createElement(De,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/metrics",component:Te.f}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/metrics/:name/history",render:function(e){return r.a.createElement(Te.e,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/metrics/:name/history/compare/:id1/:id2",render:function(e){return r.a.createElement(Te.h,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/metrics/:name/history/:version",render:function(e){return r.a.createElement(Te.g,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/metrics/:name",render:function(e){return r.a.createElement(Te.c,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/metricprofiles",component:te}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/metricprofiles/add",render:function(e){return r.a.createElement(ee,Fn({},e,{webapimetric:a,webapitoken:o,tenantname:i,addview:!0}))}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/metricprofiles/:name",render:function(e){return r.a.createElement(ee,Fn({},e,{webapimetric:a,webapitoken:o,tenantname:i}))}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/metricprofiles/:name/history",render:function(e){return r.a.createElement(J,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/metricprofiles/:name/history/compare/:id1/:id2",render:function(e){return r.a.createElement(ne,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/metricprofiles/:name/history/:version",render:function(e){return r.a.createElement(re,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/aggregationprofiles",component:It}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/aggregationprofiles/add",render:function(e){return r.a.createElement(Ct,Fn({},e,{webapiaggregation:t,webapimetric:a,webapitoken:o,tenantname:i,addview:!0}))}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/aggregationprofiles/:name",render:function(e){return r.a.createElement(Ct,Fn({},e,{webapiaggregation:t,webapimetric:a,webapitoken:o,tenantname:i}))}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/aggregationprofiles/:name/history",render:function(e){return r.a.createElement(Mt,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/aggregationprofiles/:name/history/compare/:id1/:id2",render:function(e){return r.a.createElement(Tt,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/aggregationprofiles/:name/history/:version",render:function(e){return r.a.createElement(jt,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/administration",component:tt}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/administration/users",component:na}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/administration/users/add",render:function(e){return r.a.createElement(ea,Fn({},e,{addview:!0}))}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/administration/users/:user_name",render:function(e){return r.a.createElement(ea,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/administration/groupofmetrics",component:_a}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/administration/groupofmetrics/add",render:function(e){return r.a.createElement(ha,Fn({},e,{addview:!0}))}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/administration/groupofmetrics/:group",render:function(e){return r.a.createElement(ha,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/administration/groupofaggregations",component:ga}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/administration/groupofaggregations/add",render:function(e){return r.a.createElement(Ea,Fn({},e,{addview:!0}))}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/administration/groupofaggregations/:group",render:function(e){return r.a.createElement(Ea,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/administration/groupofmetricprofiles",component:va}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/administration/groupofmetricprofiles/add",render:function(e){return r.a.createElement(ba,Fn({},e,{addview:!0}))}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/administration/groupofmetricprofiles/:group",render:function(e){return r.a.createElement(ba,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/administration/apikey",component:Ua}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/administration/apikey/add",render:function(e){return r.a.createElement(Ra,Fn({},e,{addview:!0}))}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/administration/metrictemplates/",component:Ve}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/administration/metrictemplates/:name",render:function(e){return r.a.createElement(He,Fn({},e,{tenantview:!0}))}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/administration/metrictemplates/:name/history",render:function(e){return r.a.createElement(Ze,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/administration/metrictemplates/:name/history/compare/:id1/:id2",render:function(e){return r.a.createElement(Je,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/administration/metrictemplates/:name/history/:version",render:function(e){return r.a.createElement(et,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/administration/apikey/:name",render:function(e){return r.a.createElement(Ra,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/administration/yumrepos/",component:Xa}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/administration/yumrepos/:name",render:function(e){return r.a.createElement($a,Fn({},e,{disabled:!0}))}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/administration/groupofthresholdsprofiles",component:ya}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/administration/groupofthresholdsprofiles/add",render:function(e){return r.a.createElement(Ma,Fn({},e,{addview:!0}))}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/administration/groupofthresholdsprofiles/:group",render:function(e){return r.a.createElement(Ma,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/thresholdsprofiles",component:vn}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/thresholdsprofiles/add",render:function(e){return r.a.createElement(bn,Fn({},e,{webapithresholds:n,webapitoken:o,tenantname:i,addview:!0}))}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/thresholdsprofiles/:name",render:function(e){return r.a.createElement(bn,Fn({},e,{webapithresholds:n,webapitoken:o,tenantname:i}))}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/thresholdsprofiles/:name/history",render:function(e){return r.a.createElement(_n,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/thresholdsprofiles/:name/history/compare/:id1/:id2",render:function(e){return r.a.createElement(Mn,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/thresholdsprofiles/:name/history/:version",render:function(e){return r.a.createElement(On,e)}}),r.a.createElement(Ba.b,{component:Wa}))},Zn=function(e){e.props;return r.a.createElement(Ba.d,null,r.a.createElement(Ba.b,{exact:!0,path:"/ui/login",render:function(){return r.a.createElement(Ba.a,{to:"/ui/home"})}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/home",component:oe}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/probes",component:Pe}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/probes/add",render:function(e){return r.a.createElement(De,Fn({},e,{addview:!0}))}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/probes/:name/clone",render:function(e){return r.a.createElement(we,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/probes/:name/history",render:function(e){return r.a.createElement(Oe,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/probes/:name/history/compare/:id1/:id2",render:function(e){return r.a.createElement(Ie,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/probes/:name/history/:version",render:function(e){return r.a.createElement(Ne,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/probes/:name",render:function(e){return r.a.createElement(De,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/metrictemplates",component:Fe}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/metrictemplates/add",render:function(e){return r.a.createElement(He,Fn({},e,{addview:!0}))}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/metrictemplates/:name/clone",render:function(e){return r.a.createElement(qe,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/metrictemplates/:name/history",render:function(e){return r.a.createElement(Ge,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/metrictemplates/:name/history/compare/:id1/:id2",render:function(e){return r.a.createElement(Je,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/metrictemplates/:name/history/:version",render:function(e){return r.a.createElement(et,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/metrictemplates/:name",render:function(e){return r.a.createElement(He,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/yumrepos/",render:function(e){return r.a.createElement(Xa,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/yumrepos/add",render:function(e){return r.a.createElement($a,Fn({addview:!0},e))}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/yumrepos/:name",render:function(e){return r.a.createElement($a,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/packages/",render:function(e){return r.a.createElement(Un,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/packages/add",render:function(e){return r.a.createElement(Rn,Fn({addview:!0},e))}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/packages/:nameversion",render:function(e){return r.a.createElement(Rn,e)}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/administration",component:at}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/administration/users",component:na}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/administration/users/add",render:function(e){return r.a.createElement(ta,Fn({},e,{addview:!0}))}}),r.a.createElement(Ba.b,{exact:!0,path:"/ui/administration/users/:user_name",render:function(e){return r.a.createElement(ta,e)}}),r.a.createElement(Ba.b,{component:Wa}))},Jn=function(e){function t(e){var a,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(r=zn(t).call(this,e))||"object"!==Wn(r)&&"function"!=typeof r?Yn(n):r).cookies=new Dn.a,a.backend=new M.a,a.state={isSessionActive:void 0,areYouSureModal:!1,userDetails:void 0,webApiAggregation:void 0,webApiMetric:void 0,webApiThresholds:void 0,tenantName:void 0,token:void 0,isTenantSchema:null},a.onLogin=a.onLogin.bind(Yn(a)),a.onLogout=a.onLogout.bind(Yn(a)),a.toggleAreYouSure=a.toggleAreYouSure.bind(Yn(a)),a}var a,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qn(e,t)}(t,e),a=t,(n=[{key:"onLogin",value:function(e,t){var a=this,n=new Object({active:!0,userdetails:e});this.backend.isTenantSchema().then((function(e){return a.initalizeState(e,n)})).then(setTimeout((function(){t.push("/ui/home")}),50))}},{key:"onLogout",value:function(){this.setState({isSessionActive:!1})}},{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"fetchConfigOptions",value:function(){return fetch("/api/v2/internal/config_options").then((function(e){if(e.ok)return e.json()}))}},{key:"fetchToken",value:function(){return fetch("/api/v2/internal/apikeys/WEB-API").then((function(e){return e.ok?e.json():null})).then((function(e){return e.token})).catch((function(e){return alert("Something went wrong: "+e)}))}},{key:"initalizeState",value:function(e,t){var a=this;if(e)return Promise.all([this.fetchToken(),this.fetchConfigOptions()]).then((function(n){var r=Bn(n,2),o=r[0],i=r[1];a.setState({isTenantSchema:e,isSessionActive:t.active,userDetails:t.userdetails,token:o,webApiMetric:i&&i.result.webapimetric,webApiAggregation:i&&i.result.webapiaggregation,webApiThresholds:i&&i.result.webapithresholds,tenantName:i&&i.result.tenant_name})}));this.setState({isTenantSchema:e,isSessionActive:t.active,userDetails:t.userdetails})}},{key:"componentDidMount",value:function(){var e=this;this.backend.isTenantSchema().then((function(t){e.backend.isActiveSession().then((function(a){return a.active&&e.initalizeState(t,a)}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.isSessionActive,n=t.userDetails;return a?a&&n&&null!==this.state.isTenantSchema?r.a.createElement(P.a,null,r.a.createElement(l.a,{fluid:!0},r.a.createElement(c.a,null,r.a.createElement(se.NotificationContainer,null),r.a.createElement(s.a,null,r.a.createElement(Vn,{onLogout:this.onLogout,isOpenModal:this.state.areYouSureModal,toggle:this.toggleAreYouSure,titleModal:"Log out",msgModal:"Are you sure you want to log out?",userDetails:n}))),r.a.createElement(c.a,{className:"no-gutters"},r.a.createElement(s.a,{sm:{size:2},md:{size:2},id:"sidebar-col",className:"d-flex flex-column"},r.a.createElement(Hn,{isTenantSchema:this.state.isTenantSchema,userDetails:n}),r.a.createElement("div",{id:"sidebar-grow",className:"flex-grow-1 border-left border-right rounded-bottom"})),r.a.createElement(s.a,null,r.a.createElement(qn,null),this.state.isTenantSchema?r.a.createElement(Gn,{webApiMetric:this.state.webApiMetric,webApiAggregation:this.state.webApiAggregation,webApiThresholds:this.state.webApiThresholds,token:this.state.token,tenantName:this.state.tenantName}):r.a.createElement(Zn,null))),r.a.createElement(c.a,null,r.a.createElement(s.a,null,r.a.createElement(y.i,{loginPage:!1}))))):null:r.a.createElement(P.a,null,r.a.createElement(Ba.d,null,r.a.createElement(Ba.b,{path:"/ui/",render:function(t){return r.a.createElement(S,Fn({onLogin:e.onLogin},t))}}),r.a.createElement(Ba.b,{component:Wa})))}}])&&Kn(a.prototype,n),o&&Kn(a,o),t}(n.Component),Xn=a("dLgX");a("q4sD");i.a.render(r.a.createElement(Jn,null),document.getElementById("react")),Xn.a()},hQ4L:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAdCAYAAAC9pNwMAAAABmJLR0QAngCeAJ53Twm3AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH4wQcDRUGZUVdGQAABRJJREFUSMell2tsFFUUx393drcv+oIWKpZFSrFuSmo24oMQSCSGogVtDOERWEHUGA2SILZUDCImBMFVCBLAmGIhKdEgJgSs0AEaNBKw8phS0LYqpQylAmH7Jt3HzPjBWVjKbLuN/y+7M/ee87/nzHldgQWc7kJURQ7/twEpQB7wEjAZyAEygB7gKnAOOAKcArpVRQ7019MfYhDSScALwDtAFoNDA74CDqiKLA9ELgYgXQ28Z1o2VGhABbBWVeQ2K3IRSQoIVZENp7vwAjARkPh/aAWmqYrcbGlxP0v9QFyMigOAH9DNZwmIt5DPUBXZF8kjwg9Od6EEnAceH4xN17WaUMB/ZVhaxtEla8prJ7gzxbA0gif21xnfeJdPEUK8bHfEO4UQU0yRPiBPVWQ1zBfp6jXAx4O497SuhfbMW7mlJTk9c27Q78/SQsEnwUgFeoQQf9sdcbX2uIT2czXf7zx58OvnktMztwNpwK+qIk/u7+pngGpzQzT8iOb3TL9wouPaCVJTe0hNCmHL7LuVHq/5NgIz+31F1Wa3bdi4YEKFGTN5QKmqyJ853YUIp7vQDnwIrB2AtE5VZDdA1aaCOebeEUAHGOuLNl/cV/b5H1MNxAHzfSS2ej2uFSZ5F1CsKvJt4XQXDgeaB7D2T1WR8w5/WjBLN9gVJZ97E0Nts445j/iCUvIh4BHzvWF6dafX41rpdBfeAF5RFfmgcLoLpwM10Uw1DHJ3L76e7w+J74CEgWIuKdQ6+4dxZzolI3AyUgUgJJv93R0lxVfSR2bnAF9IQHE0TQI2XKuTL8dACiDdsWcfKDs3vtEsn/fFka6FyhaW7WjUdW0SkCoBT0fTdLXdsa9qU8G6GEjDiDszauKzmohbYLH20MgxufO1YKArnPC5UZRcoSWzBXhzKKXKQFq2edH4zoiicq/a9N2ZINkdm0JBf5cEjIyaPuzpAGxDLJMTMQyA9gcOpetTF67antZ26SdNstpg4pb5Gxoi8WXaEECyxVq2EP8ZKgGXB1F0cIjE2188D2bN7g8bCClMfMZKOhjoY9XehiWzyurfHgKpnttZf9zV3lgRZb0d6A4TH7LMDck25Xab6iipbFqQoN1cGgtrvObzlOc3ZQGLo2w5DzSEiWvNxn2/T+yOGbtKZh8T6Dtl5/HGYUF1jtkCLeHQu+b+Mnp3rcDYazXZmGj0elwdYeJOYJvVrtQxj+YA+3Vhr6kad9pRdLY+BVgO3DS3+ICSdP/FtKPO6rpeh7MajPwopN1mI6K0suFud5oGHLMaAFRFFqWVDV3mwPdzr2Ps678PT7zdlE4gpxvHY+3EZ/Q1bQDjtUG+xGGvx1VUWtmA1+O6rx9vAVZYCGxbXVFd3nyp8beIg2mmp5JirGoNwFNej6vnbgyZsxbAGkC1EFr+ydKZRVlj8+ZF5LTNbH+xkF4Air0eV09pZcO94DXHHlRF7gXGRhH+aMuyGaMyRudMNuesWFEFzPB6XE1hFw82ZbYCDz+QpJq2rrX++PpVext3AM8bhjECSDSD1DA/QbcQ4nooGNi6+dWC8gE6n+VNIsWM9PkR7gw39ZYu340P4uITmxe9/+WoxJS0fJvNHmcYBoaut7f+VX+qcuNbCQlJKb7M7PFdWiioXqs7OuSbxDSzGLxhcT6fFgqd0rVQNxgaiGQhSelCko7YbPazQL2qyP9Eu02IGO5O8WbBfwLYDORbTKI+c277Fgioitwz2N3pX3OCCLv6PHumAAAAAElFTkSuQmCC"},kWNB:function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,"#argo-contentwrap {\n  background-color: white;\n}\n#sidebar-grow {\n  background-color: white;\n  margin-bottom: 1px;\n}\n#argo-nav {\n  background-color: #416090;\n}\n\n#argo-breadcrumb {\n  background-color: #ecf0f5;\n}\n\n#sidebar-col {\n  max-width: 215px;\n}\n\n#argo-breadcrumb > ol {\n  background-color: #ecf0f5;\n}\n",""])},lrsP:function(e,t,a){var n=a("eVqg");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(e.exports=n.locals)},"p3/T":function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,"#argo-footer {\n  background-color: #ffffff;\n  max-height: 92px;\n}\n\n#argo-loginfooter {\n  background-color: #ffffff;\n  max-height: 155px;\n}\n\n#argo-navbar-logout {\n  color: #ffffff;\n  border-color: #ffffff;\n  background-color: #416090;\n}\n#argo-navbar-logout:hover {\n  color: #ffffff;\n  background-color: #31496d;\n}\n\n#argo-navlinks {\n  background-color: #ffffff;\n}\n\n.argo-autocomplete-menu {\n  display: block;\n  width: 94%;\n  color: #495057;\n  position: absolute;\n  background-color: white;\n  z-index: 1000;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n  overflow-y: auto;\n  max-height: 400px;\n}\n\n.argo-autocomplete-entries {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #495057;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n.argo-autocomplete-entries-highlighted {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  background-color: #4A90D9;\n  color: white;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n",""])},s1Uj:function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,"#argo-td {\n  vertical-align: middle;\n}\n",""])},"tYV+":function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,"#select-field{\n    width: 150px;\n}\n\n.grouplabel {\n    width: 180px;\n}\n\n.col-md-6 {\n    padding: 5px;\n}\n\n#checkbox {\n    margin-right: 5px;\n}",""])},uU5Y:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAZCAIAAAA5RHCCAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAA6cAAAOdQGIKBt4AAAGqklEQVRIiY1WSYxdVxGtuve++f3/e/jt73Y7aRts05A2ih0jAxEICGKIQBAEG6JYEUhIWbDIgh0LiAQBNiyQEOsIkAIRyhZEcIiwE4eEJHZIHCKP6W735D+/6Q5VLH73l91xSym9xbuqUp1X51TderjnyD+JyDnngAGAEQCAmQMrpQiK3CbNm+UwBQhl8j/dWyhqa1NuUpQeT1br3XIiIagsu1iF0845Y6vQUwhkjPaUQESQiogQUSmFiALeZ8wMAE6VhbhaCTvM5jBxWtl2e5HClHRM1Cax1rkpvNRUIHIbUzCZVTcNDwjLyuVOOKHQMhly45yjtHfAG1nORLAQTwUFXhnoNgQ9r96z/rVQBopD1g09rKc1r+zNBbG0VkofpY8qUE6QEwSeNEAWeYw0QhXjgnY4HCqQusi15KSuZvVG6A2SeDhHWdRqDX70m98vnnixc1XKzA8K6VUbTKGupDZgndAGDCMoH7xgnHlkYgx2K5kA4Cuo9IagoqHq0BXH771w6gd/rfFFkkt3Lbx99OS1u+dKlcvFe1555LFnDzY3JYVgPEGxr2rAvrEA6DmW44QjU7vpx1olooHct8MSivQzX1158LuvX3xhz/W3Tlx4ufzxdw6trc3VauXsofPfeuz5bOnI2890fN9nRoUeIBhHoICdA7wtuUymH72N4223Yut7OMhXAFnJxtpG+cpL8ZU37y8nsLsSZAOoZFxh2t70Lry4eO7MdD9fbu6JjO1bm6FwjpzvhQzobycUQiCiTKYfJSJmJmZEhPE8RMv9jenDJ5aPf/F6pxteuriwdP3unESleoGcCsJgwOTSYQVw+fynq6A6eKA6evRDTEWpc9/znQMpfSb2EJgZEcXIAC0KRsFCAm6ZBBBF2Yrr8sRC/uQTv1ts/dtH8lRrImxHJkGZ5Ww8QX7py2oynHpPoFqoZz/97fdPHnvXtT/SH86WdkZBv1YYQ44QWKADNuRkMn2KGbb5HNWHzMyYurJsrwzfef3gy2c/Bw3GdCMbRqjuPEKDdvTq2QNvvjbfKRyng7CmbRYGMrLCbZeBAIAzR/5OBETkgIEFIzAjEVmv63emIpB97dt6KdObhnLmicgmd8RzOuUM09iWZMVEXlkJmqeCWLMbkTnC23XecagOH3rj/gefN+EmpH3PzdfoY1L4u8VDeDWaeueTXzl9YH5FlFEcUlLXeZHuiNoVry6mvvHI+R/+7MzisY4buGwzU9RVhdkVrth3YK94/OenH3r4Xezt0d3Iahumgx1hu+oHubZl78rFyf+c/qhQM0nSAFdSriDA94MBQCM0VReydXHhpenlpVimOQBJ22TUH0i/JMwGm3VVNVS4xmmVsU+2aAXNLtk74lXVZqsWDa7u9+uZmlAF+cydAKVD8YH0G5RNO1mKvZuzH+44PU1hREmZDXeNh0YYtBJ/H9PEalu3yc/JSYSdHyfICXJADpgkMzIJJgBGK3tprr737af/+Ocn7jt4kbpNhXeTKjQweZuI6wGIokKTdNhTOKh97ciVp5558usPPctr85M+SFN5SdDHumCQgIJh9MikeWprySIgChAwutNEtG67s2l9WJnk1TP3asdkurFUGYYpTcWQFEUY1HMa1sQwDvx26IFRwzfO7e9s7McAjfOdyIVyyonb9Gsefo6ZyYEDBhBb+53AgEmkNGWhlNI9O7e3J/xqdXVf3tLiejjTyNezubDZl4P+gbu6q8vzuRkme97LB3WmOYDIoSJvQwWkyvoITAixpR8zMzhmBqDtI/myrm00lF4vqEPQeODL13/11F8WPj7UN1upp2thT6mSLR77xFu/+NOvP/vN/xpv/+qN+6zYL2NJQiolFCSst7cAbnW1YHbMjpkBiZnHR1eR4QxjzQG4oLO6rK9dNks3ViBqf+pLl37y9B+Ofv5s/4bNO7Ov/eP40qWAPPCSQARsSYComDPhasrVd/TLeP8RgACk7Y4la0p/ouPMpG3PRFOrZ144ee5fXxjKEqpyfQNLg0ASE3v56uwvH39YRKKUa77nysqArQUeaFPFsiFVal02Lm40f38bzx+iZABmZOYw6PUHrTDuRKispUHeMEAzTWdKGUPHdGYqKdTejWwQ+sJglUKUo2CgCAiVZ4uiSoIGkQUQt+mHiELAaDdt9xEjYpVHQUSQq1grKBs86anZYSfLWfctJVZMxPXNfq+wQUJpYtRQkHO5r+ykRCcYAhnJKNfc28Enzt/z3K3/M2OH4zvfW4C09cIj5sf7G29tjTGHihEARsUBwP8BoRsQdzWv4kYAAAAASUVORK5CYII="}},[["f1jT",1,2]]]);