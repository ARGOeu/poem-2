(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"/WES":function(e,t,a){var r=a("kWNB");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},"5tO7":function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgdmVyc2lvbj0iMS4xIiAKICAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgCiAgICB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQgbWVldCIgdmlld0JveD0iNC45MTc4NjU2NTY3NTI0NCA0LjY0MjkwMjM3NzQwOTk2OCAxMDIuMjMzMjE1NTQ3NzAzMiA1MCIgd2lkdGg9Ijk4LjIzIiBoZWlnaHQ9IjQ2Ij4KICAgIDxkZWZzPgogICAgICAgIDxwYXRoIGQ9Ik0xMDMuMTkgMjkuMDFMMTAyLjIyIDMwLjE2TDEwMS4yMyAzMS4yOUwxMDAuMjMgMzIuMzhMOTkuMjEgMzMuNDVMOTguMTggMzQuNDhMOTcuMTQgMzUuNDlMOTYuMDggMzYuNDZMOTUuMDEgMzcuNDFMOTMuOTMgMzguMzJMOTIuODMgMzkuMkw5MS43MiA0MC4wNkw5MC42IDQwLjg4TDg5LjQ2IDQxLjY3TDg4LjMxIDQyLjQzTDg3LjE0IDQzLjE2TDg1Ljk2IDQzLjg3TDg0Ljc3IDQ0LjU0TDgzLjU3IDQ1LjE4TDgyLjM1IDQ1Ljc5TDgxLjExIDQ2LjM3TDc5Ljg3IDQ2LjkyTDc4LjYxIDQ3LjQ0TDc3LjMzIDQ3LjkzTDc2LjA0IDQ4LjM5TDc0Ljc0IDQ4LjgyTDczLjQzIDQ5LjIyTDcyLjEgNDkuNThMNzAuNzYgNDkuOTJMNjkuNCA1MC4yM0w2OC4wMyA1MC41MUw2Ni42NSA1MC43Nkw2NS4yNSA1MC45N0w2My44NCA1MS4xNkw2Mi40MiA1MS4zMkw2MC45OCA1MS40NEw1OS41MyA1MS41NEw1OC4wNiA1MS42TDU2LjU4IDUxLjY0TDU1LjA5IDUxLjY0TDUzLjYgNTEuNjJMNTIuMTIgNTEuNTdMNTAuNjYgNTEuNDlMNDkuMjEgNTEuMzhMNDcuNzcgNTEuMjRMNDYuMzQgNTEuMDdMNDQuOTMgNTAuODhMNDMuNTMgNTAuNjZMNDIuMTUgNTAuNDFMNDAuNzggNTAuMTNMMzkuNDIgNDkuODJMMzguMDggNDkuNDlMMzYuNzUgNDkuMTJMMzUuNDMgNDguNzNMMzQuMTMgNDguMzFMMzIuODQgNDcuODZMMzEuNTYgNDcuMzlMMzAuMyA0Ni44OEwyOS4wNSA0Ni4zNUwyNy44MSA0NS43OUwyNi41OSA0NS4yTDI1LjM4IDQ0LjU4TDI0LjE4IDQzLjk0TDIzIDQzLjI2TDIxLjgzIDQyLjU2TDIwLjY4IDQxLjgzTDE5LjU0IDQxLjA3TDE4LjQxIDQwLjI5TDE3LjI5IDM5LjQ3TDE2LjE5IDM4LjYzTDE1LjEgMzcuNzZMMTQuMDMgMzYuODZMMTIuOTcgMzUuOTNMMTEuOTIgMzQuOTdMMTAuODkgMzMuOTlMOS44NyAzMi45OEw4Ljg2IDMxLjk0TDcuODYgMzAuODdMNi44OCAyOS43N0w1LjkyIDI4LjY0TDU1LjA5IDUuNjRMMTA0LjE1IDI3LjgyTDEwMy4xOSAyOS4wMVpNNTEuNzkgMTMuNjFMNTAuNTQgMTMuODhMNDkuMzMgMTQuMjVMNDguMTcgMTQuNzJMNDcuMDUgMTUuMjdMNDUuOTkgMTUuOTFMNDQuOTkgMTYuNjNMNDQuMDUgMTcuNDNMNDMuMTggMTguMzFMNDIuMzggMTkuMjRMNDEuNjUgMjAuMjVMNDEuMDEgMjEuMzFMNDAuNDYgMjIuNDJMMzkuOTkgMjMuNTlMMzkuNjIgMjQuOEwzOS4zNSAyNi4wNEwzOS4xOSAyNy4zM0wzOS4xMyAyOC42NEwzOS4xOSAyOS45NkwzOS4zNSAzMS4yNEwzOS42MiAzMi40OUwzOS45OSAzMy43TDQwLjQ2IDM0Ljg3TDQxLjAxIDM1Ljk4TDQxLjY1IDM3LjA0TDQyLjM4IDM4LjA0TDQzLjE4IDM4Ljk4TDQ0LjA1IDM5Ljg2TDQ0Ljk5IDQwLjY1TDQ1Ljk5IDQxLjM4TDQ3LjA1IDQyLjAyTDQ4LjE3IDQyLjU3TDQ5LjMzIDQzLjA0TDUwLjU0IDQzLjQxTDUxLjc5IDQzLjY4TDUzLjA3IDQzLjg0TDU0LjM5IDQzLjlMNTUuNyA0My44NEw1Ni45OSA0My42OEw1OC4yNCA0My40MUw1OS40NCA0My4wNEw2MC42MSA0Mi41N0w2MS43MiA0Mi4wMkw2Mi43OCA0MS4zOEw2My43OSA0MC42NUw2NC43MyAzOS44Nkw2NS42IDM4Ljk4TDY2LjQgMzguMDRMNjcuMTIgMzcuMDRMNjcuNzYgMzUuOThMNjguMzIgMzQuODdMNjguNzggMzMuN0w2OS4xNSAzMi40OUw2OS40MiAzMS4yNEw2OS41OCAyOS45Nkw2OS42NCAyOC42NEw2OS41OCAyNy4zM0w2OS40MiAyNi4wNEw2OS4xNSAyNC44TDY4Ljc4IDIzLjU5TDY4LjMyIDIyLjQyTDY3Ljc2IDIxLjMxTDY3LjEyIDIwLjI1TDY2LjQgMTkuMjRMNjUuNiAxOC4zMUw2NC43MyAxNy40M0w2My43OSAxNi42M0w2Mi43OCAxNS45MUw2MS43MiAxNS4yN0w2MC42MSAxNC43Mkw1OS40NCAxNC4yNUw1OC4yNCAxMy44OEw1Ni45OSAxMy42MUw1NS43IDEzLjQ1TDU0LjM5IDEzLjM5TDUzLjA3IDEzLjQ1TDUxLjc5IDEzLjYxWiIgaWQ9ImIzZHhnVUpTTFciPjwvcGF0aD4KICAgICAgICA8cGF0aCBkPSJNNjYuMTEgMjguODJDNjYuMTEgMzUuMzUgNjAuOCA0MC42NiA1NC4yNyA0MC42NkM0Ny43NCA0MC42NiA0Mi40MyAzNS4zNSA0Mi40MyAyOC44MkM0Mi40MyAyMi4yOSA0Ny43NCAxNi45OCA1NC4yNyAxNi45OEM2MC44IDE2Ljk4IDY2LjExIDIyLjI5IDY2LjExIDI4LjgyWiIgaWQ9ImU0ZXBvZkxQV0wiPjwvcGF0aD4KICAgIDwvZGVmcz4KICAgIDxnPgogICAgICAgIDxnPgogICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9IiNiM2R4Z1VKU0xXIiBvcGFjaXR5PSIxIiBmaWxsPSIjNzViM2Q5IiAgZmlsbC1vcGFjaXR5PSIxIj48L3VzZT4KICAgICAgICA8L2c+CiAgICAgICAgPGc+CiAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI2U0ZXBvZkxQV0wiIG9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlPSJ3aGl0ZSIgZmlsbD0iIzZmOGRjNCIgZmlsbC1vcGFjaXR5PSIxIj48L3VzZT4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},ML16:function(e,t,a){var r=a("dtk8");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},Pn3v:function(e,t,a){var r=a("p3/T");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},QjdQ:function(e,t,a){var r=a("tYV+");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},RYGk:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgdmVyc2lvbj0iMS4xIiAKICAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgCiAgICB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQgbWVldCIgdmlld0JveD0iNC45MTc4NjU2NTY3NTI0NCA0LjY0MjkwMjM3NzQwOTk2OCAxMDIuMjMzMjE1NTQ3NzAzMiA1MCIgd2lkdGg9Ijk4LjIzIiBoZWlnaHQ9IjQ2Ij4KICAgIDxkZWZzPgogICAgICAgIDxwYXRoIGQ9Ik0xMDMuMTkgMjkuMDFMMTAyLjIyIDMwLjE2TDEwMS4yMyAzMS4yOUwxMDAuMjMgMzIuMzhMOTkuMjEgMzMuNDVMOTguMTggMzQuNDhMOTcuMTQgMzUuNDlMOTYuMDggMzYuNDZMOTUuMDEgMzcuNDFMOTMuOTMgMzguMzJMOTIuODMgMzkuMkw5MS43MiA0MC4wNkw5MC42IDQwLjg4TDg5LjQ2IDQxLjY3TDg4LjMxIDQyLjQzTDg3LjE0IDQzLjE2TDg1Ljk2IDQzLjg3TDg0Ljc3IDQ0LjU0TDgzLjU3IDQ1LjE4TDgyLjM1IDQ1Ljc5TDgxLjExIDQ2LjM3TDc5Ljg3IDQ2LjkyTDc4LjYxIDQ3LjQ0TDc3LjMzIDQ3LjkzTDc2LjA0IDQ4LjM5TDc0Ljc0IDQ4LjgyTDczLjQzIDQ5LjIyTDcyLjEgNDkuNThMNzAuNzYgNDkuOTJMNjkuNCA1MC4yM0w2OC4wMyA1MC41MUw2Ni42NSA1MC43Nkw2NS4yNSA1MC45N0w2My44NCA1MS4xNkw2Mi40MiA1MS4zMkw2MC45OCA1MS40NEw1OS41MyA1MS41NEw1OC4wNiA1MS42TDU2LjU4IDUxLjY0TDU1LjA5IDUxLjY0TDUzLjYgNTEuNjJMNTIuMTIgNTEuNTdMNTAuNjYgNTEuNDlMNDkuMjEgNTEuMzhMNDcuNzcgNTEuMjRMNDYuMzQgNTEuMDdMNDQuOTMgNTAuODhMNDMuNTMgNTAuNjZMNDIuMTUgNTAuNDFMNDAuNzggNTAuMTNMMzkuNDIgNDkuODJMMzguMDggNDkuNDlMMzYuNzUgNDkuMTJMMzUuNDMgNDguNzNMMzQuMTMgNDguMzFMMzIuODQgNDcuODZMMzEuNTYgNDcuMzlMMzAuMyA0Ni44OEwyOS4wNSA0Ni4zNUwyNy44MSA0NS43OUwyNi41OSA0NS4yTDI1LjM4IDQ0LjU4TDI0LjE4IDQzLjk0TDIzIDQzLjI2TDIxLjgzIDQyLjU2TDIwLjY4IDQxLjgzTDE5LjU0IDQxLjA3TDE4LjQxIDQwLjI5TDE3LjI5IDM5LjQ3TDE2LjE5IDM4LjYzTDE1LjEgMzcuNzZMMTQuMDMgMzYuODZMMTIuOTcgMzUuOTNMMTEuOTIgMzQuOTdMMTAuODkgMzMuOTlMOS44NyAzMi45OEw4Ljg2IDMxLjk0TDcuODYgMzAuODdMNi44OCAyOS43N0w1LjkyIDI4LjY0TDU1LjA5IDUuNjRMMTA0LjE1IDI3LjgyTDEwMy4xOSAyOS4wMVpNNTEuNzkgMTMuNjFMNTAuNTQgMTMuODhMNDkuMzMgMTQuMjVMNDguMTcgMTQuNzJMNDcuMDUgMTUuMjdMNDUuOTkgMTUuOTFMNDQuOTkgMTYuNjNMNDQuMDUgMTcuNDNMNDMuMTggMTguMzFMNDIuMzggMTkuMjRMNDEuNjUgMjAuMjVMNDEuMDEgMjEuMzFMNDAuNDYgMjIuNDJMMzkuOTkgMjMuNTlMMzkuNjIgMjQuOEwzOS4zNSAyNi4wNEwzOS4xOSAyNy4zM0wzOS4xMyAyOC42NEwzOS4xOSAyOS45NkwzOS4zNSAzMS4yNEwzOS42MiAzMi40OUwzOS45OSAzMy43TDQwLjQ2IDM0Ljg3TDQxLjAxIDM1Ljk4TDQxLjY1IDM3LjA0TDQyLjM4IDM4LjA0TDQzLjE4IDM4Ljk4TDQ0LjA1IDM5Ljg2TDQ0Ljk5IDQwLjY1TDQ1Ljk5IDQxLjM4TDQ3LjA1IDQyLjAyTDQ4LjE3IDQyLjU3TDQ5LjMzIDQzLjA0TDUwLjU0IDQzLjQxTDUxLjc5IDQzLjY4TDUzLjA3IDQzLjg0TDU0LjM5IDQzLjlMNTUuNyA0My44NEw1Ni45OSA0My42OEw1OC4yNCA0My40MUw1OS40NCA0My4wNEw2MC42MSA0Mi41N0w2MS43MiA0Mi4wMkw2Mi43OCA0MS4zOEw2My43OSA0MC42NUw2NC43MyAzOS44Nkw2NS42IDM4Ljk4TDY2LjQgMzguMDRMNjcuMTIgMzcuMDRMNjcuNzYgMzUuOThMNjguMzIgMzQuODdMNjguNzggMzMuN0w2OS4xNSAzMi40OUw2OS40MiAzMS4yNEw2OS41OCAyOS45Nkw2OS42NCAyOC42NEw2OS41OCAyNy4zM0w2OS40MiAyNi4wNEw2OS4xNSAyNC44TDY4Ljc4IDIzLjU5TDY4LjMyIDIyLjQyTDY3Ljc2IDIxLjMxTDY3LjEyIDIwLjI1TDY2LjQgMTkuMjRMNjUuNiAxOC4zMUw2NC43MyAxNy40M0w2My43OSAxNi42M0w2Mi43OCAxNS45MUw2MS43MiAxNS4yN0w2MC42MSAxNC43Mkw1OS40NCAxNC4yNUw1OC4yNCAxMy44OEw1Ni45OSAxMy42MUw1NS43IDEzLjQ1TDU0LjM5IDEzLjM5TDUzLjA3IDEzLjQ1TDUxLjc5IDEzLjYxWiIgaWQ9ImExcGtjZVVMNDQiPjwvcGF0aD4KICAgICAgICA8cGF0aCBkPSJNNjYuMTEgMjguODJDNjYuMTEgMzUuMzUgNjAuOCA0MC42NiA1NC4yNyA0MC42NkM0Ny43NCA0MC42NiA0Mi40MyAzNS4zNSA0Mi40MyAyOC44MkM0Mi40MyAyMi4yOSA0Ny43NCAxNi45OCA1NC4yNyAxNi45OEM2MC44IDE2Ljk4IDY2LjExIDIyLjI5IDY2LjExIDI4LjgyWiIgaWQ9ImRqWGR6bnhlSSI+PC9wYXRoPgogICAgPC9kZWZzPgogICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCw0MCkiPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsLTQwKSI+CiAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI2ExcGtjZVVMNDQiIG9wYWNpdHk9IjEiIGZpbGw9IiNkMmQyZDIiIGZpbGwtb3BhY2l0eT0iMSI+PC91c2U+CiAgICAgICAgPC9nPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsLTQwKSI+CiAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI2RqWGR6bnhlSSIgb3BhY2l0eT0iMSIgZmlsbD0iI2JmYmZiZiIgZmlsbC1vcGFjaXR5PSIxIj48L3VzZT4KICAgICAgICA8L2c+CiAgICAgICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIgogICAgICAgICAgICAgdHlwZT0ic2NhbGUiCiAgICAgICAgICAgICBhZGRpdGl2ZT0ic3VtIiAKICAgICAgICAgICAgIGZyb209IjEgMSIKICAgICAgICAgICAgIHRvPSIxIDEiCiAgICAgICAgICAgICBiZWdpbj0iMHMiCiAgICAgICAgICAgICBkdXI9IjFzIgogICAgICAgICAgICAgdmFsdWVzPSIxIDE7IDEgMTsgMSAwOyAxIDE7IDEgMTsgMSAwOyAxIDE7IDEgMDsgMSAxIgogICAgICAgICAgICAga2V5VGltZXM9IjA7IDAuMzsgMC40OyAwLjU7IDAuNzsgMC43NjsgMC44OyAwLjk7IDEiCiAgICAgICAgICAgICByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIKICAgICAgICAvPgogICAgPC9nPgo8L3N2Zz4="},ZnWx:function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,".metricprofiles-autocomplete-menu {\n  display: block;\n  width: 40%;\n  color: #495057;\n  position: absolute;\n  background-color: white;\n  z-index: 1000;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n  overflow-y: auto;\n  padding: 0;\n}\n\n.metricprofiles-autocomplete-entries {\n  list-style-type: none;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #495057;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n.metricprofiles-autocomplete-list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n}\n\n.metricprofiles-autocomplete-entries-highlighted {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  background-color: #4A90D9;\n  color: white;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n.ReactTable .rt-thead.-header {\n  box-shadow: none;\n}\n\n.ReactTable .-pagination {\n  box-shadow: none;\n}\n\n.ReactTable .-pagination select {\n  display: inline-block;\n  transition: background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;\n  width: 100%;\n  height: calc(1.5em + .75rem + 2px);\n  padding: .375rem 1.75rem .375rem .75rem;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #495057;\n  vertical-align: middle;\n  background: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e\") no-repeat right .75rem center/8px 10px;\n  background-color: rgba(0, 0, 0, 0);\n  background-color: #fff;\n  border: 1px solid #ced4da;\n  border-radius: .25rem;\n  border-top-left-radius: 0.25rem;\n  border-bottom-left-radius: 0.25rem;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n}\n",""])},acgP:function(e,t,a){var r=a("ZnWx");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},dLgX:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return r}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function r(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}}).call(this,a("8oxB"))},dtk8:function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,".bodyreact {\n  background-color: #ecf0f5;\n}\n.login-first-row {\n  margin-top: 10%;\n}\n#argo-loginheader {\n  background-color:#416090;\n}\n#argo-loginfooter {\n  background-color:#ffffff;\n}\n",""])},eVqg:function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,".group-operation {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n       appearance: none;\n  text-align: center;\n}\n\n.group-operation > select {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n       appearance: none;\n  text-align: center;\n}\n\n.aggregation-autocomplete-menu {\n  display: block;\n  width: 100%;\n  color: #495057;\n  position: absolute;\n  background-color: white;\n  z-index: 1000;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n  overflow-y: auto;\n}\n\n.aggregation-autocomplete-entries {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #495057;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n.aggregation-autocomplete-entries-highlighted {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  background-color: #4A90D9;\n  color: white;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n.aggregation-autocomplete-list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n}\n",""])},f1jT:function(e,t,a){"use strict";a.r(t);var r=a("q1tI"),n=a.n(r),c=a("i8i4"),i=a.n(c),o=a("o0o1"),s=a.n(o),l=a("yXPU"),u=a.n(l),m=a("J4zp"),p=a.n(m),d=a("pVnL"),f=a.n(d),g=a("QILm"),h=a.n(g),E=a("1Yj4"),v=a("ok1R"),b=a("rhny"),y=a("BLzl"),w=a("afej"),x=a("/kxI"),k=a("jrRI"),N=a("3OM0"),j=a("aLZG"),M=a("sOKU"),A=a("cZcL"),O=a("KYPV"),S=a("5tO7"),_=a.n(S),D=(a("ML16"),a("RIqP")),C=a.n(D),I=a("lSNA"),T=a.n(I),L=a("9ONQ"),z=a("DCcX"),P=a("vkoW"),U=a("CaDr"),Q=a("OBzv"),V=a("XI7o"),R=a("EvW+"),F=a("2Te1"),Y=a("tiWs"),B=a("374E"),H=a("a5/R"),W=a("nsn4"),q=a("9a8N"),G=a("F66N"),Z=a("iqOp"),J=a("YGfb"),K=a("arvA"),X=a("xdlx"),$=a("q7Gj"),ee=a("re1l"),te=a("0E8A"),ae=a("XAkp"),re=a("bAGh"),ne=a("TKOK"),ce=a("5Ves"),ie=a("55Ip"),oe=a("RYGk"),se=a.n(oe),le=a("uU5Y"),ue=a.n(le),me=a("hQ4L"),pe=a.n(me),de=(a("Pn3v"),a("IP2g")),fe=a("wHSu"),ge=a("of9s"),he=a("lwsE"),Ee=a.n(he),ve=a("W8MJ"),be=a.n(ve),ye=function(){function e(){Ee()(this,e)}var t,a,r,n,c,i,o;return be()(e,[{key:"isActiveSession",value:(o=u()(s.a.mark((function e(){var t,a,r=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(r.length>0&&void 0!==r[0])||r[0],e.prev=1,e.next=4,fetch("/api/v2/internal/sessionactive/".concat(t));case 4:if(!(a=e.sent).ok){e.next=9;break}return e.abrupt("return",a.json());case 9:return e.abrupt("return",!1);case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[1,12]])}))),function(){return o.apply(this,arguments)})},{key:"isTenantSchema",value:(i=u()(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v2/internal/istenantschema");case 3:if(!(t=e.sent).ok){e.next=11;break}return e.next=7,t.json();case 7:return a=e.sent,e.abrupt("return",a.isTenantSchema);case 11:return e.abrupt("return",null);case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),function(){return i.apply(this,arguments)})},{key:"fetchPublicToken",value:(c=u()(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v2/internal/public_apikey");case 3:if(!(t=e.sent).ok){e.next=11;break}return e.next=7,t.json();case 7:return a=e.sent,e.abrupt("return",a.token);case 11:return e.abrupt("return",null);case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),function(){return c.apply(this,arguments)})},{key:"fetchConfigOptions",value:(n=u()(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v2/internal/config_options");case 2:if(!(t=e.sent).ok){e.next=8;break}return e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"fetchData",value:(r=u()(s.a.mark((function e(t){var a,r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",e.prev=1,e.next=4,fetch(t);case 4:if(!(r=e.sent).ok){e.next=9;break}return e.abrupt("return",r.json());case 9:return e.prev=9,e.next=12,r.json();case 12:n=e.sent,a="".concat(r.status," ").concat(r.statusText,"; in fetch ").concat(t,"; ").concat(n.detail),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),a="".concat(r.status," ").concat(r.statusText,"; in fetch ").concat(t);case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(1),a="".concat(e.t1,"; in fetch ").concat(t);case 24:if(!a){e.next=26;break}throw Error(a);case 26:case"end":return e.stop()}}),e,null,[[1,21],[9,16]])}))),function(e){return r.apply(this,arguments)})},{key:"fetchListOfNames",value:(a=u()(s.a.mark((function e(t){var a,r,n,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",e.prev=1,e.next=4,fetch(t);case 4:if(!(r=e.sent).ok){e.next=14;break}return e.next=8,r.json();case 8:return n=e.sent,c=[],n.forEach((function(e){return c.push(e.name)})),e.abrupt("return",c);case 14:return e.prev=14,e.next=17,r.json();case 17:i=e.sent,a="".concat(r.status," ").concat(r.statusText,"; in fetch ").concat(t,"; ").concat(i.detail),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(14),a="".concat(r.status," ").concat(r.statusText,"; in fetch ").concat(t);case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(1),a="".concat(e.t1,"; in fetch ").concat(t);case 29:if(!a){e.next=31;break}throw Error(a);case 31:case"end":return e.stop()}}),e,null,[[1,26],[14,21]])}))),function(e){return a.apply(this,arguments)})},{key:"fetchResult",value:(t=u()(s.a.mark((function e(t){var a,r,n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",e.prev=1,e.next=4,fetch(t);case 4:if(!(r=e.sent).ok){e.next=12;break}return e.next=8,r.json();case 8:return n=e.sent,e.abrupt("return",n.result);case 12:return e.prev=12,e.next=15,r.json();case 15:c=e.sent,a="".concat(r.status," ").concat(r.statusText,"; in fetch ").concat(t,"; ").concat(c.detail),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(12),a="".concat(r.status," ").concat(r.statusText,"; in fetch ").concat(t);case 22:e.next=27;break;case 24:e.prev=24,e.t1=e.catch(1),a="".concat(e.t1,"; in fetch ").concat(t);case 27:if(!a){e.next=29;break}throw Error(a);case 29:case"end":return e.stop()}}),e,null,[[1,24],[12,19]])}))),function(e){return t.apply(this,arguments)})},{key:"changeObject",value:function(e,t){return this.send(e,"PUT",t)}},{key:"addObject",value:function(e,t){return this.send(e,"POST",t)}},{key:"deleteObject",value:function(e){return this.send(e,"DELETE")}},{key:"importMetrics",value:function(e){return this.send("/api/v2/internal/importmetrics/","POST",e)}},{key:"bulkDeleteMetrics",value:function(e){return this.send("/api/v2/internal/deletetemplates/","POST",e)}},{key:"send",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=new L.a;return fetch(e,{method:t,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":r.get("csrftoken"),Referer:"same-origin"},body:a&&JSON.stringify(a)})}}]),e}(),we=function(){function e(t){var a=t.token,r=void 0===a?void 0:a,n=t.metricProfiles,c=void 0===n?void 0:n,i=t.aggregationProfiles,o=void 0===i?void 0:i,s=t.thresholdsProfiles,l=void 0===s?void 0:s,u=t.operationsProfiles,m=void 0===u?void 0:u,p=t.reportsConfigurations,d=void 0===p?void 0:p;Ee()(this,e),this.token=r,this.metricprofiles=c,this.aggregationprofiles=o,this.thresholdsprofiles=l,this.operationsprofiles=m,this.reports=d}var t,a,r,n,c,i,o,l;return be()(e,[{key:"fetchProfiles",value:(l=u()(s.a.mark((function e(t){var a,r,n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",e.prev=1,e.next=4,fetch(t,{headers:{Accept:"application/json","x-api-key":this.token}});case 4:if(!(r=e.sent).ok){e.next=12;break}return e.next=8,r.json();case 8:return n=e.sent,e.abrupt("return",n.data);case 12:return e.prev=12,e.next=15,r.json();case 15:c=e.sent,a="".concat(r.status," ").concat(r.statusText,"; in fetch ").concat(t,"; ").concat(c.status.details),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(12),a="".concat(r.status," ").concat(r.statusText,"; in fetch ").concat(t);case 22:e.next=27;break;case 24:e.prev=24,e.t1=e.catch(1),a="".concat(e.t1,"; in fetch ").concat(t);case 27:if(!a){e.next=29;break}throw Error(a);case 29:case"end":return e.stop()}}),e,this,[[1,24],[12,19]])}))),function(e){return l.apply(this,arguments)})},{key:"fetchMetricProfiles",value:(o=u()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchProfiles(this.metricprofiles));case 1:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"fetchAggregationProfiles",value:(i=u()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchProfiles(this.aggregationprofiles));case 1:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"fetchOperationsProfiles",value:(c=u()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchProfiles(this.operationsprofiles));case 1:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"fetchReports",value:(n=u()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchProfiles(this.reports));case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"fetchMetricProfile",value:function(e){return this.fetchProfile("".concat(this.metricprofiles,"/").concat(e))}},{key:"fetchOperationProfile",value:(r=u()(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchOperationsProfiles();case 2:return a=e.sent,r={},a.forEach((function(e){e.name===t&&(r=e)})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"fetchReport",value:(a=u()(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchReports();case 2:return a=e.sent,r={},a.forEach((function(e){e.info.name===t&&(r=e)})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"fetchAggregationProfile",value:function(e){return this.fetchProfile("".concat(this.aggregationprofiles,"/").concat(e))}},{key:"fetchThresholdsProfile",value:function(e){return this.fetchProfile("".concat(this.thresholdsprofiles,"/").concat(e))}},{key:"changeAggregation",value:function(e){return this.changeProfile(this.aggregationprofiles,e)}},{key:"changeMetricProfile",value:function(e){return this.changeProfile(this.metricprofiles,e)}},{key:"changeThresholdsProfile",value:function(e){return this.changeProfile(this.thresholdsprofiles,e)}},{key:"addMetricProfile",value:function(e){return this.addProfile(this.metricprofiles,e)}},{key:"addAggregation",value:function(e){return this.addProfile(this.aggregationprofiles,e)}},{key:"addThresholdsProfile",value:function(e){return this.addProfile(this.thresholdsprofiles,e)}},{key:"deleteMetricProfile",value:function(e){return this.deleteProfile("".concat(this.metricprofiles,"/").concat(e))}},{key:"deleteAggregation",value:function(e){return this.deleteProfile("".concat(this.aggregationprofiles,"/").concat(e))}},{key:"deleteThresholdsProfile",value:function(e){return this.deleteProfile("".concat(this.thresholdsprofiles,"/").concat(e))}},{key:"fetchProfile",value:(t=u()(s.a.mark((function e(t){var a,r,n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",e.prev=1,e.next=4,fetch(t,{headers:{Accept:"application/json","x-api-key":this.token}});case 4:if(!(r=e.sent).ok){e.next=12;break}return e.next=8,r.json();case 8:return n=e.sent,e.abrupt("return",n.data[0]);case 12:return e.prev=12,e.next=15,r.json();case 15:c=e.sent,a=c.status.details?"".concat(r.status," ").concat(r.statusText,"; in fetch ").concat(t,"; ").concat(c.status.details):c.errors[0].details?"".concat(r.status," ").concat(r.statusText,"; in fetch ").concat(t,"; ").concat(c.errors[0].details):"".concat(r.status," ").concat(r.statusText,"; in fetch ").concat(t),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(12),a="".concat(r.status," ").concat(r.statusText,"; in fetch ").concat(t);case 22:e.next=27;break;case 24:e.prev=24,e.t1=e.catch(1),a="".concat(e.t1,"; in fetch ").concat(t);case 27:if(!a){e.next=29;break}throw Error(a);case 29:case"end":return e.stop()}}),e,this,[[1,24],[12,19]])}))),function(e){return t.apply(this,arguments)})},{key:"changeProfile",value:function(e,t){return this.send("".concat(e,"/").concat(t.id),"PUT",t)}},{key:"addProfile",value:function(e,t){return this.send(e,"POST",t)}},{key:"deleteProfile",value:function(e){return this.send(e,"DELETE")}},{key:"send",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return fetch(e,{method:t,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","x-api-key":this.token},body:a&&JSON.stringify(a)})}}]),e}(),xe=a("XNy0"),ke=a.n(xe),Ne=a("1h/R"),je=a.n(Ne),Me=function(e){var t=e.fromModal,a=void 0!==t&&t,r=window.location.hostname;return n.a.createElement((function(){return n.a.createElement(y.a,{className:"".concat(a?"":"ml-2 mb-2 border rounded")},n.a.createElement(w.a,null,n.a.createElement("h3",{className:"p-2"},"Cookie Policies")),n.a.createElement(x.a,null,n.a.createElement("h4",{className:"p-3"},"1. Purpose of this cookie policy"),n.a.createElement("p",null,'This Website uses technologies such as "cookies" and "pixel tags". By browsing the webpage, the User agrees to the creation and use of cookies.',n.a.createElement("br",null),"If User does not wish to consent to the use of cookies, User may either disable them or discontinue browsing this webpage.",n.a.createElement("br",null),"For the purpose of this Policy, the following terms shall have the following meaning:",n.a.createElement("br",null)),n.a.createElement("ul",null,n.a.createElement("li",null,'"Cookie" or "Cookies": Cookies are small text or message files sent from the server of an organization and stored on your computer. Cookies do not have access to data stored on your computer\'s hard disk or to Cookies placed by other websites, and they may not harm or damage your system.'),n.a.createElement("li",null,'"Persistence cookies" remain during multiple website visits and get stored on your hard disk.'),n.a.createElement("li",null,'"Session Cookies" are temporary cookies that disappear automatically after you leave a website;'),n.a.createElement("li",null,'"Third Party Cookies" are cookies used by the websites of our partners, as integrated in our own Website or used by websites we link to.')),n.a.createElement("h4",{className:"p-3"},"2. Which cookies are placed on your device when using our Website?"),n.a.createElement("p",null,"When you access and/or use the Website, we place one or more Cookies on your device for the purposes described herein. The following table and relevant information set out the cookies used for the Website. It also provides details of third parties setting cookies:"),n.a.createElement(ae.a,{responsive:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Cookie Type"),n.a.createElement("th",null,"Cookie Provider"),n.a.createElement("th",null,"Cookie Name"),n.a.createElement("th",null,"Third party cookie"),n.a.createElement("th",null,"Persistent or session Cookie"),n.a.createElement("th",null,"Purpose of cookie"))),n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,"Session State"),n.a.createElement("td",null,r),n.a.createElement("td",null,"JSESSIONID"),n.a.createElement("td",null,"No"),n.a.createElement("td",null,"Session"),n.a.createElement("td",null,"Preserve user session information")))),n.a.createElement("h4",{className:"p-3"},"3. How long are cookies stored on your device?"),n.a.createElement("p",null,'The duration for which a cookie will be stored on your browsing device depends on whether it is a "persistence" or a "session" cookie. Session cookies will be stored on a device until you turn off your web browser.',n.a.createElement("br",null),'"Persistence cookies" shall remain on your device after you have finished browsing until they expire or until they are deleted by you.'),n.a.createElement("h4",{className:"p-3"},"4. How can you disable cookies that have been placed on your device?"),n.a.createElement("p",null,'You can usually use your web browser to enable, disable, or delete cookies. To do so, follow the instructions provided for by your web browser (usually located in the "Help", "Tools" or "Edit" settings).',n.a.createElement("br",null),"You can also set your web browser to reject all cookies or to indicate when a cookie is being sent.")),n.a.createElement(A.a,null,n.a.createElement("p",{className:"font-italic"},"Cookies are important for identifying you, thereby enabling us to grant you access to the ARGO Monitoring service and other Infrastructure services and for optimizing your browsing experience.")))}),null)},Ae=a("VYKx"),Oe=["administration","probes","metrics","reports","servicetypes","metricprofiles","aggregationprofiles","thresholdsprofiles","operationsprofiles"],Se=["administration","tenants","yumrepos","packages","probes","metrictemplates"],_e=new Map;_e.set("administration","Administration"),_e.set("aggregationprofiles","Aggregation profiles"),_e.set("apikey","API key"),_e.set("groupofaggregations","Groups of aggregations"),_e.set("groupofmetricprofiles","Groups of metric profiles"),_e.set("groupofmetrics","Groups of metrics"),_e.set("groupofthresholdsprofiles","Groups of thresholds profiles"),_e.set("metricprofiles","Metric profiles"),_e.set("metrics","Metrics"),_e.set("metrictemplates","Metric templates"),_e.set("operationsprofiles","Operations profiles"),_e.set("packages","Packages"),_e.set("probes","Probes"),_e.set("public_aggregationprofiles","Public aggregation profiles"),_e.set("public_metricprofiles","Public metric profiles"),_e.set("public_metrics","Public metrics"),_e.set("public_metrictemplates","Public metric templates"),_e.set("public_operationsprofiles","Public operations profiles"),_e.set("cookiepolicies","Cookie policies"),_e.set("public_probes","Public probes"),_e.set("public_thresholdsprofiles","Public thresholds profiles"),_e.set("reports","Reports"),_e.set("servicetypes","Service types"),_e.set("public_servicetypes","Public service types"),_e.set("tenants","Tenants"),_e.set("thresholdsprofiles","Thresholds profiles"),_e.set("users","Users"),_e.set("yumrepos","YUM repos");var De=new Map;De.set("egi","https://argo.egi.eu/egi/policies"),De.set("eudat","https://avail.eudat.eu/eudat/policies"),De.set("sdc","https://monitoring.seadatanet.org/sdc/policies"),De.set("ni4os","https://argo.ni4os.eu/ni4os/policies");var Ce=function(e){var t=new Map;return t.set("administration",fe.E),t.set("serviceflavour",fe.n),t.set("servicetypes",fe.n),t.set("reports",fe.k),t.set("probes",fe.w),t.set("metrics",fe.g),t.set("metrictemplates",fe.g),t.set("metricprofiles",fe.h),t.set("aggregationprofiles",fe.A),t.set("apikey",fe.q),t.set("yumrepos",fe.c),t.set("thresholdsprofiles",fe.j),t.set("users",fe.D),t.set("packages",fe.b),t.set("tenants",fe.o),t.set("operationsprofiles",fe.z),t.set("policies",fe.l),t.set("terms",fe.m),t.set("argodoc",fe.r),t.set("documentation",fe.a),t.set("privacy",fe.t),e.i.startsWith("groupof")?n.a.createElement("span",{className:"fa-layers fa-fw"},n.a.createElement(de.a,{icon:fe.y,color:"white",fixedWidth:!0}),n.a.createElement(de.a,{icon:t.get(e.i.replace("groupof","")),transform:"shrink-".concat("groupofmetricprofiles"===e.i?9:8," up-3")}),n.a.createElement(de.a,{icon:t.get(e.i.replace("groupof","")),transform:"shrink-".concat("groupofmetricprofiles"===e.i?9:8," down-4.2 left-5")}),n.a.createElement(de.a,{icon:t.get(e.i.replace("groupof","")),transform:"shrink-".concat("groupofmetricprofiles"===e.i?9:8," down-4.2 right-5")})):n.a.createElement(de.a,{icon:t.get(e.i),size:"yumrepos"===e.i||"metricprofiles"===e.i?"sm":"1x",fixedWidth:!0})},Ie=function(e){var t=e.field,a=e.data,r=void 0===a?[]:a,c=e.prefix,i=void 0===c?"":c,o=e.class_name,s=void 0===o?"":o,l=e.isnew,u=void 0!==l&&l,m=e.errors,p=void 0===m?void 0:m;return n.a.createElement(O.a,{component:"select",name:i?"".concat(i,".").concat(t.name):t.name,required:!0,className:"form-control ".concat(s," ").concat(u?"border-success":"".concat(p&&p[t.name]?"border-danger":""))},r.map((function(e,t){return 0===t?n.a.createElement("option",{key:t,value:"",hidden:!0,color:"text-muted"},e):n.a.createElement("option",{key:t,value:e},e)})))},Te=function(e){e.form;var t=e.field,a=h()(e,["form","field"]);return n.a.createElement("div",{className:"input-group"},n.a.createElement("input",f()({type:"text",placeholder:"Search"},t,a)),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("span",{className:"input-group-text",id:"basic-addon"},n.a.createElement(de.a,{icon:fe.v}))))},Le=function(){var e=u()(s.a.mark((function e(t,a){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new L.a,a(),e.next=4,fetch("/rest-auth/logout/",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":r.get("csrftoken"),Referer:"same-origin"}});case 4:e.sent.ok&&t.push("/ui/login");case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ze=function(e){var t=e.isOpen,a=e.toggle,r=e.title,c=e.msg,i=e.onYes;return n.a.createElement(z.a,{isOpen:t,toggle:a},n.a.createElement(P.a,{toggle:a},r),n.a.createElement(U.a,null,c),n.a.createElement(Q.a,null,n.a.createElement(M.a,{color:"primary",onClick:function(){i(),a()}},"Yes")," ",n.a.createElement(M.a,{color:"secondary",onClick:a},"No")))},Pe=function(e){var t=e.location,a=(e.history,e.publicView),r=void 0!==a&&a,c=new Array,i=new Array,o=new Object;if(i.push({url:"/ui/".concat(r?"public_":"","home"),title:"Home"}),c=r?window.location.pathname.split("/"):t.pathname.split("/"),o.url="/ui/"+c[2],o.title=_e.get(c[2]),i.push(o),c.length>3){var s=new Object({url:o.url+"/"+c[3]});s.title="Administration"===o.title?_e.get(c[3]):c[3],i.push(s)}if(c.length>4){var l=new Object({url:s.url+"/"+c[4]});l.title=c[4],i.push(l)}if(c.length>5){var u=new Object({url:l.url+"/"+c[5]});u.title=c[5],i.push(u)}if(c.length>6&&"history"===u.title){var m=new Object({url:u.url+"/"+c[6]});m.title=c[6],i.push(m)}return n.a.createElement(V.a,{id:"argo-breadcrumb",className:"border-top rounded"},i.map((function(e,t){return t!==i.length-1?n.a.createElement(R.a,{key:t},n.a.createElement(ie.b,{to:e.url},e.title)):n.a.createElement(R.a,{key:t,active:!0},e.title)})))},Ue=function(e){var t=e.userDetails,a=e.isTenantSchema,r=e.publicView,c=function(e){var t=e.only;return void 0!==t&&t?n.a.createElement("div",{className:"text-center"},n.a.createElement(F.a,{color:"dark",className:"mb-1 mt-1",style:{fontSize:"100%"}},"No permissions")):n.a.createElement(F.a,{color:"dark",className:"mb-1 mt-1"},"No permissions")},i=function(e){var t=e.name;return n.a.createElement("span",null,n.a.createElement(F.a,{color:"primary",className:"mb-1 mt-1"},t)," ")},o=function(){return n.a.createElement("div",null,n.a.createElement("hr",{style:{borderTop:"1px solid black"}}))};return r?n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement(F.a,{color:"warning",style:{fontSize:"100%"},pill:!0},"Anonymous User")),n.a.createElement(o,null),n.a.createElement(c,{only:!0})):n.a.createElement("div",null,n.a.createElement("div",{className:"text-center"},t.is_superuser?n.a.createElement(F.a,{color:"danger",className:"mt-2 mb-2",style:{fontSize:"100%"},pill:!0},a?"Tenant Admin":"Super Admin"):n.a.createElement(F.a,{color:"success",className:"mt-2 mb-2",style:{fontSize:"100%"},pill:!0},"Tenant User")),t.first_name&&n.a.createElement("div",{className:"text-center"},n.a.createElement("b",null,t.first_name," ",t.last_name)),n.a.createElement("div",{className:"text-center text-primary"},t.first_name?null:n.a.createElement("br",null),t.email),t.is_superuser?null:function(e){var t=!1;for(var a in e)if(e[a].length>0){t=!0;break}return t}(t.groups)?n.a.createElement("div",null,n.a.createElement(o,null),n.a.createElement("div",{className:"text-left"},"Aggregation profiles:",n.a.createElement("br",null),t.groups.aggregations.length>0?t.groups.aggregations.map((function(e,t){return n.a.createElement(i,{name:e,key:t})})):n.a.createElement(c,null)),n.a.createElement("div",{className:"text-left"},"Metrics:",n.a.createElement("br",null),t.groups.metrics.length>0?t.groups.metrics.map((function(e,t){return n.a.createElement(i,{name:e,key:t})})):n.a.createElement(c,null)),n.a.createElement("div",{className:"text-left"},"Metric profiles:",n.a.createElement("br",null),t.groups.metricprofiles.length>0?t.groups.metricprofiles.map((function(e,t){return n.a.createElement(i,{name:e,key:t})})):n.a.createElement(c,null)),n.a.createElement("div",{className:"text-left"},"Thresholds profiles:",n.a.createElement("br",null),t.groups.thresholdsprofiles.length>0?t.groups.thresholdsprofiles.map((function(e,t){return n.a.createElement(i,{name:e,key:t})})):n.a.createElement(c,null))):n.a.createElement("div",null,n.a.createElement(o,null),n.a.createElement(c,{only:!0})))},Qe=function(e){var t=e.history,a=e.onLogout,c=e.isOpenModal,i=e.toggle,o=e.titleModal,s=e.msgModal,l=e.userDetails,u=e.isTenantSchema,m=e.publicView,d=Object(r.useState)(!1),f=p()(d,2),g=f[0],h=f[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement(ze,{isOpen:c,toggle:i,title:o,msg:s,onYes:function(){return Le(t,a)}}),n.a.createElement(Y.a,{expand:"md",id:"argo-nav",className:"border rounded"},n.a.createElement(B.a,{className:"text-light"},n.a.createElement("img",{src:_.a,alt:"ARGO logo",className:"img-responsive"}),n.a.createElement("span",{className:"pl-3"},n.a.createElement("strong",null,"ARGO")," POEM")),n.a.createElement(H.a,null),n.a.createElement(W.a,{navbar:!0,className:"justify-content-end"},n.a.createElement(q.a,{navbar:!0},n.a.createElement(G.a,{className:"m-2 ml-5 text-light"},"Welcome, ",n.a.createElement("span",{onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)},className:"font-weight-bold",href:"#",id:"userToolTip"},n.a.createElement(F.a,{href:"#",color:"dark",style:{fontSize:"100%"}},l.first_name?l.first_name:l.username)),n.a.createElement(Z.a,{style:{opacity:.9},placement:"bottom",isOpen:g,target:"userToolTip",toggle:function(){return h(!g)}},n.a.createElement(J.a,null,n.a.createElement(Ue,{userDetails:l,isTenantSchema:u,publicView:m})))),n.a.createElement(G.a,{className:"m-2"},n.a.createElement(M.a,{id:"argo-navbar-logout",size:"sm",onClick:function(){return i()}},n.a.createElement(de.a,{icon:fe.x})))))))},Ve=function(e){var t,a=e.border,c=void 0!==a&&a,i=e.publicPage,o=void 0!==i&&i,s=e.tenantName,l=void 0===s?"egi":s,u=Object(r.useState)(!1),m=p()(u,2),d=m[0],f=m[1],g=function(){return f(!d)};return n.a.createElement(n.a.Fragment,null,c&&n.a.createElement("div",{className:"pt-1"}),n.a.createElement("div",{className:"text-center pt-0 pb-2"},n.a.createElement("img",{src:ue.a,id:"eulogo",alt:"EU logo"}),n.a.createElement("img",{src:pe.a,id:"eosclogo",alt:"EOSC logo",className:"pl-1"})),n.a.createElement("p",{className:"text-center ".concat(o?"mb-0":"mb-0 pb-1")},n.a.createElement("small",null,n.a.createElement("strong",null,"ARGO POEM")," is a service jointly developed and maintained by  ",n.a.createElement("a",{href:"http://www.cnrs.fr/",title:"Centre national de la recherche scientifique"},"CNRS"),",  ",n.a.createElement("a",{href:"https://grnet.gr/",title:"Greek Research and Technology Network"},"GRNET")," and  ",n.a.createElement("a",{href:"http://www.srce.unizg.hr/",title:"University computing centre"},"SRCE"),"  co-funded by ",n.a.createElement("a",{href:"https://www.eosc-hub.eu",title:"EOSC-Hub"},"EOSC-Hub")," and  ",n.a.createElement("a",{href:"http://www.egi.eu/",title:"EGI.eu"},"EGI.eu"))),o&&n.a.createElement("div",{className:"text-center mb-0 pt-0"},n.a.createElement("small",null,n.a.createElement("a",{href:"https://ui.argo.grnet.gr/egi/termsofUse",target:"_blank",rel:"noopener noreferrer",title:"Terms"},"Terms"),",  ",n.a.createElement("a",{href:"#",title:"Cookie Policies",onClick:g},"Cookie Policies"),",  ",n.a.createElement("a",(t={href:"#",title:"Privacy Policy"},T()(t,"href",l?De.get(l.toLowerCase()):De.get("egi")),T()(t,"target","_blank"),T()(t,"rel","noopener noreferrer"),t),"Privacy Policy")),n.a.createElement(z.a,{isOpen:d,toggle:g,size:"lg"},n.a.createElement(U.a,{className:"p-0"},n.a.createElement(Me,{fromModal:!0})))))},Re=function(e){var t=e.loginPage,a=void 0!==t&&t,r=e.publicPage,c=void 0!==r&&r,i=e.tenantName,o=void 0===i?"egi":i;return a?n.a.createElement("div",{id:"argo-loginfooter"},n.a.createElement(Ve,{publicPage:!0,tenantName:o})):n.a.createElement("div",{id:"argo-footer",className:"border rounded"},n.a.createElement(Ve,{border:!0,publicPage:c,tenantName:o}))},Fe=function(){return n.a.createElement(v.a,{className:"ml-2 mr-1 border rounded",style:{height:"90%",backgroundColor:"white"}},n.a.createElement(b.a,{className:"d-flex flex-column align-items-center align-self-center",md:{size:8,offset:2}},n.a.createElement(y.a,{className:"text-center border-0"},n.a.createElement(w.a,{className:"bg-light"},n.a.createElement("h4",{className:"text-dark"},"Loading data...")),n.a.createElement(x.a,null,n.a.createElement("img",{src:se.a,alt:"ARGO logo anim",className:"img-responsive",height:"400px"})))))},Ye=function(e){var t=e.msg,a=void 0===t?"":t,r=e.title,n=void 0===r?"":r,c=e.callback,i=void 0===c?void 0:c;ge.NotificationManager.success(a,n,2e3),setTimeout(i,2e3)},Be=function(e){var t=e.msg,a=void 0===t?"":t,r=e.title,c=void 0===r?"":r;a=n.a.createElement("div",null,n.a.createElement("p",null,a),n.a.createElement("p",null,"Click to dismiss.")),ge.NotificationManager.error(a=a,c,0,(function(){return!0}))},He=function(e){var t=e.msg,a=void 0===t?"":t,r=e.title,c=void 0===r?"":r;a=n.a.createElement("div",null,n.a.createElement("p",null,a),n.a.createElement("p",null,"Click to dismiss.")),ge.NotificationManager.warning(a,c,0,(function(){return!0}))},We=function(e){var t=e.msg,a=void 0===t?"":t,r=e.title,c=void 0===r?"":r;a=n.a.createElement("div",null,n.a.createElement("p",null,a),n.a.createElement("p",null,"Click to dismiss.")),ge.NotificationManager.info(a,c,0,(function(){return!0}))},qe=function(e){var t=e.tenantName,a=void 0===t?void 0:t,r=e.children;return n.a.createElement(E.a,{fluid:!0},n.a.createElement(v.a,null,n.a.createElement(b.a,null,n.a.createElement(Qe,{history:void 0,onLogout:void 0,isOpenModal:void 0,toggle:function(){},titleModal:"Log out",msgModal:"Are you sure you want to log out?",userDetails:{username:"Anonymous"},publicView:!0}))),n.a.createElement(v.a,{className:"no-gutters"},n.a.createElement(b.a,null,n.a.createElement(Pe,{publicView:!0}),r)),n.a.createElement(v.a,null,n.a.createElement(b.a,null,a?n.a.createElement(Re,{loginPage:!1,publicPage:!0,tenantName:a}):n.a.createElement(Re,{loginPage:!1,publicPage:!0}))))},Ge=function(e){var t=e.resourcename,a=void 0===t?"":t,r=e.location,c=void 0===r?void 0:r,i=e.infoview,o=void 0!==i&&i,s=e.addview,l=void 0!==s&&s,u=e.listview,m=void 0!==u&&u,p=e.modal,d=void 0!==p&&p,f=e.state,g=void 0===f?void 0:f,h=e.toggle,E=void 0===h?void 0:h,v=e.submitperm,b=void 0===v||v,y=e.history,w=void 0===y||y,x=e.addnew,k=void 0===x||x,N=e.clone,A=void 0!==N&&N,O=e.cloneview,S=void 0!==O&&O,_=e.tenantview,D=void 0!==_&&_,C=e.publicview,I=void 0!==C&&C,T=e.addperm,L=void 0===T||T,z=e.children;return n.a.createElement(n.a.Fragment,null,d&&n.a.createElement(ze,{isOpen:g.areYouSureModal,toggle:E,title:g.modalTitle,msg:g.modalMsg,onYes:g.modalFunc}),n.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},o?n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},a):l?n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Add ".concat(a)):m?n.a.createElement(n.a.Fragment,null,k?n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Select ".concat(a," to change")):n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Select ".concat(a," for details")),k&&L&&n.a.createElement(ie.b,{className:"btn btn-secondary",to:c.pathname+"/add",role:"button"},"Add"),k&&!L&&n.a.createElement(M.a,{className:"btn btn-secondary",onClick:function(){return Be({title:"Not allowed",msg:"You do not have permission to add ".concat(a,".")})}},"Add")):S?n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Clone ".concat(a))):D||I?n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},a),w&&n.a.createElement(ie.b,{className:"btn btn-secondary",to:c.pathname+"/history",role:"button"},"History")):n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Change ".concat(a)),n.a.createElement(X.a,null,A&&!I&&n.a.createElement(ie.b,{className:"btn btn-secondary mr-2",to:c.pathname+"/clone",role:"button"},"Clone"),w&&!I&&n.a.createElement(ie.b,{className:"btn btn-secondary",to:c.pathname+"/history",role:"button"},"History")))),n.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},!b&&!o&&!m&&!I&&n.a.createElement(j.a,{color:"danger"},n.a.createElement("center",null,"This is a read-only instance, please request the corresponding permissions to perform any changes in this form.")),z))},Ze=function(e){var t=e.field,a=t.name,r=t.value,c=t.onChange,i=t.onBlur,o=e.form,s=o.errors,l=o.touched,u=e.id,m=e.label;h()(e,["field","form","id","label"]);return n.a.createElement("div",null,n.a.createElement("input",{name:a,id:u,type:"checkbox",value:r,checked:r,onChange:c,onBlur:i}),n.a.createElement("label",{htmlFor:u},m),l[a]&&s[a]&&n.a.createElement("div",{className:"error"},s[a]))},Je=function(e){return n.a.createElement("div",{style:{color:"#FF0000",fontSize:"small"}},e)},Ke=function(e){var t=e.setFieldValue,a=e.lists,c=void 0===a?[]:a,i=e.val,o=void 0===i?"":i,s=e.icon,l=e.field,u=e.req,m=e.label,d=e.onselect_handler,g=Object(r.useState)(o),h=p()(g,2),E=h[0],v=h[1],b=Object(r.useState)(c),y=p()(b,2),w=y[0],x=y[1];return n.a.createElement("div",null,n.a.createElement(je.a,{suggestions:w,onSuggestionsClearRequested:function(){return x([])},onSuggestionsFetchRequested:function(e){var t=e.value;v(t),x(function(e){return c.filter((function(t){return t.toLowerCase().includes(e.trim().toLowerCase())}))}(t))},getSuggestionValue:function(e){return e},renderSuggestion:function(e,t){var a=t.isHighlighted;return n.a.createElement("div",{key:c.indexOf(e),className:"argo-autocomplete-entries ".concat(a?"argo-autocomplete-entries-highlighted":"")},e?n.a.createElement(Ce,{i:s}):""," ",e)},inputProps:{value:E,onChange:function(e,a){var r=a.newValue;v(r),t(l,r),d(l,r)}},renderInputComponent:function(e){return m?n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},m)),n.a.createElement("input",f()({},e,{type:"text",className:"form-control ".concat(u&&"border-danger"),"aria-label":"label"}))):n.a.createElement("input",f()({},e,{type:"text",className:"form-control"}))},shouldRenderSuggestions:function(){return!0},theme:{containerOpen:"argo-autocomplete-menu",suggestionsList:"argo-autocomplete-list"}}))},Xe=function(e){var t=e.match.params.name,a=e.history,c=e.publicView,i=e.tenantView,o=e.object,l=Object(r.useState)(!1),m=p()(l,2),d=m[0],f=m[1],g=Object(r.useState)(null),h=p()(g,2),E=h[0],v=h[1],b=Object(r.useState)(""),y=p()(b,2),w=y[0],x=y[1],k=Object(r.useState)(""),N=p()(k,2),j=N[0],A=N[1],O=Object(r.useState)(null),S=p()(O,2),_=S[0],D=S[1],C=void 0;C=["metric","metricprofile","aggregationprofile","thresholdsprofile"].includes(o)?"/api/v2/internal/".concat(c?"public_":"","tenantversion/"):"/api/v2/internal/".concat(c?"public_":"","version/");var I="/ui/".concat(i?"administration/":"").concat(c?"public_":"").concat(o,"s/").concat(t,"/history"),T=new ye;return Object(r.useEffect)((function(){function e(){return(e=u()(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.fetchData("".concat(C,"/").concat(o,"/").concat(t));case 3:a=e.sent,v(a),a.length>1&&(x(a[0].version),A(a[1].version)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),D(e.t0);case 11:f(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}f(!0),function(){e.apply(this,arguments)}()}),[]),d?n.a.createElement(Fe,null):_?n.a.createElement(tt,{error:_}):!d&&E?n.a.createElement(Ge,{resourcename:"Version history",infoview:!0},n.a.createElement("table",{className:"table table-sm"},n.a.createElement("thead",{className:"table-active"},n.a.createElement("tr",null,1===E.length?n.a.createElement("th",{scope:"col"},"Compare"):n.a.createElement("th",{scope:"col"},n.a.createElement(M.a,{color:"info",onClick:function(){return a.push("".concat(I,"/compare/").concat(w,"/").concat(j))}},"Compare")),n.a.createElement("th",{scope:"col"},"Version"),n.a.createElement("th",{scope:"col"},"Date/time"),n.a.createElement("th",{scope:"col"},"User"),n.a.createElement("th",{scope:"col"},"Comment"))),n.a.createElement("tbody",null,E.map((function(e,t){return n.a.createElement("tr",{key:t},1===E.length?n.a.createElement("td",null,"-"):0===t?n.a.createElement("td",null,n.a.createElement("input",{type:"radio",name:"radio-1",value:e.version,defaultChecked:!0,onChange:function(e){return x(e.target.value)}})):n.a.createElement("td",null,n.a.createElement("input",{type:"radio",name:"radio-1",value:e.version,onChange:function(e){return x(e.target.value)}})," ",n.a.createElement("input",{type:"radio",name:"radio-2",value:e.version,defaultChecked:1===t,onChange:function(e){return A(e.target.value)}})),n.a.createElement("td",null,e.version?n.a.createElement(ie.b,{to:"".concat(I,"/").concat(e.version)},e.version):""),n.a.createElement("td",null,e.date_created?e.date_created:""),n.a.createElement("td",null,e.user?e.user:""),n.a.createElement("td",{className:"col-md-6"},e.comment?e.comment:""))}))))):null},$e=function(e){var t=e.title,a=e.item1,r=e.item2;Array.isArray(a)||Array.isArray(r)||(a=a.split("\r\n"),r=r.split("\r\n"));var c=Math.max(a.length,r.length);if(a.length>r.length)for(var i=r.length;i<a.length;i++)r.push(" ");else if(r.length>a.length)for(var o=a.length;o<r.length;o++)a.push(" ");for(var s=[],l=0;l<c;l++)s.push(n.a.createElement(ke.a,{oldValue:r[l],newValue:a[l],showDiffOnly:!0,splitView:!1,hideLineNumbers:!0,disableWordDiff:!0,key:"diff-"+l}));return n.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},n.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},t),s)},et=function(e){var t=e.errors,a=e.grouplist,r=void 0===a?void 0:a,c=e.description,i=void 0===c?void 0:c,o=e.fieldsdisable,s=void 0!==o&&o,l=e.profiletype,u=void 0===l?void 0:l;return n.a.createElement(k.a,null,n.a.createElement(v.a,null,n.a.createElement(b.a,{md:6},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Name"),n.a.createElement(O.a,{type:"text",name:"name",className:"form-control form-control-lg ".concat(t.name&&"border-danger"),disabled:s})),t.name&&Je(t.name),n.a.createElement(te.a,{color:"text-muted"},"Name of ".concat(u," profile")))),i&&n.a.createElement(v.a,{className:"mt-3"},n.a.createElement(b.a,{md:10},n.a.createElement(N.a,{for:"profileDescription"},"Description:"),n.a.createElement(O.a,{id:"profileDescription",className:"form-control",component:"textarea",name:i,disabled:s}),n.a.createElement(te.a,{color:"muted"},"Free text description outlining the purpose of this profile."))),n.a.createElement(v.a,{className:"mt-4"},n.a.createElement(b.a,{md:3},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Group"),s?n.a.createElement(O.a,{type:"text",name:"groupname",className:"form-control",disabled:!0}):n.a.createElement(O.a,{name:"groupname",component:"select",className:"form-control custom-select ".concat(t.groupname&&"border-danger")},n.a.createElement("option",{key:0,value:"",hidden:!0,color:"text-muted"},"Select group"),r.map((function(e,t){return n.a.createElement("option",{key:t+1,value:e},e)})))),t.groupname&&Je(t.groupname),n.a.createElement(te.a,{color:"muted"},"".concat(u.charAt(0).toUpperCase()+u.slice(1)," profile is member of given group.")))))},tt=function(e){var t=e.error,a=[];return t.toString().split("; ").forEach((function(e,t){0===t?a.push(n.a.createElement("h3",{key:t},e)):a.push(n.a.createElement("p",{key:t},e))})),n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Something went wrong"),a)},at=function(e){var t=e.title;return n.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-uppercase rounded",style:{backgroundColor:"#c4ccd4"}},t)},rt=function(e){var t=e.column,a=t.filterValue,r=t.setFilter;return n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{className:"form-control",type:"text",placeholder:"Search",value:a||"",onChange:function(e){r(e.target.value||void 0)}}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("span",{className:"input-group-text",id:"basic-addon"},n.a.createElement(de.a,{icon:fe.v}))))},nt=function(e){var t=e.column,a=t.filterValue,r=t.setFilter,c=t.filterList,i=n.a.useMemo((function(){return c}));return n.a.createElement("select",{className:"form-control custom-select",style:{width:"100%"},value:a,onChange:function(e){return r(e.target.value||void 0)}},n.a.createElement("option",{value:""},"Show all"),i.map((function(e,t){return n.a.createElement("option",{key:t,value:e},e)})))};function ct(e){var t=e.columns,a=e.data,r=e.resourcename,c=e.page_size,i=e.filter,o=void 0!==i&&i,s=e.selectable,l=void 0!==s&&s,u=n.a.useMemo((function(){return{centering:!1}}),[]),m=Object(Ae.useTable)({columns:t,data:a,initialState:{pageIndex:0,pageSize:c},defaultColumn:u},Ae.useFilters,Ae.usePagination),p=m.headerGroups,d=m.prepareRow,f=m.page,g=m.canPreviousPage,h=m.canNextPage,E=m.pageCount,y=m.gotoPage,w=m.nextPage,x=m.previousPage,k=m.setPageSize,N=m.state,j=N.pageIndex,M=N.pageSize,A=0;f.length%M>0&&(A=M-f.length%M);var O=void 0;if(0===f.length){var S=Math.ceil(M/2);O=n.a.createElement("tbody",null,C()(Array(M)).map((function(e,a){return n.a.createElement("tr",{key:a},a===S-1?n.a.createElement("td",{colSpan:t.length,style:{height:"49px"},className:"align-middle text-center text-muted"},"No ".concat(r)):C()(Array(t.length)).map((function(e,t){return n.a.createElement("td",{style:{height:"49px"},key:t,className:"align-middle"},"")})))})))}else O=n.a.createElement("tbody",null,f.map((function(e,t){return d(e),n.a.createElement("tr",{key:t,style:{height:"49px"}},e.cells.map((function(e,a){return 0!==a||l?n.a.createElement("td",{key:a,className:"align-middle"},e.render("Cell")):n.a.createElement("td",{key:a,className:"align-middle text-center"},t+1+j*M)})))})),C()(Array(A)).map((function(e,a){return n.a.createElement("tr",{key:f.length+a,style:{height:"49px"}},C()(Array(t.length)).map((function(e,t){return n.a.createElement("td",{key:t,className:"align-middle"},"")})))})));return n.a.createElement(n.a.Fragment,null,n.a.createElement(v.a,null,n.a.createElement(b.a,null,n.a.createElement(ae.a,{className:"table table-bordered table-hover"},n.a.createElement("thead",{className:"table-active align-middle text-center"},p.map((function(e,t){return n.a.createElement(n.a.Fragment,{key:t},n.a.createElement("tr",null,e.headers.map((function(e,t){return n.a.createElement("th",{style:{width:e.column_width},className:"p-1 m-1",key:t},e.render("Header"))}))),o&&n.a.createElement("tr",{className:"p-0 m-0"},e.headers.map((function(e,t){return 0===t?l?n.a.createElement("th",{className:"p-1 m-1 align-middle",key:t+11},e.render("Filter")):n.a.createElement("th",{className:"p-1 m-1 align-middle",key:t+11},n.a.createElement(de.a,{icon:fe.v})):n.a.createElement("th",{className:"p-1 m-1",key:t+11},e.canFilter?e.render("Filter"):null)}))))}))),O))),n.a.createElement(v.a,null,n.a.createElement(b.a,{className:"d-flex justify-content-center"},n.a.createElement(re.a,null,n.a.createElement(ne.a,{disabled:!g},n.a.createElement(ce.a,{first:!0,onClick:function(){return y(0)}})),n.a.createElement(ne.a,{disabled:!g},n.a.createElement(ce.a,{previous:!0,onClick:function(){return x()}})),C()(Array(E)).map((function(e,t){return n.a.createElement(ne.a,{key:t,active:j===t},n.a.createElement(ce.a,{onClick:function(){return y(t)}},t+1))})),n.a.createElement(ne.a,{disabled:!h},n.a.createElement(ce.a,{next:!0,onClick:function(){return w()}})),n.a.createElement(ne.a,{disabled:!h},n.a.createElement(ce.a,{last:!0,onClick:function(){return y(E-1)}})),n.a.createElement(ne.a,{className:"pl-2"},n.a.createElement("select",{style:{width:"180px"},className:"custom-select text-primary",value:M,onChange:function(e){return k(Number(e.target.value))}},[5,10,15,20,30,50,100].map((function(e){return n.a.createElement("option",{key:e,value:e},e," ","".concat(r))}))))))))}var it=function(e){var t=e.columns,a=e.data,r=e.type;return n.a.createElement(ct,{columns:t,data:a,resourcename:"".concat(r," profiles"),page_size:10})},ot=function(e){var t=!1,a=Object(r.useState)(null),c=p()(a,2),i=c[0],o=c[1],l=Object(r.useState)(!1),m=p()(l,2),d=m[0],f=m[1],g=Object(r.useState)(null),h=p()(g,2),S=h[0],D=h[1],C=Object(r.useState)(null),I=p()(C,2),T=I[0],L=I[1],z=Object(r.useState)(!1),P=p()(z,2),U=P[0],Q=P[1],V=new ye,R=e.onLogin;function F(){return Y.apply(this,arguments)}function Y(){return(Y=u()(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v2/internal/config_options");case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),alert("Something went wrong: ".concat(e.t0));case 13:case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function B(e,t){return H.apply(this,arguments)}function H(){return(H=u()(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/rest-auth/login/",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json",Referer:"same-origin"},body:JSON.stringify({username:t,password:a})});case 2:return e.sent,e.abrupt("return",V.isActiveSession(S));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){function e(){return(e=u()(s.a.mark((function e(){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.isTenantSchema();case 2:if(!(a=e.sent)){e.next=11;break}return e.next=6,F();case 6:r=e.sent,t&&(D(a),o(r.result.saml_login_string),L(r.result.tenant_name)),e.next=12;break;case 11:t&&D(a);case 12:Q(!1);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t=!0,Q(!0),function(){e.apply(this,arguments)}(),function(){t=!1}}),[]),null===S||U?null!==S||U?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Something went wrong"),n.a.createElement("p",null,"Cannot obtain schema")):n.a.createElement(E.a,null,n.a.createElement(v.a,{className:"login-first-row"},n.a.createElement(b.a,{sm:{size:4,offset:4}},n.a.createElement(y.a,null,n.a.createElement(w.a,{id:"argo-loginheader",className:"d-sm-inline-flex align-items-center justify-content-around"},n.a.createElement("img",{src:_.a,id:"argologo",alt:"ARGO logo"}),n.a.createElement("h4",{className:"text-light"},n.a.createElement("strong",null,"ARGO")," POEM")),n.a.createElement(x.a,null,n.a.createElement(O.d,{initialValues:{username:"",password:""},onSubmit:function(){var e=u()(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t.username,t.password);case 2:(a=e.sent).active?R(a.userdetails):f(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},n.a.createElement(O.c,null,n.a.createElement(k.a,null,n.a.createElement(N.a,{for:"username"},"Username: "),n.a.createElement(O.a,{name:"username",className:"form-control"})),n.a.createElement(k.a,null,n.a.createElement(N.a,{for:"password"},"Password: "),n.a.createElement(O.a,{name:"password",className:"form-control",type:"password"})),n.a.createElement(k.a,null,n.a.createElement(j.a,{color:"danger",isOpen:d,toggle:function(){t&&f(!1)},fade:!1},n.a.createElement("p",{className:"text-center"},"Login failed, invalid username and password provided"))),n.a.createElement("div",{className:"pt-3"}),n.a.createElement(k.a,null,n.a.createElement(M.a,{color:"success",type:"submit",block:!0},"Login using username and password"),S&&n.a.createElement("a",{className:"btn btn-success btn-block",role:"button",href:"/saml2/login"},i))))),n.a.createElement(A.a,{id:"argo-loginfooter"},n.a.createElement(Re,{loginPage:!0,tenantName:T}))))))},st=a("MVZn"),lt=a.n(st),ut=a("Qv+K"),mt=(a("acgP"),function(e){return n.a.createElement(vt,f()({cloneview:!0},e))}),pt=function(e){return n.a.createElement(vt,e)};function dt(e,t){return-1!==e.toLowerCase().indexOf(t.toLowerCase())}var ft=n.a.createContext(),gt=function(e){var t=e.suggestions,a=e.service,c=e.index,i=e.icon,o=e.tupleType,s=e.id,l=Object(r.useContext)(ft),u=Object(r.useState)(t),m=p()(u,2),d=m[0],f=m[1],g=function(e){l.formikBag.form.setFieldValue("view_services.".concat(c,".").concat(o),e),l.formikBag.form.setFieldValue("view_services.".concat(c,".").concat(o,"Changed"),!0),l.onselect_handler(l.formikBag.form.values.view_services[c],o,e)};return n.a.createElement(je.a,{inputProps:{className:'"form-control custom-select " '.concat(a.isNew?"border border-success":a[o+"Changed"]?"border border-danger":""),placeholder:"",onChange:function(e,t){var a=t.newValue;return g(a)},value:a[o]},getSuggestionValue:function(e){return e},suggestions:d,renderSuggestion:function(e,a){a.query;var r=a.isHighlighted;return n.a.createElement("div",{key:t.indexOf(e),className:"metricprofiles-autocomplete-entries ".concat(r?"metricprofiles-autocomplete-entries-highlighted":"")},e?n.a.createElement(Ce,{i:i}):""," ",e)},onSuggestionsFetchRequested:function(e){var a=e.value,r=t.filter((function(e){return e.toLowerCase().includes(a.trim().toLowerCase())}));f(r)},onSuggestionsClearRequested:function(){f([])},onSuggestionSelected:function(e,t){var a=t.suggestion;return g(a)},shouldRenderSuggestions:function(){return!0},theme:{containerOpen:"metricprofiles-autocomplete-menu",suggestionsList:"metricprofiles-autocomplete-list"},id:s})},ht=function(e){var t=e.view_services,a=e.name,r=e.groupname,n=e.metrics_all,c=e.services_all,i=new Object,o=!1,s=!1;i.view_services=new Array(t.length);var l=!0,u=!1,m=void 0;try{for(var p,d=t[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var f=p.value,g=!0,h=!1,E=void 0;try{for(var v,b=t[Symbol.iterator]();!(g=(v=b.next()).done);g=!0){var y=v.value;f.index!==y.index&&f.service===y.service&&f.metric===y.metric&&(f.isNew||f.serviceChanged||f.metricChanged)&&(i.view_services[f.index]=new Object,i.view_services[f.index].dup="Duplicated",o=!0)}}catch(e){h=!0,E=e}finally{try{g||null==b.return||b.return()}finally{if(h)throw E}}}}catch(e){u=!0,m=e}finally{try{l||null==d.return||d.return()}finally{if(u)throw m}}a||(i.name="Required",s=!0),r||(i.groupname="Required",s=!0);var w=!0,x=!1,k=void 0;try{for(var N,j=t[Symbol.iterator]();!(w=(N=j.next()).done);w=!0){f=N.value;var M=void 0;i.view_services[f.index]||(i.view_services[f.index]=new Object),M=i.view_services[f.index],!f.service&&f.isNew?(M.service="Required",s=!0):f.service&&(f.isNew||f.serviceChanged)&&-1==c.indexOf(f.service)&&(M.service="Must be one of predefined service types",s=!0),!f.metric&&f.isNew?(M.metric="Required",s=!0):f.metric&&(f.isNew||f.metricChanged)&&-1==n.indexOf(f.metric)&&(M.metric="Must be one of predefined metrics",s=!0)}}catch(e){x=!0,k=e}finally{try{w||null==j.return||j.return()}finally{if(x)throw k}}return o||s?i:new Object},Et=function(){var e=Object(r.useContext)(ft);return n.a.createElement("table",{className:"table table-bordered table-sm table-hover"},n.a.createElement("thead",{className:"table-active"},n.a.createElement("tr",null,n.a.createElement("th",{className:"align-middle text-center",style:{width:"5%"}},"#"),n.a.createElement("th",{style:{width:"42.5%"}},n.a.createElement(Ce,{i:"serviceflavour"})," Service flavour"),n.a.createElement("th",{style:{width:"42.5%"}},n.a.createElement(Ce,{i:"metrics"})," Metric"),n.a.createElement("th",{style:{width:"10%"}},"Actions"))),n.a.createElement("tbody",null,n.a.createElement("tr",{style:{background:"#ECECEC"}},n.a.createElement("td",{className:"align-middle text-center"},n.a.createElement(de.a,{icon:fe.v})),n.a.createElement("td",null,n.a.createElement(O.a,{type:"text",name:"search_serviceflavour",required:!1,className:"form-control",id:"searchServiceFlavour",onChange:function(t){return e.search_handler(t,"searchServiceFlavour","service","searchMetric","metric")},component:Te})),n.a.createElement("td",null,n.a.createElement(O.a,{type:"text",name:"search_metric",required:!1,className:"form-control",id:"searchMetric",onChange:function(t){return e.search_handler(t,"searchMetric","metric","searchServiceFlavour","service")},component:Te})),n.a.createElement("td",null,"")),e.formikBag.form.values.view_services.map((function(t,a){return n.a.createElement(n.a.Fragment,{key:a},n.a.createElement("tr",{key:a},n.a.createElement("td",{className:t.isNew?"bg-light align-middle text-center":"align-middle text-center"},a+1),n.a.createElement("td",{className:t.isNew?"bg-light":""},n.a.createElement(gt,{suggestions:e.serviceflavours_all,service:t,index:a,icon:"serviceflavour",tupleType:"service",id:"autosuggest-metric-".concat(a)}),e.formikBag.form.errors&&e.formikBag.form.errors.view_services&&e.formikBag.form.errors.view_services[a]&&e.formikBag.form.errors.view_services[a].service?Je(e.formikBag.form.errors.view_services[a].service):null),n.a.createElement("td",{className:t.isNew?"bg-light":""},n.a.createElement(gt,{suggestions:e.metrics_all,service:t,index:a,icon:"metrics",tupleType:"metric",id:"autosuggest-metric-".concat(a)}),e.formikBag.form.errors&&e.formikBag.form.errors.view_services&&e.formikBag.form.errors.view_services[a]&&e.formikBag.form.errors.view_services[a].metric?Je(e.formikBag.form.errors.view_services[a].metric):null),n.a.createElement("td",{className:t.isNew?"bg-light align-middle pl-3":"align-middle pl-3"},n.a.createElement(M.a,{size:"sm",color:"light",type:"button",onClick:function(){if(e.remove_handler(e.formikBag.form.values.view_services[a],e.formikBag.form.values.groupname,e.formikBag.form.values.name,e.formikBag.form.values.description),a>0&&e.formikBag.form.values.view_services.length>1)return e.formikBag.remove(a)}},n.a.createElement(de.a,{icon:fe.B})),n.a.createElement(M.a,{size:"sm",color:"light",type:"button",onClick:function(){var t={index:a+1,service:"",metric:"",isNew:!0};return e.insert_handler(t,a+1,e.formikBag.form.values.groupname,e.formikBag.form.values.name,e.formikBag.form.values.description),e.formikBag.insert(a+1,t)}},n.a.createElement(de.a,{icon:fe.u})))),e.formikBag.form.errors&&e.formikBag.form.errors.view_services&&e.formikBag.form.errors.view_services[a]&&e.formikBag.form.errors.view_services[a].dup?n.a.createElement("tr",{key:a+e.formikBag.form.values.view_services.length},n.a.createElement("td",{className:"bg-light"}),n.a.createElement("td",{colSpan:"2",className:"bg-light text-center"},Je(e.formikBag.form.errors.view_services[a].dup)),n.a.createElement("td",{className:"bg-light"})):null)}))))},vt=function(e){var t=e.match.params.name,a=e.addview,c=e.history,i=e.location,o=e.cloneview,l=e.publicView,m=new ye,d=new we({token:e.webapitoken,metricProfiles:e.webapimetric}),g=Object(r.useState)(void 0),h=p()(g,2),E=h[0],v=h[1],b=Object(r.useState)(void 0),y=p()(b,2),w=y[0],x=y[1],k=Object(r.useState)(void 0),N=p()(k,2),j=N[0],A=N[1],S=Object(r.useState)(void 0),_=p()(S,2),D=_[0],I=_[1],L=Object(r.useState)(void 0),z=p()(L,2),P=z[0],U=z[1],Q=Object(r.useState)(!1),V=p()(Q,2),R=V[0],F=V[1],Y=Object(r.useState)(void 0),B=p()(Y,2),H=B[0],W=B[1],q=Object(r.useState)(void 0),G=p()(q,2),Z=G[0],J=G[1],K=Object(r.useState)(""),X=p()(K,2),$=X[0],ee=X[1],te=Object(r.useState)(""),ae=p()(te,2),re=ae[0],ne=ae[1],ce=Object(r.useState)(""),ie=p()(ce,2),oe=ie[0],se=ie[1],le=Object(r.useState)({}),ue=p()(le,2),me=ue[0],pe=ue[1],ge="metricprofiles_".concat(a?"addview":"".concat(t,"_").concat(l?"publicview":"changeview")),he=Object(ut.b)("session_userdetails",u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=6;break}return e.next=3,m.isActiveSession();case 3:if(!(t=e.sent).active){e.next=6;break}return e.abrupt("return",t.userdetails);case 6:case"end":return e.stop()}}),e)})))),Ee=he.data,ve=he.error,be=he.isLoading,xe=Object(ut.b)(ge,u()(s.a.mark((function e(){var r,n,c,i,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new Object({id:"",name:"",services:void 0}),a){e.next=5;break}return e.next=4,m.fetchData("/api/v2/internal/".concat(l?"public_":"","metricprofiles/").concat(t));case 4:r=e.sent;case 5:if(!l){e.next=12;break}return e.next=8,d.fetchMetricProfile(r.apiid);case 8:return n=e.sent,e.abrupt("return",{profile:n,groupname:r.groupname,serviceflavoursall:[],metricsall:[]});case 12:return e.next=14,m.fetchListOfNames("/api/v2/internal/metricsall");case 14:return c=e.sent,e.next=17,m.fetchListOfNames("/api/v2/internal/serviceflavoursall");case 17:if(i=e.sent,a&&!o){e.next=25;break}return e.next=21,d.fetchMetricProfile(r.apiid);case 21:return u=e.sent,e.abrupt("return",{profile:u,groupname:r.groupname,serviceflavoursall:i,metricsall:c});case 25:return e.abrupt("return",{profile:r,groupname:"",metricsall:c,serviceflavoursall:i});case 26:case"end":return e.stop()}}),e)})))),ke=xe.data,Ne=xe.error,je=xe.isLoading,Me=function(){var e=u()(s.a.mark((function e(t,a,r,n,c){var i,o,l,u,m,p,d,f,g,h,b;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""===oe&&""===re?(i=t.service,o=t.metric,l=C()(E),u=C()(l).slice(0,a),m=C()(l).slice(a),u.push({index:a,service:i,metric:o,isNew:!0}),u=Ue(u),p=u.length,m.forEach((function(e){e.index=p,p+=1})),l=[].concat(C()(u),C()(m)),v(l),x(l),A(r),U(n),I(c)):(d=C()(w),f=C()(E),g=C()(d).slice(0,a),h=C()(d).slice(a),g.push(lt()({},t,{isNew:!0})),b=0,g.forEach((function(e){e.index=b,b+=1})),b=a+1,h.forEach((function(e){e.index=b,b+=1})),f.push(lt()({},t,{isNew:!0})),x([].concat(C()(g),C()(h))),v(f));case 1:case"end":return e.stop()}}),e)})));return function(t,a,r,n,c){return e.apply(this,arguments)}}(),Ae=function(e,t,a,r,n){var c=E,i=C()(E),o=t;"searchServiceFlavour"===t?t=oe:"searchMetric"===t&&(t=re),t.length>e.target.value.length?(c=E.filter((function(t){return dt(t[a],e.target.value)})),i.sort(Pe),i=Ue(i)):""!==e.target.value&&(c=E.filter((function(t){return dt(t[a],e.target.value)}))),"searchServiceFlavour"===r?r=oe:"searchMetric"===r&&(r=re),r.length&&(c=c.filter((function(e){return dt(e[n],r)}))),c.sort(Pe),"searchServiceFlavour"===o?se(e.target.value):"searchMetric"===o&&ne(e.target.value),x(c),v(i)},Oe=function(){var e=u()(s.a.mark((function e(t){var a,r,n,i,o,l,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.deleteMetricProfile(t);case 2:if((a=e.sent).ok){e.next=20;break}return r="",e.prev=5,e.next=8,a.json();case 8:n=e.sent,i=[],n.errors.forEach((function(e){return i.push(e.details)})),r=i.join(" "),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),r="Web API error deleting metric profile";case 17:Be({title:"Web API error: ".concat(a.status," ").concat(a.statusText),msg:r}),e.next=39;break;case 20:return e.next=22,m.deleteObject("/api/v2/internal/metricprofiles/".concat(t));case 22:if(!(o=e.sent).ok){e.next=27;break}Ye({msg:"Metric profile sucessfully deleted",title:"Deleted",callback:function(){return c.push("/ui/metricprofiles")}}),e.next=39;break;case 27:return l="",e.prev=28,e.next=31,o.json();case 31:u=e.sent,l=u.detail,e.next=38;break;case 35:e.prev=35,e.t1=e.catch(28),l="Internal API error deleting metric profile";case 38:Be({title:"Internal API error: ".concat(o.status," ").concat(o.statusText),msg:l});case 39:case"end":return e.stop()}}),e,null,[[5,14],[28,35]])})));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=u()(s.a.mark((function e(t,a,r,n){var c,i,o,l,u,m,p,d,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=[],i=[],o=void 0,l=void 0,u=E.filter((function(e){return t.service===e.service&&t.metric===e.metric})),m=w.filter((function(e){return t.service===e.service&&t.metric===e.metric})),u.length>=2||m.length>=2?(o=E.findIndex((function(e){return t.index===e.index&&t.service===e.service&&t.metric===e.metric})),l=w.findIndex((function(e){return t.index===e.index&&t.service===e.service&&t.metric===e.metric}))):(o=E.findIndex((function(e){return t.service===e.service&&t.metric===e.metric})),l=w.findIndex((function(e){return t.service===e.service&&t.metric===e.metric}))),1===w.length&&1===E.length)i=[{index:0,service:"",metric:""}],c=[{index:0,service:"",metric:""}];else if(o>=0&&l>=0){for(i=C()(E),c=C()(w),i.splice(o,1),c.splice(l,1),p=o;p<i.length;p++)d=i[p].index,i[p].index=d-1;for(p=l;p<c.length;p++)f=c[p].index,c[p].index=f-1}else i=C()(E),c=C()(w);v(Ue(i)),x(Ue(c)),A(a),U(r),I(n);case 14:case"end":return e.stop()}}),e)})));return function(t,a,r,n){return e.apply(this,arguments)}}(),_e=function(e,t,a){var r=e.index,n=C()(E),c=C()(w),i=n.findIndex((function(e){return e.index===r&&!0===e.isNew}));i>=0?(n[i][t]=a,n[i][t+"Changed"]=a):(n[r][t]=a,n[r][t+"Changed"]=a);for(var o=0;o<c.length;o++)c[o].index===r&&(c[o][t]=a,c[o][t+"Changed"]=!0);v(n),x(c)},De=function(e){var t=[];return e.forEach((function(e){var a=t.filter((function(t){return t.service===e.service}));a.length?a[0].metrics.push(e.metric):t.push({service:e.service,metrics:[e.metric]})})),t},Ie=function(e,t){var a=ut.a.getQueryData(ge);a.profile.services=t,a.profile.name=e.name,a.profile.description=e.description,ut.a.setQueryData(ge,a)},Le=function(){var e=u()(s.a.mark((function e(t){var r,n,i,l,u,p,f,g,h,E,v,b,y,w,x,k,N,j,M,A;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.formValues,n=t.servicesList,i=[],l=new Object,a||o){e.next=49;break}return u=ke.profile.id,i=De(n),l={id:u,name:r.name,description:r.description,services:i},e.next=9,d.changeMetricProfile(l);case 9:if((p=e.sent).ok){e.next=27;break}return f="",e.prev=12,e.next=15,p.json();case 15:g=e.sent,h=[],g.errors.forEach((function(e){return h.push(e.details)})),f=h.join(" "),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(12),f="Web API error changing metric profile";case 24:Be({title:"Web API error: ".concat(p.status," ").concat(p.statusText),msg:f}),e.next=47;break;case 27:return e.next=29,m.changeObject("/api/v2/internal/metricprofiles/",{apiid:l.id,name:l.name,description:l.description,groupname:r.groupname,services:r.view_services});case 29:if(!(E=e.sent).ok){e.next=34;break}Ye({msg:"Metric profile succesfully changed",title:"Changed",callback:function(){return c.push("/ui/metricprofiles")}}),e.next=46;break;case 34:return v="",e.prev=35,e.next=38,E.json();case 38:b=e.sent,v=b.detail,e.next=45;break;case 42:e.prev=42,e.t1=e.catch(35),v="Internal API error changing metric profile";case 45:Be({title:"Internal API error: ".concat(E.status," ").concat(E.statusText),msg:v});case 46:Ie(r,i);case 47:e.next=93;break;case 49:return i=De(n),l={name:r.name,description:r.description,services:i},e.next=53,d.addMetricProfile(l);case 53:if((y=e.sent).ok){e.next=71;break}return w="",e.prev=56,e.next=59,y.json();case 59:x=e.sent,k=[],x.errors.forEach((function(e){return k.push(e.details)})),w=k.join(" "),e.next=68;break;case 65:e.prev=65,e.t2=e.catch(56),w="Web API error adding metric profile";case 68:Be({title:"Web API error: ".concat(y.status," ").concat(y.statusText),msg:w}),e.next=93;break;case 71:return e.next=73,y.json();case 73:return N=e.sent,e.next=76,m.addObject("/api/v2/internal/metricprofiles/",{apiid:N.data.id,name:l.name,groupname:r.groupname,description:r.description,services:r.view_services});case 76:if(!(j=e.sent).ok){e.next=81;break}Ye({msg:"Metric profile successfully added",title:"Added",callback:function(){return c.push("/ui/metricprofiles")}}),e.next=93;break;case 81:return M="",e.prev=82,e.next=85,j.json();case 85:A=e.sent,M=A.detail,e.next=92;break;case 89:e.prev=89,e.t3=e.catch(82),M="Internal API error adding metric profile";case 92:Be({title:"Internal API error: ".concat(j.status," ").concat(j.statusText),msg:M});case 93:case"end":return e.stop()}}),e,null,[[12,21],[35,42],[56,65],[82,89]])})));return function(t){return e.apply(this,arguments)}}(),ze=function(e){var t=[],a=0;return e.forEach((function(e){var r=e.service;e.metrics.forEach((function(e){t.push({index:a,service:r,metric:e}),a+=1}))})),t},Pe=function(e,t){if(e.service.toLowerCase()<t.service.toLowerCase())return-1;if(e.service.toLowerCase()>t.service.toLowerCase())return 1;if(e.service.toLowerCase()===t.service.toLowerCase()){if(e.metric.toLowerCase()<t.metric.toLowerCase())return-1;if(e.metric.toLowerCase()>t.metric.toLowerCase())return 1;if(e.metric.toLowerCase()===t.metric.toLowerCase())return 0}},Ue=function(e){var t=0;return e.forEach((function(e){e.index=t,t+=1})),e},Qe=function(){var e=u()(s.a.mark((function e(t){var r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=void 0,n=void 0,a||o?(r="Are you sure you want to add Metric profile?",n="Add metric profile"):(r="Are you sure you want to change Metric profile?",n="Change metric profile"),F(!R),W(r),J(n),ee("change"),pe(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(je||be)return n.a.createElement(Fe,null);if(Ne)return n.a.createElement(tt,{error:Ne});if(ve)return n.a.createElement(tt,{error:ve});if(je||be||!ke)return null;var Ve,Re=void 0;return!l||a||o||E||w?a||o||E||w?!a||o||w||E?!o||w||E||(U("Cloned "+ke.profile.name),ke.profile.id="",I(ke.profile.description),A(ke.groupname),x(Ue(ze(ke.profile.services).sort(Pe))),v(Ue(ze(ke.profile.services).sort(Pe)))):(U(""),I(""),A(""),x([{service:"",metric:"",index:0,isNew:!0}]),v([{service:"",metric:"",index:0,isNew:!0}])):(U(ke.profile.name),I(ke.profile.description),A(ke.groupname),x(Ue(ze(ke.profile.services).sort(Pe))),v(Ue(ze(ke.profile.services).sort(Pe)))):(U(ke.profile.name),I(ke.profile.description),A(ke.groupname),x(ze(ke.profile.services).sort(Pe)),v(ze(ke.profile.services).sort(Pe))),Re=!l&&(a&&o?Ee.is_superuser||Ee.groups.metricprofiles.length>0:Ee.is_superuser||Ee.groups.metricprofiles.indexOf(ke.groupname)>=0),n.a.createElement(Ge,(Ve={resourcename:l?"Metric profile details":"metric profile",location:i,addview:a,modal:!0,cloneview:o,clone:!0,history:!l,state:{areYouSureModal:R,modalFunc:function(){"delete"===$?Oe(me.id):"change"===$&&Le({formValues:me,servicesList:E})},modalTitle:Z,modalMsg:H},toggle:function(){return F(!R)}},T()(Ve,"addview",l?!l:a),T()(Ve,"publicview",l),T()(Ve,"submitperm",Re),Ve),n.a.createElement(O.d,{initialValues:{id:ke.profile.id,name:P,description:D,groupname:j,view_services:w,search_metric:re,search_serviceflavour:oe,metrics_all:ke.metricsall,services_all:ke.serviceflavoursall},onSubmit:function(e){return Qe(e)},enableReinitialize:!0,validate:ht,render:function(e){return n.a.createElement(O.c,null,n.a.createElement(et,f()({},e,{description:"description",grouplist:Re?Ee.groups.metricprofiles:[j],profiletype:"metric",fieldsdisable:l})),n.a.createElement(at,{title:"Metric instances"}),l?n.a.createElement(O.b,{name:"metricinstances",render:function(){return n.a.createElement("table",{className:"table table-bordered table-sm"},n.a.createElement("thead",{className:"table-active"},n.a.createElement("tr",null,n.a.createElement("th",{className:"align-middle text-center",style:{width:"5%"}},"#"),n.a.createElement("th",{style:{width:"47.5%"}},n.a.createElement(Ce,{i:"serviceflavour"}),"Service flavour"),n.a.createElement("th",{style:{width:"47.5%"}},n.a.createElement(Ce,{i:"metrics"}),"Metric"))),n.a.createElement("tbody",null,n.a.createElement("tr",{style:{background:"#ECECEC"}},n.a.createElement("td",{className:"align-middle text-center"},n.a.createElement(de.a,{icon:fe.v})),n.a.createElement("td",null,n.a.createElement(O.a,{type:"text",name:"search_serviceflavour",required:!1,className:"form-control",id:"searchServiceFlavour",onChange:function(e){return Ae(e,"searchServiceFlavour","service","searchMetric","metric")},component:Te})),n.a.createElement("td",null,n.a.createElement(O.a,{type:"text",name:"search_metric",required:!1,className:"form-control",id:"searchMetric",onChange:function(e){return Ae(e,"searchMetric","metric","searchServiceFlavour","service")},component:Te}))),e.values.view_services.map((function(e,t){return n.a.createElement("tr",{key:t},n.a.createElement("td",{className:"align-middle text-center"},t+1),n.a.createElement("td",null,e.service),n.a.createElement("td",null,e.metric))}))))}}):n.a.createElement(O.b,{name:"view_services",render:function(e){return n.a.createElement(ft.Provider,{value:{serviceflavours_all:ke.serviceflavoursall,metrics_all:ke.metricsall,search_handler:Ae,remove_handler:Se,insert_handler:Me,onselect_handler:_e,formikBag:{form:e.form,remove:e.remove,insert:e.insert}}},n.a.createElement(Et,null))}}),Re&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},n.a.createElement(M.a,{color:"danger",onClick:function(){W("Are you sure you want to delete Metric profile?"),J("Delete metric profile"),F(!R),pe(e.values),ee("delete")}},"Delete"),n.a.createElement(M.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}}))},bt=function(e){var t=e.location,a=new ye,c=e.publicView,i=null;i=c?"/api/v2/internal/public_metricprofiles":"/api/v2/internal/metricprofiles";var o=Object(ut.b)("session_userdetails",u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.isActiveSession();case 2:if(!(t=e.sent).active){e.next=5;break}return e.abrupt("return",t.userdetails);case 5:case"end":return e.stop()}}),e)})))),l=o.data,m=o.error,p=o.isLoading,d=Object(ut.b)("metricprofiles_listview",u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchData(i);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),f=d.data,g=d.error,h=d.isLoading,E=Object(r.useMemo)((function(){return[{Header:"#",accessor:null,column_width:"2%"},{Header:"Name",id:"name",accessor:function(e){return n.a.createElement(ie.b,{to:"/ui/".concat(c?"public_":"","metricprofiles/")+e.name},e.name)},column_width:"20%"},{Header:"Description",accessor:"description",column_width:"70%"},{Header:"Group",accessor:"groupname",className:"text-center",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)},column_width:"8%"}]}));return p||h?n.a.createElement(Fe,null):g?n.a.createElement(tt,{error:g}):m?n.a.createElement(tt,{error:m}):p||p||!f?null:n.a.createElement(Ge,{resourcename:"metric profile",location:t,listview:!0,addnew:!c,addperm:!c&&(l.is_superuser||l.groups.metricprofiles.length>0),publicview:c},n.a.createElement(it,{data:f,columns:E,type:"metric"}))},yt=function(e){for(var t=e.title,a=e.item1,r=e.item2,c=[],i=[],o=0;o<a.length;o++)c.push("service: ".concat(a[o].service,", metric: ").concat(a[o].metric));for(var s=0;s<r.length;s++)i.push("service: ".concat(r[s].service,", metric: ").concat(r[s].metric));return n.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},n.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},t),n.a.createElement(ke.a,{oldValue:i.join("\n"),newValue:c.join("\n"),showDiffOnly:!1,splitView:!0,hideLineNumbers:!0}))},wt=function(e){var t=e.match.params.id1,a=e.match.params.id2,c=e.match.params.name,i=new ye,o=Object(r.useState)(!1),l=p()(o,2),m=l[0],d=l[1],f=Object(r.useState)(null),g=p()(f,2),h=g[0],E=g[1],v=Object(r.useState)(void 0),b=p()(v,2),y=b[0],w=b[1],x=Object(r.useState)(void 0),k=p()(x,2),N=k[0],j=k[1];if(Object(r.useEffect)((function(){var e=function(){var e=u()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.fetchData("/api/v2/internal/tenantversion/metricprofile/".concat(c));case 2:e.sent.forEach((function(e){e.version===t?w({name:e.fields.name,groupname:e.fields.groupname,description:e.fields.description,date_created:e.date_created,metricinstances:e.fields.metricinstances}):e.version===a&&j({name:e.fields.name,groupname:e.fields.groupname,description:e.fields.description,date_created:e.date_created,metricinstances:e.fields.metricinstances})})),d(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();d(!0);try{e()}catch(e){E(e),d(!1)}}),[]),m)return n.a.createElement(Fe,null);if(h)return n.a.createElement(tt,{error:h});if(!m&&y&&N){var M=y.name,A=y.description,O=y.metricinstances,S=y.groupname,_=N.name,D=N.description,C=N.metricinstances,I=N.groupname;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Compare ".concat(c," versions"))),M!==_&&n.a.createElement($e,{title:"name",item1:M,item2:_}),A!==D&&n.a.createElement($e,{title:"description",item1:A,item2:D}),S!==I&&n.a.createElement($e,{title:"groupname",item1:S,item2:I}),O!==C&&n.a.createElement(yt,{title:"metric instances",item1:O,item2:C}))}return null},xt=function(e){var t=e.match.params.name,a=e.match.params.version,c=Object(r.useState)(void 0),i=p()(c,2),o=i[0],l=i[1],m=Object(r.useState)(!1),d=p()(m,2),g=d[0],h=d[1],E=Object(r.useState)(null),v=p()(E,2),b=v[0],y=v[1],w=new ye;return Object(r.useEffect)((function(){var e=function(){var e=u()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.fetchData("/api/v2/internal/tenantversion/metricprofile/".concat(t));case 2:e.sent.forEach((function(e){e.version===a&&l({name:e.fields.name,groupname:e.fields.groupname,description:e.fields.description,date_created:e.date_created,metricinstances:e.fields.metricinstances})})),h(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();h(!0);try{e()}catch(e){y(e),h(!1)}}),[]),g?n.a.createElement(Fe,null):b?n.a.createElement(tt,{error:b}):!g&&o?n.a.createElement(Ge,{resourcename:"".concat(o.name," (").concat(o.date_created,")"),infoview:!0},n.a.createElement(O.d,{initialValues:{name:o.name,description:o.description,groupname:o.groupname,metricinstances:o.metricinstances},render:function(e){return n.a.createElement(O.c,null,n.a.createElement(et,f()({},e,{fieldsdisable:!0,description:"description",profiletype:"metric"})),n.a.createElement(at,{title:"Metric instances"}),n.a.createElement(O.b,{name:"metricinstances",render:function(t){return n.a.createElement("table",{className:"table table-bordered table-sm"},n.a.createElement("thead",{className:"table-active"},n.a.createElement("tr",null,n.a.createElement("th",{className:"align-middle text-center",style:{width:"5%"}},"#"),n.a.createElement("th",{style:{width:"47.5%"}},n.a.createElement(Ce,{i:"serviceflavour"}),"Service flavour"),n.a.createElement("th",{style:{width:"47.5%"}},n.a.createElement(Ce,{i:"metrics"}),"Metric"))),n.a.createElement("tbody",null,e.values.metricinstances.map((function(e,t){return n.a.createElement("tr",{key:t},n.a.createElement("td",{className:"align-middle text-center"},t+1),n.a.createElement("td",null,e.service),n.a.createElement("td",null,e.metric))}))))}}))}})):null},kt=a("ChEw"),Nt=a("x863"),jt=a("wDPn"),Mt=function(e){var t=e.title;return n.a.createElement(w.a,{className:"mt-1 sm-5 p-2 text-uppercase font-weight-bold rounded",style:{backgroundColor:"#c4ccd4"}},t)},At=function(e){return n.a.createElement(O.c,{className:"ml-2 mb-2 mt-2"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Administration"),n.a.createElement(y.a,{className:"mb-2"},n.a.createElement(Mt,{title:"Poem"}),n.a.createElement(x.a,null,n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"metrics"})," ",n.a.createElement(ie.b,{className:"pl-1",to:"/ui/metrics"},"Metrics")),n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"reports"})," ",n.a.createElement(ie.b,{className:"pl-1",to:"/ui/reports"},"Reports")),n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"metricprofiles"})," ",n.a.createElement(ie.b,{className:"pl-1",to:"/ui/metricprofiles"},"Metric profiles")),n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"aggregationprofiles"})," ",n.a.createElement(ie.b,{className:"pl-1",to:"/ui/aggregationprofiles"},"Aggregation profiles")),n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"thresholdsprofiles"})," ",n.a.createElement(ie.b,{className:"pl-1",to:"/ui/thresholdsprofiles"},"Thresholds profiles")),n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"operationsprofiles"})," ",n.a.createElement(ie.b,{className:"pl-1",to:"/ui/operationsprofiles"},"Operations profiles")))),n.a.createElement(y.a,{className:"mb-2"},n.a.createElement(Mt,{title:"Authentication and authorization"}),n.a.createElement(x.a,null,n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"groupofaggregationprofiles"})," ",n.a.createElement(ie.b,{to:"/ui/administration/groupofaggregations"},"Groups of aggregations")),n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"groupofmetrics"})," ",n.a.createElement(ie.b,{to:"/ui/administration/groupofmetrics"},"Groups of metrics")),n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"groupofmetricprofiles"})," ",n.a.createElement(ie.b,{to:"/ui/administration/groupofmetricprofiles"},"Groups of metric profiles")),n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"groupofthresholdsprofiles"})," ",n.a.createElement(ie.b,{to:"/ui/administration/groupofthresholdsprofiles"},"Groups of thresholds profiles")),n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"users"})," ",n.a.createElement(ie.b,{to:"/ui/administration/users"},"Users")))),n.a.createElement(y.a,{className:"mb-2"},n.a.createElement(Mt,{title:"SuperAdmin POEM data"}),n.a.createElement(x.a,null,n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"yumrepos"})," ",n.a.createElement(ie.b,{to:"/ui/administration/yumrepos"},"YUM repos")),n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"packages"})," ",n.a.createElement(ie.b,{to:"/ui/administration/packages"},"Packages")),n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"metrics"})," ",n.a.createElement(ie.b,{to:"/ui/administration/metrictemplates"},"Metric templates")))),n.a.createElement(y.a,null,n.a.createElement(Mt,{title:"API key permissions"}),n.a.createElement(x.a,null,n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"apikey"})," ",n.a.createElement(ie.b,{to:"/ui/administration/apikey"},"API keys")))))},Ot=function(e){return n.a.createElement(O.c,{className:"ml-2 mb-2 mt-2"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Administration"),n.a.createElement(y.a,{className:"mb-2"},n.a.createElement(Mt,{title:"Poem"}),n.a.createElement(x.a,null,n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"tenants"})," ",n.a.createElement(ie.b,{to:"/ui/tenants"},"Tenants")),n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"yumrepos"})," ",n.a.createElement(ie.b,{className:"pl-1",to:"/ui/yumrepos"},"YUM repos")),n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"packages"})," ",n.a.createElement(ie.b,{className:"pl-1",to:"/ui/packages"},"Packages")),n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"probes"})," ",n.a.createElement(ie.b,{className:"pl-1",to:"/ui/probes"},"Probes")),n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"metrictemplates"})," ",n.a.createElement(ie.b,{className:"pl-1",to:"/ui/metrictemplates"},"Metric templates")))),n.a.createElement(y.a,{className:"mb-2"},n.a.createElement(Mt,{title:"Authentication and authorization"}),n.a.createElement(x.a,null,n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"users"})," ",n.a.createElement(ie.b,{to:"/ui/administration/users"},"Users")))),n.a.createElement(y.a,null,n.a.createElement(Mt,{title:"API key permissions"}),n.a.createElement(x.a,null,n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"apikey"})," ",n.a.createElement(ie.b,{to:"/ui/administration/apikey"},"API keys")))))},St=function(e){return n.a.createElement("div",null,'"I\'m Home"')},_t=function(e){if(e.isSuperAdmin){var t=Object(r.useState)(!1),a=p()(t,2),c=a[0],i=a[1],o=Object(r.useState)(null),l=p()(o,2),m=l[0],d=l[1],f=Object(r.useState)(null),g=p()(f,2),h=g[0],E=g[1],b=new ye;if(Object(r.useEffect)((function(){function e(){return(e=u()(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.fetchData("/api/v2/internal/public_tenants");case 3:t=e.sent,a=[],t.forEach((function(e){"SuperPOEM Tenant"!==e.name&&a.push(e)})),d(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),E(e.t0);case 12:i(!1);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}i(!0),function(){e.apply(this,arguments)}()}),[]),c)return n.a.createElement(Fe,null);if(h)return n.a.createElement(tt,{error:h});if(!c&&m){for(var w=[],k=0;k<m.length;k+=3){for(var N=[],j=0;j<3;j++)k+j<m.length&&N.push(n.a.createElement(y.a,{className:"mr-3",key:j+1},n.a.createElement(kt.a,{className:"text-center"},n.a.createElement("h3",null,m[k+j].name)),n.a.createElement(Nt.a,{className:"mb-4 mt-3 text-center"},n.a.createElement(de.a,{icon:fe.o,size:"5x"})),n.a.createElement(x.a,null,n.a.createElement(y.a,null,n.a.createElement(Mt,{title:"Tenant resources"}),n.a.createElement(x.a,null,n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"metrics"})," ",n.a.createElement("a",{href:"https://".concat(m[k+j].domain_url,"/ui/public_metrics")},"Metrics")),n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"metricprofiles"})," ",n.a.createElement("a",{href:"https://".concat(m[k+j].domain_url,"/ui/public_metricprofiles")},"Metric profiles")),n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"aggregationprofiles"})," ",n.a.createElement("a",{href:"https://".concat(m[k+j].domain_url,"/ui/public_aggregationprofiles")},"Aggregation profiles")),n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"thresholdsprofiles"})," ",n.a.createElement("a",{href:"https://".concat(m[k+j].domain_url,"/ui/public_thresholdsprofiles")},"Thresholds profiles")),n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"operationsprofiles"})," ",n.a.createElement("a",{href:"https://".concat(m[k+j].domain_url,"/ui/public_operationsprofiles")},"Operations profiles")))))));var M="100%";1==N.length&&(M="33.3333%"),2==N.length&&(M="66.6666%"),w.push(n.a.createElement(jt.a,{key:k,className:"mb-3",style:{width:M}},N.map((function(e,t){return e}))))}return n.a.createElement(O.c,{className:"ml-2 mb-2 mt-2"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Public pages"),n.a.createElement(y.a,{className:"mb-2"},n.a.createElement(Mt,{title:"Shared resources"}),n.a.createElement(x.a,null,n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"probes"})," ",n.a.createElement(ie.b,{to:"/ui/public_probes"},"Probes")),n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"metrictemplates"})," ",n.a.createElement(ie.b,{to:"/ui/public_metrictemplates"},"Metric templates")))),n.a.createElement(at,{title:"Tenants"}),w.map((function(e,t){return e})))}return null}return n.a.createElement(O.c,{className:"ml-2 mb-2 mt-2"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Public pages"),n.a.createElement(y.a,{className:"mb-2"},n.a.createElement(Mt,{title:"Shared resources"}),n.a.createElement(x.a,null,n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"probes"})," ",n.a.createElement(ie.b,{to:"/ui/public_probes"},"Probes")),n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"metrictemplates"})," ",n.a.createElement(ie.b,{to:"/ui/public_metrictemplates"},"Metric templates")))),n.a.createElement(y.a,{className:"mb-2"},n.a.createElement(Mt,{title:"Tenant resources"}),n.a.createElement(x.a,null,n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"metrics"})," ",n.a.createElement(ie.b,{to:"/ui/public_metrics"},"Metrics")),n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"servicetypes"})," ",n.a.createElement(ie.b,{to:"/ui/public_servicetypes"},"Service types")),n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"metricprofiles"})," ",n.a.createElement(ie.b,{to:"/ui/public_metricprofiles"},"Metric profiles")),n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"aggregationprofiles"})," ",n.a.createElement(ie.b,{to:"/ui/public_aggregationprofiles"},"Aggregation profiles")),n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"thresholdsprofiles"})," ",n.a.createElement(ie.b,{to:"/ui/public_thresholdsprofiles"},"Thresholds profiles")),n.a.createElement(v.a,{className:"p-1 align-items-center"},n.a.createElement(Ce,{i:"operationsprofiles"})," ",n.a.createElement(ie.b,{to:"/ui/public_operationsprofiles"},"Operations profiles")))))},Dt=a("lCZi"),Ct=Dt.object().shape({name:Dt.string().matches(/^\S*$/,"Name cannot contain white spaces").required("Required"),package:Dt.string().required("Required"),repository:Dt.string().url("Invalid url").required("Required"),docurl:Dt.string().url("Invalid url").required("Required"),description:Dt.string().required("Required"),comment:Dt.string().required("Required")}),It=function(e){var t=e.field.value;return n.a.createElement("div",{className:"form-control",style:{backgroundColor:"#e9ecef",overflow:"hidden",textOverflow:"ellipsis"}},n.a.createElement("a",{href:t,style:{whiteSpace:"nowrap"}},t))},Tt=function(e){var t=e.isTenantSchema,a=void 0!==t&&t,r=e.isHistory,c=void 0!==r&&r,i=e.publicView,o=void 0!==i&&i,s=e.errors,l=void 0===s?{name:void 0,package:void 0,repository:void 0,docurl:void 0,comment:void 0}:s,u=e.addview,m=void 0!==u&&u,p=e.cloneview,d=void 0!==p&&p,f=e.list_packages,g=void 0===f?[]:f,h=e.setFieldValue,E=void 0===h?void 0:h,y=e.values,w=void 0===y?void 0:y,x=e.onSelect,j=void 0===x?void 0:x,M=e.metrictemplatelist,A=void 0===M?[]:M,S=e.version,_=void 0===S?void 0:S;return n.a.createElement(n.a.Fragment,null,n.a.createElement(k.a,null,n.a.createElement(v.a,null,n.a.createElement(b.a,{md:6},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Name"),n.a.createElement(O.a,{type:"text",name:"name",className:"form-control ".concat(l.name&&"border-danger"),id:"name",disabled:a||c||o})),l.name&&Je(l.name),n.a.createElement(te.a,{color:"muted"},"Name of this probe.")),n.a.createElement(b.a,{md:2},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Version"),n.a.createElement(O.a,{type:"text",name:"version",className:"form-control",value:_,id:"version",disabled:!0})),n.a.createElement(te.a,{color:"muted"},"Version of the probe.")),!m&&!d&&!a&&!c&&!o&&n.a.createElement(b.a,{md:2},n.a.createElement(O.a,{component:Ze,name:"update_metrics",className:"form-control",id:"checkbox",label:"Update metric templates"}),n.a.createElement(te.a,{color:"muted"},"Update all associated metric templates."))),n.a.createElement(v.a,{className:"mt-3"},n.a.createElement(b.a,{md:8},a||c||o?n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Package"),n.a.createElement(O.a,{type:"text",name:"package",className:"form-control",id:"package",disabled:!0})):n.a.createElement(n.a.Fragment,null,n.a.createElement(Ke,{setFieldValue:E,lists:g,icon:"packages",field:"package",val:w.package,onselect_handler:j,req:l.package,label:"Package"}),l.package&&Je(l.package)),n.a.createElement(te.a,{color:"muted"},"Probe is part of selected package.")))),n.a.createElement(k.a,null,n.a.createElement(at,{title:"Probe metadata"}),n.a.createElement(v.a,{className:"mt-4 mb-3 align-items-top"},n.a.createElement(b.a,{md:8},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Repository"),a||c||o?n.a.createElement(O.a,{component:It,name:"repository",className:"form-control",id:"repository",disabled:!0}):n.a.createElement(O.a,{type:"text",name:"repository",className:"form-control ".concat(l.repository&&"border-danger"),id:"repository"})),l.repository&&Je(l.repository),n.a.createElement(te.a,{color:"muted"},"Probe repository URL."))),n.a.createElement(v.a,{className:"mb-3 align-items-top"},n.a.createElement(b.a,{md:8},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Documentation"),a||c||o?n.a.createElement(O.a,{component:It,name:"docurl",className:"form-control",id:"docurl",disabled:!0}):n.a.createElement(O.a,{type:"text",name:"docurl",className:"form-control ".concat(l.docurl&&"border-danger"),id:"docurl"})),l.docurl&&Je(l.docurl),n.a.createElement(te.a,{color:"muted"},"Documentation URL."))),n.a.createElement(v.a,{className:"mb-3 align-items-top"},n.a.createElement(b.a,{md:8},n.a.createElement(N.a,{for:"description"},"Description"),n.a.createElement(O.a,{component:"textarea",name:"description",rows:"15",className:"form-control ".concat(l.description&&"border-danger"),id:"description",disabled:a||c||o}),l.description&&Je(l.description),n.a.createElement(te.a,{color:"muted"},"Free text description outlining the purpose of this probe."))),n.a.createElement(v.a,{className:"mb-3 align-items-top"},n.a.createElement(b.a,{md:8},n.a.createElement(N.a,{for:"comment"},"Comment"),n.a.createElement(O.a,{component:"textarea",name:"comment",rows:"5",className:"form-control ".concat(l.comment&&"border-danger"),id:"comment",disabled:a||c||o}),l.comment&&Je(l.comment),n.a.createElement(te.a,{color:"muted"},"Short comment about this version."))),!c&&!m&&!d&&n.a.createElement(v.a,null,n.a.createElement(b.a,{md:8},A.length>0&&n.a.createElement("div",null,"Metric templates:",n.a.createElement("div",null,A.map((function(e,t){return n.a.createElement(ie.b,{key:t,to:o?"/ui/public_metrictemplates/".concat(e):a?"/ui/probes/".concat(w.name,"/").concat(e):"/ui/metrictemplates/".concat(e)},e)})).reduce((function(e,t){return[e,", ",t]}))))))))},Lt=function(e){var t=e.location,a=e.publicView,r=new ye,c=Object(ut.b)("probe_listview",u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.fetchData("/api/v2/internal/".concat(a?"public_":"","probes"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),i=c.data,o=c.error,l=c.isLoading,m=Object(ut.b)("probe_listview_schema",u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.isTenantSchema(),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})))),p=m.data,d=m.isLoading,f=n.a.useMemo((function(){return[{Header:"#",accessor:null,column_width:"2%"},{Header:"Name",column_width:"20%",accessor:"name",Cell:function(e){return n.a.createElement(ie.b,{to:"/ui/".concat(a?"public_":"","probes/").concat(e.value)},e.value)},Filter:rt},{Header:"#versions",accessor:"nv",column_width:"3%",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},n.a.createElement(ie.b,{to:"/ui/".concat(a?"public_":"","probes/").concat(e.row.original.name,"/history")},e.value))},disableFilters:!0},{Header:"Package",column_width:"20%",accessor:"package",Filter:rt},{Header:"Description",column_width:"55%",accessor:"description",Filter:rt}]}));return l||d?n.a.createElement(Fe,null):o?n.a.createElement(tt,{error:o.message}):l||d||!i?null:n.a.createElement(Ge,{resourcename:"probe",location:t,listview:!0,addnew:!p&&!a},n.a.createElement(ct,{data:i,columns:f,page_size:50,resourcename:"probes",filter:!0}))},zt=function(e){var t=e.match.params.name,a=e.addview,c=e.cloneview,i=e.location,o=e.history,l=e.publicView,m=new ye,d="probe_".concat(a?"addview":"".concat(t,"_").concat(c?"cloneview":"".concat(l?"publicview":"changeview"))),g="/api/v2/internal/".concat(l?"public_":"","packages"),h="/api/v2/internal/".concat(l?"public_":"","probes"),E="/api/v2/internal/".concat(l?"public_":"","metricsforprobes"),v=Object(r.useState)(!1),b=p()(v,2),y=b[0],w=b[1],x=Object(r.useState)(void 0),k=p()(x,2),N=k[0],j=k[1],A=Object(r.useState)(void 0),S=p()(A,2),_=S[0],D=S[1],C=Object(r.useState)(void 0),I=p()(C,2),T=I[0],L=I[1],z=Object(r.useState)(void 0),P=p()(z,2),U=P[0],Q=P[1],V=Object(ut.b)("".concat(d,"_probe"),u()(s.a.mark((function e(){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={id:"",name:"",version:"",package:"",repository:"",docurl:"",description:"",comment:""},a){e.next=5;break}return e.next=4,m.fetchData("".concat(h,"/").concat(t));case 4:r=e.sent;case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))),R=V.data,F=V.error,Y=V.isLoading,B=Object(ut.b)("".concat(d,"_schema"),u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.isTenantSchema();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),H=B.data,W=B.isLoading,q=Object(ut.b)("".concat(d,"_metrictemplates"),u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.fetchData("".concat(E,"/").concat(R.name,"(").concat(R.version,")"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),{enabled:R}),G=q.data,Z=q.error,J=q.isLoading,K=Object(ut.b)("".concat(d,"_packages"),u()(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.fetchData(g);case 2:return t=e.sent,a=[],t.forEach((function(e){return a.push("".concat(e.name," (").concat(e.version,")"))})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))),X=K.data,$=K.error,ee=K.isLoading;function te(){w(!y)}function ae(){return(ae=u()(s.a.mark((function e(){var t,r,n,i,l,u,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a&&!c){e.next=24;break}return t=void 0,t=c?U.id:"",e.next=5,m.addObject("/api/v2/internal/probes/",{name:U.name,package:U.package,repository:U.repository,docurl:U.docurl,description:U.description,comment:U.comment,cloned_from:t});case 5:if((r=e.sent).ok){e.next=21;break}return n="",e.prev=8,e.next=11,r.json();case 11:i=e.sent,n=i.detail,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),n="Error adding probe";case 18:Be({title:"Error: ".concat(r.status," ").concat(r.statusText),msg:n}),e.next=22;break;case 21:Ye({msg:"Probe successfully added",title:"Added",callback:function(){return o.push("/ui/probes")}});case 22:e.next=43;break;case 24:return e.next=26,m.changeObject("/api/v2/internal/probes/",{id:U.id,name:U.name,package:U.package,repository:U.repository,docurl:U.docurl,description:U.description,comment:U.comment,update_metrics:U.update_metrics});case 26:if((l=e.sent).ok){e.next=42;break}return u="",e.prev=29,e.next=32,l.json();case 32:p=e.sent,u=p.detail,e.next=39;break;case 36:e.prev=36,e.t1=e.catch(29),u="Error changing probe";case 39:Be({title:"Error: ".concat(l.status," ").concat(l.statusText),msg:u}),e.next=43;break;case 42:Ye({msg:"Probe successfully changed",title:"Changed",callback:function(){return o.push("/ui/probes")}});case 43:case"end":return e.stop()}}),e,null,[[8,15],[29,36]])})))).apply(this,arguments)}function re(){return(re=u()(s.a.mark((function e(){var a,r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.deleteObject("/api/v2/internal/probes/".concat(t));case 2:if((a=e.sent).ok){e.next=18;break}return r="",e.prev=5,e.next=8,a.json();case 8:n=e.sent,r=n.detail,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),r="Error deleting probe";case 15:Be({title:"Error: ".concat(a.status," ").concat(a.statusText),msg:r}),e.next=19;break;case 18:Ye({msg:"Probe successfully deleted",title:"Deleted",callback:function(){return o.push("/ui/probes")}});case 19:case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}function ne(e,t){var a=R;a[e]=t;try{a.version=t.split(" ")[1].slice(1,-1)}catch(e){e instanceof TypeError&&(a.version="")}ut.a.setQueryData("".concat(d,"_probe"),(function(){return a}))}if(Y||W||J||ee)return n.a.createElement(Fe,null);if(F)return n.a.createElement(tt,{error:F.message});if(Z)return n.a.createElement(tt,{error:Z.message});if($)return n.a.createElement(tt,{error:$});if(H)return n.a.createElement(Ge,{resourcename:"Probe details",location:i,tenantview:!0,history:!0},n.a.createElement(O.d,{initialValues:{id:R.id,name:R.name,version:R.version,package:R.package,repository:R.repository,docurl:R.docurl,description:R.description,comment:R.comment},render:function(e){return n.a.createElement(Tt,f()({},e,{isTenantSchema:!0,publicView:l,metrictemplatelist:G,version:R.version}))}}));var ce="";return a||(ce=R.package),n.a.createElement(Ge,{resourcename:"".concat(l?"Probe details":"probe"),location:i,addview:a,cloneview:c,clone:!0,publicview:l,modal:!0,state:{areYouSureModal:y,modalTitle:_,modalMsg:T,modalFunc:"submit"===N?function(){return ae.apply(this,arguments)}:"delete"===N?function(){return re.apply(this,arguments)}:void 0},toggle:te},n.a.createElement(O.d,{initialValues:{id:R.id,name:R.name,version:R.version,package:ce,repository:R.repository,docurl:R.docurl,description:R.description,comment:R.comment,update_metrics:!1},validationSchema:Ct,enableReinitialize:!0,onSubmit:function(e){return function(e){var t="Are you sure you want to ".concat(a||c?"add":"change"," probe?"),r="".concat(a||c?"Add":"Change"," probe");Q(e),L(t),D(r),j("submit"),te()}(e)}},(function(e){return n.a.createElement(O.c,null,n.a.createElement(Tt,f()({},e,{addview:a,cloneview:c,publicView:l,list_packages:X,onSelect:ne,metrictemplatelist:G,version:R.version})),!l&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},a||c||l?n.a.createElement("div",null):n.a.createElement(M.a,{color:"danger",onClick:function(){L("Are you sure you want to delete probe?"),D("Delete probe"),j("delete"),te()}},"Delete"),n.a.createElement(M.a,{color:"success",id:"submit-button",type:"submit"},"Save")))})))},Pt=function(e){var t=e.match.params.id1,a=e.match.params.id2,c=e.match.params.name,i=e.publicView,o=Object(r.useState)(!1),l=p()(o,2),m=l[0],d=l[1],f=Object(r.useState)({}),g=p()(f,2),h=g[0],E=g[1],v=Object(r.useState)({}),b=p()(v,2),y=b[0],w=b[1],x=Object(r.useState)(null),k=p()(x,2),N=k[0],j=k[1],M=new ye;return Object(r.useEffect)((function(){function e(){return(e=u()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.fetchData("/api/v2/internal/".concat(i?"public_":"","version/probe/").concat(c));case 3:e.sent.forEach((function(e){e.version==t?E(e.fields):e.version===a&&w(e.fields)})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),j(e.t0);case 10:d(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}d(!0),function(){e.apply(this,arguments)}()}),[]),m?n.a.createElement(Fe,null):N?n.a.createElement(tt,{error:N}):!m&&h&&y?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Compare ".concat(c))),h.name!==y.name&&n.a.createElement($e,{title:"name",item1:h.name,item2:y.name}),h.version!==y.version&&n.a.createElement($e,{title:"version",item1:h.version,item2:y.version}),h.package!==y.package&&n.a.createElement($e,{title:"package",item1:h.package,item2:y.package}),h.description!==y.description&&n.a.createElement($e,{title:"description",item1:h.description,item2:y.description}),h.repository!==y.repository&&n.a.createElement($e,{title:"repository",item1:h.repository,item2:y.repository}),h.docurl!==y.docurl&&n.a.createElement($e,{title:"documentation",item1:h.docurl,item2:y.docurl}),h.comment!==y.comment&&n.a.createElement($e,{title:"comment",item1:h.comment,item2:y.comment})):null},Ut=function(e){var t=e.match.params.name,a=e.match.params.version,c=e.publicView,i=new ye,o="/api/v2/internal/".concat(c?"public_":"","version/probe"),l=Object(r.useState)({}),m=p()(l,2),d=m[0],g=m[1],h=Object(r.useState)(!1),E=p()(h,2),v=E[0],b=E[1],y=Object(r.useState)(null),w=p()(y,2),x=w[0],k=w[1];return Object(r.useEffect)((function(){function e(){return(e=u()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.fetchData("".concat(o,"/").concat(t));case 3:e.sent.forEach((function(e){e.version===a&&g(e.fields)})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),k(e.t0);case 10:b(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}b(!0),function(){e.apply(this,arguments)}()}),[]),v?n.a.createElement(Fe,null):x?n.a.createElement(tt,{error:x}):!v&&t?n.a.createElement(Ge,{resourcename:"".concat(t," (").concat(a,")"),infoview:!0},n.a.createElement(O.d,{initialValues:{name:d.name,version:d.version,package:d.package,repository:d.repository,docurl:d.docurl,description:d.description,comment:d.comment},render:function(e){return n.a.createElement(Tt,f()({},e,{version:d.version,isHistory:!0}))}})):null},Qt=a("glTy"),Vt=a("vwsU"),Rt=a("FCdT");function Ft(e){var t;return e||(t="Required"),t}var Yt=function(e){for(var t=e.title,a=e.item1,r=e.item2,c=Math.max(a.length,r.length),i=[],o=0;o<a.length;o++)i.push("key: "+a[o].key+", value: "+a[o].value);for(var s=[],l=0;l<r.length;l++)s.push("key: "+r[l].key+", value: "+r[l].value);if(a.length>r.length)for(var u=r.length;u<a.length;u++)s.push(" ");else if(r.length>a.length)for(var m=a.length;m<r.length;m++)i.push(" ");for(var p=[],d=0;d<c;d++)p.push(n.a.createElement(ke.a,{oldValue:s[d],newValue:i[d],showDiffOnly:!0,splitView:!1,hideLineNumbers:!0,disableWordDiff:!0,key:"diff-"+d}));return n.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},n.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},t),p)};function Bt(e,t){if(e.length!==t.length)return!1;for(var a=e.length;a--;)if(e[a].key!==t[a].key||e[a].value!==t[a].value)return!1;return!0}var Ht=function(e){var t=e.values,a=e.errors,r=e.field,c=e.addnew,i=void 0!==c&&c,o=e.readonly,s=void 0!==o&&o;return n.a.createElement("div",null,n.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase",hidden:"Passive"===t.type&&"flags"!==r},r.replace("_"," ")),n.a.createElement(O.b,{name:r,render:function(e){return t[r]&&t[r].length>0?t[r].map((function(c,o){return n.a.createElement(n.a.Fragment,{key:"fragment.".concat(r,".").concat(o)},n.a.createElement(v.a,null,n.a.createElement(b.a,{md:5},0===o&&n.a.createElement(N.a,{hidden:"Passive"===t.type&&"flags"!==r,for:"".concat(r,".0.key")},"Key")),n.a.createElement(b.a,{md:5},0===o&&n.a.createElement(N.a,{hidden:"Passive"===t.type&&"flags"!==r,for:"".concat(r,".0.value")},"Value"))),n.a.createElement(v.a,null,n.a.createElement(b.a,{md:5},n.a.createElement(O.a,{type:"text",name:"".concat(r,".").concat(o,".key"),id:"".concat(r,".").concat(o,".key"),className:"form-control ".concat(t[r][o].isNew&&"border-success"),readOnly:!i||"config"===r||"Passive"===t.type&&"PASSIVE"===c.key,hidden:"Passive"===t.type&&"flags"!==r})),n.a.createElement(b.a,{md:5},"Active"===t.type&&"config"===r?n.a.createElement(O.a,{type:"text",name:"".concat(r,".").concat(o,".value"),id:"".concat(r,".").concat(o,".value"),className:"form-control ".concat(a.config&&a.config[o]&&"border-danger"),readOnly:s||!i&&"config"===r&&"path"===c.key,validate:Ft}):n.a.createElement(O.a,{type:"text",name:"".concat(r,".").concat(o,".value"),id:"".concat(r,".").concat(o,".value"),className:"form-control ".concat(t[r][o].isNew&&"border-success"),style:{overflowX:"auto"},readOnly:s||!i&&("config"!==r||"config"===r&&"path"===c.key)||"Passive"===t.type&&"PASSIVE"===c.key,hidden:"Passive"===t.type&&"flags"!==r}),a.config&&"config"===r&&a.config[o]&&Je(a.config[o].value)),n.a.createElement(b.a,{md:2},i&&"config"!==r&&(""!==t[r][0].key||""!==t[r][0].value||t[r].length>1)&&n.a.createElement(M.a,{hidden:"Passive"===t.type&&"flags"!==r||"flags"===r&&"Passive"===t.type&&("PASSIVE"===t[r][o].key||""===t[r][o].key&&""===t[r][o].value),size:"sm",color:"danger",type:"button",onClick:function(){e.remove(o),1===t[r].length&&e.push({key:"",value:""})}},n.a.createElement(de.a,{icon:fe.s})))),i&&"config"!==r&&o===t[r].length-1&&n.a.createElement(v.a,{className:"Passive"===t.type?"mt-0":"mt-2"},n.a.createElement(b.a,{md:2},n.a.createElement(M.a,{hidden:"Passive"===t.type&&"flags"!==r,size:"sm",color:"success",type:"button",onClick:function(){return e.push({key:"",value:"",isNew:!0})}},n.a.createElement(de.a,{icon:fe.u})," Add another ","s"===r.slice(-1)?r.slice(0,-1).replace("_"," "):r.replace("_"," ")))))})):n.a.createElement(n.a.Fragment,{key:"fragment.".concat(r)},n.a.createElement(v.a,null,n.a.createElement(b.a,{md:5},n.a.createElement(N.a,{to:"empty-key",hidden:"Passive"===t.type&&"flags"!==r},"Key"),n.a.createElement(O.a,{type:"text",className:"form-control",value:"",id:"empty-key",readOnly:!i,hidden:"Passive"===t.type&&"flags"!==r})),n.a.createElement(b.a,{md:5},n.a.createElement(N.a,{to:"empty-value",hidden:"Passive"===t.type&&"flags"!==r},"Value"),n.a.createElement(O.a,{type:"text",value:"",className:"form-control",id:"empty-value",readOnly:!i,hidden:"Passive"===t.type&&"flags"!==r}))),i&&n.a.createElement(v.a,{className:"Passive"===t.type?"mt-0":"mt-2"},n.a.createElement(b.a,{md:2},n.a.createElement(M.a,{hidden:"Passive"===t.type&&"flags"!==r,size:"sm",color:"success",type:"button",onClick:function(){return e.push({key:"",value:""})}},n.a.createElement(de.a,{icon:fe.u})," Add another ","s"===r.slice(-1)?r.slice(0,-1).replace("_"," "):r.replace("_"," ")))))}}))},Wt=function(e){var t=e.probeversion,a=e.publicView,r=void 0!==a&&a;return n.a.createElement(ie.b,{to:"/ui/".concat(r?"public_":"","probes/")+t.split(" ")[0]+"/history/"+t.split(" ")[1].substring(1,t.split(" ")[1].length-1)},t)},qt=function(e){var t=e.location,a=e.type,c=e.publicView,i=Object(r.useState)({}),o=p()(i,2),l=o[0],m=o[1],d=Object(r.useState)(0),f=p()(d,2),g=f[0],h=f[1],E=Object(r.useState)(!1),v=p()(E,2),b=v[0],y=v[1],w=Object(r.useState)(void 0),x=p()(w,2),k=x[0],N=x[1],j=Object(r.useState)(void 0),A=p()(j,2),O=A[0],S=A[1],_=Object(r.useState)(void 0),D=p()(_,2),C=D[0],I=D[1],T=new ye,L=Object(ut.b)("".concat(a,"_listview"),u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.fetchData("/api/v2/internal/".concat(c?"public_":"").concat("metrics"===a?"metric":a));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),{retry:!1}),z=L.data,P=L.error,U=L.isLoading,Q=Object(ut.b)("".concat(a,"_listview_mtypes"),u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.fetchData("/api/v2/internal/".concat(c?"public_":"","mt").concat("metrictemplates"==a?"t":"","ypes"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),V=Q.data,R=Q.error,Y=Q.isLoading,B=Object(ut.b)("".concat(a,"_listview_tags"),u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.fetchData("/api/v2/internal/".concat(c?"public_":"","metrictags"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),H=B.data,W=B.error,q=B.isLoading,G=Object(ut.b)("".concat(a,"_listview_osgroups"),u()(s.a.mark((function e(){var t,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("metrics"!==a){e.next=7;break}return e.next=3,T.fetchResult("/api/v2/internal/".concat(c?"public_":"","usergroups"));case 3:return t=e.sent,e.abrupt("return",t.metrics);case 7:return e.next=9,T.fetchData("/api/v2/internal/".concat(c?"public_":"","ostags"));case 9:return r=e.sent,e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})))),Z=G.data,J=G.error,K=G.isLoading,$=Object(ut.b)("".concat(a,"_listview_schema"),u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=T.isTenantSchema(),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})))),ee=$.data,te=$.isLoading,ae=Object(ut.b)("".concat(a,"_listview_userdetails"),u()(s.a.mark((function e(){var t,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={username:"Anonymous"},a=T.isTenantSchema(),c){e.next=7;break}return e.next=5,T.isActiveSession(a);case 5:(r=e.sent).active&&(t=r.userdetails);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))),re=ae.data,ne=ae.error,ce=ae.isLoading;function oe(){y(!b)}function se(){return(se=u()(s.a.mark((function e(){var t,a,r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l,!((a=Object.keys(t).filter((function(e){return t[e]}))).length>0)){e.next=17;break}return e.next=5,T.importMetrics({metrictemplates:a});case 5:return r=e.sent,e.next=8,r.json();case 8:"imported"in(n=e.sent)&&Ye({msg:n.imported,title:"Imported"}),"warn"in n&&We({msg:n.warn,title:"Imported with older probe version"}),"err"in n&&He({msg:n.err,title:"Not imported"}),"unavailable"in n&&Be({msg:n.unavailable,title:"Unavailable"}),m({}),h(0),e.next=18;break;case 17:Be({msg:"No metric templates were selected!",title:"Error"});case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(){return(le=u()(s.a.mark((function e(t){var r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.bulkDeleteMetrics({metrictemplates:t});case 2:return r=e.sent,e.next=5,r.json();case 5:n=e.sent,r.ok?("info"in n&&Ye({msg:n.info,title:"Deleted"}),"warning"in n&&He({msg:n.warning,title:"Deleted"}),ut.a.setQueryData("".concat(a,"_listview"),(function(e){return e.filter((function(e){return!t.includes(e.name)}))})),h(0)):Be({msg:"Error deleting metric template".concat(t.length>0?"s":""),title:"Error: ".concat(r.status," ").concat(r.statusText)});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ue="/ui/".concat("metrictemplates"===a&&ee&&!c?"administration/":"").concat(c?"public_":"").concat(a,"/"),me=[{Header:"Name",accessor:"name",column_width:"39%",Cell:function(e){return n.a.createElement(ie.b,{to:"".concat(ue).concat(e.value)},e.value)},Filter:rt},{Header:"Probe version",column_width:"20%",accessor:"probeversion",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value?n.a.createElement(Wt,{publicView:c,probeversion:e.value}):"")},Filter:rt},{Header:"Type",column_width:"".concat(ee?"12%":"18%"),accessor:"mtype",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)},filterList:V,Filter:nt},{Header:"Tag",column_width:"".concat(ee?"12%":"18%"),accessor:"tags",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},0===e.value.length?n.a.createElement(F.a,{color:"dark"},"none"):e.value.map((function(e,t){return n.a.createElement(F.a,{className:"mr-1",key:t,color:"internal"===e?"success":"deprecated"===e?"danger":"secondary"},e)})))},filterList:H,Filter:nt}];"metrictemplates"==a&&re&&re.is_superuser?me.splice(0,0,{id:"checkbox",accessor:null,Cell:function(e){var t=e.cell.row.original;return n.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},n.a.createElement("input",{type:"checkbox",className:"checkbox",checked:!0===l[t.name],onChange:function(){return e=t.name,(a=Object.assign({},l))[e]=!l[e],m(a),void h(Object.keys(a).every((function(e){return!a[e]}))?0:2);var e,a}}))},Header:"".concat(ee?"Select all":"Delete"),Filter:function(e){return n.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},n.a.createElement("input",{type:"checkbox",className:"checkbox",checked:1===g,ref:function(e){e&&(e.indeterminate=2===g)},onChange:function(){return function(e){var t=[];e.filteredFlatRows.forEach((function(e){return t.push(e.original)}));var a={};0===g&&t.forEach((function(e){a[e.name]=!0})),m(a),h(0===g?1:0)}(e)}}))},column_width:"5%"}):me.splice(0,0,{Header:"#",id:"row",column_width:"5%"}),"metrics"===a?me.splice(4,0,{Header:"Group",column_width:"12%",accessor:"group",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)},filterList:Z,Filter:nt}):ee&&me.splice(4,0,{Header:"OS",column_width:"12%",accessor:"ostag",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value.join(", "))},filterList:Z,Filter:nt});var pe=n.a.useMemo((function(){return me}));return U||Y||q||K||te||ce?n.a.createElement(Fe,null):P?n.a.createElement(tt,{error:P.message}):R?n.a.createElement(tt,{error:R.message}):W?n.a.createElement(tt,{error:W.message}):J?n.a.createElement(tt,{error:J.message}):ne?n.a.createElement(tt,{error:ne.message}):U||Y||q||K||te||ce||!z?null:"metrics"===a?n.a.createElement(Ge,{resourcename:"metric",location:t,listview:!0,addnew:!1},n.a.createElement(ct,{data:z,columns:pe,page_size:50,resourcename:"metrics",filter:!0})):ee?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Select metric template".concat(re.is_superuser?"(s) to import":" for details")),re.is_superuser&&n.a.createElement(M.a,{className:"btn btn-secondary",onClick:function(){return function(){return se.apply(this,arguments)}()}},"Import")),n.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},n.a.createElement(ct,{data:z,columns:pe,page_size:50,resourcename:"metrics",filter:!0,selectable:!c}))):n.a.createElement(n.a.Fragment,null,n.a.createElement(ze,{isOpen:b,toggle:oe,title:O,msg:C,onYes:function(){return function(e){return le.apply(this,arguments)}(k)}}),n.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Select metric template to change"),!c&&n.a.createElement(X.a,null,n.a.createElement(ie.b,{className:"btn btn-secondary mr-2",to:t.pathname+"/add",role:"button"},"Add"),!ee&&n.a.createElement(M.a,{className:"btn btn-secondary",onClick:function(){return e=l,void((t=Object.keys(e).filter((function(t){return e[t]}))).length>0?(I("Are you sure you want to delete metric template".concat(t.length>1?"s":""," ").concat(t.join(", "),"?")),S("Delete metric template".concat(t.length>1?"s":"")),N(t),oe()):Be({msg:"No metric templates were selected!",title:"Error"}));var e,t}},"Delete"))),n.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},n.a.createElement(ct,{data:z,columns:pe,page_size:50,resourcename:"metric templates",filter:!0,selectable:!c})))},Gt={multiValue:function(e,t){return"internal"===t.data.value?lt()({},e,{backgroundColor:"#d4edda"}):"deprecated"===t.data.value?lt()({},e,{backgroundColor:"#f8d7da"}):e}},Zt=function(e){return n.a.createElement(Rt.z.DropdownIndicator,e,n.a.createElement(de.a,{icon:fe.d}))},Jt=function(e){var t=e.values,a=void 0===t?void 0:t,r=e.errors,c=void 0===r?{name:void 0,probeversion:void 0,probeexecutable:void 0}:r,i=e.setFieldValue,o=void 0===i?void 0:i,s=e.handleChange,l=e.obj_label,u=void 0===l?"":l,m=e.obj,p=void 0===m?void 0:m,d=e.probe,f=void 0===d?void 0:d,g=e.popoverOpen,h=void 0===g?void 0:g,E=e.togglePopOver,y=void 0===E?void 0:E,w=e.onSelect,x=void 0===w?void 0:w,j=e.onTagChange,M=void 0===j?void 0:j,A=e.isHistory,S=void 0!==A&&A,_=e.isTenantSchema,D=void 0!==_&&_,C=e.addview,I=void 0!==C&&C,T=e.probeversions,L=void 0===T?[]:T,z=e.groups,P=void 0===z?[]:z,U=e.metrictemplatelist,Q=void 0===U?[]:U,V=e.types,R=void 0===V?[]:V,Y=e.alltags,B=void 0===Y?[]:Y,H=e.tags,W=void 0===H?[]:H,q=e.publicView,G=void 0!==q&&q;return n.a.createElement(n.a.Fragment,null,n.a.createElement(k.a,null,n.a.createElement(v.a,{className:"mb-3"},n.a.createElement(b.a,{md:6},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Name"),n.a.createElement(O.a,{type:"text",name:"name",className:"form-control ".concat(c.name&&"border-danger"),id:"name",readOnly:S||D||G})),c.name&&Je(c.name),n.a.createElement(te.a,{color:"muted"},"Metric name.")),n.a.createElement(b.a,{md:4,className:"mt-1"},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Type"),D||S||G?n.a.createElement(O.a,{type:"text",name:"type",className:"form-control",id:"mtype",readOnly:!0}):n.a.createElement(O.a,{component:"select",name:"type",className:"form-control custom-select",id:"mtype",onChange:function(e){if(s(e),"Passive"===e.target.value){var t=a.flags.length;1===t&&""===a.flags[0].key?(o("flags[0].key","PASSIVE"),o("flags[0].value","1")):(o("flags[".concat(t,"].key"),"PASSIVE"),o("flags[".concat(t,"].value"),"1"))}else if("Active"===e.target.value){var r=void 0;a.flags.forEach((function(e,t){"PASSIVE"===e.key&&(r=t)})),1===a.flags.length?a.flags.splice(r,1,{key:"",value:""}):a.flags.splice(r,1)}}},R.map((function(e,t){return n.a.createElement("option",{key:t,value:e},e)})))),n.a.createElement(te.a,{color:"muted"},"Metric is of given type."))),n.a.createElement(v.a,null,n.a.createElement(b.a,{md:6},"Passive"===a.type?n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Probe"),n.a.createElement("input",{type:"text",className:"form-control",disabled:!0,id:"passive-probeversion"})):S||D||G?n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Probe"),n.a.createElement(O.a,{type:"text",name:"probeversion",className:"form-control",id:"probeversion",disabled:!0})):n.a.createElement(Ke,{setFieldValue:o,lists:L,icon:"probes",field:"probeversion",val:a.probeversion,onselect_handler:x,req:c.probeversion,label:"Probe"}),c.probeversion&&Je(c.probeversion),"Active"===a.type&&n.a.createElement(te.a,{color:"muted"},"Probe name and version ",!S&&n.a.createElement(n.a.Fragment,null,n.a.createElement(de.a,{id:"probe-popover",hidden:"Passive"==="".concat(p,".mtype")||I,icon:fe.p,style:{color:"#416090"}}),n.a.createElement(Z.a,{placement:"bottom",isOpen:h,target:"probe-popover",toggle:y,trigger:"click"},n.a.createElement(Qt.a,null,n.a.createElement(Wt,{probeversion:p.probeversion,publicView:G})),n.a.createElement(J.a,null,f.description))))),n.a.createElement(b.a,{md:4,className:"mt-1"},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Package"),n.a.createElement(O.a,{type:"text",className:"form-control",value:"Active"===a.type?f.package:"",disabled:!0})),n.a.createElement(te.a,{color:"muted"},"Package which contains probe."))),"metrictemplate"!==u||S||D||G?n.a.createElement(v.a,{className:"mb-4 mt-2"},n.a.createElement(b.a,{md:10},n.a.createElement(N.a,null,"Tags:"),n.a.createElement("div",null,0===W.length?n.a.createElement(F.a,{color:"dark"},"none"):"metrictemplate"!==u||S?W.map((function(e,t){return n.a.createElement(F.a,{className:"mr-1",key:t,color:"internal"===e?"success":"deprecated"===e?"danger":"secondary"},e)})):W.map((function(e,t){return n.a.createElement(F.a,{className:"mr-1",key:t,color:"internal"===e.value?"success":"deprecated"===e.value?"danger":"secondary"},e.value)}))))):n.a.createElement(v.a,{className:"mb-4 mt-2"},n.a.createElement(b.a,{md:10},n.a.createElement(N.a,null,"Tags:"),n.a.createElement(Vt.a,{closeMenuOnSelect:!1,isMulti:!0,onChange:M,options:B,components:{DropdownIndicator:Zt},defaultValue:W,styles:Gt}))),n.a.createElement(v.a,{className:"mb-4 mt-2"},n.a.createElement(b.a,{md:10},n.a.createElement(N.a,{for:"description"},"Description:"),n.a.createElement(O.a,{id:"description",className:"form-control",component:"textarea",name:"description",disabled:D||S||G}))),"metric"===u&&n.a.createElement(v.a,{className:"mb-4"},n.a.createElement(b.a,{md:3},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Group"),S||G?n.a.createElement(O.a,{type:"text",name:"group",className:"form-control",disabled:!0,id:"group"}):n.a.createElement(O.a,{component:"select",name:"group",className:"form-control custom-select",id:"group"},P.map((function(e,t){return n.a.createElement("option",{key:t,value:e},e)})))),n.a.createElement(te.a,{color:"muted"},"Metric is member of selected group.")))),n.a.createElement(k.a,null,n.a.createElement(at,{title:"Metric configuration"}),n.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase",hidden:"Passive"===a.type},"probe executable"),n.a.createElement(v.a,null,n.a.createElement(b.a,{md:5},n.a.createElement(O.a,{type:"text",name:"probeexecutable",id:"probeexecutable",className:"form-control ".concat(c.probeexecutable&&"border-danger"),hidden:"Passive"===a.type,readOnly:D||S||G}),c.probeexecutable&&Je(c.probeexecutable))),n.a.createElement(Ht,{values:a,errors:c,field:"config",addnew:!D&&!S,readonly:"metrictemplate"===u&&D||S||G}),n.a.createElement(Ht,{values:a,errors:c,field:"attributes",addnew:!D&&!S&&!G}),n.a.createElement(Ht,{values:a,errors:c,field:"dependency",addnew:!D&&!S&&!G}),n.a.createElement(Ht,{values:a,errors:c,field:"parameter",addnew:!D&&!S&&!G}),n.a.createElement(Ht,{values:a,errors:c,field:"flags",addnew:!D&&!S&&!G}),n.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},"parent"),n.a.createElement(v.a,null,n.a.createElement(b.a,{md:5},D||S||G?n.a.createElement(O.a,{type:"text",name:"parent",id:"parent",className:"form-control",readOnly:!0}):n.a.createElement(n.a.Fragment,null,n.a.createElement(Ke,{setFieldValue:o,lists:Q,field:"parent",val:a.parent,icon:"metrics",onselect_handler:x,req:c.parent}),c.parent&&Je(c.parent))))))},Kt=function(e){var t=e.match.params.id1,a=e.match.params.id2,c=e.match.params.name,i=e.publicView,o=e.type,l=Object(r.useState)(!1),m=p()(l,2),d=m[0],f=m[1],g=Object(r.useState)(void 0),h=p()(g,2),E=h[0],v=h[1],b=Object(r.useState)(void 0),y=p()(b,2),w=y[0],x=y[1],k=Object(r.useState)(void 0),N=p()(k,2),j=N[0],M=N[1],A=new ye;return Object(r.useEffect)((function(){function e(){return(e=u()(s.a.mark((function e(){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="/api/v2/internal/".concat(i?"public_":"").concat("metric"===o?"tenant":"","version/").concat(o,"/").concat(c),e.next=4,A.fetchData(r);case 4:e.sent.forEach((function(e){e.version==t&&v(e.fields),e.version==a&&x(e.fields)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),M(e.t0);case 11:f(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}f(!0),function(){e.apply(this,arguments)}()}),[]),d?n.a.createElement(Fe,null):j?n.a.createElement(tt,{error:j}):!d&&E&&w?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Compare ".concat(c))),E.name!==w.name&&n.a.createElement($e,{title:"name",item1:E.name,item2:w.name}),E.probeversion!==w.probeversion&&n.a.createElement($e,{title:"probe version",item1:E.probeversion,item2:w.probeversion}),E.type!==w.type&&n.a.createElement($e,{title:"type",item1:E.type,item2:w.type}),!Bt(E.tags,w.tags)&&n.a.createElement($e,{title:"tags",item1:E.tags,item2:w.tags}),"metric"===o&&E.group!==w.group&&n.a.createElement($e,{title:"group",item1:E.group,item2:w.group}),E.description!==w.description&&n.a.createElement($e,{title:"description",item1:E.description,item2:w.description}),E.probeexecutable!==w.probeexecutable&&n.a.createElement($e,{title:"probe executable",item1:E.probeexecutable,item2:w.probeexecutable}),E.parent!==w.parent&&n.a.createElement($e,{title:"parent",item1:E.parent,item2:w.parent}),!Bt(E.config,w.config)&&n.a.createElement(Yt,{title:"config",item1:E.config,item2:w.config}),!Bt(E.attribute,w.attribute)&&n.a.createElement(Yt,{title:"attribute",item1:E.attribute,item2:w.attribute}),"metrictemplate"===o&&!Bt(E.dependency,w.dependency)&&n.a.createElement(Yt,{title:"dependency",item1:E.dependency,item2:w.dependency}),"metric"===o&&!Bt(E.dependancy,w.dependancy)&&n.a.createElement(Yt,{title:"dependency",item1:E.dependancy,item2:w.dependancy}),!Bt(E.parameter,w.parameter)&&n.a.createElement(Yt,{title:"parameter",item1:E.parameter,item2:w.parameter}),!Bt(E.flags,w.flags)&&n.a.createElement(Yt,{title:"flags",item1:E.flags,item2:w.flags})):null},Xt=function(e){var t=e.match.params.name,a=e.location,c=e.history,i=e.publicView,o="metric_".concat(t,"_").concat(i?"publicview":"changeview"),l=new ye,m=Object(r.useState)(!1),d=p()(m,2),g=d[0],h=d[1],E=Object(r.useState)(!1),v=p()(E,2),b=v[0],y=v[1],w=Object(r.useState)(void 0),x=p()(w,2),k=x[0],N=x[1],j=Object(r.useState)(void 0),A=p()(j,2),S=A[0],_=A[1],D=Object(r.useState)(void 0),C=p()(D,2),I=C[0],T=C[1],L=Object(r.useState)(void 0),z=p()(L,2),P=z[0],U=z[1],Q=Object(ut.b)("".concat(o,"_metric"),u()(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.fetchData("/api/v2/internal/".concat(i?"public_":"","metric/").concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))),V=Q.data,R=Q.error,F=Q.isLoading,Y=Object(ut.b)("".concat(o,"_session"),u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.isActiveSession();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),B=Y.data,H=Y.error,W=Y.isLoading,q=Object(ut.b)("".concat(o,"_probe"),u()(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},a=[],!V.probeversion){e.next=6;break}return e.next=5,l.fetchData("/api/v2/internal/".concat(i?"public_":"","version/probe/").concat(V.probeversion.split(" ")[0]));case 5:a=e.sent;case 6:return a.forEach((function(e){e.object_repr===V.probeversion&&(t=e.fields)})),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)}))),{enabled:V}),G=q.data,Z=q.error,J=q.isLoading;function K(){h(!g)}function X(){y(!b)}function $(){return($=u()(s.a.mark((function e(){var t,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.changeObject("/api/v2/internal/metric/",{name:P.name,mtype:P.type,group:P.group,description:P.description,parent:P.parent,probeversion:P.probeversion,probeexecutable:P.probeexecutable,config:P.config,attribute:P.attributes,dependancy:P.dependency,flags:P.flags,files:P.files,parameter:P.parameter,fileparameter:P.file_parameters});case 2:if(!(t=e.sent).ok){e.next=7;break}Ye({msg:"Metric successfully changed",title:"Changed",callback:function(){return c.push("/ui/metrics")}}),e.next=19;break;case 7:return a="",e.prev=8,e.next=11,t.json();case 11:r=e.sent,a=r.detail,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),a="Error changing metric";case 18:Be({title:"Error: ".concat(t.status," ").concat(t.statusText),msg:a});case 19:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}function ee(){return(ee=u()(s.a.mark((function e(){var a,r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.deleteObject("/api/v2/internal/metric/".concat(t));case 2:if(!(a=e.sent).ok){e.next=7;break}Ye({msg:"Metric successfully deleted",title:"Deleted",callback:function(){return c.push("/ui/metrics")}}),e.next=19;break;case 7:return r="",e.prev=8,e.next=11,a.json();case 11:n=e.sent,r=n.detail,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),r="Error deleting metric";case 18:Be({title:"Error: ".concat(a.status," ").concat(a.statusText),msg:r});case 19:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}if(F||W||J)return n.a.createElement(Fe,null);if(R)return n.a.createElement(tt,{error:R});if(H)return n.a.createElement(tt,{error:H});if(Z)return n.a.createElement(tt,{error:Z});var te=[],ae=!1;return B.active&&(te=B.userdetails.groups.metrics,ae=B.userdetails.is_superuser||B.userdetails.groups.metrics.indexOf(V.group)>=0),te.includes(V.group)||te.push(V.group),n.a.createElement(Ge,{resourcename:i?"Metric details":"metric",location:a,history:!i,publicview:i,modal:!0,state:{areYouSureModal:b,modalTitle:k,modalMsg:S,modalFunc:"submit"===I?function(){return $.apply(this,arguments)}:"delete"===I?function(){return ee.apply(this,arguments)}:void 0},toggle:X,submitperm:ae},n.a.createElement(O.d,{enableReinitialize:!0,initialValues:{name:V.name,probeversion:V.probeversion,description:V.description,type:V.mtype,group:V.group,probeexecutable:V.probeexecutable,parent:V.parent,config:V.config,attributes:V.attribute,dependency:V.dependancy,parameter:V.parameter,flags:V.flags,files:V.files,file_attributes:V.files,file_parameters:V.fileparameter},onSubmit:function(e){return function(e){_("Are you sure you want to change metric?"),N("Change metric"),U(e),T("submit"),X()}(e)},render:function(e){return n.a.createElement(O.c,null,n.a.createElement(Jt,f()({},e,{obj_label:"metric",obj:V,probe:G,tags:V.tags,isTenantSchema:!0,popoverOpen:g,togglePopOver:K,groups:te,publicView:i})),ae&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},n.a.createElement(M.a,{color:"danger",onClick:function(){_("Are you sure you want to delete metric?"),N("Delete metric"),T("delete"),X()}},"Delete"),n.a.createElement(M.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}}))},$t=function(e){var t=e.match.params.name,a=e.match.params.version,c=new ye,i=Object(r.useState)(!1),o=p()(i,2),l=o[0],m=o[1],d=Object(r.useState)(null),g=p()(d,2),h=g[0],E=g[1],v=Object(r.useState)({package:""}),b=p()(v,2),y=b[0],w=b[1],x=Object(r.useState)(null),k=p()(x,2),N=k[0],j=k[1];return Object(r.useEffect)((function(){function e(){return(e=u()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.fetchData("/api/v2/internal/tenantversion/metric/".concat(t));case 3:e.sent.forEach(function(){var e=u()(s.a.mark((function e(t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.version!=a){e.next=8;break}return e.next=3,c.fetchData("/api/v2/internal/version/probe/".concat(t.fields.probeversion.split(" ")[0]));case 3:e.sent.forEach((function(e){e.object_repr===t.fields.probeversion&&w(e.fields)})),(r=t.fields).date_created=t.date_created,E(r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),j(e.t0);case 10:m(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}m(!0),function(){e.apply(this,arguments)}()}),[]),l?n.a.createElement(Fe,null):N?n.a.createElement(tt,{error:N}):!l&&h?n.a.createElement(Ge,{resourcename:"".concat(t," (").concat(h.date_created,")"),infoview:!0},n.a.createElement(O.d,{initialValues:{name:t,probeversion:h.probeversion,type:h.mtype,group:h.group,description:h.description,probeexecutable:h.probeexecutable,parent:h.parent,config:h.config,attributes:h.attribute,dependency:h.dependancy,parameter:h.parameter,flags:h.flags,files:h.files,fileparameter:h.fileparameter},render:function(e){return n.a.createElement(O.c,null,n.a.createElement(Jt,f()({},e,{obj_label:"metric",isHistory:!0,probe:y,tags:h.tags})))}})):null},ea=Dt.object().shape({name:Dt.string().matches(/^\S*$/,"Name cannot contain white spaces").required("Required"),type:Dt.string(),probeversion:Dt.string().when("type",{is:function(e){return"Active"===e},then:Dt.string().required("Required")}),probeexecutable:Dt.string().when("type",{is:function(e){return"Active"===e},then:Dt.string().required("Required")})}),ta=function(e){var t=e.probeview,a=void 0;a=t?e.match.params.metrictemplatename:e.match.params.name;var c=e.location,i=e.addview,o=e.cloneview,l=e.publicView,m=e.tenantview,d=e.history,g="metrictemplate_".concat(i?"addview":"".concat(a,"_").concat(m?"tenant_":"").concat(o?"cloneview":"".concat(l?"publicview":"changeview"))),h=new ye,E=Object(r.useState)(!1),v=p()(E,2),b=v[0],y=v[1],w=Object(r.useState)(!1),x=p()(w,2),k=x[0],N=x[1],j=Object(r.useState)(void 0),A=p()(j,2),S=A[0],_=A[1],D=Object(r.useState)(void 0),C=p()(D,2),I=C[0],T=C[1],L=Object(r.useState)(void 0),z=p()(L,2),P=z[0],U=z[1],Q=Object(r.useState)(void 0),V=p()(Q,2),R=V[0],F=V[1],Y=Object(ut.b)("".concat(g,"_types"),u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.fetchData("/api/v2/internal/".concat(l?"public_":"","mttypes"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),B=Y.data,H=Y.error,W=Y.isLoading,q=Object(ut.b)("".concat(g,"_tags"),u()(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.fetchData("/api/v2/internal/".concat(l?"public_":"","metrictags"));case 2:return t=e.sent,a=[],t.forEach((function(e){return a.push({value:e,label:e})})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))),G=q.data,Z=q.error,J=q.isLoading,K=Object(ut.b)("".concat(g,"_allprobeversions"),u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.fetchData("/api/v2/internal/".concat(l?"public_":"","version/probe"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),X=K.data,$=K.error,ee=K.isLoading,te=Object(ut.b)("".concat(g,"_metrictemplates"),u()(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.fetchData("/api/v2/internal/".concat(l?"public_":"","metrictemplates"));case 2:return t=e.sent,a=[],t.forEach((function(e){return a.push(e.name)})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))),ae=te.data,re=te.error,ne=te.isLoading,ce=Object(ut.b)("".concat(g,"_metrictemplate"),u()(s.a.mark((function e(){var t,r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={id:"",name:"",probeversion:"",mtype:"Active",description:"",probeexecutable:"",parent:"",config:[{key:"maxCheckAttempts",value:""},{key:"timeout",value:""},{key:"path",value:""},{key:"interval",value:""},{key:"retryInterval",value:""}],attribute:[{key:"",value:""}],dependency:[{key:"",value:""}],parameter:[{key:"",value:""}],flags:[{key:"",value:""}],files:[{key:"",value:""}],fileparameter:[{key:"",value:""}],tags:[],probe:{package:""}},i){e.next=15;break}return e.next=4,h.fetchData("/api/v2/internal/".concat(l?"public_":"","metrictemplates/").concat(a));case 4:t=e.sent,r=[],t.tags.forEach((function(e){return r.push({value:e,label:e})})),t.tags=r,t.probeversion&&(n={},X.forEach((function(e){e.object_repr===t.probeversion&&(n=e.fields)})),t.probe=n),0===t.attribute.length&&(t.attribute=[{key:"",value:""}]),0===t.dependency.length&&(t.dependency=[{key:"",value:""}]),0===t.parameter.length&&(t.parameter=[{key:"",value:""}]),0===t.flags.length&&(t.flags=[{key:"",value:""}]),0===t.files.length&&(t.files=[{key:"",value:""}]),0===t.fileparameter.length&&(t.fileparameter=[{key:"",value:""}]);case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}}),e)}))),{enabled:X}),ie=ce.data,oe=ce.error,se=ce.isLoading;function le(e,t){if("probeversion"===e){var a=ie,r={},n=!0,c=!1,i=void 0;try{for(var o,s=X[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;if(l.object_repr===t){r=l.fields;break}r={package:""}}}catch(e){c=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(c)throw i}}a.probe=r,ut.a.setQueryData("".concat(g,"_metrictemplate"),(function(){return a}))}}function ue(e){var t=ie;t.tags=e,ut.a.setQueryData("".concat(g,"_metrictemplate"),(function(){return t}))}function me(){y(!b)}function pe(){N(!k)}function de(){return(de=u()(s.a.mark((function e(){var t,a,r,n,c,l,u,m,p,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(e,t,a){return a.indexOf(e)==t},a=[],ie.tags.forEach((function(e){return a.push(e.value)})),r=a.filter(t),!i&&!o){e.next=28;break}return n=void 0,n=o?R.id:"",e.next=9,h.addObject("/api/v2/internal/metrictemplates/",{cloned_from:n,name:R.name,probeversion:R.probeversion,mtype:R.type,tags:r,description:R.description,probeexecutable:R.probeexecutable,parent:R.parent,config:R.config,attribute:R.attributes,dependency:R.dependency,parameter:R.parameter,flags:R.flags,files:R.file_attributes,fileparameter:R.file_parameters});case 9:if((c=e.sent).ok){e.next=25;break}return l="",e.prev=12,e.next=15,c.json();case 15:u=e.sent,l=u.detail,e.next=22;break;case 19:e.prev=19,e.t0=e.catch(12),l="Error adding metric template";case 22:Be({title:"Error: ".concat(c.status," ").concat(c.statusText),msg:l}),e.next=26;break;case 25:Ye({msg:"Metric template successfully added",title:"Added",callback:function(){return d.push("/ui/metrictemplates")}});case 26:e.next=47;break;case 28:return e.next=30,h.changeObject("/api/v2/internal/metrictemplates/",{id:R.id,name:R.name,probeversion:R.probeversion,mtype:R.type,tags:r,description:R.description,probeexecutable:R.probeexecutable,parent:R.parent,config:R.config,attribute:R.attributes,dependency:R.dependency,parameter:R.parameter,flags:R.flags,files:R.file_attributes,fileparameter:R.file_parameters});case 30:if((m=e.sent).ok){e.next=46;break}return p="",e.prev=33,e.next=36,m.json();case 36:f=e.sent,p=f.detail,e.next=43;break;case 40:e.prev=40,e.t1=e.catch(33),p="Error changing metric template";case 43:"418"==m.status?He({title:"Warning: ".concat(m.status," ").concat(m.statusText),msg:p}):Be({title:"Error: ".concat(m.status," ").concat(m.statusText),msg:p}),e.next=47;break;case 46:Ye({msg:"Metric template successfully changed",title:"Changed",callback:function(){return d.push("/ui/metrictemplates")}});case 47:case"end":return e.stop()}}),e,null,[[12,19],[33,40]])})))).apply(this,arguments)}function fe(){return(fe=u()(s.a.mark((function e(){var t,r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.deleteObject("/api/v2/internal/metrictemplates/".concat(a));case 2:if(!(t=e.sent).ok){e.next=7;break}Ye({msg:"Metric template successfully deleted",title:"Deleted",callback:function(){return d.push("/ui/metrictemplates")}}),e.next=19;break;case 7:return r="",e.prev=8,e.next=11,t.json();case 11:n=e.sent,r=n.detail,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),r="Error deleting metric template";case 18:Be({title:"Error: ".concat(t.status," ").concat(t.statusText),msg:r});case 19:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}if(!i&&se||W||J||ee||ne)return n.a.createElement(Fe,null);if(!i&&oe)return n.a.createElement(tt,{error:oe.message});if(H)return n.a.createElement(tt,{error:H.message});if(Z)return n.a.createElement(tt,{error:Z.message});if($)return n.a.createElement(tt,{error:$.message});if(re)return n.a.createElement(tt,{error:re.message});var ge=[];return X.forEach((function(e){return ge.push(e.object_repr)})),n.a.createElement(Ge,{resourcename:m||l?"Metric template details":"metric template",location:c,addview:i,tenantview:m,publicview:l,history:!t,cloneview:o,clone:!l,modal:!0,state:{areYouSureModal:k,modalTitle:I,modalMsg:P,modalFunc:"submit"===S?function(){return de.apply(this,arguments)}:"delete"===S?function(){return fe.apply(this,arguments)}:void 0},toggle:pe},n.a.createElement(O.d,{initialValues:{id:ie.id,name:ie.name,probeversion:ie.probeversion,type:ie.mtype,description:ie.description,probeexecutable:ie.probeexecutable,parent:ie.parent,config:ie.config,attributes:ie.attribute,dependency:ie.dependency,parameter:ie.parameter,flags:ie.flags,file_attributes:ie.files,file_parameters:ie.fileparameter},onSubmit:function(e){return function(e){U("Are you sure you want to ".concat(i||o?"add":"change"," metric template?")),T("".concat(i||o?"Add":"Change"," metric template")),_("submit"),F(e),pe()}(e)},validationSchema:ea,render:function(e){return n.a.createElement(O.c,null,n.a.createElement(Jt,f()({},e,{obj_label:"metrictemplate",obj:ie,probe:ie.probe,isTenantSchema:m,publicView:l,addview:i,onSelect:le,popoverOpen:b,togglePopOver:me,onTagChange:ue,types:B,alltags:G,tags:i?[]:ie.tags,probeversions:ge,metrictemplatelist:ae})),!m&&!l&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},i||o?n.a.createElement("div",null):n.a.createElement(M.a,{color:"danger",onClick:function(){U("Are you sure you want to delete metric template?"),T("Delete metric template"),_("delete"),pe()}},"Delete"),n.a.createElement(M.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}}))},aa=function(e){var t=e.match.params.name,a=e.match.params.version,c=e.publicView,i=new ye,o=Object(r.useState)(null),l=p()(o,2),m=l[0],d=l[1],g=Object(r.useState)({package:""}),h=p()(g,2),E=h[0],v=h[1],b=Object(r.useState)(!1),y=p()(b,2),w=y[0],x=y[1],k=Object(r.useState)(null),N=p()(k,2),j=N[0],M=N[1];return Object(r.useEffect)((function(){function e(){return(e=u()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.fetchData("/api/v2/internal/".concat(c?"public_":"","version/metrictemplate/").concat(t));case 3:e.sent.forEach(function(){var e=u()(s.a.mark((function e(t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.version!=a){e.next=8;break}return e.next=3,i.fetchData("/api/v2/internal/".concat(c?"public_":"","version/probe/").concat(t.fields.probeversion.split(" ")[0]));case 3:e.sent.forEach((function(e){e.object_repr===t.fields.probeversion&&v(e.fields)})),(r=t.fields).date_created=t.date_created,d(r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),M(e.t0);case 10:x(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}x(!0),function(){e.apply(this,arguments)}()}),[]),w?n.a.createElement(Fe,null):j?n.a.createElement(tt,{error:j}):!w&&m?n.a.createElement(Ge,{resourcename:"".concat(t," ").concat(m.probeversion&&"[".concat(m.probeversion,"]")),infoview:!0},n.a.createElement(O.d,{initialValues:{name:m.name,probeversion:m.probeversion,type:m.mtype,probeexecutable:m.probeexecutable,description:m.description,parent:m.parent,config:m.config,attributes:m.attribute,dependency:m.dependency,parameter:m.parameter,flags:m.flags,file_attributes:m.files,file_parameters:m.fileparameter},render:function(e){return n.a.createElement(O.c,null,n.a.createElement(Jt,f()({},e,{obj_label:"metrictemplate",isHistory:!0,probe:E,tags:m.tags})))}})):null},ra=a("7W2i"),na=a.n(ra),ca=a("a1gu"),ia=a.n(ca),oa=a("Nsbk"),sa=a.n(oa);var la=function(e){na()(a,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=sa()(e);if(t()){var n=sa()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return ia()(this,a)}}(a);function a(){return Ee()(this,a),t.apply(this,arguments)}return be()(a,[{key:"componentDidUpdate",value:function(e){e.formik!==this.props.formik&&this.props.onChange(this.props.formik,e.formik)}},{key:"render",value:function(){return null}}]),a}(r.Component),ua=Object(O.e)(la),ma=(a("R9sY"),a("lrsP"),n.a.createContext()),pa=Dt.object().shape({name:Dt.string().required("Required"),groupname:Dt.string().required("Required"),metric_operation:Dt.string().required("Required"),profile_operation:Dt.string().required("Required"),endpoint_group:Dt.string().required("Required"),metric_profile:Dt.string().required("Required"),groups:Dt.array().of(Dt.object().shape({name:Dt.string().required("Required"),operation:Dt.string().required("Required"),services:Dt.array().of(Dt.object().shape({name:Dt.string().required("Required"),operation:Dt.string().required("Required")}))}))});function da(e,t){return e?[t].concat(C()(e)):[t]}var fa=function(e){var t=e.service,a=e.index,c=e.isNew,i=e.groupNew,o=e.groupIndex,s=e.isMissing,l=Object(r.useContext)(ma),u=Object(r.useState)(l.list_services),m=p()(u,2),d=m[0],f=m[1];return n.a.createElement(je.a,{inputProps:{className:'"form-control custom-select " '.concat(c&&!i?"border-success":""," ").concat(s?"border-primary":""),placeholder:"",onChange:function(e,t){var r=t.newValue;return l.formikBag.form.setFieldValue("groups.".concat(o,".services.").concat(a,".name"),r)},value:t.name},getSuggestionValue:function(e){return e},suggestions:d,renderSuggestion:function(e,t){t.query;var a=t.isHighlighted;return n.a.createElement("div",{key:l.list_services.indexOf(e),className:"aggregation-autocomplete-entries ".concat(a?"aggregation-autocomplete-entries-highlighted":"")},e?n.a.createElement(Ce,{i:"serviceflavour"}):""," ",e)},onSuggestionsFetchRequested:function(e){var t=e.value,a=l.list_services.filter((function(e){return e.toLowerCase().includes(t.trim().toLowerCase())}));f(a)},onSuggestionsClearRequested:function(){f([])},onSuggestionSelected:function(e,t){var r=t.suggestion;l.formikBag.form.setFieldValue("groups.".concat(o,".services.").concat(a,".name"),r)},shouldRenderSuggestions:function(){return!0},theme:{suggestionsContainerOpen:"aggregation-autocomplete-menu",suggestionsList:"aggregation-autocomplete-list"}})},ga=function(e){var t=e.name,a=Object(r.useContext)(ma);return n.a.createElement(v.a,{className:"groups"},a.formikBag.form.values[t].map((function(e,r){return n.a.createElement(O.b,{key:r,name:"groups",render:function(c){return n.a.createElement(ha,f()({},c,{key:r,operation:e.operation,services:e.services,groupindex:r,isnew:e.isNew,last:r===a.formikBag.form.values[t].length-1}))}})})))},ha=function(e){var t=e.operation,a=e.services,c=e.groupindex,i=e.isnew,o=e.last,s=Object(r.useContext)(ma);return o?n.a.createElement(b.a,{sm:{size:12},md:{size:6},className:"mt-4 mb-2 d-flex justify-content-center align-items-center"},n.a.createElement(M.a,{outline:!0,color:"secondary",size:"lg",disabled:!s.write_perm,onClick:function(){return s.write_perm&&s.formikBag.groupInsert(c,{name:"",operation:"",isNew:!0,services:[{name:"",operation:""}]})}},"Add new group")):n.a.createElement(n.a.Fragment,{key:c},n.a.createElement(b.a,{sm:{size:8},md:{size:5},className:"mt-4 mb-2"},n.a.createElement(y.a,{className:i?"border-success":""},n.a.createElement(w.a,{className:"p-1",color:"primary"},n.a.createElement(v.a,{className:"d-flex align-items-center no-gutters"},n.a.createElement(b.a,{sm:{size:10},md:{size:11}},n.a.createElement(O.a,{name:"groups.".concat(c,".name"),placeholder:"Name of service group",required:!0,className:"".concat(s.formikBag.form.errors&&s.formikBag.form.errors.groups&&s.formikBag.form.errors.groups[c]&&s.formikBag.form.errors.groups[c].name?"form-control border-danger":"form-control")})),n.a.createElement(b.a,{sm:{size:2},md:{size:1},className:"pl-1"},n.a.createElement(M.a,{size:"sm",color:"danger",type:"button",onClick:function(){return s.write_perm&&s.formikBag.groupRemove(c)}},n.a.createElement(de.a,{icon:fe.B}))))),n.a.createElement(x.a,{className:"p-1"},n.a.createElement(O.b,{name:"groups.".concat(c),render:function(e){return n.a.createElement(Ea,{services:a,groupindex:c,groupnew:i})}})),n.a.createElement(A.a,{className:"p-1 d-flex justify-content-center"},n.a.createElement(Ie,{field:{name:"operation",value:t},data:da(s.list_operations,"Select"),prefix:"groups.".concat(c),class_name:"custom-select col-2",errors:s.formikBag.form.errors&&s.formikBag.form.errors.groups&&s.formikBag.form.errors.groups[c]})))),n.a.createElement(b.a,{sm:{size:4},md:{size:1},className:"mt-5"},n.a.createElement("div",{className:"group-operation",key:c},n.a.createElement(Ie,{field:{name:"profile_operation",value:s.formikBag.form.values.profile_operation},data:da(s.list_operations,"Select")}))))},Ea=function(e){var t=e.services,a=e.groupindex,c=e.groupnew,i=void 0!==c&&c,o=Object(r.useContext)(ma);return t.map((function(e,r){return n.a.createElement(O.b,{key:r,name:"groups.".concat(a,".services"),render:function(c){return n.a.createElement(va,{key:r,service:e,groupindex:a,groupnew:i,index:r,last:r===t.length-1,isnew:e.isNew,serviceRemove:c.remove,serviceInsert:c.insert,ismissing:e.name&&-1===o.list_services.indexOf(e.name)})}})}))},va=function(e){var t=e.service,a=e.operation,c=e.groupindex,i=e.groupnew,o=e.index,s=e.isnew,l=e.serviceInsert,u=e.serviceRemove,m=e.ismissing,p=Object(r.useContext)(ma);return n.a.createElement(n.a.Fragment,null,n.a.createElement(v.a,{className:"d-flex align-items-center service pt-1 pb-1 no-gutters",key:o},n.a.createElement(b.a,{md:8},n.a.createElement(fa,{service:t,index:o,form:p.formikBag.form,isNew:s,groupNew:i,groupIndex:c,isMissing:m})),n.a.createElement(b.a,{md:2},n.a.createElement("div",{className:"input-group"},n.a.createElement(Ie,{field:{name:"operation",value:a},data:da(p.list_operations,"Select"),prefix:"groups.".concat(c,".services.").concat(o),class_name:"custom-select service-operation",isnew:s&&!i}))),n.a.createElement(b.a,{md:2,className:"pl-2"},n.a.createElement(M.a,{size:"sm",color:"light",type:"button",onClick:function(){return u(o)}},n.a.createElement(de.a,{icon:fe.B})),n.a.createElement(M.a,{size:"sm",color:"light",type:"button",onClick:function(){return l(o+1,{name:"",operation:p.last_service_operation(o,p.formikBag.form.values.groups[c].services),isNew:!0})}},n.a.createElement(de.a,{icon:fe.u})))),n.a.createElement(v.a,null,p.formikBag.form.errors&&p.formikBag.form.errors.groups&&p.formikBag.form.errors.groups[c]&&p.formikBag.form.errors.groups[c].services&&p.formikBag.form.errors.groups[c].services[o]&&p.formikBag.form.errors.groups[c].services[o].name&&n.a.createElement(b.a,{md:8},Je(p.formikBag.form.errors.groups[c].services[o].name)),p.formikBag.form.errors&&p.formikBag.form.errors.groups&&p.formikBag.form.errors.groups[c]&&p.formikBag.form.errors.groups[c].services&&p.formikBag.form.errors.groups[c].services[o]&&p.formikBag.form.errors.groups[c].services[o].operation&&n.a.createElement(b.a,{md:{offset:p.formikBag.form.errors.groups[c].services[o].name?0:8,size:2}},Je(p.formikBag.form.errors.groups[c].services[o].operation))))},ba=function(e){var t=e.values,a=e.errors,r=e.historyview,c=void 0!==r&&r,i=e.write_perm,o=void 0!==i&&i,s=e.list_user_groups,l=e.logic_operations,u=e.endpoint_groups,m=e.list_id_metric_profiles;return n.a.createElement(n.a.Fragment,null,n.a.createElement(et,{values:t,errors:a,fieldsdisable:c,grouplist:c?void 0:o?s:[t.groupname],profiletype:"aggregation"}),n.a.createElement(at,{title:"Operations, endpoint group and metric profile"}),n.a.createElement(v.a,{className:"mt-4"},n.a.createElement(b.a,{md:4},n.a.createElement(k.a,null,n.a.createElement(v.a,null,n.a.createElement(b.a,{md:12},n.a.createElement(N.a,{for:"aggregationMetric"},"Metric operation:"))),n.a.createElement(v.a,null,n.a.createElement(b.a,{md:5},c?n.a.createElement(O.a,{name:"metric_operation",className:"form-control",id:"aggregationMetric",disabled:!0}):n.a.createElement(O.a,{name:"metric_operation",component:Ie,data:da(l,"Select"),required:!0,class_name:"custom-select",id:"aggregationMetric",errors:a}))),n.a.createElement(v.a,null,n.a.createElement(b.a,{md:12},a&&a.metric_operation&&Je(a.metric_operation),n.a.createElement(te.a,null,"Logical operation that will be applied between metrics of each service flavour"))))),n.a.createElement(b.a,{md:4},n.a.createElement(k.a,null,n.a.createElement(v.a,null,n.a.createElement(b.a,{md:12},n.a.createElement(N.a,{for:"aggregationOperation"},"Aggregation operation:")),n.a.createElement(b.a,{md:5},c?n.a.createElement(O.a,{name:"profile_operation",className:"form-control",id:"aggregationOperation",disabled:!0}):n.a.createElement(O.a,{name:"profile_operation",component:Ie,data:da(l,"Select"),required:!0,class_name:"custom-select",id:"aggregationOperation",errors:a}))),n.a.createElement(v.a,null,n.a.createElement(b.a,{md:12},a&&a.profile_operation&&Je(a.profile_operation),n.a.createElement(te.a,null,"Logical operation that will be applied between defined service flavour groups"))))),n.a.createElement(b.a,{md:4},n.a.createElement(k.a,null,n.a.createElement(v.a,null,n.a.createElement(b.a,{md:12},n.a.createElement(N.a,{for:"aggregationEndpointGroup"},"Endpoint group:")),n.a.createElement(b.a,{md:5},c?n.a.createElement(O.a,{name:"endpoint_group",className:"form-control",id:"aggregationEndpointGroup",disabled:!0}):n.a.createElement(O.a,{name:"endpoint_group",component:Ie,data:da(u,"Select"),required:!0,class_name:"custom-select",id:"aggregationEndpointGroup",errors:a}),a&&a.endpoint_group&&Je(a.endpoint_group)))))),n.a.createElement(v.a,{className:"mt-4"},n.a.createElement(b.a,{md:5},n.a.createElement(k.a,null,n.a.createElement(N.a,{for:"metricProfile"},"Metric profile:"),c?n.a.createElement(O.a,{name:"metric_profile",className:"form-control",disabled:!0}):n.a.createElement(O.a,{name:"metric_profile",component:Ie,data:da(m.map((function(e){return e.name})),"Select"),required:!0,class_name:"custom-select",errors:a}),a&&a.metric_profile&&Je(a.metric_profile),n.a.createElement(te.a,null,"Metric profile associated to Aggregation profile. Service flavours defined in service flavour groups originate from selected metric profile.")))),n.a.createElement(at,{title:"Service flavour groups"}))},ya=function(e){var t=e.tenant_name,a=e.match.params.name,c=e.addview,i=e.history,o=e.location,l=e.publicView,m=Object(r.useState)(void 0),d=p()(m,2),g=d[0],h=d[1],E=Object(r.useState)(!1),k=p()(E,2),N=k[0],S=k[1],_=Object(r.useState)(void 0),D=p()(_,2),I=D[0],T=D[1],L=Object(r.useState)(void 0),z=p()(L,2),P=z[0],U=z[1],Q=Object(r.useState)(""),V=p()(Q,2),R=V[0],F=V[1],Y=Object(r.useState)({}),B=p()(Y,2),H=B[0],W=B[1],q="aggregationprofiles_".concat(c?"addview":"".concat(a,"_").concat(l?"publicview":"changeview")),G=new ye,Z=new we({token:e.webapitoken,metricProfiles:e.webapimetric,aggregationProfiles:e.webapiaggregation}),J=["OR","AND"],K=["servicegroups","sites"],X=Object(ut.b)("session_userdetails",u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=6;break}return e.next=3,G.isActiveSession();case 3:if(!(t=e.sent).active){e.next=6;break}return e.abrupt("return",t.userdetails);case 6:case"end":return e.stop()}}),e)})))),$=X.data,ee=(X.error,X.isLoading),te=Object(ut.b)(q,u()(s.a.mark((function e(){var t,r,n,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new Object({id:"",name:"",metric_operation:"",profile_operation:"",endpoint_group:"",metric_profile:{name:""},groups:[]}),c){e.next=5;break}return e.next=4,G.fetchData("/api/v2/internal/".concat(l?"public_":"","aggregations/").concat(a));case 4:t=e.sent;case 5:if(!l){e.next=15;break}return e.next=8,Z.fetchMetricProfiles();case 8:return r=e.sent,e.next=11,Z.fetchAggregationProfile(t.apiid);case 11:return n=e.sent,e.abrupt("return",{profile:n,groupname:t.groupname,listmetricprofiles:r,listidmetricprofiles:se(r),listservices:ie(n.metric_profile,r),listusergroups:[]});case 15:return e.next=17,Z.fetchMetricProfiles();case 17:if(i=e.sent,c){e.next=25;break}return e.next=21,Z.fetchAggregationProfile(t.apiid);case 21:return o=e.sent,e.abrupt("return",{profile:o,groupname:t.groupname,listidmetricprofiles:se(i),listservices:ie(o.metric_profile,i),listmetricprofiles:i});case 25:return e.abrupt("return",{profile:t,groupname:t.groupname,listidmetricprofiles:se(i),listServices:[],listmetricprofiles:i});case 26:case"end":return e.stop()}}),e)})))),ae=te.data,re=te.error,ne=te.isLoading,ce=function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:void 0},ie=function(e,t){var a=t.filter((function(t){return t.name===e.name}));return 0===a.length&&(a=t.filter((function(t){return t.id===e.id}))),a.length?a[0].services.map((function(e){return e.service})).sort(ce):[]},oe=function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:e.name.toLowerCase()===t.name.toLowerCase()?0:void 0},se=function(e){var t=[];return e.forEach((function(e){var a=t.length,r=e.name,n=e.id;t[a]={name:r,id:n},a+=1})),t.sort(oe)},le=function(e,t){return t.length?t[t.length-1].operation:""},ue=function(e){var t=ut.a.getQueryData(q);t.profile.groups=e.groups,t.profile.metric_profile=e.metric_profile,t.profile.profile_operation=e.profile_operation,t.profile.endpoint_group=e.endpoint_group,ut.a.setQueryData(q,t)},me=function(){var e=u()(s.a.mark((function e(a,r){var n,o,l,u,m,p,d,f,g,h,E,v,b,y,w,x,k;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=JSON.parse(JSON.stringify(a)),ge(n),he(n),n.namespace=t,o=ae.listidmetricprofiles.filter((function(e){return n.metric_profile===e.name})),n.metric_profile=o[0],c){e.next=49;break}return e.next=9,Z.changeAggregation(n);case 9:if((l=e.sent).ok){e.next=27;break}return u="",e.prev=12,e.next=15,l.json();case 15:m=e.sent,p=[],m.errors.forEach((function(e){return p.push(e.details)})),u=p.join(" "),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(12),u="Web API error changing aggregation profile";case 24:Be({title:"Web API error: ".concat(l.status," ").concat(l.statusText),msg:u}),e.next=47;break;case 27:return e.next=29,G.changeObject("/api/v2/internal/aggregations/",{apiid:n.id,name:n.name,groupname:n.groupname,endpoint_group:n.endpoint_group,metric_operation:n.metric_operation,profile_operation:n.profile_operation,metric_profile:a.metric_profile,groups:JSON.stringify(n.groups)});case 29:if(!(d=e.sent).ok){e.next=35;break}Ye({msg:"Aggregation profile succesfully changed",title:"Changed",callback:function(){return i.push("/ui/aggregationprofiles")}}),ue(n),e.next=47;break;case 35:return f="",e.prev=36,e.next=39,d.json();case 39:g=e.sent,f=g.detail,e.next=46;break;case 43:e.prev=43,e.t1=e.catch(36),f="Internal API error changing aggregation profile";case 46:Be({title:"Internal API error: ".concat(d.status," ").concat(d.statusText),msg:f});case 47:e.next=91;break;case 49:return e.next=51,Z.addAggregation(n);case 51:if((h=e.sent).ok){e.next=69;break}return E="",e.prev=54,e.next=57,h.json();case 57:v=e.sent,b=[],v.errors.forEach((function(e){return b.push(e.details)})),E=b.join(" "),e.next=66;break;case 63:e.prev=63,e.t2=e.catch(54),E="Web API error adding aggregation profile: ".concat(e.t2);case 66:Be({title:"Web API error: ".concat(h.status," ").concat(h.statusText),msg:E}),e.next=91;break;case 69:return e.next=71,h.json();case 71:return y=e.sent,e.next=74,G.addObject("/api/v2/internal/aggregations/",{apiid:y.data.id,name:n.name,groupname:n.groupname,endpoint_group:n.endpoint_group,metric_operation:n.metric_operation,profile_operation:n.profile_operation,metric_profile:a.metric_profile,groups:JSON.stringify(n.groups)});case 74:if(!(w=e.sent).ok){e.next=79;break}Ye({msg:"Aggregation profile successfully added",title:"Added",callback:function(){return i.push("/ui/aggregationprofiles")}}),e.next=91;break;case 79:return x="",e.prev=80,e.next=83,w.json();case 83:k=e.sent,x=k.detail,e.next=90;break;case 87:e.prev=87,e.t3=e.catch(80),x="Internal API error adding aggregation profile";case 90:Be({title:"Internal API error: ".concat(w.status," ").concat(w.statusText),msg:x});case 91:case"end":return e.stop()}}),e,null,[[12,21],[36,43],[54,63],[80,87]])})));return function(t,a){return e.apply(this,arguments)}}(),pe=function(){var e=u()(s.a.mark((function e(t){var a,r,n,c,o,l,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.deleteAggregation(t);case 2:if((a=e.sent).ok){e.next=20;break}return r="",e.prev=5,e.next=8,a.json();case 8:n=e.sent,c=[],n.errors.forEach((function(e){return c.push(e.details)})),r=c.join(" "),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),r="Web API error deleting aggregation profile";case 17:Be({title:"Web API error: ".concat(a.status," ").concat(a.statusText),msg:r}),e.next=39;break;case 20:return e.next=22,G.deleteObject("/api/v2/internal/aggregations/".concat(t));case 22:if(!(o=e.sent).ok){e.next=27;break}Ye({msg:"Aggregation profile sucessfully deleted",title:"Deleted",callback:function(){return i.push("/ui/aggregationprofiles")}}),e.next=39;break;case 27:return l="",e.prev=28,e.next=31,o.json();case 31:u=e.sent,l=u.detail,e.next=38;break;case 35:e.prev=35,e.t1=e.catch(28),l="Internal API error deleting aggregation profile";case 38:Be({title:"Internal API error: ".concat(o.status," ").concat(o.statusText),msg:l});case 39:case"end":return e.stop()}}),e,null,[[5,14],[28,35]])})));return function(t){return e.apply(this,arguments)}}(),ge=function(e){var t=e.groups[e.groups.length-1];"dummy"==t.name&&"dummy"==t.services[0].name&&e.groups.pop()},he=function(e){var t=!0,a=!1,r=void 0;try{for(var n,c=e.groups[Symbol.iterator]();!(t=(n=c.next()).done);t=!0){var i=n.value;-1!==Object.keys(i).indexOf("isNew")&&delete i.isNew;var o=!0,s=!1,l=void 0;try{for(var u,m=i.services[Symbol.iterator]();!(o=(u=m.next()).done);o=!0){var p=u.value;-1!==Object.keys(p).indexOf("isNew")&&delete p.isNew}}catch(e){s=!0,l=e}finally{try{o||null==m.return||m.return()}finally{if(s)throw l}}}}catch(e){a=!0,r=e}finally{try{t||null==c.return||c.return()}finally{if(a)throw r}}};if(ne)return n.a.createElement(Fe,null);if(re)return n.a.createElement(tt,{error:error});if(ne||ee||!ae)return null;var Ee,ve,be,xe,ke,Ne,je,Me,Ae=(ke=ae.listservices,Ne=ae.profile.groups,je=new Set(ke),Me=!1,Ne.forEach((function(e){var t=!0,a=!1,r=void 0;try{for(var n,c=e.services[Symbol.iterator]();!(t=(n=c.next()).done);t=!0){var i=n.value;if(!je.has(i.name)){Me=!0;break}}}catch(e){a=!0,r=e}finally{try{t||null==c.return||c.return()}finally{if(a)throw r}}})),Me),Oe=void 0;return g||l||c||h(ae.listservices),Oe=!l&&(c?$.is_superuser||$.groups.aggregations.length>0:$.is_superuser||$.groups.aggregations.indexOf(ae.profile.groupname)>=0),n.a.createElement(Ge,{resourcename:l?"Aggregation profile details":"aggregation profile",location:o,modal:!0,history:!l,state:{areYouSureModal:N,modalFunc:function(){"delete"===R?pe(H.id):"change"===R&&me(H)},modalTitle:P,modalMsg:I},toggle:function(){return S(!N)},addview:l?!l:c,publicview:l,submitperm:Oe},n.a.createElement(O.d,{initialValues:{id:ae.profile.id,name:ae.profile.name,groupname:ae.groupname,metric_operation:ae.profile.metric_operation,profile_operation:ae.profile.profile_operation,metric_profile:(ve=ae.profile.metric_profile.id,be=ae.listidmetricprofiles,xe=be.filter((function(e){return e.id===ve})),xe.length?xe[0].name:""),endpoint_group:ae.profile.endpoint_group,groups:l?ae.profile.groups:function(e){return[].concat(C()(e),[{name:"dummy",operation:"OR",services:[{name:"dummy",operation:"OR"}]}])}((Ee=ae.profile.groups,Ee.forEach((function(e){0===e.services.length&&e.services.push({name:"",operation:""})})),Ee))},onSubmit:function(e,t){return function(e,t){var a=void 0,r=void 0;c?(a="Are you sure you want to add Aggregation profile?",r="Add aggregation profile"):(a="Are you sure you want to change Aggregation profile?",r="Change aggregation profile"),S(!N),T(a),U(r),F("change"),W(e)}(e)},validationSchema:pa,render:function(e){return n.a.createElement(O.c,null,n.a.createElement(ua,{onChange:function(e,t){if(e.values.metric_profile!==t.values.metric_profile){var a={name:e.values.metric_profile};h(ie(a,ae.listmetricprofiles))}}}),Ae&&!l&&n.a.createElement(j.a,{color:"danger"},n.a.createElement("center",null,n.a.createElement(de.a,{icon:fe.p,size:"lg",color:"black"}),"   Some Service Flavours used in Aggregation profile are not presented in associated Metric profile meaning that two profiles are out of sync. Check below for Service Flavours in blue borders.")),n.a.createElement(ba,f()({},e,{list_user_groups:l?[]:$.groups.aggregations,logic_operations:J,endpoint_groups:K,list_id_metric_profiles:ae.listidmetricprofiles,write_perm:Oe,historyview:l})),l?n.a.createElement(O.b,{name:"groups",render:function(t){return n.a.createElement(v.a,{className:"groups"},e.values.groups.map((function(t,a){return n.a.createElement(O.b,{key:a,name:"groups",render:function(r){return n.a.createElement(n.a.Fragment,{key:a},n.a.createElement(b.a,{sm:{size:8},md:{size:5},className:"mt-4 mb-2"},n.a.createElement(y.a,null,n.a.createElement(w.a,{className:"p-1",color:"primary"},n.a.createElement(v.a,{className:"d-flex align-items-center no-gutters"},n.a.createElement(b.a,{sm:{size:10},md:{size:11}},e.values.groups[a].name))),n.a.createElement(x.a,{className:"p-1"},t.services.map((function(t,r){return n.a.createElement(O.b,{key:r,name:"groups.".concat(a,".services"),render:function(t){return n.a.createElement(v.a,{className:"d-flex align-items-center service pt-1 pb-1 no-gutters",key:r},n.a.createElement(b.a,{md:8},e.values.groups[a].services[r].name),n.a.createElement(b.a,{md:2},e.values.groups[a].services[r].operation))}})}))),n.a.createElement(A.a,{className:"p-1 d-flex justify-content-center"},e.values.groups[a].operation))),n.a.createElement(b.a,{sm:{size:4},md:{size:1},className:"mt-5"},n.a.createElement("div",{className:"group-operation",key:a},e.values.profile_operation)))}})})))}}):n.a.createElement(O.b,{name:"groups",render:function(e){return n.a.createElement(ma.Provider,{value:{list_services:g,list_operations:J,write_perm:Oe,last_service_operation:le,formikBag:{form:e.form,groupRemove:e.remove,groupInsert:e.insert}}},n.a.createElement(ga,e))}}),Oe&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},n.a.createElement(M.a,{color:"danger",onClick:function(){T("Are you sure you want to delete Aggregation profile?"),U("Delete aggregation profile"),S(!N),W(e.values),F("delete")}},"Delete"),n.a.createElement(M.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}}))},wa=function(e){var t=e.location,a=new ye,c=e.publicView,i=null;i=c?"/api/v2/internal/public_aggregations":"/api/v2/internal/aggregations";var o=Object(ut.b)("session_userdetails",u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.isActiveSession();case 2:if(!(t=e.sent).active){e.next=5;break}return e.abrupt("return",t.userdetails);case 5:case"end":return e.stop()}}),e)})))),l=o.data,m=o.error,p=o.isLoading,d=Object(ut.b)("aggregations_listview",u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchData(i);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),f=d.data,g=d.error,h=d.isLoading,E=Object(r.useMemo)((function(){return[{Header:"#",accessor:null,column_width:"2%"},{Header:"Name",id:"name",accessor:function(e){return n.a.createElement(ie.b,{to:"/ui/".concat(c?"public_":"","aggregationprofiles/")+e.name},e.name)},column_width:"20%"},{Header:"Description",accessor:"description",column_width:"70%"},{Header:"Group",accessor:"groupname",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)},column_width:"8%"}]}));return p||h?n.a.createElement(Fe,null):g?n.a.createElement(tt,{error:g}):m?n.a.createElement(tt,{error:m}):p||p||!f?null:n.a.createElement(Ge,{resourcename:"aggregation profile",location:t,listview:!0,addnew:!c,addperm:!c&&(l.is_superuser||l.groups.aggregations.length>0),publicview:c},n.a.createElement(it,{data:f,columns:E,type:"aggregation"}))},xa=function(e){for(var t=e.title,a=e.item1,r=e.item2,c=[],i=[],o=0;o<a.length;o++){for(var s=[],l=0;l<a[o].services.length;l++)s.push("{name: ".concat(a[o].services[l].name,", operation: ").concat(a[o].services[l].operation,"}"));c.push("name: ".concat(a[o].name,",\noperation: ").concat(a[o].operation,",\nservices: [\n").concat(s.join("\n"),"\n]"))}for(var u=0;u<r.length;u++){for(var m=[],p=0;p<r[u].services.length;p++)m.push("{name: ".concat(r[u].services[p].name,", operation: ").concat(r[u].services[p].operation,"}"));i.push("name: ".concat(r[u].name,",\noperation: ").concat(r[u].operation,",\nservices: [\n").concat(m.join("\n"),"\n]"))}return n.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},n.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},t),n.a.createElement(ke.a,{oldValue:i.join("\n"),newValue:c.join("\n"),showDiffOnly:!0,splitView:!0,hideLineNumbers:!0}))},ka=function(e){var t=e.match.params.id1,a=e.match.params.id2,c=e.match.params.name,i=new ye,o=Object(r.useState)(!1),l=p()(o,2),m=l[0],d=l[1],f=Object(r.useState)(null),g=p()(f,2),h=g[0],E=g[1],v=Object(r.useState)(void 0),b=p()(v,2),y=b[0],w=b[1],x=Object(r.useState)(void 0),k=p()(x,2),N=k[0],j=k[1];if(Object(r.useEffect)((function(){var e=function(){var e=u()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.fetchData("/api/v2/internal/tenantversion/aggregationprofile/".concat(c));case 2:e.sent.forEach((function(e){e.version==t?w({name:e.fields.name,groupname:e.fields.groupname,metric_operation:e.fields.metric_operation,profile_operation:e.fields.profile_operation,endpoint_group:e.fields.endpoint_group,metric_profile:e.fields.metric_profile,groups:e.fields.groups}):e.version==a&&j({name:e.fields.name,groupname:e.fields.groupname,metric_operation:e.fields.metric_operation,profile_operation:e.fields.profile_operation,endpoint_group:e.fields.endpoint_group,metric_profile:e.fields.metric_profile,groups:e.fields.groups})})),d(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{e()}catch(e){E(h),d(!1)}}),[]),m)return n.a.createElement(Fe,null);if(h)return n.a.createElement(tt,{error:h});if(!m&&y&&N){var M=y.name,A=y.groupname,O=y.metric_operation,S=y.profile_operation,_=y.endpoint_group,D=y.metric_profile,C=y.groups,I=N.name,T=N.groupname,L=N.metric_operation,z=N.profile_operation,P=N.endpoint_group,U=N.metric_profile,Q=N.groups;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Compare ".concat(c," versions"))),M!==I&&n.a.createElement($e,{title:"name",item1:M,item2:I}),A!==T&&n.a.createElement($e,{title:"group name",item1:A,item2:T}),O!==L&&n.a.createElement($e,{title:"metric operation",item1:O,item2:L}),S!==z&&n.a.createElement($e,{title:"aggregation operation",item1:S,item2:z}),_!==P&&n.a.createElement($e,{title:"endpoint group",item1:_,item2:P}),D!==U&&n.a.createElement($e,{title:"metric profile",item1:D,item2:U}),C!==Q&&n.a.createElement(xa,{title:"groups",item1:C,item2:Q}))}return null},Na=function(e){var t=e.match.params.name,a=e.match.params.version,c=Object(r.useState)(!1),i=p()(c,2),o=i[0],l=i[1],m=Object(r.useState)(null),d=p()(m,2),g=d[0],h=d[1],E=new ye,k=Object(r.useState)(void 0),N=p()(k,2),j=N[0],M=N[1];if(Object(r.useEffect)((function(){var e=function(){var e=u()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.fetchData("/api/v2/internal/tenantversion/aggregationprofile/".concat(t));case 2:e.sent.forEach((function(e){e.version==a&&M({name:e.fields.name,groupname:e.fields.groupname,metric_operation:e.fields.metric_operation,profile_operation:e.fields.profile_operation,endpoint_group:e.fields.endpoint_group,metric_profile:e.fields.metric_profile,groups:e.fields.groups,date_created:e.date_created})})),l(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();l(!0);try{e()}catch(e){h(g),l(!1)}}),[]),o)return n.a.createElement(Fe,null);if(g)return n.a.createElement(tt,{error:g});if(!o&&j){var S=j.groups;return n.a.createElement(Ge,{resourcename:"".concat(t," (").concat(j.date_created,")"),infoview:!0},n.a.createElement(O.d,{initialValues:{name:t,groupname:j.groupname,metric_operation:j.metric_operation,profile_operation:j.profile_operation,endpoint_group:j.endpoint_group,metric_profile:j.metric_profile,groups:j.groups},render:function(e){return n.a.createElement(O.c,null,n.a.createElement(ba,f()({},e,{historyview:!0})),n.a.createElement(O.b,{name:"groups",render:function(t){return n.a.createElement(v.a,{className:"groups"},e.values.groups.map((function(t,a){return n.a.createElement(O.b,{key:a,name:"groups",render:function(r){return n.a.createElement(n.a.Fragment,{key:a},n.a.createElement(b.a,{sm:{size:8},md:{size:5},className:"mt-4 mb-2"},n.a.createElement(y.a,null,n.a.createElement(w.a,{className:"p-1",color:"primary"},n.a.createElement(v.a,{className:"d-flex align-items-center no-gutters"},n.a.createElement(b.a,{sm:{size:10},md:{size:11}},S[a].name))),n.a.createElement(x.a,{className:"p-1"},t.services.map((function(e,t){return n.a.createElement(O.b,{key:t,name:"groups.".concat(a,".services"),render:function(e){return n.a.createElement(v.a,{className:"d-flex align-items-center service pt-1 pb-1 no-gutters",key:t},n.a.createElement(b.a,{md:8},S[a].services[t].name),n.a.createElement(b.a,{md:2},S[a].services[t].operation))}})}))),n.a.createElement(A.a,{className:"p-1 d-flex justify-content-center"},S[a].operation))),n.a.createElement(b.a,{sm:{size:4},md:{size:1},className:"mt-5"},n.a.createElement("div",{className:"group-operation",key:a},e.values.profile_operation)))}})})))}}))}}))}return null},ja=a("uBiN"),Ma=function(e){var t=e.location,a=new we({token:e.webapitoken,reportsConfigurations:e.webapireports}),r=Object(ut.b)("reports_listview",u()(s.a.mark((function e(){var t,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchReports();case 2:return t=e.sent,r=[],t.forEach((function(e){return r.push({name:e.info.name,description:e.info.description,disabled:e.disabled})})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))),c=r.data,i=r.error,o=r.isLoading,l=n.a.useMemo((function(){return[{Header:"#",accessor:null,column_width:"2%"},{Header:"Name",id:"name",accessor:function(e){return n.a.createElement(ie.b,{to:"/ui/reports/".concat(e.name)},e.name)},column_width:"20%"},{Header:"Description",accessor:"description",column_width:"70%"},{Header:"Enabled",id:"disabled",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)},accessor:function(e){return""===e.disabled?"":e.disabled?n.a.createElement(de.a,{icon:fe.C,style:{color:"#CC0000"}}):n.a.createElement(de.a,{icon:fe.e,style:{color:"#339900"}})},column_width:"8%"}]}));return o?n.a.createElement(Fe,null):i?n.a.createElement(tt,{error:i}):n.a.createElement(Ge,{resourcename:"report",location:t,listview:!0,addnew:!1},n.a.createElement(ct,{data:c,columns:l,resourcename:"reports",page_size:10}))},Aa=function(e){var t=e.match.params.name,a=e.location,r="report_".concat(t,"_changeview"),c=new we({token:e.webapitoken,reportsConfigurations:e.webapireports,metricProfiles:e.webapimetric,aggregationProfiles:e.webapiaggregation,operationsProfiles:e.webapioperations}),i=Object(ut.b)("".concat(r,"_report"),u()(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.fetchReport(t),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})))),o=i.data,l=i.error,m=i.isLoading,p=Object(ut.b)("".concat(r,"_metricprofiles"),u()(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.fetchMetricProfiles();case 2:return t=e.sent,a=[],t.forEach((function(e){return a.push(e.name)})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))),d=p.data,f=p.error,g=p.isLoading,h=Object(ut.b)("".concat(r,"_aggregationprofiles"),u()(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.fetchAggregationProfiles();case 2:return t=e.sent,a=[],t.forEach((function(e){return a.push(e.name)})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))),E=h.data,y=h.error,w=h.isLoading,x=Object(ut.b)("".concat(r,"_operationsprofiles"),u()(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.fetchOperationsProfiles();case 2:return t=e.sent,a=[],t.forEach((function(e){return a.push(e.name)})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))),j=x.data,M=x.error,A=x.isLoading;if(m||g||w||A)return n.a.createElement(Fe,null);if(l)return n.a.createElement(tt,{error:l});if(f)return n.a.createElement(tt,{error:f});if(y)return n.a.createElement(tt,{error:y});if(M)return n.a.createElement(tt,{error:M});var S="",_="",D="";return o.profiles.forEach((function(e){"metric"===e.type&&(S=e.name),"aggregation"===e.type&&(_=e.name),"operations"===e.type&&(D=e.name)})),n.a.createElement(Ge,{resourcename:"report",location:a,history:!1},n.a.createElement(O.d,{initialValues:T()({id:o.id,disabled:o.disabled,name:o.info.name,description:o.info.description,metricProfile:S,aggregationProfile:_,operationsProfile:D,availabilityThreshold:o.thresholds.availability,reliabilityThreshold:o.thresholds.reliability,uptimeThreshold:o.thresholds.uptime,unknownThreshold:o.thresholds.unknown,downtimeThreshold:o.thresholds.downtime},"disabled",o.disabled),render:function(e){return n.a.createElement(ja.a,null,n.a.createElement(k.a,null,n.a.createElement(v.a,{className:"align-items-center"},n.a.createElement(b.a,{md:6},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Name"),n.a.createElement(O.a,{type:"text",name:"name",className:"form-control form-control-lg"})),n.a.createElement(te.a,{color:"muted"},"Report name")),n.a.createElement(b.a,{md:2},n.a.createElement(O.a,{component:Ze,name:"disabled",className:"form-control",id:"checkbox",label:"Disabled"}),n.a.createElement(te.a,{color:"muted"},"Mark report as disabled."))),n.a.createElement(v.a,{className:"mt-3"},n.a.createElement(b.a,{md:10},n.a.createElement(N.a,{for:"description"},"Description:"),n.a.createElement(O.a,{id:"description",className:"form-control",component:"textarea",name:"description"}),n.a.createElement(te.a,{color:"muted"},"Free text report description.")))),n.a.createElement(k.a,{className:"mt-4"},n.a.createElement(at,{title:"profiles"}),n.a.createElement(v.a,{className:"mt-2"},n.a.createElement(b.a,{md:4},n.a.createElement(N.a,{to:"metricProfile"},"Metric profile:"),n.a.createElement(O.a,{id:"metricProfile",component:"select",className:"form-control custom-select",name:"metricProfile"},d.map((function(e,t){return n.a.createElement("option",{key:t,value:e},e)})))),n.a.createElement(b.a,{md:4},n.a.createElement(N.a,{to:"aggregationProfile"},"Aggregation profile:"),n.a.createElement(O.a,{component:"select",id:"aggregationProfile",className:"form-control custom-select",name:"aggregationProfile"},E.map((function(e,t){return n.a.createElement("option",{key:t,value:e},e)})))),n.a.createElement(b.a,{md:4},n.a.createElement(N.a,{to:"operationsProfile"},"Operations profile:"),n.a.createElement(O.a,{component:"select",id:"operationsProfile",className:"form-control custom-select",name:"operationsProfile"},j.map((function(e,t){return n.a.createElement("option",{key:t,value:e},e)})))))),n.a.createElement(k.a,{className:"mt-4"},n.a.createElement(at,{title:"Thresholds"}),n.a.createElement(v.a,null,n.a.createElement(b.a,{md:2,className:"mr-4"},n.a.createElement(N.a,{to:"availabilityThreshold"},"Availability:"),n.a.createElement(O.a,{id:"availabilityThreshold",name:"availabilityThreshold",className:"form-control"})),n.a.createElement(b.a,{md:2,className:"mr-4"},n.a.createElement(N.a,{to:"reliabilityThreshold"},"Reliability:"),n.a.createElement(O.a,{id:"reliabilityThreshold",name:"reliabilityThreshold",className:"form-control"})),n.a.createElement(b.a,{md:2,className:"mr-4"},n.a.createElement(N.a,{to:"uptimeThreshold"},"Uptime:"),n.a.createElement(O.a,{id:"uptimeThreshold",name:"uptimeThreshold",className:"form-control"})),n.a.createElement(b.a,{md:2,className:"mr-4"},n.a.createElement(N.a,{to:"unknownThreshold"},"Unknown:"),n.a.createElement(O.a,{id:"unknownThreshold",name:"unknownThreshold",className:"form-control"})),n.a.createElement(b.a,{md:2,className:"mr-4"},n.a.createElement(N.a,{to:"downtimeThreshold"},"Downtime:"),n.a.createElement(O.a,{id:"downtimeThreshold",name:"downtimeThreshold",className:"form-control"})))))}}))},Oa=(a("QjdQ"),Dt.object().shape({username:Dt.string().max(30,"Username must be 30 characters or fewer.").matches(/^[A-Za-z0-9@.+\-_]*$/,"Letters, numbers and @/./+/-/_ characters").required("Required"),addview:Dt.boolean(),password:Dt.string().when("addview",{is:!0,then:Dt.string().required("Required").min(8,"Your password must contain at least 8 characters.").matches(/^\d*[a-zA-Z][a-zA-Z\d]*$/,"Your password cannot be entirely numeric.")}),confirm_password:Dt.string().when("addview",{is:!0,then:Dt.string().required("Required").oneOf([Dt.ref("password"),null],"Passwords do not match!")}),email:Dt.string().email("Enter valid email.").required("Required")})),Sa=Dt.object().shape({password:Dt.string().required("Required").min(8,"Your password must contain at least 8 characters.").matches(/^\d*[a-zA-Z][a-zA-Z\d]*$/,"Your password cannot be entirely numeric."),confirm_password:Dt.string().required("Required").oneOf([Dt.ref("password"),null],"Passwords do not match!")}),_a=function(e){var t=e.add,a=e.errors;return n.a.createElement(n.a.Fragment,null,t?n.a.createElement(k.a,null,n.a.createElement(v.a,null,n.a.createElement(b.a,{md:6},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Username"),n.a.createElement(O.a,{type:"text",name:"username",className:"form-control ".concat(a.username&&"border-danger"),id:"userUsername"})),a.username&&Je(a.username))),n.a.createElement(v.a,null,n.a.createElement(b.a,{md:6},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Password"),n.a.createElement(O.a,{type:"password",name:"password",className:"form-control ".concat(a.password&&"border-danger"),id:"password"})),a.password&&Je(a.password))),n.a.createElement(v.a,null,n.a.createElement(b.a,{md:6},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Confirm password"),n.a.createElement(O.a,{type:"password",name:"confirm_password",className:"form-control ".concat(a.confirm_password&&"border-danger"),id:"confirm_password"})),a.confirm_password&&Je(a.confirm_password)))):n.a.createElement(k.a,null,n.a.createElement(v.a,null,n.a.createElement(b.a,{md:6},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Username"),n.a.createElement(O.a,{type:"text",name:"username",className:"form-control",id:"userUsername"})),a.username&&Je(a.username)))),n.a.createElement(k.a,null,n.a.createElement(at,{title:"Personal info"}),n.a.createElement(v.a,null,n.a.createElement(b.a,{md:6},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"First name"),n.a.createElement(O.a,{type:"text",name:"first_name",className:"form-control",id:"userFirstName"})))),n.a.createElement(v.a,null,n.a.createElement(b.a,{md:6},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Last name"),n.a.createElement(O.a,{type:"text",name:"last_name",className:"form-control",id:"userLastName"})))),n.a.createElement(v.a,null,n.a.createElement(b.a,{md:6},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Email"),n.a.createElement(O.a,{type:"text",name:"email",className:"form-control ".concat(a.email&&"border-danger"),id:"userEmail"})),a.email&&Je(a.email))),!t&&n.a.createElement(n.a.Fragment,null,n.a.createElement(v.a,null,n.a.createElement(b.a,{md:6},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Last login"),n.a.createElement(O.a,{type:"text",name:"last_login",className:"form-control",readOnly:!0})))),n.a.createElement(v.a,null,n.a.createElement(b.a,{md:6},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Date joined"),n.a.createElement(O.a,{type:"text",name:"date_joined",className:"form-control",readOnly:!0})))))),n.a.createElement(k.a,null,n.a.createElement(at,{title:"permissions"}),n.a.createElement(v.a,null,n.a.createElement(b.a,{md:6},n.a.createElement(O.a,{component:Ze,name:"is_superuser",className:"form-control",id:"checkbox",label:"Superuser status"}),n.a.createElement(te.a,{color:"muted"},"Designates that this user has all permissions without explicitly assigning them."))),n.a.createElement(v.a,null,n.a.createElement(b.a,{md:6},n.a.createElement(O.a,{component:Ze,name:"is_active",className:"form-control",id:"checkbox",label:"Active"}),n.a.createElement(te.a,{color:"muted"},"Designates whether this user should be treated as active. Unselect this instead of deleting accounts.")))))},Da=function(e){var t=e.location,a=new ye,r=Object(ut.b)("users_listview",u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchData("/api/v2/internal/users");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),c=r.data,i=r.error,o=r.isLoading,l=n.a.useMemo((function(){return[{Header:"#",accessor:null,column_width:"2%"},{Header:"Username",accessor:"username",column_width:"26%",Cell:function(e){return n.a.createElement(ie.b,{to:"/ui/administration/users/".concat(e.value)},e.value)}},{Header:"First name",accessor:"first_name",column_width:"26%",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)}},{Header:"Last name",accessor:"last_name",column_width:"26%",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)}},{Header:"Email address",accessor:"email",column_width:"26%",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)}},{accessor:"is_superuser",Header:"Superuser",column_width:"10%",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value?n.a.createElement(de.a,{icon:fe.e,style:{color:"#339900"}}):n.a.createElement(de.a,{icon:fe.C,style:{color:"#CC0000"}}))}},{Header:"Active",accessor:"is_active",column_width:"10%",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value?n.a.createElement(de.a,{icon:fe.e,style:{color:"#339900"}}):n.a.createElement(de.a,{icon:fe.C,style:{color:"#CC0000"}}))}}]}));return o?n.a.createElement(Fe,null):i?n.a.createElement(tt,{error:i}):!o&&c?n.a.createElement(Ge,{resourcename:"users",location:t,listview:!0},n.a.createElement(ct,{data:c,columns:l,page_size:20,resourcename:"users"})):null},Ca=function(e){var t=e.match.params.user_name,a=e.addview,c=e.isTenantSchema,i=e.location,o=e.history,l="user_".concat(a?"addview":"".concat(t,"_changeview")),m=new ye,d=Object(ut.b)("".concat(l),u()(s.a.mark((function e(){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={pk:"",first_name:"",last_name:"",username:"",is_active:!0,is_superuser:!1,email:"",last_login:"",date_joined:""},a){e.next=5;break}return e.next=4,m.fetchData("/api/v2/internal/users/".concat(t));case 4:r=e.sent;case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))),g=d.data,h=d.error,E=d.isLoading,y=Object(ut.b)("".concat(l,"_userprofile"),u()(s.a.mark((function e(){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={displayname:"",subject:"",egiid:""},!c||a){e.next=5;break}return e.next=4,m.fetchData("/api/v2/internal/userprofile/".concat(t));case 4:r=e.sent;case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))),w=y.data,x=y.error,j=y.isLoading,A=Object(ut.b)("".concat(l,"_usergroups"),u()(s.a.mark((function e(){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={aggregations:[],metrics:[],metricprofiles:[],thresholdsprofiles:[]},!c||a){e.next=5;break}return e.next=4,m.fetchResult("/api/v2/internal/usergroups/".concat(t));case 4:r=e.sent;case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))),S=A.data,_=A.error,D=A.isLoading,C=Object(ut.b)("user_listview_allgroups",u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={metrics:[],aggregations:[],metricprofiles:[],thresholdsprofiles:[]},!c){e.next=5;break}return e.next=4,m.fetchResult("/api/v2/internal/usergroups");case 4:t=e.sent;case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))),I=C.data,T=C.error,L=C.isLoading,z=Object(ut.b)("session_userdetails",u()(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!!c,e.next=3,m.isActiveSession(t);case 3:if(!(a=e.sent).active){e.next=6;break}return e.abrupt("return",a.userdetails);case 6:case"end":return e.stop()}}),e)})))),P=z.data,U=z.error,Q=z.isLoading,V=Object(r.useState)(!1),R=p()(V,2),F=R[0],Y=R[1],B=Object(r.useState)(void 0),H=p()(B,2),W=H[0],q=H[1],G=Object(r.useState)(void 0),Z=p()(G,2),J=Z[0],K=Z[1],X=Object(r.useState)(void 0),ae=p()(X,2),re=ae[0],ne=ae[1],ce=Object(r.useState)(void 0),oe=p()(ce,2),se=oe[0],le=oe[1];function ue(){Y(!F)}function me(e){var t="Are you sure you want to ".concat(a?"add":"change"," user?"),r="".concat(a?"Add":"Change"," user");ne(t),K(r),le(e),q("submit"),ue()}function pe(){return de.apply(this,arguments)}function de(){return(de=u()(s.a.mark((function e(){var t,r,n,i,l,u,p,d,f,g,h,E;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=44;break}return e.next=3,m.changeObject("/api/v2/internal/users/",{pk:se.pk,username:se.username,first_name:se.first_name,last_name:se.last_name,email:se.email,is_superuser:se.is_superuser,is_active:se.is_active});case 3:if((t=e.sent).ok){e.next=19;break}return r="",e.prev=6,e.next=9,t.json();case 9:n=e.sent,r=n.detail,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),r="Error changing user";case 16:Be({title:"Error: ".concat(t.status," ").concat(t.statusText),msg:r}),e.next=42;break;case 19:if(!c){e.next=41;break}return e.next=22,m.changeObject("/api/v2/internal/userprofile/",{username:se.username,displayname:se.displayname,subject:se.subject,egiid:se.egiid,groupsofaggregations:se.groupsofaggregations,groupsofmetrics:se.groupsofmetrics,groupsofmetricprofiles:se.groupsofmetricprofiles,groupsofthresholdsprofiles:se.groupsofthresholdsprofiles});case 22:if(!(i=e.sent).ok){e.next=27;break}Ye({msg:"User successfully changed",title:"Changed",callback:function(){return o.push("/ui/administration/users")}}),e.next=39;break;case 27:return l="",e.prev=28,e.next=31,i.json();case 31:u=e.sent,l=u.detail,e.next=38;break;case 35:e.prev=35,e.t1=e.catch(28),l="Error changing user profile";case 38:Be({title:"Error: ".concat(i.status," ").concat(i.statusText),msg:l});case 39:e.next=42;break;case 41:Ye({msg:"User successfully changed",title:"Changed",callback:function(){return o.push("/ui/administration/users")}});case 42:e.next=85;break;case 44:return e.next=46,m.addObject("/api/v2/internal/users/",{username:se.username,password:se.password,first_name:se.first_name,last_name:se.last_name,email:se.email,is_superuser:se.is_superuser,is_active:se.is_active});case 46:if((p=e.sent).ok){e.next=62;break}return d="",e.prev=49,e.next=52,p.json();case 52:f=e.sent,d=f.detail,e.next=59;break;case 56:e.prev=56,e.t2=e.catch(49),d="Error adding user";case 59:Be({title:"Error: ".concat(p.status," ").concat(p.statusText),msg:d}),e.next=85;break;case 62:if(!c){e.next=84;break}return e.next=65,m.addObject("/api/v2/internal/userprofile/",{username:se.username,displayname:se.displayname,subject:se.subject,egiid:se.egiid,groupsofaggregations:se.groupsofaggregations,groupsofmetrics:se.groupsofmetrics,groupsofmetricprofiles:se.groupsofmetricprofiles,groupsofthresholdsprofiles:se.groupsofthresholdsprofiles});case 65:if(!(g=e.sent).ok){e.next=70;break}Ye({msg:"User successfully added",title:"Added",callback:function(){return o.push("/ui/administration/users")}}),e.next=82;break;case 70:return h="",e.prev=71,e.next=74,g.json();case 74:E=e.sent,h=E.detail,e.next=81;break;case 78:e.prev=78,e.t3=e.catch(71),h="Error adding user profile";case 81:Be({title:"Error: ".concat(g.status," ").concat(g.statusText),msg:h});case 82:e.next=85;break;case 84:Ye({msg:"User successfully added",title:"Added",callback:function(){return o.push("/ui/administration/users")}});case 85:case"end":return e.stop()}}),e,null,[[6,13],[28,35],[49,56],[71,78]])})))).apply(this,arguments)}function fe(){return ge.apply(this,arguments)}function ge(){return(ge=u()(s.a.mark((function e(){var a,r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.deleteObject("/api/v2/internal/users/".concat(t));case 2:if(!(a=e.sent).ok){e.next=7;break}Ye({msg:"User successfully deleted",title:"Deleted",callback:function(){return o.push("/ui/administration/users")}}),e.next=19;break;case 7:return r="",e.prev=8,e.next=11,a.json();case 11:n=e.sent,r=n.detail,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),r="Error deleting user";case 18:Be({title:"Error: ".concat(a.status," ").concat(a.statusText),msg:r});case 19:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}return E||j||D||L||Q?n.a.createElement(Fe,null):h?n.a.createElement(tt,{error:h}):x?n.a.createElement(tt,{error:x}):_?n.a.createElement(tt,{error:_}):T?n.a.createElement(tt,{error:T}):U?n.a.createElement(tt,{error:U}):E||j||D||L||Q||!g?void 0:c?n.a.createElement(Ge,{resourcename:"users",location:i,addview:a,history:!1,modal:!0,state:{areYouSureModal:F,modalTitle:J,modalMsg:re,modalFunc:"submit"===W?pe:"delete"===W?fe:void 0},toggle:ue},n.a.createElement(O.d,{initialValues:{addview:a,pk:g.pk,first_name:g.first_name,last_name:g.last_name,username:g.username,password:"",confirm_password:"",is_active:g.is_active,is_superuser:g.is_superuser,email:g.email,last_login:g.last_login,date_joined:g.date_joined,groupsofaggregations:S.aggregations,groupsofmetrics:S.metrics,groupsofmetricprofiles:S.metricprofiles,groupsofthresholdsprofiles:S.thresholdsprofiles,displayname:w.displayname,subject:w.subject,egiid:w.egiid},validationSchema:Oa,enableReinitialize:!0,onSubmit:function(e){return me(e)},render:function(e){return n.a.createElement(O.c,null,n.a.createElement(_a,f()({},e,{add:a})),c&&n.a.createElement(n.a.Fragment,null,n.a.createElement(k.a,null,n.a.createElement(at,{title:"POEM user permissions"}),n.a.createElement(v.a,null,n.a.createElement(b.a,{md:6},n.a.createElement(N.a,{for:"groupsofmetrics",className:"grouplabel"},"Groups of metrics"),n.a.createElement(O.a,{component:"select",name:"groupsofmetrics",id:"select-field",onChange:function(t){return e.setFieldValue("groupsofmetrics",[].slice.call(t.target.selectedOptions).map((function(e){return e.value})))},multiple:!0},I.metrics.map((function(e){return n.a.createElement("option",{key:e,value:e},e)}))),n.a.createElement(te.a,{color:"muted"},'The groups of metrics that user will control. Hold down "Control" or "Command" on a Mac to select more than one.'))),n.a.createElement(v.a,null,n.a.createElement(b.a,{md:6},n.a.createElement(N.a,{for:"groupsofmetricprofiles",className:"grouplabel"},"Groups of metric profiles"),n.a.createElement(O.a,{component:"select",name:"groupsofmetricprofiles",id:"select-field",onChange:function(t){return e.setFieldValue("groupsofmetricprofiles",[].slice.call(t.target.selectedOptions).map((function(e){return e.value})))},multiple:!0},I.metricprofiles.map((function(e){return n.a.createElement("option",{key:e,value:e},e)}))),n.a.createElement(te.a,{color:"muted"},'The groups of metric profiles that user will control. Hold down "Control" or "Command" on a Mac to select more than one.'))),n.a.createElement(v.a,null,n.a.createElement(b.a,{md:6},n.a.createElement(N.a,{for:"groupsofaggregations",className:"grouplabel"},"Groups of aggregations"),n.a.createElement(O.a,{component:"select",name:"groupsofaggregations",id:"select-field",onChange:function(t){return e.setFieldValue("groupsofaggregations",[].slice.call(t.target.selectedOptions).map((function(e){return e.value})))},multiple:!0},I.aggregations.map((function(e){return n.a.createElement("option",{key:e,value:e},e)}))),n.a.createElement(te.a,{color:"muted"},'The groups of aggregations that user will control. Hold down "Control" or "Command" on a Mac to select more than one.'))),n.a.createElement(v.a,null,n.a.createElement(b.a,{md:6},n.a.createElement(N.a,{for:"groupsofthresholdsprofiles",className:"grouplabel"},"Groups of thresholds profiles"),n.a.createElement(O.a,{component:"select",name:"groupsofthresholdsprofiles",id:"select-field",onChange:function(t){return e.setFieldValue("groupsofthresholdsprofiles",[].slice.call(t.target.selectedOptions).map((function(e){return e.value})))},multiple:!0},I.thresholdsprofiles.map((function(e){return n.a.createElement("option",{key:e,value:e},e)}))),n.a.createElement(te.a,{color:"muted"},'The groups of thresholds profiles that user will control. Hold down "Control" or "Command" on a Mac to select more than one.')))),n.a.createElement(k.a,null,n.a.createElement(at,{title:"Additional information"}),n.a.createElement(v.a,null,n.a.createElement(b.a,{md:12},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"distinguishedName"),n.a.createElement(O.a,{type:"text",name:"subject",required:!1,className:"form-control",id:"distinguishedname"}))))),n.a.createElement(k.a,null,n.a.createElement(v.a,null,n.a.createElement(b.a,{md:8},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"eduPersonUniqueId"),n.a.createElement(O.a,{type:"text",name:"egiid",required:!1,className:"form-control",id:"eduid"}))))),n.a.createElement(k.a,null,n.a.createElement(v.a,null,n.a.createElement(b.a,{md:6},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"displayName"),n.a.createElement(O.a,{type:"text",name:"displayname",required:!1,className:"form-control",id:"displayname"})))))),n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},a?n.a.createElement("div",null):n.a.createElement(M.a,{color:"danger",onClick:function(){ne("Are you sure you want to delete user?"),K("Delete user"),q("delete"),ue()}},"Delete"),n.a.createElement(M.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):n.a.createElement(n.a.Fragment,null,n.a.createElement(ze,{isOpen:F,toggle:ue,title:J,msg:re,onYes:"submit"===W?pe:"delete"===W?fe:void 0}),n.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"".concat(a?"Add":"Change"," user")),!a&&P.username===t&&n.a.createElement(ie.b,{className:"btn btn-secondary",to:i.pathname+"/change_password",role:"button"},"Change password")),n.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},n.a.createElement(O.d,{initialValues:{addview:a,pk:g.pk,first_name:g.first_name,last_name:g.last_name,username:g.username,password:"",confirm_password:"",is_active:g.is_active,is_superuser:g.is_superuser,email:g.email,last_login:g.last_login,date_joined:g.date_joined},validationSchema:Oa,enableReinitialize:!0,onSubmit:function(e,t){return me(e)},render:function(e){return n.a.createElement(O.c,null,n.a.createElement(_a,f()({},e,{add:a})),n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},a?n.a.createElement("div",null):n.a.createElement(M.a,{color:"danger",onClick:function(){ne("Are you sure you want to delete user ".concat(t,"?")),K("Delete user"),q("delete"),ue()}},"Delete"),n.a.createElement(M.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})))},Ia=function(e){var t=e.match.params.user_name,a=e.locaation,c=e.history,i=new ye,o=Object(ut.b)("session_userdetails",u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.isActiveSession(!1);case 2:if(!(t=e.sent).active){e.next=5;break}return e.abrupt("return",t.userdetails);case 5:case"end":return e.stop()}}),e)})))),l=o.data,m=o.isLoading,d=Object(r.useState)(!1),f=p()(d,2),g=f[0],h=f[1],E=Object(r.useState)(void 0),y=p()(E,2),w=y[0],x=y[1],k=Object(r.useState)(void 0),N=p()(k,2),j=N[0],A=N[1],S=Object(r.useState)(void 0),_=p()(S,2),D=_[0],C=_[1];function I(){h(!g)}function T(){return(T=u()(s.a.mark((function e(){var a,r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.changeObject("/api/v2/internal/change_password/",{username:t,new_password:D.confirm_password});case 2:if((a=e.sent).ok){e.next=18;break}return r="",e.prev=5,e.next=8,a.json();case 8:n=e.sent,r=n.detail,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),r="Error changing password";case 15:Be({title:"Error: ".concat(a.status," ").concat(a.statusText),msg:r}),e.next=22;break;case 18:return e.next=20,fetch("/rest-auth/login/",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json",Referer:"same-origin"},body:JSON.stringify({username:t,password:D.confirm_password})});case 20:e.sent,Ye({msg:"Password successfully changed",title:"Changed",callback:function(){return c.push("/ui/administration/users")}});case 22:case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}if(m)return n.a.createElement(Fe,null);if(!m&&l){var L=l.username===t;return n.a.createElement(Ge,{resourcename:"password",location:a,history:!1,submitperm:L,modal:!0,state:{areYouSureModal:g,modalTitle:w,modalMsg:j,modalFunc:function(){return T.apply(this,arguments)}},toggle:I},n.a.createElement(O.d,{initialValues:{password:"",confirm_password:""},validationSchema:Sa,onSubmit:function(e){return function(e){A("Are you sure you want to change password?"),x("Change password"),C(e),I()}(e)},render:function(e){return n.a.createElement(O.c,null,n.a.createElement(v.a,null,n.a.createElement(b.a,{md:6},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"New password"),n.a.createElement(O.a,{type:"password",name:"password",className:"form-control ".concat(e.errors.password&&"border-danger"),id:"password"})),e.errors.password&&Je(e.errors.password))),n.a.createElement(v.a,null,n.a.createElement(b.a,{md:6},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Confirm password"),n.a.createElement(O.a,{type:"password",name:"confirm_password",className:"form-control ".concat(e.errors.confirm_password&&"border-danger"),id:"confirm_password"})),e.errors.confirm_password&&Je(e.errors.confirm_password))),L&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},n.a.createElement("div",null),n.a.createElement(M.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}}))}return null},Ta=a("Cs6D"),La=function(e){var t=Object(r.useState)(!1),a=p()(t,2),c=a[0],i=a[1],o=Object(r.useState)(null),l=p()(o,2),m=l[0],d=l[1],f=Object(r.useState)(null),g=p()(f,2),h=g[0],E=g[1],v=e.location,b=e.name,y=e.id,w=e.group,x=new ye;Object(r.useEffect)((function(){function e(){return(e=u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.fetchResult("/api/v2/internal/usergroups");case 3:t=e.sent,d(t[w]),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),E(e.t0);case 10:i(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}i(!0),function(){e.apply(this,arguments)}()}),[]);var k=n.a.useMemo((function(){return[{Header:"#",accessor:null,column_width:"2%"},{Header:b.charAt(0).toUpperCase()+b.slice(1),accessor:function(e){return n.a.createElement(ie.b,{to:"/ui/administration/".concat(y,"/").concat(e)},e)},column_width:"98%"}]}));return c?n.a.createElement(Fe,null):h?n.a.createElement(tt,{error:h}):!c&&m?n.a.createElement(Ge,{resourcename:b,location:v,listview:!0},n.a.createElement(ct,{data:m,columns:k,page_size:10,resourcename:"groups"})):null},za=function(e){var t=Object(r.useState)(""),a=p()(t,2),c=a[0],i=a[1],o=Object(r.useState)([]),l=p()(o,2),m=l[0],d=l[1],f=Object(r.useState)(""),g=p()(f,2),h=g[0],E=g[1],y=Object(r.useState)([]),w=p()(y,2),x=w[0],N=w[1],j=Object(r.useState)([]),A=p()(j,2),S=A[0],_=A[1],D=Object(r.useState)(!1),C=p()(D,2),I=C[0],T=C[1],L=Object(r.useState)(void 0),z=p()(L,2),P=z[0],U=z[1],Q=Object(r.useState)(void 0),V=p()(Q,2),R=V[0],F=V[1],Y=Object(r.useState)(void 0),B=p()(Y,2),H=B[0],W=B[1],q=Object(r.useState)(void 0),G=p()(q,2),Z=G[0],J=G[1],K=Object(r.useState)(null),X=p()(K,2),te=X[0],ae=X[1],re=Object(r.useState)(""),ne=p()(re,2),ce=ne[0],ie=ne[1],oe=e.match.params.name,se=e.group,le=e.id,ue=e.title,me=e.addview,pe=e.location,ge=e.history,he=new ye;function Ee(){U(!P)}function ve(){return(ve=u()(s.a.mark((function e(){var t,a,r,n,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(me){e.next=22;break}return e.next=3,he.changeObject("/api/v2/internal/".concat(se,"group/"),{name:ce,items:m});case 3:if(!(t=e.sent).ok){e.next=8;break}Ye({msg:"Group of ".concat(ue," successfully changed"),title:"Changed",callback:function(){return ge.push("/ui/administration/".concat(le))}}),e.next=20;break;case 8:return a="",e.prev=9,e.next=12,t.json();case 12:r=e.sent,a=r.detail,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),a="Error changing group of ".concat(ue);case 19:Be({title:"Error: ".concat(t.status," ").concat(t.statusText),msg:a});case 20:e.next=41;break;case 22:return e.next=24,he.addObject("/api/v2/internal/".concat(se,"group/"),{name:ce,items:m});case 24:if(!(n=e.sent).ok){e.next=29;break}Ye({msg:"Group of ".concat(ue," successfully added"),title:"Added",callback:function(){return ge.push("/ui/administration/".concat(le))}}),e.next=41;break;case 29:return c="",e.prev=30,e.next=33,n.json();case 33:i=e.sent,c=i.detail,e.next=40;break;case 37:e.prev=37,e.t1=e.catch(30),c="Error adding group of ".concat(ue);case 40:Be({title:"Error: ".concat(n.status," ").concat(n.statusText),msg:c});case 41:case"end":return e.stop()}}),e,null,[[9,16],[30,37]])})))).apply(this,arguments)}function be(){return(be=u()(s.a.mark((function e(){var t,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he.deleteObject("/api/v2/internal/".concat(se,"group/").concat(c));case 2:if(!(t=e.sent).ok){e.next=7;break}Ye({msg:"Group of ".concat(ue," successfully deleted"),title:"Deleted",callback:function(){return ge.push("/ui/administration/".concat(le))}}),e.next=19;break;case 7:return a="",e.prev=8,e.next=11,t.json();case 11:r=e.sent,a=r.detail,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),a="Error deleting group of ".concat(ue);case 18:Be({title:"Error: ".concat(t.status," ").concat(t.statusText),msg:a});case 19:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}Object(r.useEffect)((function(){function e(){return(e=u()(s.a.mark((function e(){var t,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.fetchResult("/api/v2/internal/".concat(se,"group"));case 3:if(t=e.sent,a=[],t.forEach((function(e){return a.push({value:e,label:e})})),me){e.next=12;break}return e.next=9,he.fetchResult("/api/v2/internal/".concat(se,"group/").concat(oe));case 9:r=e.sent,i(oe),d(r);case 12:N(a),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),ae(e.t0);case 18:T(!1);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}T(!0),function(){e.apply(this,arguments)}()}),[]);var we=m;return h&&(we=we.filter((function(e){return e.toLowerCase().includes(h)}))),I?n.a.createElement(Fe,null):te?n.a.createElement(tt,{error:te}):I?null:n.a.createElement(Ge,{resourcename:"group of ".concat(ue),location:pe,addview:me,history:!1,modal:!0,state:{areYouSureModal:P,modalFunc:"delete"===Z?function(){return be.apply(this,arguments)}:"submit"===Z?function(){return ve.apply(this,arguments)}:void 0,modalTitle:R,modalMsg:H},toggle:Ee},n.a.createElement(O.d,{initialValues:{name:c,items:m},onSubmit:function(e,t){return function(e){W("Are you sure you want to ".concat(me?"add":"change"," group of ").concat(ue,"?")),F("".concat(me?"Add":"Change"," group of ").concat(ue)),J("submit"),ie(e.name),Ee()}(e)},render:function(){return n.a.createElement(O.c,null,n.a.createElement(k.a,null,n.a.createElement(v.a,null,n.a.createElement(b.a,{md:6},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Name"),n.a.createElement(O.a,{type:"text",name:"name",required:!0,className:"form-control",id:"groupname",disabled:!me}))))),n.a.createElement(k.a,null,n.a.createElement(at,{title:ue}),n.a.createElement(v.a,{className:"mb-2"},n.a.createElement(b.a,{md:8},n.a.createElement(Ta.a,{closeMenuOnSelect:!1,placeholder:"Search available ".concat(ue),noOptionsMessage:function(){return"No available ".concat(ue)},isMulti:!0,onChange:function(e){return _(e)},openMenuOnClick:!0,value:S,options:x})),n.a.createElement(b.a,{md:2},n.a.createElement(M.a,{color:"success",onClick:function(){for(var e=m,t=x,a=0;a<t.length;a++)S.includes(t[a])&&(t.splice(a,1),a--);S.forEach((function(t){return e.push(t.value)})),d(e.sort()),N(t),_([])}},"Add new ".concat(ue," to group")))),n.a.createElement("table",{className:"table table-bordered table-sm table-hover",style:{width:"85%"}},n.a.createElement("thead",{className:"table-active"},n.a.createElement("tr",null,n.a.createElement("th",{className:"align-middle text-center",style:{width:"5%"}},"#"),n.a.createElement("th",{style:{width:"90%"}},n.a.createElement(Ce,{i:"aggregations"===se?"aggregationprofiles":se})," ","".concat(ue.charAt(0).toUpperCase()+ue.slice(1)," in group")),n.a.createElement("th",{style:{width:"5%"}},"Remove"))),n.a.createElement("tbody",null,n.a.createElement("tr",{style:{background:"#ECECEC"}},n.a.createElement("td",{className:"align-middle text-center"},n.a.createElement(de.a,{icon:fe.v})),n.a.createElement("td",null,n.a.createElement(O.a,{type:"text",name:"search_items",className:"form-control",onChange:function(e){return E(e.target.value)},component:Te})),n.a.createElement("td",null,"")),we.map((function(e,t){return n.a.createElement(n.a.Fragment,{key:t},n.a.createElement("tr",{key:t},n.a.createElement("td",{className:"align-middle text-center"},t+1),n.a.createElement("td",null,e),n.a.createElement("td",{className:"align-middle pl-3"},n.a.createElement(M.a,{size:"sm",color:"light",type:"button",onClick:function(){var t=m.filter((function(t){return t!==e})),a=x;a.push({value:e,label:e});var r=a.sort((function(e,t){var a=0;return e.value.toLowerCase()>t.value.toLowerCase()?a=1:e.value.toLowerCase()<t.value.toLowerCase()&&(a=-1),a}));d(t),N(r)}},n.a.createElement(de.a,{icon:fe.B})))))}))))),n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},me?n.a.createElement("div",null):n.a.createElement(M.a,{color:"danger",onClick:function(){return W("Are you sure you want to delete group of ".concat(ue,"?")),F("Delete group of ".concat(ue)),J("delete"),void Ee()}},"Delete"),n.a.createElement(M.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}}))},Pa=function(e){var t=e.location,a=new ye,c=Object(r.useState)(!1),i=p()(c,2),o=i[0],l=i[1],m=Object(r.useState)(void 0),d=p()(m,2),f=d[0],g=d[1],h=Object(r.useState)(null),E=p()(h,2),v=E[0],b=E[1];Object(r.useEffect)((function(){l(!0);try{(function(){var e=u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchData("/api/v2/internal/apikeys");case 2:t=e.sent,b(t),l(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}catch(e){g(e),l(!1)}}),[]);var y=n.a.useMemo((function(){return[{Header:"#",accessor:null,column_width:"2%"},{Header:"Name",id:"name",accessor:function(e){return n.a.createElement(ie.b,{to:"/ui/administration/apikey/"+e.name},e.name)},column_width:"73%"},{Header:"Created",accessor:"created",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)},column_width:"20%"},{Header:"Revoked",id:"revoked",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)},accessor:function(e){return""===e.revoked?"":e.revoked?n.a.createElement(de.a,{icon:fe.e,style:{color:"#339900"}}):n.a.createElement(de.a,{icon:fe.C,style:{color:"#CC0000"}})},column_width:"5%"}]}));return o?n.a.createElement(Fe,null):f?n.a.createElement(tt,{error:f}):!o&&v?n.a.createElement(Ge,{resourcename:"API key",location:t,listview:!0},n.a.createElement(ct,{data:v,columns:y,page_size:5,resourcename:"API keys"})):null},Ua=function(e){var t=e.match.params.name,a=e.location,c=e.addview,i=e.history,o=new ye,l=Object(r.useState)({name:"",revoked:!1,token:""}),m=p()(l,2),d=m[0],f=m[1],g=Object(r.useState)(!1),h=p()(g,2),E=h[0],y=h[1],w=Object(r.useState)(!1),x=p()(w,2),A=x[0],S=x[1],_=Object(r.useState)(void 0),D=p()(_,2),C=D[0],I=D[1],T=Object(r.useState)(void 0),L=p()(T,2),z=(L[0],L[1],Object(r.useState)(void 0)),P=p()(z,2),U=P[0],Q=P[1],V=Object(r.useState)(null),R=p()(V,2),F=R[0],Y=R[1],B=Object(r.useState)(""),H=p()(B,2),W=H[0],q=H[1],G=Object(r.useState)({}),Z=p()(G,2),J=Z[0],K=Z[1],X=Object(r.useRef)(null),ae=function(){var e=u()(s.a.mark((function e(t,a){var r,n,l,u,m,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=22;break}return e.next=3,o.changeObject("/api/v2/internal/apikeys/",{id:d.id,revoked:t.revoked,name:t.name});case 3:if(!(r=e.sent).ok){e.next=8;break}Ye({msg:"API key successfully changed",title:"Changed",callback:function(){return i.push("/ui/administration/apikey")}}),e.next=20;break;case 8:return n="",e.prev=9,e.next=12,r.json();case 12:l=e.sent,n="".concat(l.detail?l.detail:"Error changing API key"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),n="Error changing API key";case 19:Be({title:"Error: ".concat(r.status," ").concat(r.statusText),msg:n});case 20:e.next=41;break;case 22:return e.next=24,o.addObject("/api/v2/internal/apikeys/",{name:t.name,token:t.token});case 24:if(!(u=e.sent).ok){e.next=29;break}Ye({msg:"API key successfully added",title:"Added",callback:function(){return i.push("/ui/administration/apikey")}}),e.next=41;break;case 29:return m="",e.prev=30,e.next=33,u.json();case 33:p=e.sent,m="".concat(p.detail?p.detail:"Error adding API key"),e.next=40;break;case 37:e.prev=37,e.t1=e.catch(30),m="Error adding API key";case 40:Be({title:"Error: ".concat(u.status," ").concat(u.statusText),msg:m});case 41:case"end":return e.stop()}}),e,null,[[9,16],[30,37]])})));return function(t,a){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){y(!0);try{if(c)f({name:"",revoked:!1,token:""}),y(!1);else(function(){var e=u()(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.fetchData("/api/v2/internal/apikeys/".concat(t));case 2:a=e.sent,f(a),y(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}catch(e){Y(e),y(!1)}}),[]);var re=function(){var e=u()(s.a.mark((function e(){var a,r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.deleteObject("/api/v2/internal/apikeys/".concat(t));case 2:if(!(a=e.sent).ok){e.next=7;break}Ye({msg:"API key successfully deleted",title:"Deleted",callback:function(){return i.push("/ui/administration/apikey")}}),e.next=19;break;case 7:return r="",e.prev=8,e.next=11,a.json();case 11:n=e.sent,r="".concat(n.detail?n.detail:"Error deleting API key"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),r="Error deleting API key";case 18:Be({title:"Error: ".concat(a.status," ").concat(a.statusText),msg:r});case 19:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(){return e.apply(this,arguments)}}();return E?n.a.createElement(Fe,null):F?n.a.createElement(tt,{error:F}):!E&&d?n.a.createElement(Ge,{resourcename:"API key",location:a,addview:c,history:!1,modal:!0,state:{areYouSureModal:A,modalFunc:function(){"delete"===W?re(t):"change"===W&&ae(J)},modalTitle:C,modalMsg:U},toggle:function(){return S(!A)}},n.a.createElement(O.d,{initialValues:{name:d.name,revoked:d.revoked,token:d.token},onSubmit:function(e,t){return function(e,t){var a=void 0,r=void 0;c?(a="Are you sure you want to add API key?",r="Add API key"):(a="Are you sure you want to change API key?",r="Change API key"),S(!A),Q(a),I(r),q("change"),K(e)}(e)},render:function(e){return n.a.createElement(O.c,null,n.a.createElement(k.a,null,n.a.createElement(v.a,null,n.a.createElement(b.a,{md:6},n.a.createElement(N.a,{for:"name"},"Name"),n.a.createElement(O.a,{type:"text",name:"name",id:"name",required:!0,className:"form-control"}),n.a.createElement(te.a,{color:"muted"},"A free-form unique identifier of the client. 50 characters max."))),n.a.createElement(v.a,{className:"mt-2"},n.a.createElement(b.a,{md:6},n.a.createElement(O.a,{component:Ze,name:"revoked",className:"form-control",id:"checkbox",label:"Revoked"}),n.a.createElement(te.a,{color:"muted"},"If the API key is revoked, clients cannot use it any more. (This cannot be undone.)")))),n.a.createElement(k.a,null,n.a.createElement(at,{title:"Credentials"}),c&&n.a.createElement(j.a,{color:"info",className:"text-center"},"If token field is ",n.a.createElement("b",null,"left empty"),", value will be automatically generated on save."),n.a.createElement(v.a,{className:"no-gutters"},n.a.createElement(b.a,{sm:6},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Token"),n.a.createElement(O.a,{type:"text",name:"token",id:"token",disabled:!c,className:"form-control",innerRef:X})),n.a.createElement(te.a,{color:"muted"},"A public, unique identifier for this API key.")),!c&&n.a.createElement(b.a,{sm:2},n.a.createElement(M.a,{className:"btn",color:"success",onClick:function(e){return function(e){navigator.clipboard.writeText(X.current.value),e.target.focus(),Ye({msg:"API token copied to clipboard",title:"Copied"})}(e)}},n.a.createElement(de.a,{icon:fe.f,size:"lg",color:"white"}))))),n.a.createElement("div",{className:c?"submit-row d-flex align-items-center justify-content-end bg-light p-3 mt-5":"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},!c&&n.a.createElement(M.a,{color:"danger",onClick:function(){Q("Are you sure you want to delete API key?"),I("Delete API key"),S(!A),q("delete")}},"Delete"),n.a.createElement(M.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):void 0},Qa=function(e){return n.a.createElement("div",null,n.a.createElement("h1",null,"Not found"))},Va=a("Ty5D"),Ra=Dt.object().shape({name:Dt.string().matches(/^\S*$/,"Name cannot contain white spaces").required("Required"),content:Dt.string().required("Required"),description:Dt.string().required("Required")}),Fa=function(e){var t=e.location,a=new ye,r=Object(ut.b)("yumrepos_listview",u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchData("/api/v2/internal/yumrepos");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),c=r.data,i=r.error,o=r.isLoading,l=Object(ut.b)("yumrepos_listview_tags",u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchData("/api/v2/internal/ostags");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),m=l.data,p=l.error,d=l.isLoading,f=Object(ut.b)("session_istenantschema",u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.isTenantSchema();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),g=f.data,h=f.isLoading,E=n.a.useMemo((function(){return[{Header:"#",accessor:null,column_width:"2%"},{Header:"Name",accessor:"name",column_width:"20%",Cell:function(e){return n.a.createElement(ie.b,{to:"/ui/".concat(g?"administration/":"","yumrepos/").concat(e.value,"-").concat(e.row.original.tag.replace(/\s/g,"").toLowerCase())},e.value)},Filter:rt},{Header:"Description",accessor:"description",column_width:"68%",Filter:rt},{Header:"Tag",accessor:"tag",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)},Filter:nt,filterList:m}]}));return o||d||h?n.a.createElement(Fe,null):i?n.a.createElement(tt,{error:i}):p?n.a.createElement(tt,{error:p}):o||d||h||!c?null:n.a.createElement(Ge,{resourcename:"YUM repo",location:t,listview:!0,addnew:!g},n.a.createElement(ct,{data:c,columns:E,className:"-highlight",page_size:20,resourcename:"repos",filter:!0}))},Ya=function(e){var t=void 0,a=void 0;e.match.params.name&&(a=e.match.params.name.split("-")[e.match.params.name.split("-").length-1],t=e.match.params.name.replace("-"+a,""));var c=e.addview,i=e.cloneview,o=e.disabled,l=e.location,m=e.history,d=new ye,f=Object(ut.b)("yumrepo_".concat(c?"addview":"".concat(t,"_").concat(a,"_").concat(i?"cloneview":"changeview")),u()(s.a.mark((function e(){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={id:"",name:"",tag:"CentOS 6",content:"",description:""},c){e.next=5;break}return e.next=4,d.fetchData("/api/v2/internal/yumrepos/".concat(t,"/").concat(a));case 4:r=e.sent;case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))),g=f.data,h=f.error,E=f.isLoading,y=Object(ut.b)("yumrepo_changeview_tags",u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.fetchData("/api/v2/internal/ostags");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),w=y.data,x=y.error,j=y.isLoading,A=Object(r.useState)(!1),S=p()(A,2),_=S[0],D=S[1],C=Object(r.useState)(void 0),I=p()(C,2),T=I[0],L=I[1],z=Object(r.useState)(void 0),P=p()(z,2),U=P[0],Q=P[1],V=Object(r.useState)(void 0),R=p()(V,2),F=R[0],Y=R[1],B=Object(r.useState)(void 0),H=p()(B,2),W=H[0],q=H[1];function G(){D(!_)}function Z(){return(Z=u()(s.a.mark((function e(){var t,a,r,n,o,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c&&!i){e.next=22;break}return e.next=3,d.addObject("/api/v2/internal/yumrepos/",{name:W.name,tag:W.tag,content:W.content,description:W.description});case 3:if((t=e.sent).ok){e.next=19;break}return a="",e.prev=6,e.next=9,t.json();case 9:r=e.sent,a=r.detail,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),a="Error adding YUM repo";case 16:Be({title:"Error: ".concat(t.status," ").concat(t.statusText),msg:a}),e.next=20;break;case 19:Ye({msg:"YUM repo successfully added",title:"Added",callback:function(){return m.push("/ui/yumrepos")}});case 20:e.next=41;break;case 22:return e.next=24,d.changeObject("/api/v2/internal/yumrepos/",{id:W.id,name:W.name,tag:W.tag,content:W.content,description:W.description});case 24:if((n=e.sent).ok){e.next=40;break}return o="",e.prev=27,e.next=30,n.json();case 30:l=e.sent,o=l.detail,e.next=37;break;case 34:e.prev=34,e.t1=e.catch(27),o="Error changing YUM repo";case 37:Be({title:"Error: ".concat(n.status," ").concat(n.statusText),msg:o}),e.next=41;break;case 40:Ye({msg:"YUM repo successfully changed",title:"Changed",callback:function(){return m.push("/ui/yumrepos")}});case 41:case"end":return e.stop()}}),e,null,[[6,13],[27,34]])})))).apply(this,arguments)}function J(){return(J=u()(s.a.mark((function e(){var r,n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.deleteObject("/api/v2/internal/yumrepos/".concat(t,"/").concat(a));case 2:if((r=e.sent).ok){e.next=18;break}return n="",e.prev=5,e.next=8,r.json();case 8:c=e.sent,n=c.detail,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),n="Error deleting YUM repo";case 15:Be({title:"Error: ".concat(r.status," ").concat(r.statusText),msg:n}),e.next=19;break;case 18:Ye({msg:"YUM repo successfully deleted",title:"Deleted",callback:function(){return m.push("/ui/yumrepos")}});case 19:case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}return E||j?n.a.createElement(Fe,null):h?n.a.createElement(tt,{error:h}):x?n.a.createElement(tt,{error:x}):E||j||!g?null:n.a.createElement(Ge,{resourcename:"YUM repo",location:l,addview:c,cloneview:i,clone:!o,history:!1,modal:!0,state:{areYouSureModal:_,modalTitle:U,modalMsg:F,modalFunc:"submit"===T?function(){return Z.apply(this,arguments)}:"delete"===T?function(){return J.apply(this,arguments)}:void 0},toggle:G},n.a.createElement(O.d,{initialValues:{id:g.id,name:g.name,tag:g.tag,content:g.content,description:g.description},onSubmit:function(e){return function(e){var t="Are you sure you want to ".concat(c||i?"add":"change"," YUM repo?"),a="".concat(c||i?"Add":"Change"," YUM repo");Y(t),Q(a),L("submit"),q(e),G()}(e)},validationSchema:Ra,render:function(e){return n.a.createElement(O.c,null,n.a.createElement(k.a,null,n.a.createElement(v.a,null,n.a.createElement(b.a,{md:6},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Name"),n.a.createElement(O.a,{type:"text",name:"name",className:"form-control ".concat(e.errors.name&&"border-danger"),id:"name",disabled:o})),e.errors.name&&Je(e.errors.name),n.a.createElement(te.a,{color:"muted"},"Name of YUM repo file.")),n.a.createElement(b.a,{md:2},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Tag"),o?n.a.createElement(O.a,{type:"text",name:"tag",className:"form-control",id:"tag",disabled:!0}):n.a.createElement(O.a,{component:"select",name:"tag",className:"form-control custom-select",id:"tag"},w.map((function(e,t){return n.a.createElement("option",{key:t,value:e},e)})))),n.a.createElement(te.a,{color:"muted"},"OS tag.")))),n.a.createElement(k.a,null,n.a.createElement(v.a,null,n.a.createElement(b.a,{md:8},n.a.createElement(N.a,{for:"content"},"File content"),n.a.createElement(O.a,{component:"textarea",name:"content",rows:"20",className:"form-control ".concat(e.errors.content&&"border-danger"),id:"content",disabled:o}),e.errors.content&&Je(e.errors.content),n.a.createElement(te.a,{color:"muted"},"Content of the repo file.")))),n.a.createElement(k.a,null,n.a.createElement(v.a,null,n.a.createElement(b.a,{md:8},n.a.createElement(N.a,{for:"description"},"Description"),n.a.createElement(O.a,{component:"textarea",name:"description",rows:"5",className:"form-control ".concat(e.errors.description&&"border-danger"),id:"description",disabled:o}),e.errors.description&&Je(e.errors.description),n.a.createElement(te.a,{color:"muted"},"Short free text description.")))),!o&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},c||i?n.a.createElement("div",null):n.a.createElement(M.a,{color:"danger",onClick:function(){Y("Are you sure you want to delete YUM repo?"),Q("Delete YUM repo"),L("delete"),G()}},"Delete"),n.a.createElement(M.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}}))},Ba=Dt.object().shape({name:Dt.string().required("Required"),groupname:Dt.string().required("Required"),rules:Dt.array().of(Dt.object().shape({metric:Dt.string().required("Required"),thresholds:Dt.array().of(Dt.object().shape({label:Dt.string().matches(/^[a-zA-Z][A-Za-z0-9]*$/,"Label can contain alphanumeric characters, but must always begin with a letter.").required("Required"),value:Dt.string().matches(/^([-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").required("Required"),warn1:Dt.string().matches(/^[@]?(~|[-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").required("Required"),warn2:Dt.string().matches(/^([-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").test("greater-than","Should be greater than lower warning limit",(function(e){var t="@"===this.parent.warn1.charAt(0)?this.parent.warn1.substr(1):this.parent.warn1;return!t||!e||("~"===t||(!(!isNaN(Number(t))&&!isNaN(Number(e)))||Number(t)<=Number(e)))})),crit1:Dt.string().matches(/^[@]?(~|[-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").required("Required"),crit2:Dt.string().matches(/^([-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").test("greater-than","Should be greater than lower critical limit",(function(e){var t="@"===this.parent.crit1.charAt(0)?this.parent.crit1.substr(1):this.parent.crit1;return!t||!e||("~"===t||(!(!isNaN(Number(t))&&!isNaN(Number(e)))||Number(t)<=Number(e)))})),min:Dt.string().matches(/^([-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number."),max:Dt.string().matches(/^([-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").test("greater-than-min","Should be greater than min value.",(function(e){var t=this.parent.min;return!t||(!(!isNaN(Number(t))&&!isNaN(Number(e)))||Number(t)<Number(e))}))}))}))});function Ha(e){return e.forEach((function(e){var t=e.thresholds.split(" "),a=[];t.forEach((function(e){var t="",r="",n="",c="",i="",o="",s="",l="",u="",m=e.split("=");if(2===m.length){t=m[0];var p=m[1].split(";");if(p.length>0&&(n=function(e){return isNaN(e.charAt(e.length-1))?e.endsWith("us")?"us":e.endsWith("ms")?"ms":e.endsWith("s")?"s":e.endsWith("%")?"%":e.endsWith("KB")?"KB":e.endsWith("MB")?"MB":e.endsWith("TB")?"TB":e.endsWith("B")?"B":e.endsWith("c")?"c":void 0:""}(p[0]),r=p[0].replace(n,""),p.length>1))for(var d=1;d<p.length;d++)if(1===d){var f=p[d].split(":");f.length>1?(c=f[0],i=f[1]):(c="0",i=p[d])}else if(2===d){var g=p[d].split(":");g.length>1?(o=g[0],s=g[1]):(o="0",s=p[d])}else 3===d?l=p[d]:4===d&&(u=p[d])}a.push({label:t,value:r,uom:n,warn1:c,warn2:i,crit1:o,crit2:s,min:l,max:u})})),e.thresholds=a})),e}var Wa=function(e){var t=e.values,a=e.errors,r=e.setFieldValue,c=e.historyview,i=void 0!==c&&c,o=e.groups_list,s=void 0===o?void 0:o,l=e.metrics_list,u=void 0===l?void 0:l,m=e.write_perm,p=void 0!==m&&m,d=e.onSelect,f=e.popoverWarningOpen,g=e.popoverCriticalOpen,h=e.toggleWarningPopOver,E=e.toggleCriticalPopOver;return n.a.createElement(n.a.Fragment,null,n.a.createElement(et,{values:t,errors:a,grouplist:p?s:[t.groupname],fieldsdisable:i,profiletype:"thresholds"}),n.a.createElement(k.a,null,n.a.createElement(at,{title:"Thresholds rules"}),n.a.createElement(v.a,null,n.a.createElement(b.a,{md:12},n.a.createElement(O.b,{name:"rules",render:function(e){return n.a.createElement("div",null,t.rules&&t.rules.length>0?t.rules.map((function(c,o){return n.a.createElement(n.a.Fragment,{key:"fragment.rules.".concat(o)},n.a.createElement(y.a,{className:"mt-".concat(0===o?"1":"4")},n.a.createElement(w.a,{className:"p-1 font-weight-bold text-uppercase"},n.a.createElement("div",{className:"d-flex align-items-center justify-content-between no-gutters"},"Rule ",o+1,!i&&n.a.createElement(M.a,{size:"sm",color:"danger",type:"button",onClick:function(){return p&&e.remove(o)}},n.a.createElement(de.a,{icon:fe.B})))),n.a.createElement(x.a,{className:"p-1"},n.a.createElement(v.a,{className:"d-flex align-items-center no-gutters"},n.a.createElement(b.a,{md:12},i?n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Metric"),n.a.createElement(O.a,{name:"rules.".concat(o,".metric"),className:"form-control",disabled:!0})):n.a.createElement(Ke,{req:a.rules&&a.rules.length>o&&a.rules[o]&&a.rules[o].metric,setFieldValue:r,lists:u,icon:"metrics",field:"rules[".concat(o,"].metric"),val:t.rules[o].metric,onselect_handler:d,label:"Metric"}),a.rules&&a.rules.length>o&&a.rules[o]&&a.rules[o].metric&&Je(a.rules[o].metric))),n.a.createElement(v.a,{className:"mt-2"},n.a.createElement(b.a,{md:12},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Host"),n.a.createElement(O.a,{name:"rules.".concat(o,".host"),className:"form-control",disabled:i})))),n.a.createElement(v.a,{className:"mt-2"},n.a.createElement(b.a,{md:12},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Endpoint group"),n.a.createElement(O.a,{name:"rules.".concat(o,".endpoint_group"),className:"form-control",disabled:i}))))),n.a.createElement(A.a,null,n.a.createElement(v.a,{className:"mt-2"},n.a.createElement(b.a,{md:12},n.a.createElement("h6",{className:"text-uppercase rounded"},"Thresholds"),n.a.createElement(O.b,{name:"rules.".concat(o,".thresholds"),render:function(e){return n.a.createElement("div",null,n.a.createElement("table",{className:"table table-bordered table-sm"},n.a.createElement("thead",{className:"table-active"},n.a.createElement("tr",{className:"align-middle text-center"},n.a.createElement("th",{style:{width:"4%"}},"#"),n.a.createElement("th",{style:{width:"13%"}},"Label"),n.a.createElement("th",{colSpan:2,style:{width:"13%"}},"Value"),i?n.a.createElement("th",{colSpan:3,style:{width:"13%"}},"Warning"):n.a.createElement("th",{colSpan:3,style:{width:"13%"}},"Warning ",n.a.createElement(de.a,{id:"warning-popover",icon:fe.p,style:{color:"#416090"}}),n.a.createElement(Z.a,{placement:"bottom",isOpen:f,target:"warning-popover",toggle:h,trigger:"hover"},n.a.createElement(Qt.a,null,"Warning range"),n.a.createElement(J.a,null,n.a.createElement("p",null,"Defined in format: ",n.a.createElement("code",null,"@{floor}:{ceil}")),n.a.createElement("p",null,n.a.createElement("code",null,"@")," - optional - negates the range (value should belong outside limits)"),n.a.createElement("p",null,n.a.createElement("code",null,"{floor}"),": integer/float or ",n.a.createElement("code",null,"~")," that defines negative infinity"),n.a.createElement("p",null,n.a.createElement("code",null,"{ceil}"),": integer/float or empty (defines positive infinity)")))),i?n.a.createElement("th",{colSpan:3,style:{width:"13%"}},"Critical"):n.a.createElement("th",{colSpan:3,style:{width:"13%"}},"Critical ",n.a.createElement(de.a,{id:"critical-popover",icon:fe.p,style:{color:"#416090"}}),n.a.createElement(Z.a,{placement:"bottom",isOpen:g,target:"critical-popover",toggle:E,trigger:"hover"},n.a.createElement(Qt.a,null,"Critical range"),n.a.createElement(J.a,null,n.a.createElement("p",null,"Defined in format: ",n.a.createElement("code",null,"@{floor}:{ceil}")),n.a.createElement("p",null,n.a.createElement("code",null,"@")," - optional - negates the range (value should belong outside limits)"),n.a.createElement("p",null,n.a.createElement("code",null,"{floor}"),": integer/float or ",n.a.createElement("code",null,"~")," that defines negative infinity"),n.a.createElement("p",null,n.a.createElement("code",null,"{ceil}"),": integer/float or empty (defines positive infinity)")))),n.a.createElement("th",{style:{width:"12%"}},"min"),n.a.createElement("th",{style:{width:"12%"}},"max"),!i&&n.a.createElement("th",{style:{width:"8%"}},"Action"))),n.a.createElement("tbody",null,t.rules&&t.rules.length>o&&t.rules[o]&&t.rules[o].thresholds&&t.rules[o].thresholds.length>0?t.rules[o].thresholds.map((function(r,c){return n.a.createElement("tr",{key:"rule-".concat(o,"-threshold-").concat(c)},n.a.createElement("td",{className:"align-middle text-center"},c+1),n.a.createElement("td",null,i?t.rules[o].thresholds[c].label:n.a.createElement(O.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>o&&a.rules[o]&&a.rules[o].thresholds&&a.rules[o].thresholds.length>c&&a.rules[o].thresholds[c]&&a.rules[o].thresholds[c].label&&"border-danger"),name:"rules[".concat(o,"].thresholds[").concat(c,"].label"),id:"values.rules.".concat(o,".thresholds.").concat(c,".label")}),a.rules&&a.rules.length>o&&a.rules[o]&&a.rules[o].thresholds&&a.rules[o].thresholds.length>c&&a.rules[o].thresholds[c]&&a.rules[o].thresholds[c].label&&Je(a.rules[o].thresholds[c].label)),n.a.createElement("td",null,i?t.rules[o].thresholds[c].value:n.a.createElement(O.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>o&&a.rules[o]&&a.rules[o].thresholds&&a.rules[o].thresholds.length>c&&a.rules[o].thresholds[c]&&a.rules[o].thresholds[c].value&&"border-danger"),name:"rules.".concat(o,".thresholds.").concat(c,".value"),id:"values.rules.".concat(o,".thresholds.").concat(c,".value")}),a.rules&&a.rules.length>o&&a.rules[o]&&a.rules[o].thresholds&&a.rules[o].thresholds.length>c&&a.rules[o].thresholds[c]&&a.rules[o].thresholds[c].value&&Je(a.rules[o].thresholds[c].value)),n.a.createElement("td",{style:{width:"6%"}},i?t.rules[o].thresholds[c].uom:n.a.createElement(O.a,{component:"select",className:"form-control custom-select",name:"rules.".concat(o,".thresholds.").concat(c,".uom"),id:"values.rules.".concat(o,".thresholds.").concat(c,".uom")},n.a.createElement("option",{key:"option-0",value:""}),n.a.createElement("option",{key:"option-1",value:"s"},"s"),n.a.createElement("option",{key:"option-2",value:"us"},"us"),n.a.createElement("option",{key:"option-3",value:"ms"},"ms"),n.a.createElement("option",{key:"option-4",value:"B"},"B"),n.a.createElement("option",{key:"option-5",value:"KB"},"KB"),n.a.createElement("option",{key:"option-6",value:"MB"},"MB"),n.a.createElement("option",{key:"option-7",value:"TB"},"TB"),n.a.createElement("option",{key:"option-8",value:"%"},"%"),n.a.createElement("option",{key:"option-9",value:"c"},"c"))),n.a.createElement("td",null,i?t.rules[o].thresholds[c].warn1:n.a.createElement(O.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>o&&a.rules[o]&&a.rules[o].thresholds&&a.rules[o].thresholds.length>c&&a.rules[o].thresholds[c]&&a.rules[o].thresholds[c].warn1&&"border-danger"),name:"rules.".concat(o,".thresholds.").concat(c,".warn1"),id:"values.rules.".concat(o,".thresholds.").concat(c,".warn1")}),a.rules&&a.rules.length>o&&a.rules[o]&&a.rules[o].thresholds&&a.rules[o].thresholds.length>c&&a.rules[o].thresholds[c]&&a.rules[o].thresholds[c].warn1&&Je(a.rules[o].thresholds[c].warn1)),n.a.createElement("td",null,":"),n.a.createElement("td",null,i?t.rules[o].thresholds[c].warn2:n.a.createElement(O.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>o&&a.rules[o]&&a.rules[o].thresholds&&a.rules[o].thresholds.length>c&&a.rules[o].thresholds[c]&&a.rules[o].thresholds[c].warn2&&"border-danger"),name:"rules.".concat(o,".thresholds.").concat(c,".warn2"),id:"values.rules.".concat(o,".thresholds.").concat(c,".warn2")}),a.rules&&a.rules.length>o&&a.rules[o]&&a.rules[o].thresholds&&a.rules[o].thresholds.length>c&&a.rules[o].thresholds[c]&&a.rules[o].thresholds[c].warn2&&Je(a.rules[o].thresholds[c].warn2)),n.a.createElement("td",null,i?t.rules[o].thresholds[c].crit1:n.a.createElement(O.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>o&&a.rules[o]&&a.rules[o].thresholds&&a.rules[o].thresholds.length>c&&a.rules[o].thresholds[c]&&a.rules[o].thresholds[c].crit1&&"border-danger"),name:"rules.".concat(o,".thresholds.").concat(c,".crit1"),id:"values.rules.".concat(o,".thresholds.").concat(c,".crit1")}),a.rules&&a.rules.length>o&&a.rules[o]&&a.rules[o].thresholds&&a.rules[o].thresholds.length>c&&a.rules[o].thresholds[c]&&a.rules[o].thresholds[c].crit1&&Je(a.rules[o].thresholds[c].crit1)),n.a.createElement("td",null,":"),n.a.createElement("td",null,i?t.rules[o].thresholds[c].crit2:n.a.createElement(O.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>o&&a.rules[o]&&a.rules[o].thresholds&&a.rules[o].thresholds.length>c&&a.rules[o].thresholds[c]&&a.rules[o].thresholds[c].crit2&&"border-danger"),name:"rules.".concat(o,".thresholds.").concat(c,".crit2"),id:"values.rules.".concat(o,".thresholds.").concat(c,".crit2")}),a.rules&&a.rules.length>o&&a.rules[o]&&a.rules[o].thresholds&&a.rules[o].thresholds.length>c&&a.rules[o].thresholds[c]&&a.rules[o].thresholds[c].crit2&&Je(a.rules[o].thresholds[c].crit2)),n.a.createElement("td",null,i?t.rules[o].thresholds[c].min:n.a.createElement(O.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>o&&a.rules[o]&&a.rules[o].thresholds&&a.rules[o].thresholds.length>c&&a.rules[o].thresholds[c]&&a.rules[o].thresholds[c].min&&"border-danger"),name:"rules.".concat(o,".thresholds.").concat(c,".min"),id:"values.rules.".concat(o,".thresholds.").concat(c,".min")}),a.rules&&a.rules.length>o&&a.rules[o]&&a.rules[o].thresholds&&a.rules[o].thresholds.length>c&&a.rules[o].thresholds[c]&&a.rules[o].thresholds[c].min&&Je(a.rules[o].thresholds[c].min)),n.a.createElement("td",null,i?t.rules[o].thresholds[c].max:n.a.createElement(O.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>o&&a.rules[o]&&a.rules[o].thresholds&&a.rules[o].thresholds.length>c&&a.rules[o].thresholds[c]&&a.rules[o].thresholds[c].max&&"border-danger"),name:"rules.".concat(o,".thresholds.").concat(c,".max"),id:"values.rules.".concat(o,".thresholds.").concat(c,".max")}),a.rules&&a.rules.length>o&&a.rules[o]&&a.rules[o].thresholds&&a.rules[o].thresholds.length>c&&a.rules[o].thresholds[c]&&a.rules[o].thresholds[c].max&&Je(a.rules[o].thresholds[c].max)),!i&&n.a.createElement("td",{className:"align-middle d-flex justify-content-center align-items-center"},n.a.createElement(M.a,{size:"sm",color:"light",type:"button",onClick:function(){e.remove(c),1===t.rules[o].thresholds.length&&e.push({label:"",value:"",uom:"",warn1:"",warn2:"",crit1:"",crit2:"",min:"",max:""})}},n.a.createElement(de.a,{icon:fe.B})),n.a.createElement(M.a,{size:"sm",color:"light",type:"button",onClick:function(){return e.push({label:"",value:"",uom:"",warn1:"",warn2:"",crit1:"",crit2:"",min:"",max:""})}},n.a.createElement(de.a,{icon:fe.u}))))})):null)))}}))))),o+1===t.rules.length&&!i&&n.a.createElement(M.a,{color:"success",className:"mt-4",onClick:function(){return e.push({metric:"",thresholds:[{label:"",value:"",uom:"",warn1:"",warn2:"",crit1:"",crit2:"",min:"",max:""}],host:"",endpoint_group:""})}},"Add new rule"))})):!i&&n.a.createElement(M.a,{color:"success",onClick:function(){return e.push({metric:"",thresholds:[{label:"",value:"",uom:"",warn1:"",warn2:"",crit1:"",crit2:"",min:"",max:""}],host:"",endpoint_group:""})}},"Add a rule"))}})))))},qa=function(e){var t=e.location,a=new ye,r=e.publicView,c="/api/v2/internal/".concat(r?"public_":"","thresholdsprofiles"),i=Object(ut.b)("session_userdetails",u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.isActiveSession();case 2:if(!(t=e.sent).active){e.next=5;break}return e.abrupt("return",t.userdetails);case 5:case"end":return e.stop()}}),e)})))),o=i.data,l=i.error,m=i.isLoading,p=Object(ut.b)("thresholdsprofiles_listview",u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchData(c);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),d=p.data,f=p.error,g=p.isLoading,h=n.a.useMemo((function(){return[{Header:"#",accessor:null,column_width:"2%"},{Header:"Name",id:"name",accessor:function(e){return n.a.createElement(ie.b,{to:"/ui/".concat(r?"public_":"","thresholdsprofiles/").concat(e.name)},e.name)},column_width:"20%"},{Header:"Description",accessor:"description",column_width:"70%"},{Header:"Group",accessor:"groupname",className:"text-center",column_width:"8%",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)}}]}));return m||g?n.a.createElement(Fe,null):f?n.a.createElement(tt,{error:f}):l?n.a.createElement(tt,{error:l}):m||g||!d?null:n.a.createElement(Ge,{resourcename:"thresholds profile",location:t,listview:!0,addnew:!r,addperm:!r&&(o.is_superuser||o.groups.thresholdsprofiles.length>0),publicview:r},n.a.createElement(it,{data:d,columns:h,type:"thresholds"}))},Ga=function(e){var t=e.match.params.name,a=e.addview,c=e.history,i=e.location,o=e.publicView,l="thresholdsprofile_".concat(a?"addview":"".concat(t,"_").concat(o?"publicview":"changeview")),m=new ye,d=new we({token:e.webapitoken,thresholdsProfiles:e.webapithresholds}),g=Object(ut.b)("".concat(l),u()(s.a.mark((function e(){var r,n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={apiid:"",name:"",groupname:"",rules:[]},a){e.next=9;break}return e.next=4,m.fetchData("/api/v2/internal/".concat(o?"public_":"","thresholdsprofiles/").concat(t));case 4:return n=e.sent,e.next=7,d.fetchThresholdsProfile(n.apiid);case 7:c=e.sent,r={apiid:c.id,name:c.name,groupname:n.groupname,rules:Ha(c.rules)};case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))),h=g.data,E=g.error,v=g.isLoading,b=Object(ut.b)("session_userdetails",u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.isActiveSession();case 2:if(!(t=e.sent).active){e.next=5;break}return e.abrupt("return",t.userdetails);case 5:case"end":return e.stop()}}),e)})))),y=b.data,w=b.isLoading,x=Object(ut.b)("thresholdsprofile_allmetrics",u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.fetchListOfNames("/api/v2/internal/".concat(o?"public_":"","metricsall"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),k=x.data,N=x.error,j=x.isLoading,A=Object(r.useState)(!1),S=p()(A,2),_=S[0],D=S[1],C=Object(r.useState)(void 0),I=p()(C,2),T=I[0],L=I[1],z=Object(r.useState)(void 0),P=p()(z,2),U=P[0],Q=P[1],V=Object(r.useState)(void 0),R=p()(V,2),F=R[0],Y=R[1],B=Object(r.useState)(void 0),H=p()(B,2),W=H[0],q=H[1],G=Object(r.useState)(void 0),Z=p()(G,2),J=Z[0],K=Z[1],X=Object(r.useState)(!1),$=p()(X,2),ee=$[0],te=$[1],ae=Object(r.useState)(!1),re=p()(ae,2),ne=re[0],ce=re[1];function ie(){D(!_)}function oe(){te(!ee)}function se(){ce(!ne)}function le(e,t){var a=h,r=a.rules,n=e.split("[")[1].split("]")[0];r.length==n&&r.push({metric:"",thresholds:[],host:"",endpoint_group:""}),r[n].metric=t,a.rules=r,ut.a.setQueryData("".concat(l),(function(){return a}))}function ue(e){return e.forEach((function(e){var t=[];e.host||delete e.host,e.endpoint_group||delete e.endpoint_group,e.thresholds.forEach((function(e){var a=void 0;a=e.label+"="+e.value+e.uom+";"+e.warn1+":"+e.warn2+";"+e.crit1+":"+e.crit2,e.min&&e.max&&(a=a+";"+e.min+";"+e.max),t.push(a)}));var a=t.join(" ");e.thresholds=a})),e}function me(){return(me=u()(s.a.mark((function e(){var t,r,n,i,o,l,u,p,f,g,h,E,v,b,y,w;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=JSON.parse(JSON.stringify(W)),!a){e.next=46;break}return e.next=4,d.addThresholdsProfile({name:t.name,rules:ue(t.rules)});case 4:if((r=e.sent).ok){e.next=22;break}return n="",e.prev=7,e.next=10,r.json();case 10:i=e.sent,o=[],i.errors.forEach((function(e){return o.push(e.details)})),n=o.join(" "),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(7),n="Web API error adding thresholds profile";case 19:Be({title:"Web API error: ".concat(r.status," ").concat(r.statusText),msg:n}),e.next=44;break;case 22:return e.next=24,r.json();case 24:return l=e.sent,e.next=27,m.addObject("/api/v2/internal/thresholdsprofiles/",{apiid:l.data.id,name:t.name,groupname:W.groupname,rules:t.rules});case 27:if(!(u=e.sent).ok){e.next=32;break}Ye({msg:"Thresholds profile successfully added",title:"Added",callback:function(){return c.push("/ui/thresholdsprofiles")}}),e.next=44;break;case 32:return p="",e.prev=33,e.next=36,u.json();case 36:f=e.sent,p=f.detail,e.next=43;break;case 40:e.prev=40,e.t1=e.catch(33),p="Internal API error adding thresholds profile";case 43:Be({title:"Internal API error: ".concat(u.status," ").concat(u.statusText),msg:p});case 44:e.next=74;break;case 46:return e.next=48,d.changeThresholdsProfile({id:t.id,name:t.name,rules:ue(t.rules)});case 48:if((g=e.sent).ok){e.next=55;break}h="";try{E=g.json(),v=[],E.errors.forEach((function(e){return v.push(e.details)})),h=v.join(" ")}catch(e){h="Web API error changing thresholds profile"}Be({title:"Web API error: ".concat(g.status," ").concat(g.statusText),msg:h}),e.next=74;break;case 55:return e.next=57,m.changeObject("/api/v2/internal/thresholdsprofiles/",{apiid:t.id,name:t.name,groupname:W.groupname,rules:t.rules});case 57:if(!(b=e.sent).ok){e.next=62;break}Ye({msg:"Thresholds profile successfully changed",title:"Changed",callback:function(){return c.push("/ui/thresholdsprofiles")}}),e.next=74;break;case 62:return y="",e.prev=63,e.next=66,b.json();case 66:w=e.sent,y=w.detail,e.next=73;break;case 70:e.prev=70,e.t2=e.catch(63),y="Internal API error changing thresholds profile";case 73:Be({title:"Internal API error: ".concat(b.status," ").concat(b.statusText),msg:y});case 74:case"end":return e.stop()}}),e,null,[[7,16],[33,40],[63,70]])})))).apply(this,arguments)}function pe(){return(pe=u()(s.a.mark((function e(){var t,a,r,n,i,o,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.deleteThresholdsProfile(J);case 2:if((t=e.sent).ok){e.next=20;break}return a="",e.prev=5,e.next=8,t.json();case 8:r=e.sent,n=[],r.errors.forEach((function(e){return n.push(e.details)})),a=n.join(" "),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),a="Web API error deleting thresholds profile";case 17:Be({title:"Web API error: ".concat(t.status," ").concat(t.statusText),msg:a}),e.next=39;break;case 20:return e.next=22,m.deleteObject("/api/v2/internal/thresholdsprofiles/".concat(J));case 22:if(!(i=e.sent)){e.next=27;break}Ye({msg:"Thresholds profile successfully deleted",title:"Deleted",callback:function(){return c.push("/ui/thresholdsprofiles")}}),e.next=39;break;case 27:return o="",e.prev=28,e.next=31,i.json();case 31:l=e.sent,o=l.detail,e.next=38;break;case 35:e.prev=35,e.t1=e.catch(28),o="Internal API error deleting thresholds profile";case 38:Be({title:"Internal API error: ".concat(i.status," ").concat(i.statusText),msg:o});case 39:case"end":return e.stop()}}),e,null,[[5,14],[28,35]])})))).apply(this,arguments)}if(v||w||j)return n.a.createElement(Fe,null);if(E)return n.a.createElement(tt,{error:E});if(N)return n.a.createElement(tt,{error:N});if(v||w||j||!h)return null;var de=!!y&&(a?y.is_superuser||y.groups.thresholdsprofiles.length>0:y.is_superuser||y.groups.thresholdsprofiles.indexOf(h.groupname)>=0),fe=y?y.groups.thresholdsprofiles:[];return n.a.createElement(Ge,{resourcename:o?"Thresholds profile details":"thresholds profile",location:i,history:!o,submitperm:de,addview:o?!o:a,publicview:o,modal:!0,state:{areYouSureModal:_,modalTitle:U,modalMsg:T,modalFunc:"submit"===F?function(){return me.apply(this,arguments)}:"delete"===F?function(){return pe.apply(this,arguments)}:void 0},toggle:ie},n.a.createElement(O.d,{initialValues:{id:h.apiid,name:h.name,groupname:h.groupname,rules:h.rules},validationSchema:Ba,onSubmit:function(e){return function(e){var t="Are you sure you want to ".concat(a?"add":"change"," thresholds profile?"),r="".concat(a?"Add":"Change"," thresholds profile");L(t),Q(r),q(e),Y("submit"),ie()}(e)},enableReinitialize:!0,render:function(e){return n.a.createElement(O.c,null,n.a.createElement(Wa,f()({},e,{groups_list:fe,metrics_list:k,write_perm:de,onSelect:le,popoverWarningOpen:ee,popoverCriticalOpen:ne,toggleWarningPopOver:oe,toggleCriticalPopOver:se,historyview:o})),de&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},a?n.a.createElement("div",null):n.a.createElement(M.a,{color:"danger",onClick:function(){L("Are you sure you want to delete thresholds profile?"),Q("Delete thresholds profile"),Y("delete"),K(e.values.id),ie()}},"Delete"),n.a.createElement(M.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}}))},Za=function(e){for(var t=e.title,a=e.item1,r=e.item2,c=[],i=[],o=0;o<a.length;o++){var s="metric: ".concat(a[o].metric,",\n");"host"in a[o]&&(s+="host: ".concat(a[o].host,",\n")),"endpoint_group"in a[o]&&(s+="endpoint_group: ".concat(a[o].endpoint_group,",\n")),s+="thresholds: ".concat(a[o].thresholds),c.push(s)}for(var l=0;l<r.length;l++){var u="metric: ".concat(r[l].metric,",\n");"host"in r[l]&&(u+="host: ".concat(r[l].host,",\n")),"endpoint_group"in r[l]&&(u+="endpoint_group: ".concat(r[l].endpoint_group,",\n")),u+="thresholds: ".concat(r[l].thresholds),i.push(u)}return n.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},n.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},t),n.a.createElement(ke.a,{oldValue:i.join("\n"),newValue:c.join("\n"),showDiffOnly:!0,splitView:!0,hideLineNumbers:!0}))};var Ja=function(e){var t=e.match.params.id1,a=e.match.params.id2,c=e.match.params.name,i=new ye,o=Object(r.useState)(!1),l=p()(o,2),m=l[0],d=l[1],f=Object(r.useState)(void 0),g=p()(f,2),h=g[0],E=g[1],v=Object(r.useState)(void 0),b=p()(v,2),y=b[0],w=b[1],x=Object(r.useState)(null),k=p()(x,2),N=k[0],j=k[1];return Object(r.useEffect)((function(){function e(){return(e=u()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.fetchData("/api/v2/internal/tenantversion/thresholdsprofile/".concat(c));case 3:e.sent.forEach((function(e){e.version==t?E(e.fields):e.version==a&&w(e.fields)})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),j(e.t0);case 10:d(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}d(!0),function(){e.apply(this,arguments)}()}),[]),m?n.a.createElement(Fe,null):N?n.a.createElement(tt,{error:N}):!m&&h&&y?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Compare ".concat(c," versions"))),h.name!==y.name&&n.a.createElement($e,{title:"name",item1:h.name,item2:y.name}),h.groupname!==y.groupname&&n.a.createElement($e,{title:"group name",item1:h.groupname,item2:y.groupname}),!function(e,t){if(e.length!==t.length)return!1;for(var a=e.length;a--;)if(e[a].metric!==t[a].metric||e[a].thresholds!==t[a].thresholds||e[a].host!==t[a].host||e[a].endpoint_group!==t[a].endpoint_group)return!1;return!0}(h.rules,y.rules)&&n.a.createElement(Za,{title:"rules",item1:h.rules,item2:y.rules})):null},Ka=function(e){var t=e.match.params.name,a=e.match.params.version,c=new ye,i=Object(r.useState)({}),o=p()(i,2),l=o[0],m=o[1],d=Object(r.useState)(!1),g=p()(d,2),h=g[0],E=g[1],v=Object(r.useState)(null),b=p()(v,2),y=b[0],w=b[1];return Object(r.useEffect)((function(){function e(){return(e=u()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.fetchData("/api/v2/internal/tenantversion/thresholdsprofile/".concat(t));case 3:e.sent.forEach((function(e){e.version==a&&m({name:e.fields.name,groupname:e.fields.groupname,rules:Ha(e.fields.rules),date_created:e.date_created})})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),w(e.t0);case 10:E(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}E(!0),function(){e.apply(this,arguments)}()}),[]),h?n.a.createElement(Fe,null):y?n.a.createElement(tt,{error:y}):!h&&l?n.a.createElement(Ge,{resourcename:"".concat(t," (").concat(l.date_created,")"),infoview:!0},n.a.createElement(O.d,{initialValues:{name:l.name,groupname:l.groupname,rules:l.rules},render:function(e){return n.a.createElement(O.c,null,n.a.createElement(Wa,f()({},e,{historyview:!0})))}})):null},Xa=(a("/WES"),Dt.object().shape({name:Dt.string().matches(/^\S*$/,"Name cannot contain white spaces").required("Required"),present_version:Dt.boolean(),version:Dt.string().matches(/^\S*$/,"Version cannot contain white spaces").when("present_version",{is:!1,then:Dt.string().required("Required")}),repo_6:Dt.string(),repo_7:Dt.string()}).test("undefined","You must provide at least one repo!",(function(e){return!(!e.repo_6&&!e.repo_7)}))),$a=function(e){var t=e.location,a=new ye,r=Object(ut.b)("package_listview",u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchData("/api/v2/internal/packages");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),c=r.data,i=r.error,o=r.isLoading,l=Object(ut.b)("package_listview_repos",u()(s.a.mark((function e(){var t,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchData("/api/v2/internal/yumrepos");case 2:return t=e.sent,r=[],t.forEach((function(e){return r.push("".concat(e.name," (").concat(e.tag,")"))})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))),m=l.data,p=l.error,d=l.isLoading,f=Object(ut.b)("session_istenantschema",u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.isTenantSchema();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),g=f.data,h=f.isLoading,E=n.a.useMemo((function(){return[{Header:"#",accessor:null,column_width:"2%"},{Header:"Name",accessor:"name",column_width:"44%",Cell:function(e){return n.a.createElement(ie.b,{to:"/ui/".concat(g?"administration/":"","packages/").concat(e.value,"-").concat(e.row.original.version)},e.value)},Filter:rt},{Header:"Version",accessor:"version",column_width:"10%",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)},disableFilters:!0},{Header:"Repo",accessor:"repos",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value.join(", "))},Filter:nt,filterList:m}]}));return o||d||h?n.a.createElement(Fe,null):i?n.a.createElement(tt,{error:i}):p?n.a.createElement(tt,{error:p}):o||d||h||!c?null:n.a.createElement(Ge,{resourcename:"package",location:t,listview:!0,addnew:!g},n.a.createElement(ct,{data:c,columns:E,page_size:30,resourcename:"packages",filter:!0}))},er=function(e){var t=e.match.params.nameversion,a=e.addview,c=e.cloneview,i=e.disabled,o=e.location,l=e.history,m="package_".concat(a?"addview":"".concat(t,"_").concat(c?"cloneview":"changeview")),d=new ye,g=Object(ut.b)("".concat(m),u()(s.a.mark((function e(){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={id:"",name:"",version:"",repos:[],initial_version:void 0},a){e.next=5;break}return e.next=4,d.fetchData("/api/v2/internal/packages/".concat(t));case 4:r=e.sent;case 5:return r.initial_version=r.version,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))),h=g.data,E=g.error,y=g.isLoading,w=Object(ut.b)("package_component_repos",u()(s.a.mark((function e(){var t,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.fetchData("/api/v2/internal/yumrepos");case 2:return t=e.sent,a=[],r=[],t.forEach((function(e){"CentOS 6"===e.tag?a.push(e.name+" ("+e.tag+")"):"CentOS 7"===e.tag&&r.push(e.name+" ("+e.tag+")")})),e.abrupt("return",{repo6:a,repo7:r});case 7:case"end":return e.stop()}}),e)})))),x=w.data,N=w.error,j=w.isLoading,A=Object(ut.b)("package_component_probes",u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],a){e.next=5;break}return e.next=4,d.fetchData("/api/v2/internal/version/probe");case 4:t=e.sent;case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))),S=A.data,_=A.error,D=A.isLoading,C=Object(ut.b)("package_component_versions",u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],a){e.next=5;break}return e.next=4,d.fetchData("/api/v2/internal/packageversions/".concat(h.name));case 4:t=e.sent;case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)}))),{enabled:h}),I=C.data,T=C.error,L=C.isLoading,z=Object(r.useState)(!1),P=p()(z,2),U=P[0],Q=P[1],V=Object(r.useState)(!0),R=p()(V,2),F=R[0],Y=R[1],B=Object(r.useState)(!1),H=p()(B,2),W=H[0],q=H[1],G=Object(r.useState)(void 0),Z=p()(G,2),J=Z[0],K=Z[1],X=Object(r.useState)(void 0),ae=p()(X,2),re=ae[0],ne=ae[1],ce=Object(r.useState)(void 0),oe=p()(ce,2),se=oe[0],le=oe[1],ue=Object(r.useState)(void 0),me=p()(ue,2),pe=me[0],de=me[1];function fe(){q(!W)}function ge(e,t){var a=h;a[e]=t,ut.a.setQueryData("".concat(m),(function(){return a}))}function he(){return(he=u()(s.a.mark((function e(t){var a,r,c,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v2/internal/updatemetricsversions/".concat(t.name,"-").concat(t.version));case 3:if(!(a=e.sent).ok){e.next=21;break}return e.next=7,a.json();case 7:r=e.sent,c=[],"updated"in r&&c.push(r.updated),"deleted"in r&&c.push(r.deleted),"warning"in r&&c.push(r.warning),"Update metrics",c.push("ARE YOU SURE you want to update metrics?"),le(n.a.createElement("div",null,c.map((function(e,t){return n.a.createElement("p",{key:t},e)})))),ne("Update metrics"),de(t),K("update"),fe(),e.next=33;break;case 21:return i="",e.prev=22,e.next=25,a.json();case 25:o=e.sent,i="".concat(a.status," ").concat(a.statusText," ").concat(o.detail),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(22),i="".concat(a.status," ").concat(a.statusText);case 32:Be({title:"Error",msg:i});case 33:e.next=38;break;case 35:e.prev=35,e.t1=e.catch(0),Be({title:"Error",msg:"Error fetching metrics data: ".concat(e.t1)});case 38:case"end":return e.stop()}}),e,null,[[0,35],[22,29]])})))).apply(this,arguments)}function Ee(){return(Ee=u()(s.a.mark((function e(){var t,a,r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.changeObject("/api/v2/internal/updatemetricsversions/",{name:pe.name,version:pe.version});case 2:if((t=e.sent).ok){e.next=18;break}return a="",e.prev=5,e.next=8,t.json();case 8:r=e.sent,a=r.detail,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),a="Error updating metrics";case 15:Be({title:"Error: ".concat(t.status," ").concat(t.statusText),msg:a}),e.next=24;break;case 18:return e.next=20,t.json();case 20:"updated"in(n=e.sent)&&Ye({msg:n.updated,title:"Updated",callback:function(){return l.push("/ui/administration/packages")}}),"warning"in n&&He({msg:n.warning,title:"Warning"}),"deleted"in n&&He({msg:n.deleted,title:"Deleted"});case 24:case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}function ve(){return(ve=u()(s.a.mark((function e(){var t,r,n,i,o,u,m;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],pe.repo_6&&t.push(pe.repo_6),pe.repo_7&&t.push(pe.repo_7),!a&&!c){e.next=25;break}return e.next=6,d.addObject("/api/v2/internal/packages/",{name:pe.name,version:pe.version,use_present_version:pe.present_version,repos:t});case 6:if((r=e.sent).ok){e.next=22;break}return n="",e.prev=9,e.next=12,r.json();case 12:i=e.sent,n=i.detail,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),n="Error adding package";case 19:Be({title:"Error: ".concat(r.status," ").concat(r.statusText),msg:n}),e.next=23;break;case 22:Ye({msg:"Package successfully added",title:"Added",callback:function(){return l.push("/ui/packages")}});case 23:e.next=44;break;case 25:return e.next=27,d.changeObject("/api/v2/internal/packages/",{id:pe.id,name:pe.name,version:pe.version,use_present_version:pe.present_version,repos:t});case 27:if((o=e.sent).ok){e.next=43;break}return u="",e.prev=30,e.next=33,o.json();case 33:m=e.sent,u=m.detail,e.next=40;break;case 37:e.prev=37,e.t1=e.catch(30),u="Error changing package";case 40:Be({title:"Error: ".concat(o.status," ").concat(o.statusText),msg:u}),e.next=44;break;case 43:Ye({msg:"Package successfully changed",title:"Changed",callback:function(){return l.push("/ui/packages")}});case 44:case"end":return e.stop()}}),e,null,[[9,16],[30,37]])})))).apply(this,arguments)}function be(){return(be=u()(s.a.mark((function e(){var a,r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.deleteObject("/api/v2/internal/packages/".concat(t));case 2:if((a=e.sent).ok){e.next=18;break}return r="",e.prev=5,e.next=8,a.json();case 8:n=e.sent,r=n.detail,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),r="Error deleting package";case 15:Be({title:"Error: ".concat(a.status," ").concat(a.statusText),msg:r}),e.next=19;break;case 18:Ye({msg:"Package successfully deleted",title:"Deleted",callback:function(){return l.push("/ui/packages")}});case 19:case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}function we(){Q(!U)}if(y||j||D||L)return n.a.createElement(Fe,null);if(E)return n.a.createElement(tt,{error:E});if(N)return n.a.createElement(tt,{error:N});if(_)return n.a.createElement(tt,{error:_});if(T)return n.a.createElement(tt,{error:T});if(y||j||D||L||!h)return null;for(var xe="",ke="",Ne=0;Ne<h.repos.length;Ne++)"CentOS 6"===h.repos[Ne].split("(")[1].slice(0,-1)&&(xe=h.repos[Ne]),"CentOS 7"===h.repos[Ne].split("(")[1].slice(0,-1)&&(ke=h.repos[Ne]);var je=[];return S&&S.forEach((function(e){e.fields.package==="".concat(h.name," (").concat(h.version,")")&&je.push(e.fields.name)})),n.a.createElement(Ge,{resourcename:i?"Package details":"package",infoview:i,location:o,addview:a,cloneview:c,clone:!0,history:!1,modal:!0,state:{areYouSureModal:W,modalTitle:re,modalMsg:se,modalFunc:"submit"===J?function(){return ve.apply(this,arguments)}:"delete"===J?function(){return be.apply(this,arguments)}:"update"===J?function(){return Ee.apply(this,arguments)}:void 0},toggle:fe},n.a.createElement(O.d,{initialValues:{id:h.id,name:h.name,version:h.version,repo_6:xe,repo_7:ke,present_version:U},onSubmit:function(e){return function(e){var t="Are you sure you want to ".concat(a||c?"add":"change"," package?"),r="".concat(a||c?"Add":"Change"," package");de(e),le(t),ne(r),K("submit"),fe()}(e)},validationSchema:Xa,enableReinitialize:!0,render:function(e){return n.a.createElement(O.c,null,n.a.createElement(k.a,null,n.a.createElement(v.a,{className:"align-items-center"},n.a.createElement(b.a,{md:6},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Name"),n.a.createElement(O.a,{type:"text",name:"name",className:"form-control ".concat(e.errors.name&&"border-danger"),id:"name",disabled:i})),e.errors.name&&Je(e.errors.name),n.a.createElement(te.a,{color:"muted"},"Package name.")),n.a.createElement(b.a,{md:2},n.a.createElement(v.a,null,n.a.createElement(b.a,{md:12},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Version"),i?n.a.createElement(O.a,{component:"select",name:"version",className:"form-control custom-select",id:"version",onChange:function(e){return t=e.target.value,a=h.initial_version,void I.forEach((function(e){if(e.version===t){var r={id:e.id,name:e.name,version:e.version,initial_version:a,use_present_version:e.use_present_version,repos:e.repos};ut.a.setQueryData("".concat(m),(function(){return r})),Y(t===a)}}));var t,a}},I.map((function(e,t){return n.a.createElement("option",{key:t,value:e.version},e.version)}))):n.a.createElement(O.a,{type:"text",name:"version",value:e.values.present_version?"present":e.values.version,disabled:e.values.present_version,className:"form-control ".concat(e.errors.version&&"border-danger"),id:"version"})),e.errors.version&&Je(e.errors.version),n.a.createElement(te.a,{color:"muted"},"Package version.")))),!i&&n.a.createElement(b.a,{md:3},n.a.createElement(O.a,{component:Ze,name:"present_version",className:"form-control",id:"checkbox",label:"Use version which is present in repo",onChange:we})))),n.a.createElement(k.a,null,n.a.createElement(at,{title:"YUM repo"}),n.a.createElement(v.a,null,n.a.createElement(b.a,{md:8},i?n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"CentOS 6 repo"),n.a.createElement(O.a,{type:"text",className:"form-control",name:"repo_6",id:"repo_6",disabled:!0})):n.a.createElement(Ke,f()({},e,{lists:x.repo6,icon:"yumrepos",field:"repo_6",val:e.values.repo_6,onselect_handler:ge,req:e.errors.undefined,label:"CentOS 6 repo"})),e.errors.undefined&&Je(e.errors.undefined),n.a.createElement(te.a,{color:"muted"},"Package is part of selected CentOS 6 repo."))),n.a.createElement(v.a,{className:"mt-4"},n.a.createElement(b.a,{md:8},i?n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"CentOS 7 repo"),n.a.createElement(O.a,{type:"text",className:"form-control",name:"repo_7",id:"repo_7",disabled:!0})):n.a.createElement(Ke,f()({},e,{lists:x.repo7,icon:"yumrepos",field:"repo_7",val:e.values.repo_7,onselect_handler:ge,req:e.errors.undefined,label:"CentOS 7 repo"})),e.errors.undefined&&Je(e.errors.undefined),n.a.createElement(te.a,{color:"muted"},"Package is part of selected CentOS 7 repo."))),!a&&!c&&je.length>0&&n.a.createElement(v.a,{className:"mt-3"},n.a.createElement(b.a,{md:8},"Probes:",n.a.createElement("div",null,je.map((function(t,a){return n.a.createElement(ie.b,{key:a,to:"/ui/probes/".concat(t,"/history/").concat(e.values.version)},t)})).reduce((function(e,t){return[e,", ",t]})))))),n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},a||c||i?n.a.createElement("div",null):n.a.createElement(M.a,{color:"danger",onClick:function(){le("Are you sure you want to delete package?"),ne("Delete package"),K("delete"),fe()}},"Delete"),i?n.a.createElement(M.a,{color:"success",id:"import-metrics-button",disabled:i&&F,onClick:function(){return function(e){return he.apply(this,arguments)}(e.values)}},"Update metrics"):n.a.createElement(M.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}}))},tr=function(e){var t=e.publicView,a=new ye,c=Object(r.useState)(!1),i=p()(c,2),o=i[0],l=i[1],m=Object(r.useState)([]),d=p()(m,2),f=d[0],g=d[1],h=Object(r.useState)(null),E=p()(h,2),v=E[0],b=E[1];Object(r.useEffect)((function(){try{(function(){var e=u()(s.a.mark((function e(){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,a.fetchData("/api/v2/internal/".concat(t?"public_":"","servicetypesdesc"));case 3:r=e.sent,g(r),l(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}catch(e){b(e),l(!1)}}),[]);var y=n.a.useMemo((function(){return[{Header:"#",accessor:null,column_width:"2%"},{Header:n.a.createElement("div",null,n.a.createElement(Ce,{i:"servicetypes"})," Service type"),accessor:"name",column_width:"20%",Filter:rt},{Header:"Description",accessor:"description",column_width:"78%",Filter:rt}]}));return o?n.a.createElement(Fe,null):v?n.a.createElement(tt,{error:v}):!o&&f?n.a.createElement(Ge,{resourcename:"Services types",infoview:!0},n.a.createElement(ct,{columns:y,data:f,filter:!0,resourcename:"service types",page_size:15})):void 0},ar=a("ezmu"),rr=function(e){var t=e.location,a=e.history,r=new ye,c=Object(ut.b)("tenant_listview",u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.fetchData("/api/v2/internal/tenants");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),i=c.data,o=c.error,l=c.isLoading;if(l)return n.a.createElement(Fe,null);if(o)return n.a.createElement(tt,{error:o});if(!l&&i){for(var m=[],p=function(e){for(var t=[],r=function(r){e+r<i.length&&t.push(n.a.createElement(y.a,{className:"mr-3",key:r+1,tag:"a",onClick:function(){return a.push("/ui/tenants/".concat(i[e+r].name))},style:{cursor:"pointer"}},n.a.createElement(kt.a,{className:"text-center"},n.a.createElement("h3",null,i[e+r].name)),n.a.createElement(Nt.a,{className:"mb-4 mt-3 text-center"},n.a.createElement(de.a,{icon:fe.o,size:"5x"})),n.a.createElement(A.a,null,n.a.createElement(ar.a,{className:"mb-1"},n.a.createElement("b",null,"Schema name:")," ",i[e+r].schema_name),n.a.createElement(ar.a,null,n.a.createElement("b",null,"POEM url:")," ",i[e+r].domain_url),n.a.createElement("div",{className:"mb-1"},n.a.createElement(F.a,{color:"info",className:"mr-2"},"Metric".concat("public"==i[e+r].schema_name?" templates ":"s "),n.a.createElement(F.a,{style:{fontSize:"10pt"},color:"light"},i[e+r].nr_metrics))),n.a.createElement("div",null,n.a.createElement(F.a,{color:"success"},"Probes ",n.a.createElement(F.a,{style:{fontSize:"10pt"},color:"light"},i[e+r].nr_probes))))))},c=0;c<3;c++)r(c);var o="100%";1==t.length&&(o="33.3333%"),2==t.length&&(o="66.6666%"),m.push(n.a.createElement(jt.a,{key:e,className:"mb-3",style:{width:o}},t.map((function(e){return e}))))},d=0;d<i.length;d+=3)p(d);return n.a.createElement(Ge,{resourcename:"tenant",location:t,listview:!0,addnew:!1},m.map((function(e){return e})))}return null},nr=function(e){var t=Object(r.useState)({}),a=p()(t,2),c=a[0],i=a[1],o=Object(r.useState)(!1),l=p()(o,2),m=l[0],d=l[1],f=Object(r.useState)(null),g=p()(f,2),h=g[0],E=g[1],y=e.match.params.name,w=e.location,x=new ye;return Object(r.useEffect)((function(){function e(){return(e=u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.fetchData("/api/v2/internal/tenants/".concat(y.trim().split(" ").join("_")));case 3:t=e.sent,i(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),E(e.t0);case 10:d(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}d(!0),function(){e.apply(this,arguments)}()}),[]),m?n.a.createElement(Fe,null):h?n.a.createElement(tt,{error:h}):!m&&c?n.a.createElement(Ge,{resourcename:"Tenant details",location:w,history:!1,infoview:!0},n.a.createElement(O.d,{initialValues:{name:c.name,schema:c.schema_name,url:c.domain_url,created_on:c.created_on,nr_metrics:c.nr_metrics,nr_probes:c.nr_probes},render:function(){return n.a.createElement(O.c,null,n.a.createElement(k.a,null,n.a.createElement(v.a,null,n.a.createElement(b.a,{md:6},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Name"),n.a.createElement(O.a,{type:"text",name:"name",id:"name",readOnly:!0,className:"form-control form-control-lg"}))))),n.a.createElement(k.a,null,n.a.createElement(at,{title:"basic info"}),n.a.createElement(v.a,null,n.a.createElement(b.a,{md:6},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Schema"),n.a.createElement(O.a,{type:"text",name:"schema",id:"schema",readOnly:!0,className:"form-control"})))),n.a.createElement(v.a,null,n.a.createElement(b.a,{md:6},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"POEM URL"),n.a.createElement(O.a,{type:"text",name:"url",id:"url",readOnly:!0,className:"form-control"})))),n.a.createElement(v.a,null,n.a.createElement(b.a,{md:6},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Created on"),n.a.createElement(O.a,{type:"text",name:"created_on",id:"created_on",readOnly:!0,className:"form-control"}))))))}})):null},cr=function(e){var t=e.location,a=e.publicView,r=new we({token:e.webapitoken,operationsProfiles:e.webapioperations}),c=Object(ut.b)("operationsprofiles_listview",u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.fetchOperationsProfiles();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),i=c.data,o=c.error,l=c.isLoading,m=n.a.useMemo((function(){return[{Header:"#",accessor:null,column_width:"2%"},{Header:"Name",id:"name",accessor:function(e){return n.a.createElement(ie.b,{to:"/ui/".concat(a?"public_":"","operationsprofiles/").concat(e.name)},e.name)},column_width:"20%"},{Header:"Description",accessor:"description",column_width:"78%"}]}));return l?n.a.createElement(Fe,null):o?n.a.createElement(tt,{error:o}):!l&&i?n.a.createElement(Ge,{resourcename:"operations profile",location:t,listview:!0,addnew:!1},n.a.createElement(it,{data:i,columns:m,type:"operations"})):null},ir=function(e){var t=Object(r.useState)(null),a=p()(t,2),c=a[0],i=a[1],o=Object(r.useState)(!1),l=p()(o,2),m=l[0],d=l[1],f=Object(r.useState)(null),g=p()(f,2),h=g[0],E=g[1],y=e.match.params.name,w=new we({token:e.webapitoken,operationsProfiles:e.webapioperations});return Object(r.useEffect)((function(){function e(){return(e=u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.fetchOperationProfile(y);case 3:t=e.sent,i(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),E(e.t0);case 10:d(!1);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}d(!0),function(){e.apply(this,arguments)}()}),[]),m?n.a.createElement(Fe,null):h?n.a.createElement(tt,{error:h}):!m&&c?n.a.createElement(Ge,{resourcename:"Operations profile details",infoview:!0},n.a.createElement(O.d,{initialValues:{name:c.name},render:function(e){return n.a.createElement(O.c,null,n.a.createElement(k.a,null,n.a.createElement(v.a,null,n.a.createElement(b.a,{md:6},n.a.createElement($.a,null,n.a.createElement(ee.a,{addonType:"prepend"},"Name"),n.a.createElement(O.a,{type:"text",name:"name",className:"form-control form-control-lg",readOnly:!0})),n.a.createElement(te.a,{color:"text-muted"},"Name of operations profile.")))),n.a.createElement(at,{title:"States"}),n.a.createElement(v.a,null,n.a.createElement(b.a,{md:4},n.a.createElement(ae.a,{bordered:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{style:{backgroundColor:"#ececec"}},"#"),n.a.createElement("th",{style:{backgroundColor:"#ececec"}},"Available states"))),n.a.createElement("tbody",null,c.available_states.map((function(e,t){return n.a.createElement("tr",{key:t},n.a.createElement("th",{scope:"row"},t+1),n.a.createElement("td",null,e))}))))),n.a.createElement(b.a,{md:5},n.a.createElement(ae.a,{bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{style:{backgroundColor:"#ececec"}},"Default"),n.a.createElement("th",{style:{backgroundColor:"#ececec"}},"State to be used"))),n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,"default_downtime"),n.a.createElement("td",null,c.defaults.down)),n.a.createElement("tr",null,n.a.createElement("td",null,"default_missing"),n.a.createElement("td",null,c.defaults.missing)),n.a.createElement("tr",null,n.a.createElement("td",null,"default_unknown"),n.a.createElement("td",null,c.defaults.unknown)))))),n.a.createElement(at,{title:"Operations"}),n.a.createElement(v.a,null,c.operations.map((function(e,t){return n.a.createElement(b.a,{md:5,key:t},n.a.createElement("h3",{className:"text-center"},e.name),n.a.createElement(ae.a,{bordered:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{style:{backgroundColor:"#ececec"}},"State A"),n.a.createElement("th",{style:{backgroundColor:"#ececec"}},"State B"),n.a.createElement("th",{style:{backgroundColor:"#c1e3ca"}},"Result"))),n.a.createElement("tbody",null,e.truth_table.map((function(e,t){return n.a.createElement("tr",{key:t},n.a.createElement("td",null,e.a),n.a.createElement("td",null,e.b),n.a.createElement("td",null,e.x))})))))}))))}})):null},or=Object(Va.g)(Qe),sr=Object(Va.g)((function(e){var t=e.location,a=e.isTenantSchema,r=e.userDetails,c=void 0;return c=a?Oe:Se,r.is_superuser||(c=c.filter((function(e){return"administration"!==e}))),n.a.createElement(q.a,{vertical:!0,pills:!0,id:"argo-navlinks",className:"border-left border-right border-top rounded-top sticky-top"},c.map((function(e,a){return n.a.createElement(G.a,{key:a},n.a.createElement(K.a,{tag:ie.b,active:t.pathname.split("/")[2]===e,className:t.pathname.split("/")[2]===e?"text-white bg-info":"text-dark",to:"/ui/"+e},n.a.createElement(Ce,{i:e})," ",_e.get(e)))})))})),lr=Object(Va.g)((function(e){var t=e.location,a=e.poemVersion,r=e.tenantName,c=void 0===r?"egi":r;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"bg-white border-left border-right pl-3 mt-0 pt-5 text-uppercase"},n.a.createElement("h5",null,"Info")),n.a.createElement(q.a,{vertical:!0,pills:!0,id:"argo-navlinks",className:"border-left border-right sticky-top rounded-bottom border-bottom pb-2 mb-0"},n.a.createElement(K.a,{tag:"a",href:"http://argoeu.github.io/poem/v1/",className:"text-dark",target:"_blank",rel:"noopener noreferrer"},n.a.createElement(Ce,{i:"documentation"})," ","Documentation"),n.a.createElement(K.a,{tag:"a",href:"http://argoeu.github.io/overview",className:"text-dark",target:"_blank",rel:"noopener noreferrer"},n.a.createElement(Ce,{i:"argodoc"})," ","About ARGO"),n.a.createElement(K.a,{tag:"a",href:"https://ui.argo.grnet.gr/egi/termsofUse",className:"text-dark",target:"_blank",rel:"noopener noreferrer"},n.a.createElement(Ce,{i:"terms"})," ","Terms"),n.a.createElement(K.a,{tag:ie.b,active:"policies"===t.pathname.split("/")[2],className:"policies"===t.pathname.split("/")[2]?"text-white bg-info":"text-dark",to:"/ui/cookiepolicies"},n.a.createElement(Ce,{i:"policies"})," ","Cookie Policies"),n.a.createElement(K.a,{tag:"a",href:De.get(c.toLowerCase()),className:"text-dark",target:"_blank",rel:"noopener noreferrer"},n.a.createElement(Ce,{i:"privacy"})," "," ","Privacy policy"),n.a.createElement(K.a,{tag:"a",href:"#",className:"text-dark font-italic text-monospace"},n.a.createElement(de.a,{icon:fe.i,size:"1x",color:"green",fixedWidth:!0})," ",a)))})),ur=Object(Va.g)(Pe),mr=function(e){var t=e.isSuperUser,a=h()(e,["isSuperUser"]);return t?n.a.createElement(Va.b,a):n.a.createElement(Va.b,{component:Qa})},pr=function(e){var t=e.usergroups,a=h()(e,["usergroups"]);return t.length>0?n.a.createElement(Va.b,a):n.a.createElement(Va.b,{component:Qa})},dr=function(e){var t=e.isSuperUser,a="",r="",c="",i=localStorage.getItem("referrer");if(c=t?"/ui/administration":"/ui/metricprofiles",i){var o=JSON.parse(i);1===o.length?r=a=o.pop():(a=o.pop(),r=o.pop())}return a!==r&&(c=r),localStorage.removeItem("referrer"),n.a.createElement(Va.a,{to:c})},fr=function(e){var t=e.webApiAggregation,a=e.webApiMetric,r=e.webApiThresholds,c=e.webApiOperations,i=e.webApiReports,o=e.token,s=e.tenantName,l=e.isSuperUser,u=e.userGroups;return n.a.createElement(Va.d,null,n.a.createElement(Va.b,{exact:!0,path:"/ui/login",render:function(e){return n.a.createElement(dr,f()({isSuperUser:l},e))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/home",component:St}),n.a.createElement(Va.b,{exact:!0,path:"/ui/probes",component:Lt}),n.a.createElement(Va.b,{exact:!0,path:"/ui/probes/:name/history",render:function(e){return n.a.createElement(Xe,f()({object:"probe"},e))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/probes/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(Pt,e)}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/probes/:name/history/:version",render:function(e){return n.a.createElement(Ut,e)}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/probes/:name/:metrictemplatename",render:function(e){return n.a.createElement(ta,f()({},e,{tenantview:!0,probeview:!0}))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/probes/:name",render:function(e){return n.a.createElement(zt,e)}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/metrics",render:function(e){return n.a.createElement(qt,f()({},e,{type:"metrics"}))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/metrics/:name/history",render:function(e){return n.a.createElement(Xe,f()({},e,{object:"metric"}))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/metrics/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(Kt,f()({},e,{type:"metric"}))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/metrics/:name/history/:version",render:function(e){return n.a.createElement($t,e)}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/metrics/:name",render:function(e){return n.a.createElement(Xt,e)}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/metricprofiles",component:bt}),n.a.createElement(pr,{usergroups:u.metricprofiles,exact:!0,path:"/ui/metricprofiles/add",render:function(e){return n.a.createElement(pt,f()({},e,{webapimetric:a,webapitoken:o,tenantname:s,addview:!0}))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/metricprofiles/:name",render:function(e){return n.a.createElement(pt,f()({},e,{webapimetric:a,webapitoken:o,tenantname:s}))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/metricprofiles/:name/clone",render:function(e){return n.a.createElement(mt,f()({},e,{webapimetric:a,webapitoken:o,tenantname:s}))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/metricprofiles/:name/history",render:function(e){return n.a.createElement(Xe,f()({object:"metricprofile"},e))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/metricprofiles/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(wt,e)}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/metricprofiles/:name/history/:version",render:function(e){return n.a.createElement(xt,e)}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/aggregationprofiles",component:wa}),n.a.createElement(pr,{usergroups:u.aggregations,exact:!0,path:"/ui/aggregationprofiles/add",render:function(e){return n.a.createElement(ya,f()({},e,{webapiaggregation:t,webapimetric:a,webapitoken:o,tenantname:s,addview:!0}))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/aggregationprofiles/:name",render:function(e){return n.a.createElement(ya,f()({},e,{webapiaggregation:t,webapimetric:a,webapitoken:o,tenantname:s}))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/aggregationprofiles/:name/history",render:function(e){return n.a.createElement(Xe,f()({object:"aggregationprofile"},e))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/aggregationprofiles/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(ka,e)}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/aggregationprofiles/:name/history/:version",render:function(e){return n.a.createElement(Na,e)}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/thresholdsprofiles",component:qa}),n.a.createElement(pr,{usergroups:u.thresholdsprofiles,exact:!0,path:"/ui/thresholdsprofiles/add",render:function(e){return n.a.createElement(Ga,f()({},e,{webapithresholds:r,webapitoken:o,tenantname:s,addview:!0}))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/thresholdsprofiles/:name",render:function(e){return n.a.createElement(Ga,f()({},e,{webapithresholds:r,webapitoken:o,tenantname:s}))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/thresholdsprofiles/:name/history",render:function(e){return n.a.createElement(Xe,f()({object:"thresholdsprofile"},e))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/thresholdsprofiles/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(Ja,e)}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/thresholdsprofiles/:name/history/:version",render:function(e){return n.a.createElement(Ka,e)}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/operationsprofiles",render:function(e){return n.a.createElement(cr,f()({},e,{webapioperations:c,webapitoken:o}))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/operationsprofiles/:name",render:function(e){return n.a.createElement(ir,f()({},e,{webapioperations:c,webapitoken:o}))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/cookiepolicies/",component:Me}),n.a.createElement(mr,{isSuperUser:l,exact:!0,path:"/ui/administration",component:At}),n.a.createElement(mr,{isSuperUser:l,exact:!0,path:"/ui/administration/users",component:Da}),n.a.createElement(mr,{isSuperUser:l,exact:!0,path:"/ui/administration/users/add",render:function(e){return n.a.createElement(Ca,f()({},e,{addview:!0,isTenantSchema:!0}))}}),n.a.createElement(mr,{isSuperUser:l,exact:!0,path:"/ui/administration/users/:user_name",render:function(e){return n.a.createElement(Ca,f()({},e,{isTenantSchema:!0}))}}),n.a.createElement(mr,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofmetrics",render:function(e){return n.a.createElement(La,f()({},e,{group:"metrics",id:"groupofmetrics",name:"group of metrics"}))}}),n.a.createElement(mr,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofmetrics/add",render:function(e){return n.a.createElement(za,f()({},e,{group:"metrics",id:"groupofmetrics",title:"metrics",addview:!0}))}}),n.a.createElement(mr,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofmetrics/:name",render:function(e){return n.a.createElement(za,f()({},e,{group:"metrics",id:"groupofmetrics",title:"metrics"}))}}),n.a.createElement(mr,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofaggregations",render:function(e){return n.a.createElement(La,f()({},e,{group:"aggregations",id:"groupofaggregations",name:"group of aggregations"}))}}),n.a.createElement(mr,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofaggregations/add",render:function(e){return n.a.createElement(za,f()({},e,{group:"aggregations",id:"groupofaggregations",title:"aggregations",addview:!0}))}}),n.a.createElement(mr,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofaggregations/:name",render:function(e){return n.a.createElement(za,f()({},e,{group:"aggregations",id:"groupofaggregations",title:"aggregations"}))}}),n.a.createElement(mr,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofmetricprofiles",render:function(e){return n.a.createElement(La,f()({},e,{group:"metricprofiles",id:"groupofmetricprofiles",name:"group of metric profiles"}))}}),n.a.createElement(mr,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofmetricprofiles/add",render:function(e){return n.a.createElement(za,f()({},e,{group:"metricprofiles",id:"groupofmetricprofiles",title:"metric profiles",addview:!0}))}}),n.a.createElement(mr,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofmetricprofiles/:name",render:function(e){return n.a.createElement(za,f()({},e,{group:"metricprofiles",id:"groupofmetricprofiles",title:"metric profiles"}))}}),n.a.createElement(mr,{isSuperUser:l,exact:!0,path:"/ui/administration/apikey",component:Pa}),n.a.createElement(mr,{isSuperUser:l,exact:!0,path:"/ui/administration/apikey/add",render:function(e){return n.a.createElement(Ua,f()({},e,{addview:!0}))}}),n.a.createElement(mr,{isSuperUser:l,exact:!0,path:"/ui/administration/metrictemplates/",render:function(e){return n.a.createElement(qt,f()({type:"metrictemplates"},e))}}),n.a.createElement(mr,{isSuperUser:l,exact:!0,path:"/ui/administration/metrictemplates/:name",render:function(e){return n.a.createElement(ta,f()({},e,{tenantview:!0}))}}),n.a.createElement(mr,{isSuperUser:l,exact:!0,path:"/ui/administration/metrictemplates/:name/history",render:function(e){return n.a.createElement(Xe,f()({object:"metrictemplate",tenantView:!0},e))}}),n.a.createElement(mr,{isSuperUser:l,exact:!0,path:"/ui/administration/metrictemplates/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(Kt,f()({},e,{type:"metrictemplate"}))}}),n.a.createElement(mr,{isSuperUser:l,exact:!0,path:"/ui/administration/metrictemplates/:name/history/:version",render:function(e){return n.a.createElement(aa,e)}}),n.a.createElement(mr,{isSuperUser:l,exact:!0,path:"/ui/administration/apikey/:name",render:function(e){return n.a.createElement(Ua,e)}}),n.a.createElement(mr,{isSuperUser:l,exact:!0,path:"/ui/administration/yumrepos/",component:Fa}),n.a.createElement(mr,{isSuperUser:l,exact:!0,path:"/ui/administration/yumrepos/:name",render:function(e){return n.a.createElement(Ya,f()({},e,{disabled:!0}))}}),n.a.createElement(mr,{isSuperUser:l,exact:!0,path:"/ui/administration/packages/",component:$a}),n.a.createElement(mr,{isSuperUser:l,exact:!0,path:"/ui/administration/packages/:nameversion",render:function(e){return n.a.createElement(er,f()({},e,{disabled:!0}))}}),n.a.createElement(mr,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofthresholdsprofiles",render:function(e){return n.a.createElement(La,f()({},e,{group:"thresholdsprofiles",id:"groupofthresholdsprofiles",name:"group of thresholds profiles"}))}}),n.a.createElement(mr,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofthresholdsprofiles/add",render:function(e){return n.a.createElement(za,f()({},e,{group:"thresholdsprofiles",id:"groupofthresholdsprofiles",title:"thresholds profiles",addview:!0}))}}),n.a.createElement(mr,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofthresholdsprofiles/:name",render:function(e){return n.a.createElement(za,f()({},e,{group:"thresholdsprofiles",id:"groupofthresholdsprofiles",title:"thresholds profiles"}))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/thresholdsprofiles",component:qa}),n.a.createElement(pr,{usergroups:u.thresholdsprofiles,exact:!0,path:"/ui/thresholdsprofiles/add",render:function(e){return n.a.createElement(Ga,f()({},e,{webapithresholds:r,webapitoken:o,tenantname:s,addview:!0}))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/thresholdsprofiles/:name",render:function(e){return n.a.createElement(Ga,f()({},e,{webapithresholds:r,webapitoken:o,tenantname:s}))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/thresholdsprofiles/:name/history",render:function(e){return n.a.createElement(Xe,f()({object:"thresholdsprofile"},e))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/thresholdsprofiles/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(Ja,e)}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/thresholdsprofiles/:name/history/:version",render:function(e){return n.a.createElement(Ka,e)}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/operationsprofiles",render:function(e){return n.a.createElement(cr,f()({},e,{webapioperations:c,webapitoken:o}))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/operationsprofiles/:name",render:function(e){return n.a.createElement(ir,f()({},e,{webapioperations:c,webapitoken:o}))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/reports",render:function(e){return n.a.createElement(Ma,f()({},e,{webapitoken:o,webapireports:i}))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/reports/:name",render:function(e){return n.a.createElement(Aa,f()({},e,{webapitoken:o,webapireports:i,webapimetric:a,webapiaggregation:t,webapioperations:c}))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/servicetypes/",component:tr}),n.a.createElement(Va.b,{component:Qa}))},gr=function(){return n.a.createElement(Va.d,null,n.a.createElement(Va.b,{exact:!0,path:"/ui/login",render:function(){return n.a.createElement(Va.a,{to:"/ui/administration"})}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/home",component:St}),n.a.createElement(Va.b,{exact:!0,path:"/ui/probes",component:Lt}),n.a.createElement(Va.b,{exact:!0,path:"/ui/probes/add",render:function(e){return n.a.createElement(zt,f()({},e,{addview:!0}))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/probes/:name/clone",render:function(e){return n.a.createElement(zt,f()({},e,{cloneview:!0}))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/probes/:name/history",render:function(e){return n.a.createElement(Xe,f()({object:"probe"},e))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/probes/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(Pt,e)}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/probes/:name/history/:version",render:function(e){return n.a.createElement(Ut,e)}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/probes/:name",render:function(e){return n.a.createElement(zt,e)}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/metrictemplates",render:function(e){return n.a.createElement(qt,f()({type:"metrictemplates"},e))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/metrictemplates/add",render:function(e){return n.a.createElement(ta,f()({},e,{addview:!0}))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/metrictemplates/:name/clone",render:function(e){return n.a.createElement(ta,f()({},e,{cloneview:!0}))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/metrictemplates/:name/history",render:function(e){return n.a.createElement(Xe,f()({},e,{object:"metrictemplate"}))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/metrictemplates/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(Kt,f()({},e,{type:"metrictemplate"}))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/metrictemplates/:name/history/:version",render:function(e){return n.a.createElement(aa,e)}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/metrictemplates/:name",render:function(e){return n.a.createElement(ta,e)}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/yumrepos/",render:function(e){return n.a.createElement(Fa,e)}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/yumrepos/add",render:function(e){return n.a.createElement(Ya,f()({addview:!0},e))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/yumrepos/:name/clone",render:function(e){return n.a.createElement(Ya,f()({},e,{cloneview:!0}))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/yumrepos/:name",render:function(e){return n.a.createElement(Ya,e)}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/packages/",render:function(e){return n.a.createElement($a,e)}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/packages/add",render:function(e){return n.a.createElement(er,f()({addview:!0},e))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/packages/:nameversion",render:function(e){return n.a.createElement(er,e)}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/packages/:nameversion/clone",render:function(e){return n.a.createElement(er,f()({},e,{cloneview:!0}))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/administration",component:Ot}),n.a.createElement(Va.b,{exact:!0,path:"/ui/administration/users",component:Da}),n.a.createElement(Va.b,{exact:!0,path:"/ui/administration/users/add",render:function(e){return n.a.createElement(Ca,f()({},e,{addview:!0}))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/administration/users/:user_name/change_password",render:function(e){return n.a.createElement(Ia,e)}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/administration/users/:user_name",render:function(e){return n.a.createElement(Ca,e)}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/administration/apikey",component:Pa}),n.a.createElement(Va.b,{exact:!0,path:"/ui/administration/apikey/add",render:function(e){return n.a.createElement(Ua,f()({},e,{addview:!0}))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/administration/apikey/:name",render:function(e){return n.a.createElement(Ua,e)}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/tenants",component:rr}),n.a.createElement(Va.b,{exact:!0,path:"/ui/tenants/:name",render:function(e){return n.a.createElement(nr,e)}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/cookiepolicies/",component:Me}),n.a.createElement(Va.b,{component:Qa}))},hr=function(){var e=new ye,t=Object(r.useState)(void 0),a=p()(t,2),c=a[0],i=a[1],o=Object(r.useState)(!1),l=p()(o,2),m=l[0],d=l[1],g=Object(r.useState)(void 0),h=p()(g,2),y=h[0],w=h[1],x=Object(r.useState)(void 0),k=p()(x,2),N=k[0],j=k[1],M=Object(r.useState)(void 0),A=p()(M,2),O=A[0],S=A[1],_=Object(r.useState)(void 0),D=p()(_,2),C=D[0],I=D[1],T=Object(r.useState)(void 0),L=p()(T,2),z=L[0],P=L[1],U=Object(r.useState)(void 0),Q=p()(U,2),V=Q[0],R=Q[1],F=Object(r.useState)(void 0),Y=p()(F,2),B=Y[0],H=Y[1],W=Object(r.useState)(void 0),q=p()(W,2),G=q[0],Z=q[1],J=Object(r.useState)(void 0),K=p()(J,2),X=K[0],$=K[1],ee=Object(r.useState)(void 0),te=p()(ee,2),ae=te[0],re=te[1],ne=Object(r.useState)(null),ce=p()(ne,2),oe=ce[0],se=ce[1];function le(e){return ue.apply(this,arguments)}function ue(){return(ue=u()(s.a.mark((function t(a){var r,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new Object({active:!0,userdetails:a}),t.next=3,e.isTenantSchema();case 3:return n=t.sent,t.next=6,me(n,r);case 6:t.sent;case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function me(e,t){return pe.apply(this,arguments)}function pe(){return(pe=u()(s.a.mark((function t(a,r){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchConfigOptions();case 2:n=t.sent,a?(se(a),i(r.active),w(r.userdetails),$(r.userdetails.token),S(n&&n.result.webapimetric),j(n&&n.result.webapiaggregation),I(n&&n.result.webapithresholds),P(n&&n.result.webapioperations),re(n&&n.result.version),R(n&&n.result.webapireports),Z(n&&n.result.tenant_name),H(!1)):(se(a),i(r.active),w(r.userdetails),re(n&&n.result.version),H(!1));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function de(){return fe.apply(this,arguments)}function fe(){return(fe=u()(s.a.mark((function t(){var a,r,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchPublicToken();case 2:return a=t.sent,t.next=5,e.fetchConfigOptions();case 5:return r=t.sent,t.next=8,e.isTenantSchema();case 8:n=t.sent,se(n),i(!1),w({username:"Anonymous"}),$(a),S(r&&r.result.webapimetric),j(r&&r.result.webapiaggregation),I(r&&r.result.webapithresholds),P(r&&r.result.webapioperations),R(r&&r.result.webapireports),Z(r&&r.result.tenant_name),H(!0);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function he(){return window.location.pathname.includes("public_")}function Ee(){var e=localStorage.getItem("referrer"),t=void 0;(t=e?JSON.parse(e):new Array).push(window.location.pathname),localStorage.setItem("referrer",JSON.stringify(t))}return Object(r.useEffect)((function(){function t(){return(t=u()(s.a.mark((function t(){var a,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!he()){t.next=4;break}de(),t.next=11;break;case 4:return t.next=6,e.isTenantSchema();case 6:return a=t.sent,t.next=9,e.isActiveSession(a);case 9:(r=t.sent).active&&me(a,r);case 11:Ee();case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),B&&void 0!==oe?oe?n.a.createElement(ie.a,null,n.a.createElement(Va.d,null,n.a.createElement(Va.b,{exact:!0,path:"/ui/public_home",render:function(e){return n.a.createElement(qe,{tenantName:G},n.a.createElement(_t,null))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/public_probes",render:function(e){return n.a.createElement(qe,{tenantName:G},n.a.createElement(Lt,f()({publicView:!0},e)))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/public_probes/:name",render:function(e){return n.a.createElement(qe,{tenantName:G},n.a.createElement(zt,f()({publicView:!0},e)))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/public_probes/:name/history",render:function(e){return n.a.createElement(qe,{tenantName:G},n.a.createElement(Xe,f()({object:"probe",publicView:!0},e)))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/public_probes/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(qe,{tenantName:G},n.a.createElement(Pt,f()({publicView:!0},e)))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/public_probes/:name/history/:version",render:function(e){return n.a.createElement(qe,{tenantName:G},n.a.createElement(Ut,f()({publicView:!0},e)))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/public_metrictemplates",render:function(e){return n.a.createElement(qe,{tenantName:G},n.a.createElement(qt,f()({type:"metrictemplates",publicView:!0},e)))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/public_metrictemplates/:name",render:function(e){return n.a.createElement(qe,{tenantName:G},n.a.createElement(ta,f()({publicView:!0,tenantView:!0},e)))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/public_metrictemplates/:name/history",render:function(e){return n.a.createElement(qe,{tenantName:G},n.a.createElement(Xe,f()({publicView:!0,object:"metrictemplate"},e)))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/public_metrictemplates/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(qe,{tenantName:G},n.a.createElement(Kt,f()({publicView:!0},e,{type:"metrictemplate"})))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/public_metrictemplates/:name/history/:version",render:function(e){return n.a.createElement(qe,{tenantName:G},n.a.createElement(aa,f()({publicView:!0},e)))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/public_metrics",render:function(e){return n.a.createElement(qe,{tenantName:G},n.a.createElement(qt,f()({type:"metrics",publicView:!0},e)))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/public_metrics/:name",render:function(e){return n.a.createElement(qe,{tenantName:G},n.a.createElement(Xt,f()({publicView:!0},e)))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/public_metricprofiles",render:function(e){return n.a.createElement(qe,{tenantName:G},n.a.createElement(bt,f()({publicView:!0},e)))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/public_metricprofiles/:name",render:function(e){return n.a.createElement(qe,{tenantName:G},n.a.createElement(pt,f()({},e,{webapimetric:O,webapitoken:X,tenantname:G,publicView:!0})))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/public_aggregationprofiles",render:function(e){return n.a.createElement(qe,{tenantName:G},n.a.createElement(wa,f()({publicView:!0},e)))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/public_aggregationprofiles/:name",render:function(e){return n.a.createElement(qe,{tenantName:G},n.a.createElement(ya,f()({},e,{webapimetric:O,webapiaggregation:N,webapitoken:X,tenantname:G,publicView:!0})))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/public_thresholdsprofiles",render:function(e){return n.a.createElement(qe,{tenantName:G},n.a.createElement(qa,f()({publicView:!0},e)))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/public_thresholdsprofiles/:name",render:function(e){return n.a.createElement(qe,{tenantName:G},n.a.createElement(Ga,f()({},e,{webapithresholds:C,webapiaggregation:N,webapitoken:X,tenantname:G,publicView:!0})))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/public_operationsprofiles",render:function(e){return n.a.createElement(qe,{tenantName:G},n.a.createElement(cr,f()({},e,{publicView:!0,webapitoken:X,webapioperations:z})))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/public_operationsprofiles/:name",render:function(e){return n.a.createElement(qe,{tenantName:G},n.a.createElement(ir,f()({},e,{publicView:!0,webapitoken:X,webapioperations:z})))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/public_servicetypes",render:function(e){return n.a.createElement(qe,null,n.a.createElement(tr,f()({},e,{publicView:!0})))}}),n.a.createElement(Va.b,{component:Qa}))):n.a.createElement(ie.a,null,n.a.createElement(Va.d,null,n.a.createElement(Va.b,{exact:!0,path:"/ui/public_home",render:function(e){return n.a.createElement(qe,null,n.a.createElement(_t,f()({isSuperAdmin:!0},e)))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/public_probes",render:function(e){return n.a.createElement(qe,null,n.a.createElement(Lt,f()({publicView:!0},e)))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/public_probes/:name",render:function(e){return n.a.createElement(qe,null,n.a.createElement(zt,f()({publicView:!0},e)))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/public_probes/:name/history",render:function(e){return n.a.createElement(qe,null,n.a.createElement(Xe,f()({object:"probe",publicView:!0},e)))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/public_probes/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(qe,null,n.a.createElement(Pt,f()({publicView:!0},e)))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/public_probes/:name/history/:version",render:function(e){return n.a.createElement(qe,null,n.a.createElement(Ut,f()({publicView:!0},e)))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/public_metrictemplates",render:function(e){return n.a.createElement(qe,null,n.a.createElement(qt,f()({type:"metrictemplates",publicView:!0},e)))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/public_metrictemplates/:name",render:function(e){return n.a.createElement(qe,null,n.a.createElement(ta,f()({publicView:!0},e)))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/public_metrictemplates/:name/history",render:function(e){return n.a.createElement(qe,null,n.a.createElement(Xe,f()({publicView:!0,object:"metrictemplate"},e)))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/public_metrictemplates/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(qe,null,n.a.createElement(Kt,f()({publicView:!0},e,{type:"metrictemplate"})))}}),n.a.createElement(Va.b,{exact:!0,path:"/ui/public_metrictemplates/:name/history/:version",render:function(e){return n.a.createElement(qe,null,n.a.createElement(aa,f()({publicView:!0},e)))}}),n.a.createElement(Va.b,{component:Qa}))):B||c?c&&y&&null!==oe?n.a.createElement(ie.a,null,n.a.createElement(E.a,{fluid:!0},n.a.createElement(v.a,null,n.a.createElement(ge.NotificationContainer,null),n.a.createElement(b.a,null,n.a.createElement(or,{onLogout:function(){i(!1),localStorage.removeItem("referrer")},isOpenModal:m,toggle:function(){d(!m)},titleModal:"Log out",msgModal:"Are you sure you want to log out?",userDetails:y,isTenantSchema:oe,publicView:B}))),n.a.createElement(v.a,{className:"no-gutters"},n.a.createElement(b.a,{sm:{size:2},md:{size:2},id:"sidebar-col",className:"d-flex flex-column"},n.a.createElement(sr,{isTenantSchema:oe,userDetails:y}),n.a.createElement("div",{id:"sidebar-grow",className:"flex-grow-1 border-left border-right mb-0 pb-5"}),n.a.createElement(lr,{poemVersion:ae,tenantName:G})),n.a.createElement(b.a,null,n.a.createElement(ur,null),oe?n.a.createElement(fr,{webApiMetric:O,webApiAggregation:N,webApiThresholds:C,webApiOperations:z,webApiReports:V,token:X,tenantName:G,isSuperUser:y.is_superuser,userGroups:y.groups}):n.a.createElement(gr,null))),n.a.createElement(v.a,null,n.a.createElement(b.a,null,n.a.createElement(Re,{loginPage:!1,tenantName:G}))))):null===oe&&c?n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Something went wrong"),n.a.createElement("p",null,"Cannot obtain schema.")):null:n.a.createElement(ie.a,null,n.a.createElement(Va.d,null,n.a.createElement(Va.b,{path:"/ui/",render:function(e){return n.a.createElement(ot,f()({onLogin:le},e))}}),n.a.createElement(Va.b,{component:Qa})))},Er=a("dLgX");a("q4sD");i.a.render(n.a.createElement(hr,null),document.getElementById("react")),Er.a()},hQ4L:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAdCAYAAAC9pNwMAAAABmJLR0QAngCeAJ53Twm3AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH4wQcDRUGZUVdGQAABRJJREFUSMell2tsFFUUx393drcv+oIWKpZFSrFuSmo24oMQSCSGogVtDOERWEHUGA2SILZUDCImBMFVCBLAmGIhKdEgJgSs0AEaNBKw8phS0LYqpQylAmH7Jt3HzPjBWVjKbLuN/y+7M/ee87/nzHldgQWc7kJURQ7/twEpQB7wEjAZyAEygB7gKnAOOAKcArpVRQ7019MfYhDSScALwDtAFoNDA74CDqiKLA9ELgYgXQ28Z1o2VGhABbBWVeQ2K3IRSQoIVZENp7vwAjARkPh/aAWmqYrcbGlxP0v9QFyMigOAH9DNZwmIt5DPUBXZF8kjwg9Od6EEnAceH4xN17WaUMB/ZVhaxtEla8prJ7gzxbA0gif21xnfeJdPEUK8bHfEO4UQU0yRPiBPVWQ1zBfp6jXAx4O497SuhfbMW7mlJTk9c27Q78/SQsEnwUgFeoQQf9sdcbX2uIT2czXf7zx58OvnktMztwNpwK+qIk/u7+pngGpzQzT8iOb3TL9wouPaCVJTe0hNCmHL7LuVHq/5NgIz+31F1Wa3bdi4YEKFGTN5QKmqyJ853YUIp7vQDnwIrB2AtE5VZDdA1aaCOebeEUAHGOuLNl/cV/b5H1MNxAHzfSS2ej2uFSZ5F1CsKvJt4XQXDgeaB7D2T1WR8w5/WjBLN9gVJZ97E0Nts445j/iCUvIh4BHzvWF6dafX41rpdBfeAF5RFfmgcLoLpwM10Uw1DHJ3L76e7w+J74CEgWIuKdQ6+4dxZzolI3AyUgUgJJv93R0lxVfSR2bnAF9IQHE0TQI2XKuTL8dACiDdsWcfKDs3vtEsn/fFka6FyhaW7WjUdW0SkCoBT0fTdLXdsa9qU8G6GEjDiDszauKzmohbYLH20MgxufO1YKArnPC5UZRcoSWzBXhzKKXKQFq2edH4zoiicq/a9N2ZINkdm0JBf5cEjIyaPuzpAGxDLJMTMQyA9gcOpetTF67antZ26SdNstpg4pb5Gxoi8WXaEECyxVq2EP8ZKgGXB1F0cIjE2188D2bN7g8bCClMfMZKOhjoY9XehiWzyurfHgKpnttZf9zV3lgRZb0d6A4TH7LMDck25Xab6iipbFqQoN1cGgtrvObzlOc3ZQGLo2w5DzSEiWvNxn2/T+yOGbtKZh8T6Dtl5/HGYUF1jtkCLeHQu+b+Mnp3rcDYazXZmGj0elwdYeJOYJvVrtQxj+YA+3Vhr6kad9pRdLY+BVgO3DS3+ICSdP/FtKPO6rpeh7MajPwopN1mI6K0suFud5oGHLMaAFRFFqWVDV3mwPdzr2Ps678PT7zdlE4gpxvHY+3EZ/Q1bQDjtUG+xGGvx1VUWtmA1+O6rx9vAVZYCGxbXVFd3nyp8beIg2mmp5JirGoNwFNej6vnbgyZsxbAGkC1EFr+ydKZRVlj8+ZF5LTNbH+xkF4Air0eV09pZcO94DXHHlRF7gXGRhH+aMuyGaMyRudMNuesWFEFzPB6XE1hFw82ZbYCDz+QpJq2rrX++PpVext3AM8bhjECSDSD1DA/QbcQ4nooGNi6+dWC8gE6n+VNIsWM9PkR7gw39ZYu340P4uITmxe9/+WoxJS0fJvNHmcYBoaut7f+VX+qcuNbCQlJKb7M7PFdWiioXqs7OuSbxDSzGLxhcT6fFgqd0rVQNxgaiGQhSelCko7YbPazQL2qyP9Eu02IGO5O8WbBfwLYDORbTKI+c277Fgioitwz2N3pX3OCCLv6PHumAAAAAElFTkSuQmCC"},kWNB:function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,"#argo-contentwrap {\n  background-color: white;\n}\n#sidebar-grow {\n  background-color: white;\n  margin-bottom: 1px;\n}\n#argo-nav {\n  background-color: #416090;\n}\n\n#argo-breadcrumb {\n  background-color: #ecf0f5;\n}\n\n#sidebar-col {\n  max-width: 215px;\n}\n\n#argo-breadcrumb > ol {\n  background-color: #ecf0f5;\n}\n",""])},lrsP:function(e,t,a){var r=a("eVqg");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},"p3/T":function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,"#argo-footer {\n  background-color: #ffffff;\n}\n\n#argo-loginfooter {\n  background-color: #ffffff;\n  max-height: 155px;\n}\n\n#argo-navbar-logout {\n  color: #ffffff;\n  border-color: #ffffff;\n  background-color: #416090;\n}\n#argo-navbar-logout:hover {\n  color: #ffffff;\n  background-color: #31496d;\n}\n\n#argo-navlinks {\n  background-color: #ffffff;\n}\n\n.argo-autocomplete-menu {\n  display: block;\n  width: 94%;\n  color: #495057;\n  position: absolute;\n  background-color: white;\n  z-index: 1000;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n  overflow-y: auto;\n  max-height: 400px;\n}\n\n.argo-autocomplete-list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n}\n\n.argo-autocomplete-entries {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #495057;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n.argo-autocomplete-entries-highlighted {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  background-color: #4A90D9;\n  color: white;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n.ReactTable .rt-thead.-filters select {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  background: transparent;\n  background-image: url(\"data:image/svg+xml;utf8,<svg fill='black' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/><path d='M0 0h24v24H0z' fill='none'/></svg>\");\n  background-repeat: no-repeat;\n  background-position-x: 100%;\n  background-position-y: 5px;\n  border: 1px solid #dfdfdf;\n  border-radius: 2px;\n  margin-right: 2rem;\n  padding: 1rem;\n  padding-right: 2rem;\n}\n",""])},"tYV+":function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,"#select-field{\n    width: 150px;\n}\n\n.grouplabel {\n    width: 180px;\n}\n\n.col-md-6 {\n    padding: 5px;\n}\n\n#checkbox {\n    margin-right: 5px;\n}",""])},uU5Y:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAZCAIAAAA5RHCCAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAA6cAAAOdQGIKBt4AAAGqklEQVRIiY1WSYxdVxGtuve++f3/e/jt73Y7aRts05A2ih0jAxEICGKIQBAEG6JYEUhIWbDIgh0LiAQBNiyQEOsIkAIRyhZEcIiwE4eEJHZIHCKP6W735D+/6Q5VLH73l91xSym9xbuqUp1X51TderjnyD+JyDnngAGAEQCAmQMrpQiK3CbNm+UwBQhl8j/dWyhqa1NuUpQeT1br3XIiIagsu1iF0845Y6vQUwhkjPaUQESQiogQUSmFiALeZ8wMAE6VhbhaCTvM5jBxWtl2e5HClHRM1Cax1rkpvNRUIHIbUzCZVTcNDwjLyuVOOKHQMhly45yjtHfAG1nORLAQTwUFXhnoNgQ9r96z/rVQBopD1g09rKc1r+zNBbG0VkofpY8qUE6QEwSeNEAWeYw0QhXjgnY4HCqQusi15KSuZvVG6A2SeDhHWdRqDX70m98vnnixc1XKzA8K6VUbTKGupDZgndAGDCMoH7xgnHlkYgx2K5kA4Cuo9IagoqHq0BXH771w6gd/rfFFkkt3Lbx99OS1u+dKlcvFe1555LFnDzY3JYVgPEGxr2rAvrEA6DmW44QjU7vpx1olooHct8MSivQzX1158LuvX3xhz/W3Tlx4ufzxdw6trc3VauXsofPfeuz5bOnI2890fN9nRoUeIBhHoICdA7wtuUymH72N4223Yut7OMhXAFnJxtpG+cpL8ZU37y8nsLsSZAOoZFxh2t70Lry4eO7MdD9fbu6JjO1bm6FwjpzvhQzobycUQiCiTKYfJSJmJmZEhPE8RMv9jenDJ5aPf/F6pxteuriwdP3unESleoGcCsJgwOTSYQVw+fynq6A6eKA6evRDTEWpc9/znQMpfSb2EJgZEcXIAC0KRsFCAm6ZBBBF2Yrr8sRC/uQTv1ts/dtH8lRrImxHJkGZ5Ww8QX7py2oynHpPoFqoZz/97fdPHnvXtT/SH86WdkZBv1YYQ44QWKADNuRkMn2KGbb5HNWHzMyYurJsrwzfef3gy2c/Bw3GdCMbRqjuPEKDdvTq2QNvvjbfKRyng7CmbRYGMrLCbZeBAIAzR/5OBETkgIEFIzAjEVmv63emIpB97dt6KdObhnLmicgmd8RzOuUM09iWZMVEXlkJmqeCWLMbkTnC23XecagOH3rj/gefN+EmpH3PzdfoY1L4u8VDeDWaeueTXzl9YH5FlFEcUlLXeZHuiNoVry6mvvHI+R/+7MzisY4buGwzU9RVhdkVrth3YK94/OenH3r4Xezt0d3Iahumgx1hu+oHubZl78rFyf+c/qhQM0nSAFdSriDA94MBQCM0VReydXHhpenlpVimOQBJ22TUH0i/JMwGm3VVNVS4xmmVsU+2aAXNLtk74lXVZqsWDa7u9+uZmlAF+cydAKVD8YH0G5RNO1mKvZuzH+44PU1hREmZDXeNh0YYtBJ/H9PEalu3yc/JSYSdHyfICXJADpgkMzIJJgBGK3tprr737af/+Ocn7jt4kbpNhXeTKjQweZuI6wGIokKTdNhTOKh97ciVp5558usPPctr85M+SFN5SdDHumCQgIJh9MikeWprySIgChAwutNEtG67s2l9WJnk1TP3asdkurFUGYYpTcWQFEUY1HMa1sQwDvx26IFRwzfO7e9s7McAjfOdyIVyyonb9Gsefo6ZyYEDBhBb+53AgEmkNGWhlNI9O7e3J/xqdXVf3tLiejjTyNezubDZl4P+gbu6q8vzuRkme97LB3WmOYDIoSJvQwWkyvoITAixpR8zMzhmBqDtI/myrm00lF4vqEPQeODL13/11F8WPj7UN1upp2thT6mSLR77xFu/+NOvP/vN/xpv/+qN+6zYL2NJQiolFCSst7cAbnW1YHbMjpkBiZnHR1eR4QxjzQG4oLO6rK9dNks3ViBqf+pLl37y9B+Ofv5s/4bNO7Ov/eP40qWAPPCSQARsSYComDPhasrVd/TLeP8RgACk7Y4la0p/ouPMpG3PRFOrZ144ee5fXxjKEqpyfQNLg0ASE3v56uwvH39YRKKUa77nysqArQUeaFPFsiFVal02Lm40f38bzx+iZABmZOYw6PUHrTDuRKispUHeMEAzTWdKGUPHdGYqKdTejWwQ+sJglUKUo2CgCAiVZ4uiSoIGkQUQt+mHiELAaDdt9xEjYpVHQUSQq1grKBs86anZYSfLWfctJVZMxPXNfq+wQUJpYtRQkHO5r+ykRCcYAhnJKNfc28Enzt/z3K3/M2OH4zvfW4C09cIj5sf7G29tjTGHihEARsUBwP8BoRsQdzWv4kYAAAAASUVORK5CYII="}},[["f1jT",1,2]]]);