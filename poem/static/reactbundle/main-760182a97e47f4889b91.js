(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"/WES":function(e,t,a){var r=a("kWNB");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},"29KK":function(e,t,a){"use strict";a.d(t,"k",(function(){return Ee})),a.d(t,"f",(function(){return ve})),a.d(t,"q",(function(){return be})),a.d(t,"d",(function(){return De})),a.d(t,"m",(function(){return Oe})),a.d(t,"n",(function(){return ke})),a.d(t,"i",(function(){return Ae})),a.d(t,"l",(function(){return Pe})),a.d(t,"o",(function(){return xe})),a.d(t,"b",(function(){return Ce})),a.d(t,"c",(function(){return Ie})),a.d(t,"h",(function(){return Se})),a.d(t,"a",(function(){return Ne})),a.d(t,"g",(function(){return Le})),a.d(t,"j",(function(){return Ue})),a.d(t,"e",(function(){return Re})),a.d(t,"p",(function(){return je}));var r=a("lwsE"),n=a.n(r),i=a("W8MJ"),o=a.n(i),s=a("7W2i"),c=a.n(s),l=a("a1gu"),u=a.n(l),m=a("Nsbk"),d=a.n(m),_=a("o0o1"),p=a.n(_),f=a("yXPU"),h=a.n(f),g=a("pVnL"),E=a.n(g),v=a("QILm"),b=a.n(v),M=a("q1tI"),y=a.n(M),D=a("9ONQ"),O=a("DCcX"),k=a("vkoW"),w=a("CaDr"),A=a("OBzv"),P=a("sOKU"),x=a("XI7o"),C=a("EvW+"),I=a("tiWs"),S=a("374E"),T=a("a5/R"),N=a("nsn4"),L=a("9a8N"),U=a("F66N"),R=a("arvA"),j=a("BLzl"),W=a("afej"),B=a("/kxI"),K=a("xdlx"),z=a("aLZG"),Y=a("jrRI"),Q=a("ok1R"),F=a("rhny"),V=a("q7Gj"),H=a("re1l"),q=a("0E8A"),G=a("3OM0"),Z=a("55Ip"),J=a("5tO7"),X=a.n(J),$=a("RYGk"),ee=a.n($),te=a("uU5Y"),ae=a.n(te),re=a("hQ4L"),ne=a.n(re),ie=(a("Pn3v"),a("IP2g")),oe=a("wHSu"),se=a("of9s"),ce=a("KYPV"),le=a("/8CB"),ue=a.n(le),me=a("a/x8"),de=a("XNy0"),_e=a.n(de);function pe(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=d()(e);if(t()){var n=d()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return u()(this,a)}}var fe=["administration","services","probes","metrics","metricprofiles","aggregationprofiles","thresholdsprofiles"],he=["administration","probes","yumrepos","packages","metrictemplates"],ge=new Map;ge.set("administration","Administration"),ge.set("services","Services"),ge.set("reports","Reports"),ge.set("probes","Probes"),ge.set("metrics","Metrics"),ge.set("metricprofiles","Metric profiles"),ge.set("aggregationprofiles","Aggregation profiles"),ge.set("groupofaggregations","Groups of aggregations"),ge.set("groupofmetrics","Groups of metrics"),ge.set("groupofmetricprofiles","Groups of metric profiles"),ge.set("users","Users"),ge.set("apikey","API key"),ge.set("metrictemplates","Metric templates"),ge.set("yumrepos","YUM repos"),ge.set("groupofthresholdsprofiles","Groups of thresholds profiles"),ge.set("thresholdsprofiles","Thresholds profiles"),ge.set("packages","Packages");var Ee=function(e){var t=new Map;return t.set("administration",oe.v),t.set("services",oe.p),t.set("serviceflavour",oe.h),t.set("reports",oe.g),t.set("probes",oe.n),t.set("metrics",oe.d),t.set("metrictemplates",oe.d),t.set("metricprofiles",oe.e),t.set("aggregationprofiles",oe.r),t.set("apikey",oe.j),t.set("yumrepos",oe.b),t.set("thresholdsprofiles",oe.f),t.set("users",oe.u),t.set("packages",oe.a),e.i.startsWith("groupof")?y.a.createElement("span",{className:"fa-layers fa-fw"},y.a.createElement(ie.a,{icon:oe.q,color:"white",fixedWidth:!0}),y.a.createElement(ie.a,{icon:t.get(e.i.replace("groupof","")),transform:"shrink-".concat("groupofmetricprofiles"===e.i?9:8," up-3")}),y.a.createElement(ie.a,{icon:t.get(e.i.replace("groupof","")),transform:"shrink-".concat("groupofmetricprofiles"===e.i?9:8," down-4.2 left-5")}),y.a.createElement(ie.a,{icon:t.get(e.i.replace("groupof","")),transform:"shrink-".concat("groupofmetricprofiles"===e.i?9:8," down-4.2 right-5")})):y.a.createElement(ie.a,{icon:t.get(e.i),size:"yumrepos"===e.i||"metricprofiles"===e.i?"sm":"1x",fixedWidth:!0})},ve=function(e){var t=e.field,a=e.data,r=void 0===a?[]:a,n=e.prefix,i=void 0===n?"":n,o=e.class_name,s=void 0===o?"":o,c=e.isnew,l=void 0!==c&&c;return y.a.createElement(ce.a,{component:"select",name:i?"".concat(i,".").concat(t.name):t.name,required:!0,className:"form-control ".concat(s," ").concat(l?"border-success":"")},r.map((function(e,t){return 0===t?y.a.createElement("option",{key:t,hidden:!0},e):y.a.createElement("option",{key:t,value:e},e)})))},be=function(e){e.form;var t=e.field,a=b()(e,["form","field"]);return y.a.createElement("div",{className:"input-group"},y.a.createElement("input",E()({type:"text",placeholder:"Search"},t,a)),y.a.createElement("div",{className:"input-group-append"},y.a.createElement("span",{className:"input-group-text",id:"basic-addon"},y.a.createElement(ie.a,{icon:oe.m}))))},Me=function(){var e=h()(p.a.mark((function e(t,a){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new D.a,a(),e.next=4,fetch("/rest-auth/logout/",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":r.get("csrftoken"),Referer:"same-origin"}});case 4:e.sent.ok&&t.push("/ui/login");case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ye=function(e){var t=e.isOpen,a=e.toggle,r=e.title,n=e.msg,i=e.onYes;return y.a.createElement(O.a,{isOpen:t,toggle:a},y.a.createElement(k.a,{toggle:a},r),y.a.createElement(w.a,null,n),y.a.createElement(A.a,null,y.a.createElement(P.a,{color:"primary",onClick:function(){i(),a()}},"Yes")," ",y.a.createElement(P.a,{color:"secondary",onClick:a},"No")))},De=function(e){var t=e.location,a=(e.history,t.pathname.split("/")),r=new Array;r.push({url:"/ui/home",title:"Home"});var n=new Object({url:"/ui/"+a[2]});if(n.title=ge.get(a[2]),r.push(n),a.length>3){var i=new Object({url:n.url+"/"+a[3]});i.title="Administration"===n.title?ge.get(a[3]):a[3],r.push(i)}if(a.length>4){var o=new Object({url:i.url+"/"+a[4]});o.title=a[4],r.push(o)}if(a.length>5){var s=new Object({url:o.url+"/"+a[5]});s.title=a[5],r.push(s)}if(a.length>6&&"history"===s.title){var c=new Object({url:s.url+"/"+a[6]});c.title=a[6],r.push(c)}return y.a.createElement(x.a,{id:"argo-breadcrumb",className:"border-top rounded"},r.map((function(e,t){return t!==r.length-1?y.a.createElement(C.a,{key:t},y.a.createElement(Z.b,{to:e.url},e.title)):y.a.createElement(C.a,{key:t,active:!0},e.title)})))},Oe=function(e){var t=e.history,a=e.onLogout,r=e.isOpenModal,n=e.toggle,i=e.titleModal,o=e.msgModal,s=e.userDetails;return y.a.createElement(y.a.Fragment,null,y.a.createElement(ye,{isOpen:r,toggle:n,title:i,msg:o,onYes:function(){return Me(t,a)}}),y.a.createElement(I.a,{expand:"md",id:"argo-nav",className:"border rounded"},y.a.createElement(S.a,{className:"text-light"},y.a.createElement("img",{src:X.a,alt:"ARGO logo",className:"img-responsive"}),y.a.createElement("span",{className:"pl-3"},y.a.createElement("strong",null,"ARGO")," POEM")),y.a.createElement(T.a,null),y.a.createElement(N.a,{navbar:!0,className:"justify-content-end"},y.a.createElement(L.a,{navbar:!0},y.a.createElement(U.a,{className:"m-2 text-light"},"Welcome, ",y.a.createElement("span",{className:"font-weight-bold"},s.first_name?s.first_name:s.username)),y.a.createElement(U.a,{className:"m-2"},y.a.createElement(P.a,{id:"argo-navbar-logout",size:"sm",onClick:function(){return n()}},y.a.createElement(ie.a,{icon:oe.o})))))))},ke=function(e){var t=e.location,a=e.isTenantSchema,r=e.userDetails,n=void 0;return n=a?fe:he,r.is_superuser||(n=n.filter((function(e){return"administration"!==e}))),y.a.createElement(L.a,{vertical:!0,pills:!0,id:"argo-navlinks",className:"border-left border-right border-top rounded-top sticky-top"},n.map((function(e,a){return y.a.createElement(U.a,{key:a},y.a.createElement(R.a,{tag:Z.b,active:t.pathname.split("/")[2]===e,className:t.pathname.split("/")[2]===e?"text-white bg-info":"text-dark",to:"/ui/"+e},y.a.createElement(Ee,{i:e})," ",ge.get(e)))})))},we=function(e){var t=e.border,a=void 0!==t&&t;return y.a.createElement(y.a.Fragment,null,a&&y.a.createElement("div",{className:"pt-1"}),y.a.createElement("div",{className:"text-center pt-1"},y.a.createElement("img",{src:ae.a,id:"eulogo",alt:"EU logo"}),y.a.createElement("img",{src:ne.a,id:"eosclogo",alt:"EOSC logo",className:"pl-1"})),y.a.createElement("p",{className:"text-center"},y.a.createElement("small",null,y.a.createElement("strong",null,"ARGO POEM")," is a service jointly developed and maintained by  ",y.a.createElement("a",{href:"http://www.cnrs.fr/",title:"Centre national de la recherche scientifique"},"CNRS"),",  ",y.a.createElement("a",{href:"https://grnet.gr/",title:"Greek Research and Technology Network"},"GRNET")," and  ",y.a.createElement("a",{href:"http://www.srce.unizg.hr/",title:"University computing centre"},"SRCE"),"  co-funded by ",y.a.createElement("a",{href:"https://www.eosc-hub.eu",title:"EOSC-Hub"},"EOSC-Hub")," and  ",y.a.createElement("a",{href:"http://www.egi.eu/",title:"EGI.eu"},"EGI.eu"),y.a.createElement("br",null),y.a.createElement("a",{href:"http://argo.egi.eu/lavoisier/TermsofUse",title:"Terms of use"},"Terms of use"),", ",y.a.createElement("a",{href:"http://www.apache.org/licenses/LICENSE-2.0",title:"License"},"License"))))},Ae=function(e){var t=e.loginPage;return void 0!==t&&t?y.a.createElement("div",{id:"argo-loginfooter"},y.a.createElement(we,null)):y.a.createElement("div",{id:"argo-footer",className:"border rounded"},y.a.createElement(we,{border:!0}))},Pe=function(){return y.a.createElement(j.a,{className:"text-center"},y.a.createElement(W.a,{className:"bg-light"},y.a.createElement("h4",{className:"text-dark"},"Loading data...")),y.a.createElement(B.a,null,y.a.createElement("img",{src:ee.a,alt:"ARGO logo anim",className:"img-responsive",height:"300px"})))},xe=function(e){var t=e.msg,a=void 0===t?"":t,r=e.title,n=void 0===r?"":r,i=e.callback,o=void 0===i?void 0:i;se.NotificationManager.success(a,n,2e3),setTimeout(o,2e3)},Ce=function(e){var t=e.resourcename,a=void 0===t?"":t,r=e.location,n=void 0===r?void 0:r,i=e.infoview,o=void 0!==i&&i,s=e.addview,c=void 0!==s&&s,l=e.listview,u=void 0!==l&&l,m=e.modal,d=void 0!==m&&m,_=e.state,p=void 0===_?void 0:_,f=e.toggle,h=void 0===f?void 0:f,g=e.submitperm,E=void 0===g||g,v=e.history,b=void 0===v||v,M=e.addnew,D=void 0===M||M,O=e.clone,k=void 0!==O&&O,w=e.cloneview,A=void 0!==w&&w,P=e.tenantview,x=void 0!==P&&P,C=e.children;return y.a.createElement(y.a.Fragment,null,d&&y.a.createElement(ye,{isOpen:p.areYouSureModal,toggle:h,title:p.modalTitle,msg:p.modalMsg,onYes:p.modalFunc}),y.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},o?y.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},a):c?y.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Add ".concat(a)):u?y.a.createElement(y.a.Fragment,null,D?y.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Select ".concat(a," to change")):y.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Select ".concat(a," for details")),D&&y.a.createElement(Z.b,{className:"btn btn-secondary",to:n.pathname+"/add",role:"button"},"Add")):A?y.a.createElement(y.a.Fragment,null,y.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Clone ".concat(a))):x?y.a.createElement(y.a.Fragment,null,y.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},a),b&&y.a.createElement(Z.b,{className:"btn btn-secondary",to:n.pathname+"/history",role:"button"},"History")):y.a.createElement(y.a.Fragment,null,y.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Change ".concat(a)),y.a.createElement(K.a,null,k&&y.a.createElement(Z.b,{className:"btn btn-secondary mr-2",to:n.pathname+"/clone",role:"button"},"Clone"),b&&y.a.createElement(Z.b,{className:"btn btn-secondary",to:n.pathname+"/history",role:"button"},"History")))),y.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},!E&&!o&&!u&&y.a.createElement(z.a,{color:"danger"},y.a.createElement("center",null,"This is a read-only instance, please request the corresponding permissions to perform any changes in this form.")),C))},Ie=function(e){var t=e.field,a=t.name,r=t.value,n=t.onChange,i=t.onBlur,o=e.form,s=o.errors,c=o.touched,l=e.id,u=e.label;b()(e,["field","form","id","label"]);return y.a.createElement("div",null,y.a.createElement("input",{name:a,id:l,type:"checkbox",value:r,checked:r,onChange:n,onBlur:i}),y.a.createElement("label",{htmlFor:l},u),c[a]&&s[a]&&y.a.createElement("div",{className:"error"},s[a]))},Se=function(e){return y.a.createElement("div",{style:{color:"#FF0000",fontSize:"small"}},e)};function Te(e,t){if(t)return-1!==e.toLowerCase().indexOf(t.toLowerCase())}var Ne=function(e){var t=e.lists,a=e.onselect_handler,r=e.field,n=e.val,i=e.icon,o=e.setFieldValue,s=e.req,c=e.label,l=(e.values,"form-control ".concat(s&&"border-danger"));return y.a.createElement(ue.a,{inputProps:{className:l},getItemValue:function(e){return e},items:t,value:n,renderItem:function(e,a){return y.a.createElement("div",{key:t.indexOf(e),className:"argo-autocomplete-entries ".concat(a?"argo-autocomplete-entries-highlighted":"")},e?y.a.createElement(Ee,{i:i}):""," ",e)},renderInput:function(e){return c?y.a.createElement("div",{className:"input-group mb-3"},y.a.createElement("div",{className:"input-group-prepend"},y.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},c)),y.a.createElement("input",E()({},e,{type:"text",className:l,"aria-label":"label"}))):y.a.createElement("input",e)},onChange:function(e){o(r,e.target.value)},onSelect:function(e){o(r,e),a(r,e)},wrapperStyle:{},shouldItemRender:Te,renderMenu:function(e){return y.a.createElement("div",{className:"argo-autocomplete-menu",children:e})}})},Le=function(e){var t=e.value,a=e.onChange,r=e.data;return y.a.createElement("select",{onChange:a,style:{width:"100%"},value:t},y.a.createElement("option",{key:0,value:""},"Show all"),r.map((function(e,t){return y.a.createElement("option",{key:t+1,value:e},e)})))};function Ue(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(a){c()(s,a);var r,i=pe(s);function s(e){var t;return n()(this,s),(t=i.call(this,e)).name=e.match.params.name,t.history=e.history,t.state={loading:!1,list_versions:null,compare1:"",compare2:""},t.backend=new me.a,t}return o()(s,[{key:"componentDidMount",value:(r=h()(p.a.mark((function t(){var a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({loading:!0}),a=void 0,a=["metric","metricprofile","aggregationprofile","thresholdsprofile"].includes(e)?"/api/v2/internal/tenantversion/":"/api/v2/internal/version/",t.next=5,this.backend.fetchData("".concat(a,"/").concat(e,"/").concat(this.name));case 5:(r=t.sent).length>1?this.setState({list_versions:r,loading:!1,compare1:r[0].version,compare2:r[1].version}):this.setState({list_versions:r,loading:!1});case 8:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"render",value:function(){var a=this,r=this.state,n=r.loading,i=r.list_versions,o=void 0;return o=t?"/ui/administration/".concat(e,"s/").concat(this.name,"/history"):"/ui/".concat(e,"s/").concat(this.name,"/history"),n?y.a.createElement(Pe,null):!n&&i?y.a.createElement(Ce,{resourcename:"Version history",infoview:!0},y.a.createElement("table",{className:"table table-sm"},y.a.createElement("thead",{className:"table-active"},y.a.createElement("tr",null,1===i.length?y.a.createElement("th",{scope:"col"},"Compare"):y.a.createElement("th",{scope:"col"},y.a.createElement(P.a,{color:"info",onClick:function(){return a.history.push("".concat(o,"/compare/").concat(a.state.compare1,"/").concat(a.state.compare2))}},"Compare")),y.a.createElement("th",{scope:"col"},"Version"),y.a.createElement("th",{scope:"col"},"Date/time"),y.a.createElement("th",{scope:"col"},"User"),y.a.createElement("th",{scope:"col"},"Comment"))),y.a.createElement("tbody",null,i.map((function(e,t){return y.a.createElement("tr",{key:t},1===i.length?y.a.createElement("td",null,"-"):0===t?y.a.createElement("td",null,y.a.createElement("input",{type:"radio",name:"radio-1",value:e.version,defaultChecked:!0,onChange:function(e){return a.setState({compare1:e.target.value})}})):y.a.createElement("td",null,y.a.createElement("input",{type:"radio",name:"radio-1",value:e.version,onChange:function(e){return a.setState({compare1:e.target.value})}})," ",y.a.createElement("input",{type:"radio",name:"radio-2",value:e.version,defaultChecked:1===t,onChange:function(e){return a.setState({compare2:e.target.value})}})),y.a.createElement("td",null,e.version?y.a.createElement(Z.b,{to:"".concat(o,"/").concat(e.version)},e.version):""),y.a.createElement("td",null,e.date_created?e.date_created:""),y.a.createElement("td",null,e.user?e.user:""),y.a.createElement("td",{className:"col-md-6"},e.comment?e.comment:""))}))))):null}}]),s}(M.Component)}var Re=function(e){var t=e.title,a=e.item1,r=e.item2;a=a.split("\r\n"),r=r.split("\r\n");var n=Math.max(a.length,r.length);if(a.length>r.length)for(var i=r.length;i<a.length;i++)r.push(" ");else if(r.length>a.length)for(var o=a.length;o<r.length;o++)a.push(" ");for(var s=[],c=0;c<n;c++)s.push(y.a.createElement(_e.a,{oldValue:r[c],newValue:a[c],showDiffOnly:!0,splitView:!1,hideLineNumbers:!0,disableWordDiff:!0,key:"diff-"+c}));return y.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},y.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},t),s)},je=function(e){var t=e.errors,a=e.grouplist,r=void 0===a?void 0:a,n=e.description,i=void 0===n?void 0:n,o=e.fieldsdisable,s=void 0!==o&&o,c=e.profiletype,l=void 0===c?void 0:c;return y.a.createElement(Y.a,null,y.a.createElement(Q.a,null,y.a.createElement(F.a,{md:6},y.a.createElement(V.a,null,y.a.createElement(H.a,{addonType:"prepend"},"Name"),y.a.createElement(ce.a,{type:"text",name:"name",className:"form-control form-control-lg ".concat(t.name&&"border-danger"),disabled:s})),t.name&&Se(t.name),y.a.createElement(q.a,{color:"muted"},"Name of ".concat(l," profile")))),i&&y.a.createElement(Q.a,{className:"mt-3"},y.a.createElement(F.a,{md:10},y.a.createElement(G.a,{for:"profileDescription"},"Description:"),y.a.createElement(ce.a,{id:"profileDescription",className:"form-control",component:"textarea",name:i,disabled:s}),y.a.createElement(q.a,{color:"muted"},"Free text description outlining the purpose of this profile."))),y.a.createElement(Q.a,{className:"mt-4"},y.a.createElement(F.a,{md:3},y.a.createElement(V.a,null,y.a.createElement(H.a,{addonType:"prepend"},"Group"),s?y.a.createElement(ce.a,{type:"text",name:"groupname",className:"form-control",disabled:!0}):y.a.createElement(ce.a,{name:"groupname",component:"select",className:"form-control custom-select ".concat(t.groupname&&"border-danger")},y.a.createElement("option",{key:0,value:"",hidden:!0,color:"muted"},"Select group"),r.map((function(e,t){return y.a.createElement("option",{key:t+1,value:e},e)})))),t.groupname&&Se(t.groupname),y.a.createElement(q.a,{color:"muted"},"".concat(l.charAt(0).toUpperCase()+l.slice(1)," profile is member of given group.")))))}},"5tO7":function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgdmVyc2lvbj0iMS4xIiAKICAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgCiAgICB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQgbWVldCIgdmlld0JveD0iNC45MTc4NjU2NTY3NTI0NCA0LjY0MjkwMjM3NzQwOTk2OCAxMDIuMjMzMjE1NTQ3NzAzMiA1MCIgd2lkdGg9Ijk4LjIzIiBoZWlnaHQ9IjQ2Ij4KICAgIDxkZWZzPgogICAgICAgIDxwYXRoIGQ9Ik0xMDMuMTkgMjkuMDFMMTAyLjIyIDMwLjE2TDEwMS4yMyAzMS4yOUwxMDAuMjMgMzIuMzhMOTkuMjEgMzMuNDVMOTguMTggMzQuNDhMOTcuMTQgMzUuNDlMOTYuMDggMzYuNDZMOTUuMDEgMzcuNDFMOTMuOTMgMzguMzJMOTIuODMgMzkuMkw5MS43MiA0MC4wNkw5MC42IDQwLjg4TDg5LjQ2IDQxLjY3TDg4LjMxIDQyLjQzTDg3LjE0IDQzLjE2TDg1Ljk2IDQzLjg3TDg0Ljc3IDQ0LjU0TDgzLjU3IDQ1LjE4TDgyLjM1IDQ1Ljc5TDgxLjExIDQ2LjM3TDc5Ljg3IDQ2LjkyTDc4LjYxIDQ3LjQ0TDc3LjMzIDQ3LjkzTDc2LjA0IDQ4LjM5TDc0Ljc0IDQ4LjgyTDczLjQzIDQ5LjIyTDcyLjEgNDkuNThMNzAuNzYgNDkuOTJMNjkuNCA1MC4yM0w2OC4wMyA1MC41MUw2Ni42NSA1MC43Nkw2NS4yNSA1MC45N0w2My44NCA1MS4xNkw2Mi40MiA1MS4zMkw2MC45OCA1MS40NEw1OS41MyA1MS41NEw1OC4wNiA1MS42TDU2LjU4IDUxLjY0TDU1LjA5IDUxLjY0TDUzLjYgNTEuNjJMNTIuMTIgNTEuNTdMNTAuNjYgNTEuNDlMNDkuMjEgNTEuMzhMNDcuNzcgNTEuMjRMNDYuMzQgNTEuMDdMNDQuOTMgNTAuODhMNDMuNTMgNTAuNjZMNDIuMTUgNTAuNDFMNDAuNzggNTAuMTNMMzkuNDIgNDkuODJMMzguMDggNDkuNDlMMzYuNzUgNDkuMTJMMzUuNDMgNDguNzNMMzQuMTMgNDguMzFMMzIuODQgNDcuODZMMzEuNTYgNDcuMzlMMzAuMyA0Ni44OEwyOS4wNSA0Ni4zNUwyNy44MSA0NS43OUwyNi41OSA0NS4yTDI1LjM4IDQ0LjU4TDI0LjE4IDQzLjk0TDIzIDQzLjI2TDIxLjgzIDQyLjU2TDIwLjY4IDQxLjgzTDE5LjU0IDQxLjA3TDE4LjQxIDQwLjI5TDE3LjI5IDM5LjQ3TDE2LjE5IDM4LjYzTDE1LjEgMzcuNzZMMTQuMDMgMzYuODZMMTIuOTcgMzUuOTNMMTEuOTIgMzQuOTdMMTAuODkgMzMuOTlMOS44NyAzMi45OEw4Ljg2IDMxLjk0TDcuODYgMzAuODdMNi44OCAyOS43N0w1LjkyIDI4LjY0TDU1LjA5IDUuNjRMMTA0LjE1IDI3LjgyTDEwMy4xOSAyOS4wMVpNNTEuNzkgMTMuNjFMNTAuNTQgMTMuODhMNDkuMzMgMTQuMjVMNDguMTcgMTQuNzJMNDcuMDUgMTUuMjdMNDUuOTkgMTUuOTFMNDQuOTkgMTYuNjNMNDQuMDUgMTcuNDNMNDMuMTggMTguMzFMNDIuMzggMTkuMjRMNDEuNjUgMjAuMjVMNDEuMDEgMjEuMzFMNDAuNDYgMjIuNDJMMzkuOTkgMjMuNTlMMzkuNjIgMjQuOEwzOS4zNSAyNi4wNEwzOS4xOSAyNy4zM0wzOS4xMyAyOC42NEwzOS4xOSAyOS45NkwzOS4zNSAzMS4yNEwzOS42MiAzMi40OUwzOS45OSAzMy43TDQwLjQ2IDM0Ljg3TDQxLjAxIDM1Ljk4TDQxLjY1IDM3LjA0TDQyLjM4IDM4LjA0TDQzLjE4IDM4Ljk4TDQ0LjA1IDM5Ljg2TDQ0Ljk5IDQwLjY1TDQ1Ljk5IDQxLjM4TDQ3LjA1IDQyLjAyTDQ4LjE3IDQyLjU3TDQ5LjMzIDQzLjA0TDUwLjU0IDQzLjQxTDUxLjc5IDQzLjY4TDUzLjA3IDQzLjg0TDU0LjM5IDQzLjlMNTUuNyA0My44NEw1Ni45OSA0My42OEw1OC4yNCA0My40MUw1OS40NCA0My4wNEw2MC42MSA0Mi41N0w2MS43MiA0Mi4wMkw2Mi43OCA0MS4zOEw2My43OSA0MC42NUw2NC43MyAzOS44Nkw2NS42IDM4Ljk4TDY2LjQgMzguMDRMNjcuMTIgMzcuMDRMNjcuNzYgMzUuOThMNjguMzIgMzQuODdMNjguNzggMzMuN0w2OS4xNSAzMi40OUw2OS40MiAzMS4yNEw2OS41OCAyOS45Nkw2OS42NCAyOC42NEw2OS41OCAyNy4zM0w2OS40MiAyNi4wNEw2OS4xNSAyNC44TDY4Ljc4IDIzLjU5TDY4LjMyIDIyLjQyTDY3Ljc2IDIxLjMxTDY3LjEyIDIwLjI1TDY2LjQgMTkuMjRMNjUuNiAxOC4zMUw2NC43MyAxNy40M0w2My43OSAxNi42M0w2Mi43OCAxNS45MUw2MS43MiAxNS4yN0w2MC42MSAxNC43Mkw1OS40NCAxNC4yNUw1OC4yNCAxMy44OEw1Ni45OSAxMy42MUw1NS43IDEzLjQ1TDU0LjM5IDEzLjM5TDUzLjA3IDEzLjQ1TDUxLjc5IDEzLjYxWiIgaWQ9ImIzZHhnVUpTTFciPjwvcGF0aD4KICAgICAgICA8cGF0aCBkPSJNNjYuMTEgMjguODJDNjYuMTEgMzUuMzUgNjAuOCA0MC42NiA1NC4yNyA0MC42NkM0Ny43NCA0MC42NiA0Mi40MyAzNS4zNSA0Mi40MyAyOC44MkM0Mi40MyAyMi4yOSA0Ny43NCAxNi45OCA1NC4yNyAxNi45OEM2MC44IDE2Ljk4IDY2LjExIDIyLjI5IDY2LjExIDI4LjgyWiIgaWQ9ImU0ZXBvZkxQV0wiPjwvcGF0aD4KICAgIDwvZGVmcz4KICAgIDxnPgogICAgICAgIDxnPgogICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9IiNiM2R4Z1VKU0xXIiBvcGFjaXR5PSIxIiBmaWxsPSIjNzViM2Q5IiAgZmlsbC1vcGFjaXR5PSIxIj48L3VzZT4KICAgICAgICA8L2c+CiAgICAgICAgPGc+CiAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI2U0ZXBvZkxQV0wiIG9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlPSJ3aGl0ZSIgZmlsbD0iIzZmOGRjNCIgZmlsbC1vcGFjaXR5PSIxIj48L3VzZT4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},ML16:function(e,t,a){var r=a("dtk8");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},Pn3v:function(e,t,a){var r=a("p3/T");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},QjdQ:function(e,t,a){var r=a("tYV+");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},RYGk:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgdmVyc2lvbj0iMS4xIiAKICAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgCiAgICB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQgbWVldCIgdmlld0JveD0iNC45MTc4NjU2NTY3NTI0NCA0LjY0MjkwMjM3NzQwOTk2OCAxMDIuMjMzMjE1NTQ3NzAzMiA1MCIgd2lkdGg9Ijk4LjIzIiBoZWlnaHQ9IjQ2Ij4KICAgIDxkZWZzPgogICAgICAgIDxwYXRoIGQ9Ik0xMDMuMTkgMjkuMDFMMTAyLjIyIDMwLjE2TDEwMS4yMyAzMS4yOUwxMDAuMjMgMzIuMzhMOTkuMjEgMzMuNDVMOTguMTggMzQuNDhMOTcuMTQgMzUuNDlMOTYuMDggMzYuNDZMOTUuMDEgMzcuNDFMOTMuOTMgMzguMzJMOTIuODMgMzkuMkw5MS43MiA0MC4wNkw5MC42IDQwLjg4TDg5LjQ2IDQxLjY3TDg4LjMxIDQyLjQzTDg3LjE0IDQzLjE2TDg1Ljk2IDQzLjg3TDg0Ljc3IDQ0LjU0TDgzLjU3IDQ1LjE4TDgyLjM1IDQ1Ljc5TDgxLjExIDQ2LjM3TDc5Ljg3IDQ2LjkyTDc4LjYxIDQ3LjQ0TDc3LjMzIDQ3LjkzTDc2LjA0IDQ4LjM5TDc0Ljc0IDQ4LjgyTDczLjQzIDQ5LjIyTDcyLjEgNDkuNThMNzAuNzYgNDkuOTJMNjkuNCA1MC4yM0w2OC4wMyA1MC41MUw2Ni42NSA1MC43Nkw2NS4yNSA1MC45N0w2My44NCA1MS4xNkw2Mi40MiA1MS4zMkw2MC45OCA1MS40NEw1OS41MyA1MS41NEw1OC4wNiA1MS42TDU2LjU4IDUxLjY0TDU1LjA5IDUxLjY0TDUzLjYgNTEuNjJMNTIuMTIgNTEuNTdMNTAuNjYgNTEuNDlMNDkuMjEgNTEuMzhMNDcuNzcgNTEuMjRMNDYuMzQgNTEuMDdMNDQuOTMgNTAuODhMNDMuNTMgNTAuNjZMNDIuMTUgNTAuNDFMNDAuNzggNTAuMTNMMzkuNDIgNDkuODJMMzguMDggNDkuNDlMMzYuNzUgNDkuMTJMMzUuNDMgNDguNzNMMzQuMTMgNDguMzFMMzIuODQgNDcuODZMMzEuNTYgNDcuMzlMMzAuMyA0Ni44OEwyOS4wNSA0Ni4zNUwyNy44MSA0NS43OUwyNi41OSA0NS4yTDI1LjM4IDQ0LjU4TDI0LjE4IDQzLjk0TDIzIDQzLjI2TDIxLjgzIDQyLjU2TDIwLjY4IDQxLjgzTDE5LjU0IDQxLjA3TDE4LjQxIDQwLjI5TDE3LjI5IDM5LjQ3TDE2LjE5IDM4LjYzTDE1LjEgMzcuNzZMMTQuMDMgMzYuODZMMTIuOTcgMzUuOTNMMTEuOTIgMzQuOTdMMTAuODkgMzMuOTlMOS44NyAzMi45OEw4Ljg2IDMxLjk0TDcuODYgMzAuODdMNi44OCAyOS43N0w1LjkyIDI4LjY0TDU1LjA5IDUuNjRMMTA0LjE1IDI3LjgyTDEwMy4xOSAyOS4wMVpNNTEuNzkgMTMuNjFMNTAuNTQgMTMuODhMNDkuMzMgMTQuMjVMNDguMTcgMTQuNzJMNDcuMDUgMTUuMjdMNDUuOTkgMTUuOTFMNDQuOTkgMTYuNjNMNDQuMDUgMTcuNDNMNDMuMTggMTguMzFMNDIuMzggMTkuMjRMNDEuNjUgMjAuMjVMNDEuMDEgMjEuMzFMNDAuNDYgMjIuNDJMMzkuOTkgMjMuNTlMMzkuNjIgMjQuOEwzOS4zNSAyNi4wNEwzOS4xOSAyNy4zM0wzOS4xMyAyOC42NEwzOS4xOSAyOS45NkwzOS4zNSAzMS4yNEwzOS42MiAzMi40OUwzOS45OSAzMy43TDQwLjQ2IDM0Ljg3TDQxLjAxIDM1Ljk4TDQxLjY1IDM3LjA0TDQyLjM4IDM4LjA0TDQzLjE4IDM4Ljk4TDQ0LjA1IDM5Ljg2TDQ0Ljk5IDQwLjY1TDQ1Ljk5IDQxLjM4TDQ3LjA1IDQyLjAyTDQ4LjE3IDQyLjU3TDQ5LjMzIDQzLjA0TDUwLjU0IDQzLjQxTDUxLjc5IDQzLjY4TDUzLjA3IDQzLjg0TDU0LjM5IDQzLjlMNTUuNyA0My44NEw1Ni45OSA0My42OEw1OC4yNCA0My40MUw1OS40NCA0My4wNEw2MC42MSA0Mi41N0w2MS43MiA0Mi4wMkw2Mi43OCA0MS4zOEw2My43OSA0MC42NUw2NC43MyAzOS44Nkw2NS42IDM4Ljk4TDY2LjQgMzguMDRMNjcuMTIgMzcuMDRMNjcuNzYgMzUuOThMNjguMzIgMzQuODdMNjguNzggMzMuN0w2OS4xNSAzMi40OUw2OS40MiAzMS4yNEw2OS41OCAyOS45Nkw2OS42NCAyOC42NEw2OS41OCAyNy4zM0w2OS40MiAyNi4wNEw2OS4xNSAyNC44TDY4Ljc4IDIzLjU5TDY4LjMyIDIyLjQyTDY3Ljc2IDIxLjMxTDY3LjEyIDIwLjI1TDY2LjQgMTkuMjRMNjUuNiAxOC4zMUw2NC43MyAxNy40M0w2My43OSAxNi42M0w2Mi43OCAxNS45MUw2MS43MiAxNS4yN0w2MC42MSAxNC43Mkw1OS40NCAxNC4yNUw1OC4yNCAxMy44OEw1Ni45OSAxMy42MUw1NS43IDEzLjQ1TDU0LjM5IDEzLjM5TDUzLjA3IDEzLjQ1TDUxLjc5IDEzLjYxWiIgaWQ9ImExcGtjZVVMNDQiPjwvcGF0aD4KICAgICAgICA8cGF0aCBkPSJNNjYuMTEgMjguODJDNjYuMTEgMzUuMzUgNjAuOCA0MC42NiA1NC4yNyA0MC42NkM0Ny43NCA0MC42NiA0Mi40MyAzNS4zNSA0Mi40MyAyOC44MkM0Mi40MyAyMi4yOSA0Ny43NCAxNi45OCA1NC4yNyAxNi45OEM2MC44IDE2Ljk4IDY2LjExIDIyLjI5IDY2LjExIDI4LjgyWiIgaWQ9ImRqWGR6bnhlSSI+PC9wYXRoPgogICAgPC9kZWZzPgogICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCw0MCkiPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsLTQwKSI+CiAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI2ExcGtjZVVMNDQiIG9wYWNpdHk9IjEiIGZpbGw9IiNkMmQyZDIiIGZpbGwtb3BhY2l0eT0iMSI+PC91c2U+CiAgICAgICAgPC9nPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsLTQwKSI+CiAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI2RqWGR6bnhlSSIgb3BhY2l0eT0iMSIgZmlsbD0iI2JmYmZiZiIgZmlsbC1vcGFjaXR5PSIxIj48L3VzZT4KICAgICAgICA8L2c+CiAgICAgICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIgogICAgICAgICAgICAgdHlwZT0ic2NhbGUiCiAgICAgICAgICAgICBhZGRpdGl2ZT0ic3VtIiAKICAgICAgICAgICAgIGZyb209IjEgMSIKICAgICAgICAgICAgIHRvPSIxIDEiCiAgICAgICAgICAgICBiZWdpbj0iMHMiCiAgICAgICAgICAgICBkdXI9IjFzIgogICAgICAgICAgICAgdmFsdWVzPSIxIDE7IDEgMTsgMSAwOyAxIDE7IDEgMTsgMSAwOyAxIDE7IDEgMDsgMSAxIgogICAgICAgICAgICAga2V5VGltZXM9IjA7IDAuMzsgMC40OyAwLjU7IDAuNzsgMC43NjsgMC44OyAwLjk7IDEiCiAgICAgICAgICAgICByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIKICAgICAgICAvPgogICAgPC9nPgo8L3N2Zz4="},SKq3:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",(function(){return MetricList})),__webpack_require__.d(__webpack_exports__,"e",(function(){return MetricHistory})),__webpack_require__.d(__webpack_exports__,"h",(function(){return MetricVersonCompare})),__webpack_require__.d(__webpack_exports__,"i",(function(){return ProbeVersionLink})),__webpack_require__.d(__webpack_exports__,"b",(function(){return ListOfMetrics})),__webpack_require__.d(__webpack_exports__,"d",(function(){return MetricForm})),__webpack_require__.d(__webpack_exports__,"a",(function(){return CompareMetrics})),__webpack_require__.d(__webpack_exports__,"c",(function(){return MetricChange})),__webpack_require__.d(__webpack_exports__,"g",(function(){return MetricVersionDetails}));var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("pVnL"),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("lSNA"),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("o0o1"),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("yXPU"),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("lwsE"),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("W8MJ"),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("PJYZ"),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("7W2i"),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("a1gu"),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_8__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("Nsbk"),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_9__),react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("q1tI"),react__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__),_DataManager__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("a/x8"),react_router_dom__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("55Ip"),_UIElements__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("29KK"),react_table__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("0enf"),formik__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("KYPV"),reactstrap__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("ok1R"),reactstrap__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("rhny"),reactstrap__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("3OM0"),reactstrap__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("sOKU"),reactstrap__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("aLZG"),reactstrap__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("jrRI"),reactstrap__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("q7Gj"),reactstrap__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("re1l"),reactstrap__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("0E8A"),reactstrap__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("iqOp"),reactstrap__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("glTy"),reactstrap__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("YGfb"),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("IP2g"),_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("wHSu"),react_notifications__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("of9s"),react_notifications__WEBPACK_IMPORTED_MODULE_30___default=__webpack_require__.n(react_notifications__WEBPACK_IMPORTED_MODULE_30__),react_diff_viewer__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("XNy0"),react_diff_viewer__WEBPACK_IMPORTED_MODULE_31___default=__webpack_require__.n(react_diff_viewer__WEBPACK_IMPORTED_MODULE_31__);function _createSuper2(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_9___default()(e);if(t()){var n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_9___default()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_8___default()(this,a)}}var MetricList=ListOfMetrics("metric"),MetricHistory=Object(_UIElements__WEBPACK_IMPORTED_MODULE_13__.j)("metric"),MetricVersonCompare=CompareMetrics("metric"),DefaultFilterComponent=function(e){var t=e.value,a=e.onChange,r=e.field;return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("input",{type:"text",placeholder:"Search by "+r,value:t,onChange:a,style:{width:"100%"}})};function validateConfig(e){var t;return e||(t="Required"),t}var InlineDiffElement=function(e){for(var t=e.title,a=e.item1,r=e.item2,n=Math.max(a.length,r.length),i=[],o=0;o<a.length;o++)i.push("key: "+a[o].key+", value: "+a[o].value);for(var s=[],c=0;c<r.length;c++)s.push("key: "+r[c].key+", value: "+r[c].value);if(a.length>r.length)for(var l=r.length;l<a.length;l++)s.push(" ");else if(r.length>a.length)for(var u=a.length;u<r.length;u++)i.push(" ");for(var m=[],d=0;d<n;d++)m.push(react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(react_diff_viewer__WEBPACK_IMPORTED_MODULE_31___default.a,{oldValue:s[d],newValue:i[d],showDiffOnly:!0,splitView:!1,hideLineNumbers:!0,disableWordDiff:!0,key:"diff-"+d}));return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},t),m)};function arraysEqual(e,t){if(e.length!==t.length)return!1;for(var a=e.length;a--;)if(e[a].key!==t[a].key||e[a].value!==t[a].value)return!1;return!0}var InlineFields=function(e){var t=e.values,a=e.errors,r=e.field,n=e.addnew,i=void 0!==n&&n,o=e.readonly,s=void 0!==o&&o;return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase",hidden:"Passive"===t.type&&"flags"!==r},r.replace("_"," ")),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_15__.b,{name:r,render:function(e){return t[r]&&t[r].length>0?t[r].map((function(n,o){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_10___default.a.Fragment,{key:"fragment.".concat(r,".").concat(o)},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_16__.a,null,react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_17__.a,{md:5},0===o&&react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_18__.a,{hidden:"Passive"===t.type&&"flags"!==r,for:"".concat(r,".0.key")},"Key")),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_17__.a,{md:5},0===o&&react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_18__.a,{hidden:"Passive"===t.type&&"flags"!==r,for:"".concat(r,".0.value")},"Value"))),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_16__.a,null,react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_17__.a,{md:5},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_15__.a,{type:"text",name:"".concat(r,".").concat(o,".key"),id:"".concat(r,".").concat(o,".key"),className:"form-control ".concat(t[r][o].isNew&&"border-success"),readOnly:!i||"config"===r||"Passive"===t.type&&"PASSIVE"===n.key,hidden:"Passive"===t.type&&"flags"!==r})),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_17__.a,{md:5},"Active"===t.type&&"config"===r?react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_15__.a,{type:"text",name:"".concat(r,".").concat(o,".value"),id:"".concat(r,".").concat(o,".value"),className:"form-control ".concat(a.config&&a.config[o]&&"border-danger"),readOnly:s||!i&&"config"===r&&"path"===n.key,validate:validateConfig}):react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_15__.a,{type:"text",name:"".concat(r,".").concat(o,".value"),id:"".concat(r,".").concat(o,".value"),className:"form-control ".concat(t[r][o].isNew&&"border-success"),style:{overflowX:"auto"},readOnly:s||!i&&("config"!==r||"config"===r&&"path"===n.key)||"Passive"===t.type&&"PASSIVE"===n.key,hidden:"Passive"===t.type&&"flags"!==r}),a.config&&"config"===r&&a.config[o]&&Object(_UIElements__WEBPACK_IMPORTED_MODULE_13__.h)(a.config[o].value)),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_17__.a,{md:2},i&&"config"!==r&&(""!==t[r][0].key||""!==t[r][0].value||t[r].length>1)&&react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_19__.a,{hidden:"Passive"===t.type&&"flags"!==r||"flags"===r&&"Passive"===t.type&&("PASSIVE"===t[r][o].key||""===t[r][o].key&&""===t[r][o].value),size:"sm",color:"danger",type:"button",onClick:function(){e.remove(o),1===t[r].length&&e.push({key:"",value:""})}},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_28__.a,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_29__.k})))),i&&"config"!==r&&o===t[r].length-1&&react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_16__.a,{className:"Passive"===t.type?"mt-0":"mt-2"},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_17__.a,{md:2},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_19__.a,{hidden:"Passive"===t.type&&"flags"!==r,size:"sm",color:"success",type:"button",onClick:function(){return e.push({key:"",value:"",isNew:!0})}},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_28__.a,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_29__.l})," Add another ","s"===r.slice(-1)?r.slice(0,-1).replace("_"," "):r.replace("_"," ")))))})):react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_10___default.a.Fragment,{key:"fragment.".concat(r)},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_16__.a,null,react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_17__.a,{md:5},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_18__.a,{to:"empty-key",hidden:"Passive"===t.type&&"flags"!==r},"Key"),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_15__.a,{type:"text",className:"form-control",value:"",id:"empty-key",readOnly:!i,hidden:"Passive"===t.type&&"flags"!==r})),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_17__.a,{md:5},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_18__.a,{to:"empty-value",hidden:"Passive"===t.type&&"flags"!==r},"Value"),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_15__.a,{type:"text",value:"",className:"form-control",id:"empty-value",readOnly:!i,hidden:"Passive"===t.type&&"flags"!==r}))),i&&react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_16__.a,{className:"Passive"===t.type?"mt-0":"mt-2"},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_17__.a,{md:2},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_19__.a,{hidden:"Passive"===t.type&&"flags"!==r,size:"sm",color:"success",type:"button",onClick:function(){return e.push({key:"",value:""})}},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_28__.a,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_29__.l})," Add another ","s"===r.slice(-1)?r.slice(0,-1).replace("_"," "):r.replace("_"," ")))))}}))},ProbeVersionLink=function(e){var t=e.probeversion;return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_12__.b,{to:"/ui/probes/"+t.split(" ")[0]+"/history/"+t.split(" ")[1].substring(1,t.split(" ")[1].length-1)},t)};function ListOfMetrics(type){var imp=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(_Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default()(_class,_Component);var _super=_createSuper2(_class),_componentDidMount,_importMetrics;function _class(e){var t;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default()(this,_class),(t=_super.call(this,e)).location=e.location,t.state="metric"===type?{loading:!1,list_metric:null,list_tags:null,list_groups:null,list_types:null,search_name:"",search_probeversion:"",search_type:"",search_group:"",userDetails:void 0}:{loading:!1,list_metric:null,list_types:null,list_ostags:null,search_name:"",search_probeversion:"",search_ostag:"",search_type:"",selected:{},selectAll:0,userDetails:void 0},t.backend=new _DataManager__WEBPACK_IMPORTED_MODULE_11__.a,t.doFilter=t.doFilter.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t)),t.toggleRow=t.toggleRow.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t)),t.importMetrics=t.importMetrics.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t)),t}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5___default()(_class,[{key:"doFilter",value:function doFilter(list_metric,field,filter){return list_metric.filter((function(row){return eval("row.".concat(field)).toLowerCase().includes(filter.toLowerCase())}))}},{key:"toggleRow",value:function(e){var t=Object.assign({},this.state.selected);t[e]=!this.state.selected[e],this.setState({selected:t,selectAll:2})}},{key:"toggleSelectAll",value:function(){var e=this,t=this.state.list_metric;this.state.search_name&&(t=this.doFilter(t,"name",this.state.search_name)),this.state.search_probeversion&&(t=this.doFilter(t,"probeversion",this.state.search_probeversion)),this.state.search_type&&(t=this.doFilter(t,"mtype",this.state.search_type)),this.state.search_ostag&&(t=t.filter((function(t){return"".concat(t.ostag.join(", ")).includes(e.state.search_ostag)})));var a={};0===this.state.selectAll&&t.forEach((function(e){a[e.name]=!0})),this.setState({selected:a,selectAll:0===this.state.selectAll?1:0})}},{key:"importMetrics",value:(_importMetrics=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(){var t,a,r;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.selected,!(Object.keys(t).length>0)){e.next=13;break}return e.next=5,this.backend.importMetrics({metrictemplates:Object.keys(t)});case 5:return a=e.sent,e.next=8,a.json();case 8:(r=e.sent).imported&&react_notifications__WEBPACK_IMPORTED_MODULE_30__.NotificationManager.success(r.imported,"Imported"),r.err&&react_notifications__WEBPACK_IMPORTED_MODULE_30__.NotificationManager.warning(r.err,"Not imported"),e.next=14;break;case 13:react_notifications__WEBPACK_IMPORTED_MODULE_30__.NotificationManager.error("No metric templates were selected!","Error");case 14:case 15:case"end":return e.stop()}}),e,this)}))),function(){return _importMetrics.apply(this,arguments)})},{key:"componentDidMount",value:(_componentDidMount=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(){var t,a,r,n,i,o,s,c;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.backend.isTenantSchema();case 3:return t=e.sent,e.next=6,this.backend.isActiveSession(t);case 6:if(!(a=e.sent).active){e.next=31;break}if("metric"!==type){e.next=21;break}return e.next=11,this.backend.fetchData("/api/v2/internal/metric");case 11:return r=e.sent,e.next=14,this.backend.fetchResult("/api/v2/internal/usergroups");case 14:return n=e.sent,e.next=17,this.backend.fetchData("/api/v2/internal/mtypes");case 17:i=e.sent,this.setState({list_metric:r,list_groups:n.metrics,list_types:i,loading:!1,search_name:"",search_probeversion:"",search_group:"",search_type:"",userDetails:a.userdetails}),e.next=31;break;case 21:return e.next=23,this.backend.fetchData("/api/v2/internal/metrictemplates".concat(imp?"-import":""));case 23:return o=e.sent,e.next=26,this.backend.fetchData("/api/v2/internal/mttypes");case 26:return s=e.sent,e.next=29,this.backend.fetchData("/api/v2/internal/ostags");case 29:c=e.sent,this.setState({list_metric:o,list_types:s,list_ostags:c,loading:!1,search_name:"",search_probeversion:"",search_type:"",search_ostag:"",userDetails:a.userdetails});case 31:case 32:case"end":return e.stop()}}),e,this)}))),function(){return _componentDidMount.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=void 0;t="metric"===type?"/ui/metrics/":imp?"/ui/administration/metrictemplates/":"/ui/metrictemplates/";var a=[{Header:"Name",id:"name",minWidth:100,accessor:function(a){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_12__.b,{to:imp?"CentOS 6"===e.state.search_ostag&&a.centos6_probeversion?"".concat(t).concat(a.name,"/history/").concat(a.centos6_probeversion.split(" ")[1].substring(1,a.centos6_probeversion.split(" ")[1].length-1)):"CentOS 7"===e.state.search_ostag&&a.centos7_probeversion?"".concat(t).concat(a.name,"/history/").concat(a.centos7_probeversion.split(" ")[1].substring(1,a.centos7_probeversion.split(" ")[1].length-1)):"".concat(t).concat(a.name):"".concat(t).concat(a.name)},a.name)},filterable:!0,Filter:react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(DefaultFilterComponent,{field:"name",value:this.state.search_name,onChange:function(t){return e.setState({search_name:t.target.value})}})},{Header:"Probe version",id:"probeversion",minWidth:80,accessor:function(t){return t.probeversion?react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(ProbeVersionLink,{probeversion:imp?"CentOS 6"===e.state.search_ostag&&t.centos6_probeversion?t.centos6_probeversion:"CentOS 7"===e.state.search_ostag&&t.centos7_probeversion?t.centos7_probeversion:t.probeversion:t.probeversion}):""},Cell:function(e){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("div",{style:{textAlign:"center"}},e.value)},filterable:!0,Filter:react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(DefaultFilterComponent,{field:"probe version",value:this.state.search_probeversion,onChange:function(t){return e.setState({search_probeversion:t.target.value})}})},{Header:"Type",minWidth:30,accessor:"mtype",Cell:function(e){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("div",{style:{textAlign:"center"}},e.value)},filterable:!0,Filter:react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_13__.g,{value:this.state.mtype,onChange:function(t){return e.setState({search_type:t.target.value})},data:this.state.list_types})}];imp&&this.state.userDetails&&this.state.userDetails.is_superuser?a.splice(0,0,{id:"checkbox",accessor:"",Cell:function(t){var a=t.original;return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("input",{type:"checkbox",className:"checkbox",checked:!0===e.state.selected[a.name],onChange:function(){return e.toggleRow(a.name)}}))},Header:"Select all",Filter:react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("input",{type:"checkbox",className:"checkbox",checked:1===this.state.selectAll,ref:function(t){t&&(t.indeterminate=2===e.state.selectAll)},onChange:function(){return e.toggleSelectAll()}})),filterable:!0,sortable:!1,minWidth:12}):a.splice(0,0,{Header:"#",id:"row",minWidth:12,Cell:function(e){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("div",{style:{textAlign:"center"}},e.index+1)}}),"metric"===type&&a.splice(4,0,{Header:"Group",minWidth:30,accessor:"group",Cell:function(e){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("div",{style:{textAlign:"center"}},e.value)},filterable:!0,Filter:react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_13__.g,{value:this.state.search_group,onChange:function(t){return e.setState({search_group:t.target.value})},data:this.state.list_groups})}),imp&&a.splice(4,0,{Header:"OS",minWidth:30,accessor:"ostag",Cell:function(e){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("div",{style:{textAlign:"center"}},e.value.join(", "))},filterable:!0,Filter:react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_13__.g,{value:this.state.ostag,onChange:function(t){return e.setState({search_ostag:t.target.value})},data:this.state.list_ostags})});var r=this.state,n=r.loading,i=r.list_metric;return this.state.search_name&&(i=this.doFilter(i,"name",this.state.search_name)),this.state.search_probeversion&&(i=this.doFilter(i,"probeversion",this.state.search_probeversion)),this.state.search_type&&(i=this.doFilter(i,"mtype",this.state.search_type)),this.state.search_ostag&&(i=i.filter((function(t){return"".concat(t.ostag.join(", ")).toLowerCase().includes(e.state.search_ostag.toLowerCase())}))),"metric"===type&&this.state.search_group&&(i=this.doFilter(i,"group",this.state.search_group)),n?react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_13__.l,null):!n&&i&&this.state.userDetails?"metric"===type?react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_13__.b,{resourcename:"metric",location:this.location,listview:!0,addnew:!1},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(react_table__WEBPACK_IMPORTED_MODULE_14__.a,{data:i,columns:a,className:"-highlight",defaultPageSize:50,rowsText:"metrics",getTheadThProps:function(){return{className:"table-active font-weight-bold p-2"}}})):imp?react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_10___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Select metric template".concat(this.state.userDetails.is_superuser?"(s) to import":" for details")),this.state.userDetails.is_superuser&&react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_19__.a,{className:"btn btn-secondary",disabled:!this.state.search_ostag,onClick:function(){return e.importMetrics()}},"Import")),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},!this.state.search_ostag&&react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_20__.a,{color:"danger"},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("center",null,react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_28__.a,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_29__.i,size:"lg",color:"black"}),"   You should choose OS for import.")),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(react_table__WEBPACK_IMPORTED_MODULE_14__.a,{data:i,columns:a,className:"-highlight",defaultPageSize:50,rowsText:"metrics",getTheadThProps:function(){return{className:"table-active font-weight-bold p-2"}}}))):react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_13__.b,{resourcename:"metric template",location:this.location,listview:!imp,importlistview:imp,addnew:!0},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(react_table__WEBPACK_IMPORTED_MODULE_14__.a,{data:i,columns:a,className:"-striped -highlight",defaultPageSize:50,rowsText:"metrics",getTheadThProps:function(){return{className:"table-active font-weight-bold p-2"}}})):null}}]),_class}(react__WEBPACK_IMPORTED_MODULE_10__.Component)}var MetricForm=function(e){var t=e.values,a=void 0===t?void 0:t,r=e.errors,n=void 0===r?{name:void 0,probeversion:void 0,probeexecutable:void 0}:r,i=e.setFieldValue,o=void 0===i?void 0:i,s=e.handleChange,c=e.obj,l=void 0===c?"":c,u=e.state,m=void 0===u?void 0:u,d=e.togglePopOver,_=void 0===d?void 0:d,p=e.onSelect,f=void 0===p?void 0:p,h=e.isHistory,g=void 0!==h&&h,E=e.isTenantSchema,v=void 0!==E&&E,b=e.addview,M=void 0!==b&&b,y=e.probeversions,D=void 0===y?[]:y,O=e.groups,k=void 0===O?[]:O,w=e.metrictemplatelist,A=void 0===w?[]:w,P=e.types,x=void 0===P?[]:P;return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_10___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_21__.a,null,react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_16__.a,{className:"mb-3"},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_17__.a,{md:4},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_22__.a,null,react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_23__.a,{addonType:"prepend"},"Name"),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_15__.a,{type:"text",name:"name",className:"form-control ".concat(n.name&&"border-danger"),id:"name",readOnly:g||v})),n.name&&Object(_UIElements__WEBPACK_IMPORTED_MODULE_13__.h)(n.name),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_24__.a,{color:"muted"},"Metric name.")),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_17__.a,{md:4},"Passive"===a.type?react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_22__.a,null,react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_23__.a,{addonType:"prepend"},"Probe"),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("input",{type:"text",className:"form-control",disabled:!0,id:"passive-probeversion"})):g||v&&"metrictemplate"===l?react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_22__.a,null,react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_23__.a,{addonType:"prepend"},"Probe"),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_15__.a,{type:"text",name:"probeversion",className:"form-control",id:"probeversion",disabled:!0})):v&&"metric"===l?react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_22__.a,null,react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_23__.a,{addonType:"prepend"},"Probe"),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_15__.a,{component:"select",name:"probeversion",className:"form-control custom-select",id:"probeversion",onChange:function(e){return f("probeversion",e.target.value)}},D.map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("option",{key:t,value:e},e)})))):react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_13__.a,{setFieldValue:o,lists:D,icon:"probes",field:"probeversion",val:a.probeversion,onselect_handler:f,req:n.probeversion,label:"Probe"}),n.probeversion&&Object(_UIElements__WEBPACK_IMPORTED_MODULE_13__.h)(n.probeversion),"Active"===a.type&&react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_24__.a,{color:"muted"},"Probe name and version",!g&&react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_10___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_28__.a,{id:"probe-popover",hidden:"Passive"==="state.".concat(l,".mtype")||M,icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_29__.i,style:{color:"#416090"}}),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_25__.a,{placement:"bottom",isOpen:m.popoverOpen,target:"probe-popover",toggle:_,trigger:"click"},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_26__.a,null,react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(ProbeVersionLink,{probeversion:"metric"===l?m.metric.probeversion:m.metrictemplate.probeversion})),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_27__.a,null,m.probe.description))))),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_17__.a,{md:2},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_22__.a,null,react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_23__.a,{addonType:"prepend"},"Type"),v||g?react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_15__.a,{type:"text",name:"type",className:"form-control",id:"mtype",readOnly:!0}):react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_15__.a,{component:"select",name:"type",className:"form-control custom-select",id:"mtype",onChange:function(e){if(s(e),"Passive"===e.target.value){var t=a.flags.length;1===t&&""===a.flags[0].key?(o("flags[0].key","PASSIVE"),o("flags[0].value","1")):(o("flags[".concat(t,"].key"),"PASSIVE"),o("flags[".concat(t,"].value"),"1"))}else if("Active"===e.target.value){var r=void 0;a.flags.forEach((function(e,t){"PASSIVE"===e.key&&(r=t)})),1===a.flags.length?a.flags.splice(r,1,{key:"",value:""}):a.flags.splice(r,1)}}},x.map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("option",{key:t,value:e},e)})))),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_24__.a,{color:"muted"},"Metric is of given type."))),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_16__.a,{className:"mb-4"},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_17__.a,{md:10},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_18__.a,{for:"description"},"Description:"),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_15__.a,{id:"description",className:"form-control",component:"textarea",name:"description",disabled:v||g}))),"metric"===l&&react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_16__.a,{className:"mb-4"},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_17__.a,{md:3},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_22__.a,null,react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_23__.a,{addonType:"prepend"},"Group"),g?react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_15__.a,{type:"text",name:"group",className:"form-control",disabled:!0,id:"group"}):react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_15__.a,{component:"select",name:"group",className:"form-control custom-select",id:"group"},k.map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("option",{key:t,value:e},e)})))),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_24__.a,{color:"muted"},"Metric is member of selected group.")))),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_21__.a,null,react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Metric configuration"),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase",hidden:"Passive"===a.type},"probe executable"),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_16__.a,null,react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_17__.a,{md:5},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_15__.a,{type:"text",name:"probeexecutable",id:"probeexecutable",className:"form-control ".concat(n.probeexecutable&&"border-danger"),hidden:"Passive"===a.type,readOnly:v||g}),n.probeexecutable&&Object(_UIElements__WEBPACK_IMPORTED_MODULE_13__.h)(n.probeexecutable))),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(InlineFields,{values:a,errors:n,field:"config",addnew:!v&&!g,readonly:"metrictemplate"===l&&v||g}),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(InlineFields,{values:a,errors:n,field:"attributes",addnew:!v&&!g}),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(InlineFields,{values:a,errors:n,field:"dependency",addnew:!v&&!g}),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(InlineFields,{values:a,errors:n,field:"parameter",addnew:!v&&!g}),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(InlineFields,{values:a,errors:n,field:"flags",addnew:!v&&!g}),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(InlineFields,{values:a,errors:n,field:"file_attributes",addnew:!v&&!g}),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(InlineFields,{values:a,errors:n,field:"file_parameters",addnew:!v&&!g}),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},"parent"),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_16__.a,null,react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_17__.a,{md:5},v||g?react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_15__.a,{type:"text",name:"parent",id:"parent",className:"form-control",readOnly:!0}):react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_10___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_13__.a,{setFieldValue:o,lists:A,field:"parent",val:a.parent,icon:"metrics",className:"form-control ".concat(n.parent&&"border-danger"),onselect_handler:f,req:n.parent}),n.parent&&Object(_UIElements__WEBPACK_IMPORTED_MODULE_13__.h)(n.parent))))))};function CompareMetrics(e){return function(t){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default()(n,t);var a,r=_createSuper2(n);function n(e){var t;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default()(this,n),(t=r.call(this,e)).version1=e.match.params.id1,t.version2=e.match.params.id2,t.name=e.match.params.name,t.state={loading:!1,name1:"",probeversion1:"",type1:"",group1:"",description1:"",probeexecutable1:"",parent1:"",config1:"",attribute1:"",dependency1:"",parameter1:"",flags1:"",files1:"",fileparameter1:"",name2:"",probeversion2:"",type2:"",group2:"",description2:"",probeexecutable2:"",parent2:"",config2:"",attribute2:"",dependency2:"",parameter2:"",flags2:"",files2:"",fileparameter2:""},t.backend=new _DataManager__WEBPACK_IMPORTED_MODULE_11__.a,t}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5___default()(n,[{key:"componentDidMount",value:(a=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function t(){var a,r,n,i,o,s,c,l,u,m,d,_,p,f,h,g,E,v,b,M,y,D,O,k,w,A,P,x,C,I,S=this;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({loading:!0}),a=void 0,a="metric"===e?"/api/v2/internal/tenantversion/metric/".concat(this.name):"/api/v2/internal/version/metrictemplate/".concat(this.name),t.next=5,this.backend.fetchData(a);case 5:r=t.sent,n="",i="",o="",s="",c="",l="",u="",m="",d="",_="",p="",f="",h="",g="",E="",v="",b="",M="",y="",D="",O="",k="",w="",A="",P="",x="",C="",I="",r.forEach((function(t){t.version==S.version1?(n=t.fields.name,i=t.fields.probeversion,o=t.fields.mtype,"metric"===e?(s=t.fields.group,_=t.fields.dependancy):_=t.fields.dependency,c=t.fields.description,l=t.fields.probeexecutable,u=t.fields.parent,m=t.fields.config,d=t.fields.attribute,h=t.fields.parameter,p=t.fields.flags,f=t.fields.files,g=t.fields.fileparameter):t.version==S.version2&&(E=t.fields.name,v=t.fields.probeversion,b=t.fields.mtype,"metric"===e?(M=t.fields.group,A=t.fields.dependancy):A=t.fields.dependency,y=t.fields.description,D=t.fields.probeexecutable,O=t.fields.parent,k=t.fields.config,w=t.fields.attribute,P=t.fields.flags,x=t.fields.files,C=t.fields.parameter,I=t.fields.fileparameter)})),this.setState({name1:n,probeversion1:i,type1:o,group1:s,description1:c,probeexecutable1:l,parent1:u,config1:m,attribute1:d,dependency1:_,parameter1:h,flags1:p,files1:f,fileparameter1:g,name2:E,probeversion2:v,type2:b,group2:M,description2:y,probeexecutable2:D,parent2:O,config2:k,attribute2:w,dependency2:A,parameter2:C,flags2:P,files2:x,fileparameter2:I,loading:!1});case 36:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.name1,a=e.name2,r=e.probeversion1,n=e.probeversion2,i=e.type1,o=e.type2,s=e.probeexecutable1,c=e.probeexecutable2,l=e.parent1,u=e.parent2,m=e.config1,d=e.config2,_=e.attribute1,p=e.attribute2,f=e.dependency1,h=e.dependency2,g=e.parameter1,E=e.parameter2,v=e.flags1,b=e.flags2,M=e.files1,y=e.files2,D=e.fileparameter1,O=e.fileparameter2,k=e.group1,w=e.group2,A=e.loading,P=e.description1,x=e.description2;return A?react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_13__.l,null):!A&&t&&a?react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_10___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Compare ".concat(this.name))),t!==a&&react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_13__.e,{title:"name",item1:t,item2:a}),r!==n&&react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_13__.e,{title:"probe version",item1:r,item2:n}),i!==o&&react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_13__.e,{title:"type",item1:i,item2:o}),k&&w&&k!==w&&react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_13__.e,{title:"group",item1:k,item2:w}),P!==x&&react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_13__.e,{title:"description",item1:P,item2:x}),s!==c&&react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_13__.e,{title:"probe executable",item1:s,item2:c}),l!==u&&react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_13__.e,{title:"parent",item1:l,item2:u}),!arraysEqual(m,d)&&react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(InlineDiffElement,{title:"config",item1:m,item2:d}),!arraysEqual(_,p)&&react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(InlineDiffElement,{title:"attribute",item1:_,item2:p}),!arraysEqual(f,h)&&react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(InlineDiffElement,{title:"dependency",item1:f,item2:h}),!arraysEqual(g,E)&&react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(InlineDiffElement,{title:"parameter",item1:g,item2:E}),!arraysEqual(v,b)&&react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(InlineDiffElement,{title:"flags",item1:v,item2:b}),!arraysEqual(M,y)&&react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(InlineDiffElement,{title:"file attributes",item1:M,item2:y}),!arraysEqual(D,O)&&react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(InlineDiffElement,{title:"file parameters",item1:D,item2:O})):null}}]),n}(react__WEBPACK_IMPORTED_MODULE_10__.Component)}var MetricChange=function(e){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default()(i,e);var t,a,r,n=_createSuper2(i);function i(e){var t;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default()(this,i),(t=n.call(this,e)).name=e.match.params.name,t.addview=e.addview,t.location=e.location,t.history=e.history,t.backend=new _DataManager__WEBPACK_IMPORTED_MODULE_11__.a,t.state={metric:{},probe:{},groups:[],probeversions:[],metrictemplateversions:[],loading:!1,popoverOpen:!1,write_perm:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},t.toggleAreYouSure=t.toggleAreYouSure.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t)),t.toggleAreYouSureSetModal=t.toggleAreYouSureSetModal.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t)),t.onSubmitHandle=t.onSubmitHandle.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t)),t.doChange=t.doChange.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t)),t.doDelete=t.doDelete.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t)),t.togglePopOver=t.togglePopOver.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t)),t.onSelect=t.onSelect.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(t)),t}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5___default()(i,[{key:"togglePopOver",value:function(){this.setState({popoverOpen:!this.state.popoverOpen})}},{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSelect",value:function(e,t){var a=this,r=this.state.metric;this.state.metrictemplateversions.forEach((function(e){if(e.fields.probeversion===t){var n,i=(n={name:e.fields.name,probeversion:e.fields.probeversion,description:e.fields.description,group:r.group,mtype:e.fields.mtype,probeexecutable:e.fields.probeexecutable,parent:e.fields.parent,config:e.fields.config,attribute:e.fields.attribute,dependancy:e.fields.dependency,parameter:e.fields.parameter,flags:e.fields.flags,files:e.fields.flags},_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(n,"files",e.fields.files),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(n,"fileparameter",e.fields.fileparameter),n);a.setState({metric:i})}}))}},{key:"onSubmitHandle",value:function(e,t){var a=this;this.toggleAreYouSureSetModal("Are you sure you want to change metric?","Change metric",(function(){return a.doChange(e,t)}))}},{key:"doChange",value:(r=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(t,a){var r,n=this;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backend.changeObject("/api/v2/internal/metric/",{name:t.name,mtype:t.type,group:t.group,description:t.description,parent:t.parent,probeversion:t.probeversion,probeexecutable:t.probeexecutable,config:t.config,attribute:t.attributes,dependancy:t.dependency,flags:t.flags,files:t.file_attributes,parameter:t.parameter,fileparameter:t.file_parameters});case 2:(r=e.sent).ok?Object(_UIElements__WEBPACK_IMPORTED_MODULE_13__.o)({msg:"Metric successfully changed",title:"Changed",callback:function(){return n.history.push("/ui/metrics")}}):this.toggleAreYouSureSetModal("Error: ".concat(r.status," ").concat(r.statusText),"Error changing metric",void 0);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"doDelete",value:(a=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(t){var a,r=this;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backend.deleteObject("/api/v2/internal/metric/".concat(t));case 2:(a=e.sent).ok?Object(_UIElements__WEBPACK_IMPORTED_MODULE_13__.o)({msg:"Metric successfully deleted",title:"Deleted",callback:function(){return r.history.push("/ui/metrics")}}):this.toggleAreYouSureSetModal("Error: ".concat(a.status," ").concat(a.statusText),"Error deleting metric",void 0);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"componentDidMount",value:(t=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(){var t,a,r,n,i,o;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),this.addview){e.next=24;break}return e.next=4,this.backend.isActiveSession();case 4:return t=e.sent,e.next=7,this.backend.fetchData("/api/v2/internal/metric/".concat(this.name));case 7:return a=e.sent,e.next=10,this.backend.fetchData("/api/v2/internal/version/metrictemplate/".concat(this.name));case 10:if(r=e.sent,!t.active){e.next=23;break}if(!a.probeversion){e.next=22;break}return e.next=15,this.backend.fetchData("/api/v2/internal/version/probe/".concat(a.probeversion.split(" ")[0]));case 15:n=e.sent,i={},o=[],n.forEach((function(e){o.push(e.object_repr),e.object_repr===a.probeversion&&(i=e.fields)})),this.setState({metric:a,probe:i,probeversions:o,metrictemplateversions:r,groups:t.userdetails.groups.metrics,loading:!1,write_perm:t.userdetails.is_superuser||t.userdetails.groups.metrics.indexOf(a.group)>=0}),e.next=23;break;case 22:this.setState({metric:a,groups:t.userdetails.groups.metrics,loading:!1,write_perm:t.userdetails.is_superuser||t.userdetails.groups.metrics.indexOf(a.group)>=0});case 23:case 24:case 25:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state,a=t.metric,r=t.probeversions,n=t.groups,i=t.loading,o=t.write_perm;return n.includes(a.group)||n.push(a.group),i?react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_13__.l,null):i?void 0:react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_13__.b,{resourcename:"metric",location:this.location,addview:this.addview,modal:!0,state:this.state,toggle:this.toggleAreYouSure,submitperm:o},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_15__.d,{enableReinitialize:!0,initialValues:{name:a.name,probeversion:a.probeversion,description:a.description,type:a.mtype,group:a.group,probeexecutable:a.probeexecutable,parent:a.parent,config:a.config,attributes:a.attribute,dependency:a.dependancy,parameter:a.parameter,flags:a.flags,file_attributes:a.files,file_parameters:a.fileparameter},onSubmit:function(t,a){return e.onSubmitHandle(t,a)},render:function(t){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_15__.c,null,react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(MetricForm,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},t,{obj:"metric",isTenantSchema:!0,state:e.state,onSelect:e.onSelect,togglePopOver:e.togglePopOver,probeversions:r,groups:n})),o&&react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_19__.a,{color:"danger",onClick:function(){e.toggleAreYouSureSetModal("Are you sure you want to delete Metric?","Delete metric",(function(){return e.doDelete(t.values.name)}))}},"Delete"),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_19__.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}}))}}]),i}(react__WEBPACK_IMPORTED_MODULE_10__.Component),MetricVersionDetails=function(e){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default()(r,e);var t,a=_createSuper2(r);function r(e){var t;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default()(this,r),(t=a.call(this,e)).name=e.match.params.name,t.version=e.match.params.version,t.backend=new _DataManager__WEBPACK_IMPORTED_MODULE_11__.a,t.state={name:"",probeversion:"",description:"",mtype:"",group:"",probeexecutable:"",parent:"",config:[],attribute:[],dependancy:[],parameter:[],flags:[],files:[],fileparameter:[],loading:!1},t}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5___default()(r,[{key:"componentDidMount",value:(t=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(){var t=this;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.backend.fetchData("/api/v2/internal/tenantversion/metric/".concat(this.name));case 3:e.sent.forEach((function(e){e.version==t.version&&t.setState({name:e.fields.name,probeversion:e.fields.probeversion,description:e.fields.description,type:e.fields.mtype,group:e.fields.group,probeexecutable:e.fields.probeexecutable,parent:e.fields.parent,config:e.fields.config,attribute:e.fields.attribute,dependancy:e.fields.dependancy,parameter:e.fields.parameter,flags:e.fields.flags,files:e.fields.files,fileparameter:e.fields.fileparameter,date_created:e.date_created,loading:!1})}));case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state,a=t.name,r=t.probeversion,n=t.type,i=t.group,o=t.probeexecutable,s=t.parent,c=t.config,l=t.attribute,u=t.dependancy,m=t.parameter,d=t.flags,_=t.files,p=t.fileparameter,f=t.date_created,h=t.loading,g=t.description;return h?react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_13__.l,null):!h&&a?react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_13__.b,{resourcename:"".concat(a," (").concat(f,")"),infoview:!0},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_15__.d,{initialValues:{name:a,probeversion:r,type:n,group:i,description:g,probeexecutable:o,parent:s,config:c,attributes:l,dependency:u,parameter:m,flags:d,files:_,fileparameter:p},render:function(t){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_15__.c,null,react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(MetricForm,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},t,{obj:"metric",state:e.state,isHistory:!0})))}})):null}}]),r}(react__WEBPACK_IMPORTED_MODULE_10__.Component)},ZnWx:function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,".metricprofiles-autocomplete-menu {\n  display: block;\n  width: 40%;\n  color: #495057;\n  position: absolute;\n  background-color: white;\n  z-index: 1000;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n  overflow-y: auto;\n  max-height: 400px;\n}\n\n.metricprofiles-autocomplete-entries {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #495057;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n.metricprofiles-autocomplete-entries-highlighted {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  background-color: #4A90D9;\n  color: white;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n.ReactTable .rt-thead.-header {\n  box-shadow: none;\n}\n\n.ReactTable .-pagination {\n  box-shadow: none;\n}\n\n.ReactTable .-pagination select {\n  display: inline-block;\n  transition: background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;\n  width: 100%;\n  height: calc(1.5em + .75rem + 2px);\n  padding: .375rem 1.75rem .375rem .75rem;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #495057;\n  vertical-align: middle;\n  background: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e\") no-repeat right .75rem center/8px 10px;\n  background-color: rgba(0, 0, 0, 0);\n  background-color: #fff;\n  border: 1px solid #ced4da;\n  border-radius: .25rem;\n  border-top-left-radius: 0.25rem;\n  border-bottom-left-radius: 0.25rem;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n}\n",""])},"a/x8":function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return _}));var r=a("o0o1"),n=a.n(r),i=a("yXPU"),o=a.n(i),s=a("lwsE"),c=a.n(s),l=a("W8MJ"),u=a.n(l),m=a("9ONQ"),d=function(){function e(){c()(this,e)}var t,a,r,i,s;return u()(e,[{key:"isActiveSession",value:(s=o()(n.a.mark((function e(){var t,a,r=arguments;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(r.length>0&&void 0!==r[0])||r[0],e.prev=1,e.next=4,fetch("/api/v2/internal/sessionactive/".concat(t));case 4:if(!(a=e.sent).ok){e.next=9;break}return e.abrupt("return",a.json());case 9:return e.abrupt("return",!1);case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",!1);case 15:case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),function(){return s.apply(this,arguments)})},{key:"isTenantSchema",value:(i=o()(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v2/internal/istenantschema");case 3:if(!(t=e.sent).ok){e.next=11;break}return e.next=7,t.json();case 7:return a=e.sent,e.abrupt("return",a.isTenantSchema);case 11:return e.abrupt("return",null);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),alert("Something went wrong: ".concat(e.t0));case 17:case 18:case"end":return e.stop()}}),e,null,[[0,14]])}))),function(){return i.apply(this,arguments)})},{key:"fetchData",value:(r=o()(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return a=e.sent,e.abrupt("return",a.json());case 7:e.prev=7,e.t0=e.catch(0),alert("Something went wrong: ".concat(e.t0));case 10:case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(e){return r.apply(this,arguments)})},{key:"fetchListOfNames",value:(a=o()(n.a.mark((function e(t){var a,r,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,i=[],r.forEach((function(e){return i.push(e.name)})),e.abrupt("return",i);case 12:e.prev=12,e.t0=e.catch(0),alert("Something went wrong: ".concat(e.t0));case 15:case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),function(e){return a.apply(this,arguments)})},{key:"fetchResult",value:(t=o()(n.a.mark((function e(t){var a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r.result);case 10:e.prev=10,e.t0=e.catch(0),alert("Something went wrong: ".concat(e.t0));case 13:case 14:case"end":return e.stop()}}),e,null,[[0,10]])}))),function(e){return t.apply(this,arguments)})},{key:"changeObject",value:function(e,t){return this.send(e,"PUT",t)}},{key:"addObject",value:function(e,t){return this.send(e,"POST",t)}},{key:"deleteObject",value:function(e){return this.send(e,"DELETE")}},{key:"importMetrics",value:function(e){return this.send("/api/v2/internal/importmetrics/","POST",e)}},{key:"send",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=new m.a;return fetch(e,{method:t,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":r.get("csrftoken"),Referer:"same-origin"},body:a&&JSON.stringify(a)})}}]),e}(),_=function(){function e(t){var a=t.token,r=void 0===a?void 0:a,n=t.metricProfiles,i=void 0===n?void 0:n,o=t.aggregationProfiles,s=void 0===o?void 0:o,l=t.thresholdsProfiles,u=void 0===l?void 0:l;t.reportsConfigurations;c()(this,e),this.token=r,this.metricprofiles=i,this.aggregationprofiles=s,this.thresholdsprofiles=u}var t,a;return u()(e,[{key:"fetchMetricProfiles",value:(a=o()(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(this.metricprofiles,{headers:{Accept:"application/json","x-api-key":this.token}});case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a.data);case 10:e.prev=10,e.t0=e.catch(0),alert("Something went wrong: ".concat(e.t0));case 13:case 14:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(){return a.apply(this,arguments)})},{key:"fetchMetricProfile",value:function(e){return this.fetchProfile("".concat(this.metricprofiles,"/").concat(e))}},{key:"fetchAggregationProfile",value:function(e){return this.fetchProfile("".concat(this.aggregationprofiles,"/").concat(e))}},{key:"fetchThresholdsProfile",value:function(e){return this.fetchProfile("".concat(this.thresholdsprofiles,"/").concat(e))}},{key:"changeAggregation",value:function(e){return this.changeProfile(this.aggregationprofiles,e)}},{key:"changeMetricProfile",value:function(e){return this.changeProfile(this.metricprofiles,e)}},{key:"changeThresholdsProfile",value:function(e){return this.changeProfile(this.thresholdsprofiles,e)}},{key:"addMetricProfile",value:function(e){return this.addProfile(this.metricprofiles,e)}},{key:"addAggregation",value:function(e){return this.addProfile(this.aggregationprofiles,e)}},{key:"addThresholdsProfile",value:function(e){return this.addProfile(this.thresholdsprofiles,e)}},{key:"deleteMetricProfile",value:function(e){return this.deleteProfile("".concat(this.metricprofiles,"/").concat(e))}},{key:"deleteAggregation",value:function(e){return this.deleteProfile("".concat(this.aggregationprofiles,"/").concat(e))}},{key:"deleteThresholdsProfile",value:function(e){return this.deleteProfile("".concat(this.thresholdsprofiles,"/").concat(e))}},{key:"fetchProfile",value:(t=o()(n.a.mark((function e(t){var a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{headers:{Accept:"application/json","x-api-key":this.token}});case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r.data[0]);case 10:e.prev=10,e.t0=e.catch(0),alert("Something went wrong: ".concat(e.t0));case 13:case 14:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(e){return t.apply(this,arguments)})},{key:"changeProfile",value:function(e,t){return this.send("".concat(e,"/").concat(t.id),"PUT",t)}},{key:"addProfile",value:function(e,t){return this.send(e,"POST",t)}},{key:"deleteProfile",value:function(e){return this.send(e,"DELETE")}},{key:"send",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return fetch(e,{method:t,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","x-api-key":this.token},body:a&&JSON.stringify(a)})}}]),e}()},acgP:function(e,t,a){var r=a("ZnWx");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},b4bE:function(e,t,a){var r=a("s1Uj");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},dLgX:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return r}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function r(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}}).call(this,a("8oxB"))},dtk8:function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,".bodyreact {\n  background-color: #ecf0f5;\n}\n.login-first-row {\n  margin-top: 10%;\n}\n#argo-loginheader {\n  background-color:#416090;\n}\n#argo-loginfooter {\n  background-color:#ffffff;\n}\n",""])},eVqg:function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,".group-operation {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n       appearance: none;\n  text-align: center;\n}\n\n.group-operation > select {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n       appearance: none;\n  text-align: center;\n}\n\n.aggregation-autocomplete-menu {\n  display: block;\n  width: 100%;\n  color: #495057;\n  position: absolute;\n  background-color: white;\n  z-index: 1000;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n  overflow-y: auto;\n  max-height: 400px;\n}\n\n.aggregation-autocomplete-entries {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #495057;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n.aggregation-autocomplete-entries-highlighted {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  background-color: #4A90D9;\n  color: white;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n",""])},f1jT:function(e,t,a){"use strict";a.r(t);var r=a("q1tI"),n=a.n(r),i=a("i8i4"),o=a.n(i),s=a("o0o1"),c=a.n(s),l=a("yXPU"),u=a.n(l),m=a("lwsE"),d=a.n(m),_=a("W8MJ"),p=a.n(_),f=a("PJYZ"),h=a.n(f),g=a("7W2i"),E=a.n(g),v=a("a1gu"),b=a.n(v),M=a("Nsbk"),y=a.n(M),D=a("pVnL"),O=a.n(D),k=a("QILm"),w=a.n(k),A=a("1Yj4"),P=a("ok1R"),x=a("rhny"),C=a("BLzl"),I=a("afej"),S=a("/kxI"),T=a("jrRI"),N=a("3OM0"),L=a("aLZG"),U=a("sOKU"),R=a("cZcL"),j=a("KYPV"),W=a("5tO7"),B=a.n(W),K=(a("ML16"),a("29KK")),z=a("a/x8");var Y=function(e){E()(o,e);var t,a,r,i=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=y()(e);if(t()){var n=y()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return b()(this,a)}}(o);function o(e){var t;return d()(this,o),(t=i.call(this,e))._isMounted=!1,t.state={samlIdpString:null,loginFailedVisible:!1,isTenantSchema:null},t.backend=new z.a,t.dismissLoginAlert=t.dismissLoginAlert.bind(h()(t)),t.AppOnLogin=e.onLogin,t}return p()(o,[{key:"fetchSamlButtonString",value:(r=u()(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v2/internal/config_options");case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),alert("Something went wrong: ".concat(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),function(){return r.apply(this,arguments)})},{key:"componentDidMount",value:(a=u()(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._isMounted=!0,e.next=3,this.backend.isTenantSchema();case 3:if(!0!==(t=e.sent)){e.next=11;break}return e.next=7,this.fetchSamlButtonString();case 7:a=e.sent,this._isMounted&&this.setState({isTenantSchema:t,samlIdpString:a.result.saml_login_string}),e.next=12;break;case 11:!1===t&&this._isMounted&&this.setState({isTenantSchema:t});case 12:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"doUserPassLogin",value:(t=u()(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/rest-auth/login/",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json",Referer:"same-origin"},body:JSON.stringify({username:t,password:a})});case 2:return e.sent,e.abrupt("return",this.backend.isActiveSession(this.state.isTenantSchema));case 4:case"end":return e.stop()}}),e,this)}))),function(e,a){return t.apply(this,arguments)})},{key:"dismissLoginAlert",value:function(){this._isMounted&&this.setState({loginFailedVisible:!1})}},{key:"render",value:function(){var e=this;return null!==this.state.isTenantSchema?n.a.createElement(A.a,null,n.a.createElement(P.a,{className:"login-first-row"},n.a.createElement(x.a,{sm:{size:4,offset:4}},n.a.createElement(C.a,null,n.a.createElement(I.a,{id:"argo-loginheader",className:"d-sm-inline-flex align-items-center justify-content-around"},n.a.createElement("img",{src:B.a,id:"argologo",alt:"ARGO logo"}),n.a.createElement("h4",{className:"text-light"},n.a.createElement("strong",null,"ARGO")," POEM")),n.a.createElement(S.a,null,n.a.createElement(j.d,{initialValues:{username:"",password:""},onSubmit:function(){var t=u()(c.a.mark((function t(a){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.doUserPassLogin(a.username,a.password);case 2:(r=t.sent).active?e.AppOnLogin(r.userdetails,e.props.history):e.setState({loginFailedVisible:!0});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},n.a.createElement(j.c,null,n.a.createElement(T.a,null,n.a.createElement(N.a,{for:"username"},"Username: "),n.a.createElement(j.a,{name:"username",className:"form-control"})),n.a.createElement(T.a,null,n.a.createElement(N.a,{for:"password"},"Password: "),n.a.createElement(j.a,{name:"password",className:"form-control",type:"password"})),n.a.createElement(T.a,null,n.a.createElement(L.a,{color:"danger",isOpen:this.state.loginFailedVisible,toggle:this.dismissLoginAlert,fade:!1},n.a.createElement("p",{className:"text-center"},"Login failed, invalid username and password provided"))),n.a.createElement("div",{className:"pt-3"}),n.a.createElement(T.a,null,n.a.createElement(U.a,{color:"success",type:"submit",block:!0},"Login using username and password"),this.state.isTenantSchema&&n.a.createElement("a",{className:"btn btn-success btn-block",role:"button",href:"/saml2/login"},this.state.samlIdpString))))),n.a.createElement(R.a,{id:"argo-loginfooter"},n.a.createElement(K.i,{loginPage:!0})))))):null}}]),o}(r.Component),Q=a("MVZn"),F=a.n(Q),V=a("lSNA"),H=a.n(V),q=a("RIqP"),G=a.n(q),Z=a("55Ip"),J=a("/8CB"),X=a.n(J),$=a("0enf"),ee=(a("qBGJ"),a("IP2g")),te=a("wHSu"),ae=a("XNy0"),re=a.n(ae),ne=a("lCZi");a("acgP");function ie(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=y()(e);if(t()){var n=y()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return b()(this,a)}}var oe=Object(K.j)("metricprofile"),se=de(!0),ce=de();function le(e,t){return-1!==e.toLowerCase().indexOf(t.toLowerCase())}var ue=ne.object().shape({name:ne.string().required("Required"),groupname:ne.string().required("Required")}),me=function(e){var t=e.serviceflavours_all,a=e.metrics_all,r=e.search_handler,i=e.remove_handler,o=e.insert_handler,s=e.onselect_handler,c=e.form,l=e.remove,u=e.insert;return n.a.createElement("table",{className:"table table-bordered table-sm"},n.a.createElement("thead",{className:"table-active"},n.a.createElement("tr",null,n.a.createElement("th",{className:"align-middle text-center",style:{width:"5%"}},"#"),n.a.createElement("th",{style:{width:"42.5%"}},n.a.createElement(K.k,{i:"serviceflavour"})," Service flavour"),n.a.createElement("th",{style:{width:"42.5%"}},n.a.createElement(K.k,{i:"metrics"})," Metric"),n.a.createElement("th",{style:{width:"10%"}},"Actions"))),n.a.createElement("tbody",null,n.a.createElement("tr",{style:{background:"#ECECEC"}},n.a.createElement("td",{className:"align-middle text-center"},n.a.createElement(ee.a,{icon:te.m})),n.a.createElement("td",null,n.a.createElement(j.a,{type:"text",name:"search_serviceflavour",required:!1,className:"form-control",id:"searchServiceFlavour",onChange:function(e){return r(e,"view_services","searchServiceFlavour","service","searchMetric","metric")},component:K.q})),n.a.createElement("td",null,n.a.createElement(j.a,{type:"text",name:"search_metric",required:!1,className:"form-control",id:"searchMetric",onChange:function(e){return r(e,"view_services","searchMetric","metric","searchServiceFlavour","service")},component:K.q})),n.a.createElement("td",null,"")),c.values.view_services.map((function(e,r){return n.a.createElement("tr",{key:r},n.a.createElement("td",{className:e.isNew?"bg-light align-middle text-center":"align-middle text-center"},r+1),n.a.createElement("td",{className:e.isNew?"bg-light":""},n.a.createElement(X.a,{inputProps:{className:'"form-control custom-select " '.concat(e.isNew?"border border-success":"")},getItemValue:function(e){return e},items:t,value:e.service,renderItem:function(e,a){return n.a.createElement("div",{key:t.indexOf(e),className:"metricprofiles-autocomplete-entries ".concat(a?"metricprofiles-autocomplete-entries-highlighted":"")},e?n.a.createElement(K.k,{i:"serviceflavour"}):""," ",e)},onChange:function(e){return c.setFieldValue("view_services.".concat(r,".service"),e.target.value)},onSelect:function(e){c.setFieldValue("view_services.".concat(r,".service"),e),s(c.values.view_services[r],"service",e)},wrapperStyle:{},shouldItemRender:le,renderMenu:function(e){return n.a.createElement("div",{className:"metricprofiles-autocomplete-menu"},e)}})),n.a.createElement("td",{className:e.isNew?"bg-light":""},n.a.createElement(X.a,{inputProps:{className:'"form-control custom-select " '.concat(e.isNew?"border border-success":"")},getItemValue:function(e){return e},items:a,value:e.metric,renderItem:function(e,t){return n.a.createElement("div",{key:a.indexOf(e),className:"metricprofiles-autocomplete-entries ".concat(t?"metricprofiles-autocomplete-entries-highlighted":"")},e?n.a.createElement(K.k,{i:"metrics"}):""," ",e)},onChange:function(e){return c.setFieldValue("view_services.".concat(r,".metric"),e.target.value)},onSelect:function(e){c.setFieldValue("view_services.".concat(r,".metric"),e),s(c.values.view_services[r],"metric",e)},wrapperStyle:{},shouldItemRender:le,renderMenu:function(e){return n.a.createElement("div",{className:"metricprofiles-autocomplete-menu"},e)}})),n.a.createElement("td",{className:"align-middle pl-3"},n.a.createElement(U.a,{size:"sm",color:"light",type:"button",onClick:function(){if(i(c.values.view_services[r]),r>0&&c.values.view_services.length>1)return l(r)}},n.a.createElement(ee.a,{icon:te.s})),n.a.createElement(U.a,{size:"sm",color:"light",type:"button",onClick:function(){var e={index:r+1,service:"",metric:"",isNew:!0};return o(e,r+1,c.values.groupname,c.values.name,c.values.description),u(r+1,e)}},n.a.createElement(ee.a,{icon:te.l}))))}))))};function de(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){E()(s,t);var a,r,i,o=ie(s);function s(t){var a;return d()(this,s),(a=o.call(this,t)).tenant_name=t.tenant_name,a.token=t.webapitoken,a.webapimetric=t.webapimetric,a.profile_name=t.match.params.name,a.addview=t.addview,a.history=t.history,a.location=t.location,a.cloneview=e,a.state={metric_profile:{},metric_profile_name:void 0,metric_profile_description:void 0,groupname:void 0,list_user_groups:void 0,view_services:void 0,list_services:void 0,write_perm:!1,serviceflavours_all:void 0,metrics_all:void 0,areYouSureModal:!1,loading:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0,searchServiceFlavour:"",searchMetric:""},a.backend=new z.a,a.webapi=new z.b({token:t.webapitoken,metricProfiles:t.webapimetric}),a.toggleAreYouSure=a.toggleAreYouSure.bind(h()(a)),a.toggleAreYouSureSetModal=a.toggleAreYouSureSetModal.bind(h()(a)),a.handleSearch=a.handleSearch.bind(h()(a)),a.onRemove=a.onRemove.bind(h()(a)),a.onInsert=a.onInsert.bind(h()(a)),a.onSelect=a.onSelect.bind(h()(a)),a}return p()(s,[{key:"flattenServices",value:function(e){var t=[],a=0;return e.forEach((function(e){var r=e.service;e.metrics.forEach((function(e){t.push({index:a,service:r,metric:e}),a+=1}))})),t}},{key:"componentDidMount",value:(i=u()(c.a.mark((function e(){var t,a,r,n,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.backend.isActiveSession();case 3:if(!(t=e.sent).active){e.next=24;break}return e.next=7,this.backend.fetchListOfNames("/api/v2/internal/serviceflavoursall");case 7:return a=e.sent,e.next=10,this.backend.fetchListOfNames("/api/v2/internal/metricsall");case 10:if(r=e.sent,this.addview&&!this.cloneview){e.next=21;break}return e.next=14,this.backend.fetchData("/api/v2/internal/metricprofiles/".concat(this.profile_name));case 14:return n=e.sent,e.next=17,this.webapi.fetchMetricProfile(n.apiid);case 17:i=e.sent,this.setState({metric_profile:i,metric_profile_name:i.name,metric_profile_description:i.description,groupname:n.groupname,list_user_groups:t.userdetails.groups.metricprofiles,write_perm:t.userdetails.is_superuser||t.userdetails.groups.metricprofiles.indexOf(n.groupname)>=0,view_services:this.flattenServices(i.services).sort(this.sortServices),serviceflavours_all:a,metrics_all:r,list_services:this.flattenServices(i.services).sort(this.sortServices),loading:!1}),e.next=23;break;case 21:o={id:"",name:"",services:[]},this.setState({metric_profile:o,metric_profile_name:"",metric_profile_description:"",groupname:"",list_user_groups:t.userdetails.groups.metricprofiles,write_perm:t.userdetails.is_superuser||t.userdetails.groups.metricprofiles.length>0,view_services:[{service:"",metric:"",index:0,isNew:!0}],serviceflavours_all:a,metrics_all:r,list_services:[{service:"",metric:"",index:0,isNew:!0}],loading:!1});case 23:case 24:case 25:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"sortServices",value:function(e,t){if(e.service.toLowerCase()<t.service.toLowerCase())return-1;if(e.service.toLowerCase()>t.service.toLowerCase())return 1;if(e.service.toLowerCase()===t.service.toLowerCase()){if(e.metric.toLowerCase()<t.metric.toLowerCase())return-1;if(e.metric.toLowerCase()>t.metric.toLowerCase())return 1;if(e.metric.toLowerCase()===t.metric.toLowerCase())return 0}}},{key:"handleSearch",value:function(e,t,a,r,n,i){var o,s=this,c=this.state[t.replace("view_","list_")],l=G()(this.state.list_services);if(this.state[a].length>e.target.value.length){c=this.state[t.replace("view_","list_")].filter((function(t){return le(t[r],e.target.value)}));var u=0;l.forEach((function(e){e.index=u,u+=1})),l.sort(this.sortServices)}else""!==e.target.value&&(c=this.state[t].filter((function(t){return le(t[r],e.target.value)})));this.state[n].length&&(c=c.filter((function(e){return le(e[i],s.state[n])}))),c.sort(this.sortServices),this.setState((o={},H()(o,"".concat(a),e.target.value),H()(o,"".concat(t),c),H()(o,"list_services",l),o))}},{key:"onInsert",value:function(e,t,a,r,n){if(""===this.state.searchServiceFlavour&&""===this.state.searchMetric){var i=e.service,o=e.metric,s=G()(this.state.list_services),c=G()(s).slice(0,t),l=G()(s).slice(t);c.push({index:t,service:i,metric:o,isNew:!0});var u=0;c.forEach((function(e){e.index=u,u+=1})),u=c.length,l.forEach((function(e){e.index=u,u+=1})),s=[].concat(G()(c),G()(l)),this.setState({list_services:s,view_services:s,groupname:a,metric_profile_name:r,metric_profile_description:n})}else{var m=G()(this.state.view_services),d=G()(this.state.list_services),_=G()(m).slice(0,t),p=G()(m).slice(t);_.push(F()({},e,{isNew:!0}));var f=0;_.forEach((function(e){e.index=f,f+=1})),f=t+1,p.forEach((function(e){e.index=f,f+=1})),d.push(F()({},e,{isNew:!0})),this.setState({view_services:[].concat(G()(_),G()(p)),list_services:d})}}},{key:"onSubmitHandle",value:function(e,t){var a=this,r=e.formValues,n=e.servicesList,i=void 0,o=void 0;this.addview||this.cloneview?(i="Are you sure you want to add Metric profile?",o="Add metric profile"):(i="Are you sure you want to change Metric profile?",o="Change metric profile"),this.toggleAreYouSureSetModal(i,o,(function(){return a.doChange({formValues:r,servicesList:n},t)}))}},{key:"groupMetricsByServices",value:function(e){var t=[];return e.forEach((function(e){var a=t.filter((function(t){return t.service===e.service}));a.length?a[0].metrics.push(e.metric):t.push({service:e.service,metrics:[e.metric]})})),t}},{key:"doChange",value:(r=u()(c.a.mark((function e(t,a){var r,n,i,o,s,l,u,m,d,_=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.formValues,n=t.servicesList,i=[],o=new Object,this.addview||this.cloneview){e.next=21;break}return s=this.state.metric_profile.id,i=this.groupMetricsByServices(n),o={id:s,name:r.name,description:r.description,services:i},e.next=9,this.webapi.changeMetricProfile(o);case 9:if((l=e.sent).ok){e.next=14;break}this.toggleAreYouSureSetModal("Error: ".concat(l.status,", ").concat(l.statusText),"Web API error changing metric profile",void 0),e.next=18;break;case 14:return e.next=16,this.backend.changeObject("/api/v2/internal/metricprofiles/",{apiid:o.id,name:o.name,description:o.description,groupname:r.groupname,services:r.view_services});case 16:e.sent.ok?Object(K.o)({msg:"Metric profile succesfully changed",title:"Changed",callback:function(){return _.history.push("/ui/metricprofiles")}}):this.toggleAreYouSureSetModal("Error: ".concat(l.status," ").concat(l.statusText),"Internal API error changing metric profile",void 0);case 18:e.next=38;break;case 21:return i=this.groupMetricsByServices(n),o={name:r.name,description:r.description,services:i},e.next=25,this.webapi.addMetricProfile(o);case 25:if((u=e.sent).ok){e.next=30;break}this.toggleAreYouSureSetModal("Error: ".concat(u.status,", ").concat(u.statusText),"Web API error adding metric profile",void 0),e.next=37;break;case 30:return e.next=32,u.json();case 32:return m=e.sent,e.next=35,this.backend.addObject("/api/v2/internal/metricprofiles/",{apiid:m.data.id,name:o.name,groupname:r.groupname,description:r.description,services:r.view_services});case 35:(d=e.sent).ok?Object(K.o)({msg:"Metric profile successfully added",title:"Added",callback:function(){return _.history.push("/ui/metricprofiles")}}):this.toggleAreYouSureSetModal("Error: ".concat(d.status," ").concat(d.statusText),"Internal API error adding metric profile",void 0);case 37:case 38:case 39:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"doDelete",value:(a=u()(c.a.mark((function e(t){var a,r,n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.webapi.deleteMetricProfile(t);case 2:if((a=e.sent).ok){e.next=7;break}this.toggleAreYouSureSetModal("Error: ".concat(a.status," ").concat(a.statusText),"Web API error deleting metric profile",void 0),e.next=11;break;case 7:return e.next=9,this.backend.deleteObject("/api/v2/internal/metricprofiles/".concat(t));case 9:(r=e.sent).ok?Object(K.o)({msg:"Metric profile sucessfully deleted",title:"Deleted",callback:function(){return n.history.push("/ui/metricprofiles")}}):this.toggleAreYouSureSetModal("Error: ".concat(r.status," ").concat(r.statusText),"Internal API error deleting metric profile",void 0);case 11:case 12:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"onSelect",value:function(e,t,a){var r=e.index,n=G()(this.state.list_services),i=G()(this.state.view_services),o=n.findIndex((function(e){return e.index===r&&!0===e.isNew}));o>=0?n[o][t]=a:n[r][t]=a;for(var s=0;s<i.length;s++)i[s].index===r&&(i[s][t]=a);this.setState({list_services:n,view_services:i})}},{key:"onRemove",value:function(e){var t=[],a=[],r=this.state.list_services.findIndex((function(t){return e.index===t.index&&e.service===t.service&&e.metric===t.metric})),n=this.state.view_services.findIndex((function(t){return e.index===t.index&&e.service===t.service&&e.metric===t.metric}));if(1===this.state.view_services.length&&1===this.state.list_services.length)a=[{index:0,service:"",metric:""}],t=[{index:0,service:"",metric:""}];else if(r>=0&&n>=0){a=G()(this.state.list_services),t=G()(this.state.view_services),a.splice(r,1),t.splice(n,1);for(var i=r;i<a.length;i++){var o=a[i].index;a[i].index=o-1}for(i=n;i<t.length;i++){var s=t[i].index;t[i].index=s-1}}this.setState({list_services:a,view_services:t})}},{key:"render",value:function(){var e=this,t=this.state,a=t.write_perm,r=t.loading,i=t.metric_profile_description,o=t.view_services,s=t.groupname,c=t.list_user_groups,l=t.serviceflavours_all,u=t.metrics_all,m=t.searchMetric,d=t.searchServiceFlavour,_=this.state,p=_.metric_profile,f=_.metric_profile_name;return this.cloneview&&p&&f&&p.id&&(p.id="",f="Cloned "+f),r?n.a.createElement(K.l,null):!r&&p&&o?n.a.createElement(K.b,{resourcename:"Metric profile",location:this.location,addview:this.addview,modal:!0,cloneview:this.cloneview,clone:!0,state:this.state,toggle:this.toggleAreYouSure,submitperm:a},n.a.createElement(j.d,{initialValues:{id:p.id,name:f,description:i,groupname:s,view_services:o,search_metric:m,search_serviceflavour:d},onSubmit:function(t,a){return e.onSubmitHandle({formValues:t,servicesList:e.state.list_services},a)},enableReinitialize:!0,validationSchema:ue,render:function(t){return n.a.createElement(j.c,null,n.a.createElement(K.p,O()({},t,{description:"description",grouplist:a?c:[s],profiletype:"metric"})),n.a.createElement("h4",{className:"mt-4 alert-info p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Metric instances"),n.a.createElement(j.b,{name:"view_services",render:function(t){return n.a.createElement(me,O()({},t,{serviceflavours_all:l,metrics_all:u,search_handler:e.handleSearch,remove_handler:e.onRemove,insert_handler:e.onInsert,onselect_handler:e.onSelect}))}}),a&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},n.a.createElement(U.a,{color:"danger",onClick:function(){e.toggleAreYouSureSetModal("Are you sure you want to delete Metric profile?","Delete metric profile",(function(){return e.doDelete(t.values.id)}))}},"Delete"),n.a.createElement(U.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):null}}]),s}(r.Component)}var _e=function(e){E()(r,e);var t,a=ie(r);function r(e){var t;return d()(this,r),(t=a.call(this,e)).state={loading:!1,list_metricprofiles:null},t.location=e.location,t.backend=new z.a,t}return p()(r,[{key:"componentDidMount",value:(t=u()(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.backend.fetchData("/api/v2/internal/metricprofiles");case 3:t=e.sent,this.setState({list_metricprofiles:t,loading:!1});case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=[{Header:"Name",id:"name",maxWidth:350,accessor:function(e){return n.a.createElement(Z.b,{to:"/ui/metricprofiles/"+e.name},e.name)}},{Header:"Description",accessor:"description"},{Header:"Group",accessor:"groupname",className:"text-center",maxWidth:150}],t=this.state,a=t.loading,r=t.list_metricprofiles;return a?n.a.createElement(K.l,null):!a&&r?n.a.createElement(K.b,{resourcename:"metric profile",location:this.location,listview:!0},n.a.createElement($.a,{data:r,columns:e,className:"-highlight",defaultPageSize:12,rowsText:"profiles",getTheadThProps:function(){return{className:"table-active font-weight-bold p-2"}}})):null}}]),r}(r.Component),pe=function(e){for(var t=e.title,a=e.item1,r=e.item2,i=[],o=[],s=0;s<a.length;s++)i.push("service: ".concat(a[s].service,", metric: ").concat(a[s].metric));for(var c=0;c<r.length;c++)o.push("service: ".concat(r[c].service,", metric: ").concat(r[c].metric));return n.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},n.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},t),n.a.createElement(re.a,{oldValue:o.join("\n"),newValue:i.join("\n"),showDiffOnly:!1,splitView:!0,hideLineNumbers:!0}))},fe=function(e){E()(r,e);var t,a=ie(r);function r(e){var t;return d()(this,r),(t=a.call(this,e)).version1=e.match.params.id1,t.version2=e.match.params.id2,t.name=e.match.params.name,t.state={loading:!1,name1:"",groupname1:"",metricinstances1:[],name2:"",groupname2:"",metricinstances2:[]},t.backend=new z.a,t}return p()(r,[{key:"componentDidMount",value:(t=u()(c.a.mark((function e(){var t,a,r,n,i,o,s,l,u,m=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.backend.fetchData("/api/v2/internal/tenantversion/metricprofile/".concat(this.name));case 3:t=e.sent,a="",r="",n="",i=[],o="",s="",l="",u=[],t.forEach((function(e){e.version==m.version1?(a=e.fields.name,n=e.fields.description,r=e.fields.groupname,i=e.fields.metricinstances):e.version==m.version2&&(o=e.fields.name,s=e.fields.groupname,l=e.fields.description,u=e.fields.metricinstances)})),this.setState({name1:a,groupname1:r,description1:n,metricinstances1:i,name2:o,description2:l,groupname2:s,metricinstances2:u,loading:!1});case 14:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.name1,a=e.name2,r=e.description1,i=e.description2,o=e.groupname1,s=e.groupname2,c=e.metricinstances1,l=e.metricinstances2,u=e.loading;return u?n.a.createElement(K.l,null):!u&&t&&a?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Compare ".concat(this.name," versions"))),t!==a&&n.a.createElement(K.e,{title:"name",item1:t,item2:a}),t!==a&&n.a.createElement(K.e,{title:"name",item1:t,item2:a}),r!==i&&n.a.createElement(K.e,{title:"name",item1:r,item2:i}),o!==s&&n.a.createElement(K.e,{title:"groupname",item1:o,item2:s}),c!==l&&n.a.createElement(pe,{title:"metric instances",item1:c,item2:l})):null}}]),r}(r.Component),he=function(e){E()(r,e);var t,a=ie(r);function r(e){var t;return d()(this,r),(t=a.call(this,e)).name=e.match.params.name,t.version=e.match.params.version,t.backend=new z.a,t.state={name:"",groupname:"",description:"",date_created:"",metricinstances:[],loading:!1},t}return p()(r,[{key:"componentDidMount",value:(t=u()(c.a.mark((function e(){var t=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.backend.fetchData("/api/v2/internal/tenantversion/metricprofile/".concat(this.name));case 3:e.sent.forEach((function(e){e.version==t.version&&t.setState({name:e.fields.name,groupname:e.fields.groupname,description:e.fields.description,date_created:e.date_created,metricinstances:e.fields.metricinstances,loading:!1})}));case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.name,a=e.description,r=e.groupname,i=e.date_created,o=e.metricinstances,s=e.loading;return s?n.a.createElement(K.l,null):!s&&t?n.a.createElement(K.b,{resourcename:"".concat(t," (").concat(i,")"),infoview:!0},n.a.createElement(j.d,{initialValues:{name:t,description:a,groupname:r,metricinstances:o},render:function(e){return n.a.createElement(j.c,null,n.a.createElement(K.p,O()({},e,{fieldsdisable:!0,description:"description",profiletype:"metric"})),n.a.createElement("h4",{className:"mt-4 alert-info p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Metric instances"),n.a.createElement(j.b,{name:"metricinstances",render:function(t){return n.a.createElement("table",{className:"table table-bordered table-sm"},n.a.createElement("thead",{className:"table-active"},n.a.createElement("tr",null,n.a.createElement("th",{className:"align-middle text-center",style:{width:"5%"}},"#"),n.a.createElement("th",{style:{width:"47.5%"}},n.a.createElement(K.k,{i:"serviceflavour"}),"Service flavour"),n.a.createElement("th",{style:{width:"47.5%"}},n.a.createElement(K.k,{i:"metrics"}),"Metric"))),n.a.createElement("tbody",null,e.values.metricinstances.map((function(e,t){return n.a.createElement("tr",{key:t},n.a.createElement("td",{className:"align-middle text-center"},t+1),n.a.createElement("td",null,e.service),n.a.createElement("td",null,e.metric))}))))}}))}})):null}}]),r}(r.Component),ge=function(e){return n.a.createElement("div",null,'"I\'m Home"')},Ee=a("q7Gj"),ve=a("re1l"),be=a("0E8A"),Me=a("of9s");function ye(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=y()(e);if(t()){var n=y()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return b()(this,a)}}var De=Object(K.j)("probe"),Oe=Ce(),ke=Ce(!0),we=ne.object().shape({name:ne.string().matches(/^\S*$/,"Name cannot contain white spaces").required("Required"),package:ne.string().required("Required"),repository:ne.string().url("Invalid url").required("Required"),docurl:ne.string().url("Invalid url").required("Required"),description:ne.string().required("Required"),comment:ne.string().required("Required")}),Ae=function(e){var t=e.field.value;w()(e,["field"]);return n.a.createElement("div",{className:"form-control",style:{backgroundColor:"#e9ecef"}},n.a.createElement("a",{href:t},t))},Pe=function(e){var t=e.isTenantSchema,a=void 0!==t&&t,r=e.isHistory,i=void 0!==r&&r,o=e.errors,s=void 0===o?{name:void 0,package:void 0,repository:void 0,docurl:void 0,comment:void 0}:o,c=e.state,l=void 0===c?void 0:c,u=e.addview,m=void 0!==u&&u,d=e.cloneview,_=void 0!==d&&d,p=e.list_packages,f=void 0===p?[]:p,h=e.setFieldValue,g=void 0===h?void 0:h,E=e.values,v=void 0===E?void 0:E,b=e.onSelect,M=void 0===b?void 0:b,y=e.metrictemplatelist,D=void 0===y?[]:y;return n.a.createElement(n.a.Fragment,null,n.a.createElement(T.a,null,n.a.createElement(P.a,null,n.a.createElement(x.a,{md:6},n.a.createElement(Ee.a,null,n.a.createElement(ve.a,{addonType:"prepend"},"Name"),n.a.createElement(j.a,{type:"text",name:"name",className:"form-control ".concat(s.name&&"border-danger"),id:"name",disabled:a||i})),s.name&&Object(K.h)(s.name),n.a.createElement(be.a,{color:"muted"},"Name of this probe.")),n.a.createElement(x.a,{md:2},n.a.createElement(Ee.a,null,n.a.createElement(ve.a,{addonType:"prepend"},"Version"),n.a.createElement(j.a,{type:"text",name:"version",className:"form-control",value:i?l.version:l.probe.version,id:"version",disabled:!0})),n.a.createElement(be.a,{color:"muted"},"Version of the probe.")),!m&&!_&&!a&&!i&&n.a.createElement(x.a,{md:2},n.a.createElement(j.a,{component:K.c,name:"update_metrics",className:"form-control",id:"checkbox",label:"Update metric templates"}),n.a.createElement(be.a,{color:"muted"},"Update all associated metric templates."))),n.a.createElement(P.a,{className:"mt-3"},n.a.createElement(x.a,{md:8},a||i?n.a.createElement(Ee.a,null,n.a.createElement(ve.a,{addonType:"prepend"},"Package"),n.a.createElement(j.a,{type:"text",name:"package",className:"form-control",id:"package",disabled:!0})):n.a.createElement(n.a.Fragment,null,n.a.createElement(K.a,{setFieldValue:g,lists:f,icon:"packages",field:"package",val:v.package,onselect_handler:M,req:s.package,label:"Package"}),s.package&&Object(K.h)(s.package)),n.a.createElement(be.a,{color:"muted"},"Probe is part of selected package.")))),n.a.createElement(T.a,null,n.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Probe metadata"),n.a.createElement(P.a,{className:"mt-4 mb-3 align-items-top"},n.a.createElement(x.a,{md:8},n.a.createElement(Ee.a,null,n.a.createElement(ve.a,{addonType:"prepend"},"Repository"),a||i?n.a.createElement(j.a,{component:Ae,name:"repository",className:"form-control",id:"repository",disabled:!0}):n.a.createElement(j.a,{type:"text",name:"repository",className:"form-control ".concat(s.repository&&"border-danger"),id:"repository"})),s.repository&&Object(K.h)(s.repository),n.a.createElement(be.a,{color:"muted"},"Probe repository URL."))),n.a.createElement(P.a,{className:"mb-3 align-items-top"},n.a.createElement(x.a,{md:8},n.a.createElement(Ee.a,null,n.a.createElement(ve.a,{addonType:"prepend"},"Documentation"),a||i?n.a.createElement(j.a,{component:Ae,name:"docurl",className:"form-control",id:"docurl",disabled:!0}):n.a.createElement(j.a,{type:"text",name:"docurl",className:"form-control ".concat(s.docurl&&"border-danger"),id:"docurl"})),s.docurl&&Object(K.h)(s.docurl),n.a.createElement(be.a,{color:"muted"},"Documentation URL."))),n.a.createElement(P.a,{className:"mb-3 align-items-top"},n.a.createElement(x.a,{md:8},n.a.createElement(N.a,{for:"description"},"Description"),n.a.createElement(j.a,{component:"textarea",name:"description",rows:"15",className:"form-control ".concat(s.description&&"border-danger"),id:"description",disabled:a||i}),s.description&&Object(K.h)(s.description),n.a.createElement(be.a,{color:"muted"},"Free text description outlining the purpose of this probe."))),n.a.createElement(P.a,{className:"mb-3 align-items-top"},n.a.createElement(x.a,{md:8},n.a.createElement(N.a,{for:"comment"},"Comment"),n.a.createElement(j.a,{component:"textarea",name:"comment",rows:"5",className:"form-control ".concat(s.comment&&"border-danger"),id:"comment",disabled:a||i}),s.comment&&Object(K.h)(s.comment),n.a.createElement(be.a,{color:"muted"},"Short comment about this version."))),!a&&!i&&!m&&!_&&n.a.createElement(P.a,null,n.a.createElement(x.a,{md:8},n.a.createElement("div",null,"Metric templates:",D.length>0&&n.a.createElement("div",null,D.map((function(e,t){return n.a.createElement(Z.b,{key:t,to:"/ui/metrictemplates/".concat(e)},e)})).reduce((function(e,t){return[e,", ",t]}))))))))},xe=function(e){E()(r,e);var t,a=ye(r);function r(e){var t;return d()(this,r),(t=a.call(this,e)).location=e.location,t.state={loading:!1,list_probe:null,isTenantSchema:null,search_name:"",search_description:"",search_package:""},t.backend=new z.a,t}return p()(r,[{key:"componentDidMount",value:(t=u()(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.backend.fetchData("/api/v2/internal/probes");case 3:return t=e.sent,e.next=6,this.backend.isTenantSchema();case 6:a=e.sent,this.setState({list_probe:t,isTenantSchema:a,loading:!1,search_name:""});case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=[{Header:"#",id:"row",minWidth:12,Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.index+1)}},{Header:"Name",id:"name",minWidth:80,accessor:function(e){return n.a.createElement(Z.b,{to:"/ui/probes/".concat(e.name)},e.name)},filterable:!0,Filter:n.a.createElement("input",{value:this.state.search_name,onChange:function(t){return e.setState({search_name:t.target.value})},placeholder:"Search by name",style:{width:"100%"}})},{Header:"#versions",id:"nv",minWidth:25,accessor:function(e){return n.a.createElement(Z.b,{to:"/ui/probes/".concat(e.name,"/history")},e.nv)},Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)}},{Header:"Package",minWidth:120,accessor:"package",filterable:!0,Filter:n.a.createElement("input",{type:"text",placeholder:"Search by package",value:this.state.search_package,onChange:function(t){return e.setState({search_package:t.target.value})},style:{width:"100%"}}),filterMethod:function(e,t){return void 0===t[e.id]||String(t[e.id]).toLowerCase().includes(e.value.toLowerCase())}},{Header:"Description",minWidth:200,accessor:"description",filterable:!0,Filter:n.a.createElement("input",{type:"text",placeholder:"Search by description",value:this.state.search_description,onChange:function(t){return e.setState({search_description:t.target.value})},style:{width:"100%"}}),filterMethod:function(e,t){return void 0===t[e.id]||String(t[e.id]).toLowerCase().includes(e.value.toLowerCase())}}],a=this.state,r=a.isTenantSchema,i=a.list_probe,o=a.loading;return this.state.search_name&&(i=i.filter((function(t){return t.name.toLowerCase().includes(e.state.search_name.toLowerCase())}))),this.state.search_description&&(i=i.filter((function(t){return t.description.toLowerCase().includes(e.state.search_description.toLowerCase())}))),this.state.search_package&&(i=i.filter((function(t){return t.package.toLowerCase().includes(e.state.search_package.toLowerCase())}))),o?n.a.createElement(K.l,null):!o&&i?n.a.createElement(K.b,{resourcename:"probe",location:this.location,listview:!0,addnew:!r},n.a.createElement($.a,{data:i,columns:t,className:"-highlight",defaultPageSize:50,rowsText:"probes",getTheadThProps:function(){return{className:"table-active font-weight-bold p-2"}}})):null}}]),r}(r.Component);function Ce(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){E()(s,t);var a,r,i,o=ye(s);function s(e){var t;return d()(this,s),(t=o.call(this,e)).name=e.match.params.name,t.addview=e.addview,t.location=e.location,t.history=e.history,t.backend=new z.a,t.state={probe:{id:"",name:"",version:"",package:"",repository:"",docurl:"",description:"",comment:""},isTenantSchema:null,metrictemplatelist:[],list_packages:[],validationVisible:!0,update_metrics:!1,loading:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},t.toggleAreYouSure=t.toggleAreYouSure.bind(h()(t)),t.toggleAreYouSureSetModal=t.toggleAreYouSureSetModal.bind(h()(t)),t.onSubmitHandle=t.onSubmitHandle.bind(h()(t)),t.doDelete=t.doDelete.bind(h()(t)),t.onDismiss=t.onDismiss.bind(h()(t)),t.onSelect=t.onSelect.bind(h()(t)),t}return p()(s,[{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSubmitHandle",value:function(t,a){var r=this,n=void 0,i=void 0;this.addview||e?(n="Are you sure you want to add probe?",i="Add probe"):(n="Are you sure you want to change probe?",i="Change probe"),this.toggleAreYouSureSetModal(n,i,(function(){return r.doChange(t,a)}))}},{key:"doChange",value:(i=u()(c.a.mark((function t(a,r){var n,i,o,s,l,u=this;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.addview&&!e){t.next=17;break}return n=void 0,n=e?a.id:"",t.next=5,this.backend.addObject("/api/v2/internal/probes/",{name:a.name,package:a.package,repository:a.repository,docurl:a.docurl,description:a.description,comment:a.comment,cloned_from:n});case 5:if((i=t.sent).ok){t.next=13;break}return t.next=9,i.json();case 9:o=t.sent,Me.NotificationManager.error(o.detail,"Error"),t.next=14;break;case 13:Object(K.o)({msg:"Probe successfully added",title:"Added",callback:function(){return u.history.push("/ui/probes")}});case 14:t.next=29;break;case 17:return t.next=19,this.backend.changeObject("/api/v2/internal/probes/",{id:a.id,name:a.name,package:a.package,repository:a.repository,docurl:a.docurl,description:a.description,comment:a.comment,update_metrics:a.update_metrics});case 19:if((s=t.sent).ok){t.next=27;break}return t.next=23,s.json();case 23:l=t.sent,Me.NotificationManager.error(l.detail,"Error"),t.next=28;break;case 27:Object(K.o)({msg:"Probe successfully changed",title:"Changed",callback:function(){return u.history.push("/ui/probes")}});case 28:case 29:case 30:case"end":return t.stop()}}),t,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"doDelete",value:(r=u()(c.a.mark((function e(t){var a,r,n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backend.deleteObject("/api/v2/internal/probes/".concat(t));case 2:if((a=e.sent).ok){e.next=10;break}return e.next=6,a.json();case 6:r=e.sent,Me.NotificationManager.error(r.detail,"Error"),e.next=11;break;case 10:Object(K.o)({msg:"Probe successfully deleted",title:"Deleted",callback:function(){return n.history.push("/ui/probes")}});case 11:case 12:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"onDismiss",value:function(){this.setState({validationVisible:!1})}},{key:"onSelect",value:function(e,t){var a=this.state.probe;a[e]=t,a.version=t.split(" ")[1].slice(1,-1),this.setState({probe:a})}},{key:"componentDidMount",value:(a=u()(c.a.mark((function e(){var t,a,r,n,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.backend.isTenantSchema();case 3:return t=e.sent,e.next=6,this.backend.fetchData("/api/v2/internal/packages");case 6:if(a=e.sent,r=[],a.forEach((function(e){return r.push("".concat(e.name," (").concat(e.version,")"))})),this.addview){e.next=19;break}return e.next=12,this.backend.fetchData("/api/v2/internal/probes/".concat(this.name));case 12:return n=e.sent,e.next=15,this.backend.fetchData("/api/v2/internal/metricsforprobes/".concat(n.name,"(").concat(n.version,")"));case 15:i=e.sent,this.setState({probe:n,list_packages:r,isTenantSchema:t,metrictemplatelist:i,loading:!1}),e.next=20;break;case 19:this.setState({list_packages:r,isTenantSchema:t,loading:!1});case 20:case 21:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"render",value:function(){var t=this,a=this.state,r=a.probe,i=a.update_metrics,o=a.isTenantSchema,s=a.metrictemplatelist,c=a.list_packages,l=a.loading;return l?n.a.createElement(K.l,null):l?void 0:o?n.a.createElement(K.b,{resourcename:"Probe details",location:this.location,tenantview:!0,history:!0},n.a.createElement(j.d,{initialValues:{id:r.id,name:r.name,version:r.version,package:r.package,repository:r.repository,docurl:r.docurl,description:r.description,comment:r.comment},render:function(e){return n.a.createElement(Pe,O()({},e,{isTenantSchema:!0,state:t.state}))}})):n.a.createElement(K.b,{resourcename:"probe",location:this.location,addview:this.addview,cloneview:e,clone:!0,modal:!0,state:this.state,toggle:this.toggleAreYouSure},n.a.createElement(j.d,{initialValues:{id:r.id,name:r.name,version:r.version,package:r.package,repository:r.repository,docurl:r.docurl,description:r.description,comment:r.comment,update_metrics:i},validationSchema:we,onSubmit:function(e,a){return t.onSubmitHandle(e,a)}},(function(a){return n.a.createElement(j.c,null,n.a.createElement(Pe,O()({},a,{state:t.state,addview:t.addview,cloneview:e,list_packages:c,onSelect:t.onSelect,metrictemplatelist:s})),n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},t.addview||e?n.a.createElement("div",null):n.a.createElement(U.a,{color:"danger",onClick:function(){t.toggleAreYouSureSetModal("Are you sure you want to delete probe?","Delete probe",(function(){return t.doDelete(a.values.name)}))}},"Delete"),n.a.createElement(U.a,{color:"success",id:"submit-button",type:"submit"},"Save")))})))}}]),s}(r.Component)}var Ie=function(e){E()(r,e);var t,a=ye(r);function r(e){var t;return d()(this,r),(t=a.call(this,e)).version1=e.match.params.id1,t.version2=e.match.params.id2,t.name=e.match.params.name,t.state={loading:!1,name1:"",version1:"",package1:"",description1:"",repository1:"",docurl1:"",comment1:"",name2:"",version2:"",package2:"",description2:"",repository2:"",docurl2:"",comment2:""},t.backend=new z.a,t}return p()(r,[{key:"componentDidMount",value:(t=u()(c.a.mark((function e(){var t,a,r,n,i,o,s,l,u,m,d,_,p,f,h,g=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.backend.fetchData("/api/v2/internal/version/probe/".concat(this.name));case 3:t=e.sent,a="",r="",n="",i="",o="",s="",l="",u="",m="",d="",_="",p="",f="",h="",t.forEach((function(e){e.version==g.version1?(a=e.fields.name,r=e.fields.version,n=e.fields.package,i=e.fields.description,o=e.fields.repository,s=e.fields.docurl,l=e.fields.comment):e.version===g.version2&&(u=e.fields.name,m=e.fields.version,d=e.fields.package,_=e.fields.description,p=e.fields.repository,f=e.fields.docurl,h=e.fields.comment)})),this.setState({name1:a,version1:r,package1:n,description1:i,repository1:o,docurl1:s,comment1:l,name2:u,version2:m,package2:d,description2:_,repository2:p,docurl2:f,comment2:h,loading:!1});case 20:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.name1,a=e.name2,r=e.version1,i=e.version2,o=e.package1,s=e.package2,c=e.description1,l=e.description2,u=e.repository1,m=e.repository2,d=e.docurl1,_=e.docurl2,p=e.comment1,f=e.comment2,h=e.loading;return h?n.a.createElement(K.l,null):!h&&t&&a?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Compare "+this.name)),t!==a&&n.a.createElement(K.e,{title:"name",item1:t,item2:a}),r!==i&&n.a.createElement(K.e,{title:"version",item1:r,item2:i}),o!==s&&n.a.createElement(K.e,{title:"package",item1:o,item2:s}),c!==l&&n.a.createElement(K.e,{title:"description",item1:c,item2:l}),u!==m&&n.a.createElement(K.e,{title:"repository",item1:u,item2:m}),d!==_&&n.a.createElement(K.e,{title:"documentation",item1:d,item2:_}),p!==f&&n.a.createElement(K.e,{title:"comment",item1:p,item2:f})):null}}]),r}(r.Component),Se=function(e){E()(r,e);var t,a=ye(r);function r(e){var t;return d()(this,r),(t=a.call(this,e)).name=e.match.params.name,t.version=e.match.params.version,t.backend=new z.a,t.state={name:"",version:"",pkg:"",description:"",repository:"",docurl:"",comment:"",loading:!1},t}return p()(r,[{key:"componentDidMount",value:(t=u()(c.a.mark((function e(){var t=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.backend.fetchData("/api/v2/internal/version/probe/".concat(this.name));case 3:e.sent.forEach((function(e){e.version===t.version&&t.setState({name:e.fields.name,version:e.fields.version,pkg:e.fields.package,description:e.fields.description,repository:e.fields.repository,docurl:e.fields.docurl,comment:e.fields.comment,loading:!1})}));case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state,a=t.name,r=t.version,i=t.pkg,o=t.description,s=t.repository,c=t.docurl,l=t.comment,u=t.loading;return u?n.a.createElement(K.l,null):!u&&a?n.a.createElement(K.b,{resourcename:"".concat(a," (").concat(r,")"),infoview:!0},n.a.createElement(j.d,{initialValues:{name:a,version:r,package:i,repository:s,docurl:c,description:o,comment:l},render:function(t){return n.a.createElement(Pe,O()({},t,{state:e.state,isHistory:!0}))}})):null}}]),r}(r.Component),Te=a("SKq3");function Ne(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=y()(e);if(t()){var n=y()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return b()(this,a)}}var Le=Object(Te.b)("metrictemplate"),Ue=Object(Te.b)("metrictemplate",!0),Re=Ye(),je=Ye(!0),We=Object(K.j)("metrictemplate"),Be=Object(K.j)("metrictemplate",!0),Ke=Object(Te.a)("metrictemplate"),ze=ne.object().shape({name:ne.string().matches(/^\S*$/,"Name cannot contain white spaces").required("Required"),type:ne.string(),probeversion:ne.string().when("type",{is:function(e){return"Active"===e},then:ne.string().required("Required")}),probeexecutable:ne.string().when("type",{is:function(e){return"Active"===e},then:ne.string().required("Required")})});function Ye(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){E()(s,t);var a,r,i,o=Ne(s);function s(e){var t;return d()(this,s),(t=o.call(this,e)).name=e.match.params.name,t.location=e.location,t.addview=e.addview,t.tenantview=e.tenantview,t.history=e.history,t.backend=new z.a,t.state={metrictemplate:{},probe:{},types:[],probeversions:[],metrictemplatelist:[],loading:!1,popoverOpen:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},t.toggleAreYouSure=t.toggleAreYouSure.bind(h()(t)),t.toggleAreYouSureSetModal=t.toggleAreYouSureSetModal.bind(h()(t)),t.togglePopOver=t.togglePopOver.bind(h()(t)),t.onSelect=t.onSelect.bind(h()(t)),t.onSubmitHandle=t.onSubmitHandle.bind(h()(t)),t.doChange=t.doChange.bind(h()(t)),t.doDelete=t.doDelete.bind(h()(t)),t}return p()(s,[{key:"togglePopOver",value:function(){this.setState({popoverOpen:!this.state.popoverOpen})}},{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSelect",value:function(e,t){var a=this.state.metrictemplate;a[e]=t,this.setState({metrictemplate:a})}},{key:"onSubmitHandle",value:function(t,a){var r=this,n=void 0,i=void 0;this.addview||e?(n="Are you sure you want to add metric template?",i="Add metric template"):(n="Are you sure you want to change metric template?",i="Change metric template"),this.toggleAreYouSureSetModal(n,i,(function(){return r.doChange(t,a)}))}},{key:"doChange",value:(i=u()(c.a.mark((function t(a,r){var n,i,o,s,l,u=this;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.addview&&!e){t.next=16;break}return n=void 0,n=e?a.id:"",t.next=5,this.backend.addObject("/api/v2/internal/metrictemplates/",{cloned_from:n,name:a.name,probeversion:a.probeversion,mtype:a.type,description:a.description,probeexecutable:a.probeexecutable,parent:a.parent,config:a.config,attribute:a.attributes,dependency:a.dependency,parameter:a.parameter,flags:a.flags,files:a.file_attributes,fileparameter:a.file_parameters});case 5:if((i=t.sent).ok){t.next=13;break}return t.next=9,i.json();case 9:o=t.sent,Me.NotificationManager.error(o.detail,"Error"),t.next=14;break;case 13:Object(K.o)({msg:"Metric template successfully added",title:"Added",callback:function(){return u.history.push("/ui/metrictemplates")}});case 14:t.next=28;break;case 16:return t.next=18,this.backend.changeObject("/api/v2/internal/metrictemplates/",{id:a.id,name:a.name,probeversion:a.probeversion,mtype:a.type,description:a.description,probeexecutable:a.probeexecutable,parent:a.parent,config:a.config,attribute:a.attributes,dependency:a.dependency,parameter:a.parameter,flags:a.flags,files:a.file_attributes,fileparameter:a.file_parameters});case 18:if((s=t.sent).ok){t.next=26;break}return t.next=22,s.json();case 22:l=t.sent,Me.NotificationManager.error(l.detail,"Error"),t.next=27;break;case 26:Object(K.o)({msg:"Metric template successfully changed",title:"Changed",callback:function(){return u.history.push("/ui/metrictemplates")}});case 27:case 28:case 29:case"end":return t.stop()}}),t,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"doDelete",value:(r=u()(c.a.mark((function e(t){var a,r=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backend.deleteObject("/api/v2/internal/metrictemplates/".concat(t));case 2:(a=e.sent).ok?Object(K.o)({msg:"Metric template successfully deleted",title:"Deleted",callback:function(){return r.history.push("/ui/metrictemplates")}}):Me.NotificationManager.error("Error deleting metric template ".concat(t,": ").concat(a.status," ").concat(a.statusText));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"componentDidMount",value:(a=u()(c.a.mark((function e(){var t,a,r,n,i,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.backend.fetchData("/api/v2/internal/mttypes");case 3:return t=e.sent,e.next=6,this.backend.fetchData("/api/v2/internal/version/probe");case 6:return a=e.sent,e.next=9,this.backend.fetchData("/api/v2/internal/metrictemplates");case 9:if(r=e.sent,n=[],r.forEach((function(e){return n.push(e.name)})),this.addview){e.next=34;break}return e.next=15,this.backend.fetchData("/api/v2/internal/metrictemplates/".concat(this.name));case 15:if(0===(i=e.sent).attribute.length&&(i.attribute=[{key:"",value:""}]),0===i.dependency.length&&(i.dependency=[{key:"",value:""}]),0===i.parameter.length&&(i.parameter=[{key:"",value:""}]),0===i.flags.length&&(i.flags=[{key:"",value:""}]),0===i.files.length&&(i.files=[{key:"",value:""}]),0===i.fileparameter.length&&(i.fileparameter=[{key:"",value:""}]),!i.probeversion){e.next=31;break}return e.next=25,this.backend.fetchData("/api/v2/internal/version/probe/".concat(i.probeversion.split(" ")[0]));case 25:o=e.sent,s={},o.forEach((function(e){e.object_repr===i.probeversion&&(s=e.fields)})),this.setState({metrictemplate:i,probe:s,probeversions:a,metrictemplatelist:n,types:t,loading:!1}),e.next=32;break;case 31:this.setState({metrictemplate:i,metrictemplatelist:n,types:t,loading:!1});case 32:e.next=35;break;case 34:this.setState({metrictemplate:{id:"",name:"",probeversion:"",mtype:"Active",description:"",probeexecutable:"",parent:"",config:[{key:"maxCheckAttempts",value:""},{key:"timeout",value:""},{key:"path",value:""},{key:"interval",value:""},{key:"retryInterval",value:""}],attribute:[{key:"",value:""}],dependency:[{key:"",value:""}],parameter:[{key:"",value:""}],flags:[{key:"",value:""}],files:[{key:"",value:""}],fileparameter:[{key:"",value:""}]},metrictemplatelist:n,probeversions:a,types:t,loading:!1});case 35:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"render",value:function(){var t=this,a=this.state,r=a.metrictemplate,i=a.types,o=a.probeversions,s=a.metrictemplatelist,c=a.loading;return c?n.a.createElement(K.l,null):!c&&r?n.a.createElement(K.b,{resourcename:this.tenantview?"".concat(r.name):"metric template",location:this.location,addview:this.addview,tenantview:this.tenantview,cloneview:e,clone:!0,modal:!0,state:this.state,toggle:this.toggleAreYouSure},n.a.createElement(j.d,{initialValues:{id:r.id,name:r.name,probeversion:r.probeversion,type:r.mtype,description:r.description,probeexecutable:r.probeexecutable,parent:r.parent,config:r.config,attributes:r.attribute,dependency:r.dependency,parameter:r.parameter,flags:r.flags,file_attributes:r.files,file_parameters:r.fileparameter},onSubmit:function(e,a){return t.onSubmitHandle(e,a)},validationSchema:ze,render:function(a){return n.a.createElement(j.c,null,n.a.createElement(Te.d,O()({},a,{obj:"metrictemplate",isTenantSchema:t.tenantview,addview:t.addview,state:t.state,onSelect:t.onSelect,togglePopOver:t.togglePopOver,types:i,probeversions:o,metrictemplatelist:s})),!t.tenantview&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},t.addview||e?n.a.createElement("div",null):n.a.createElement(U.a,{color:"danger",onClick:function(){t.toggleAreYouSureSetModal("Are you sure you want to delete Metric template?","Delete metric template",(function(){return t.doDelete(a.values.name)}))}},"Delete"),n.a.createElement(U.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):null}}]),s}(r.Component)}var Qe=function(e){E()(r,e);var t,a=Ne(r);function r(e){var t;return d()(this,r),(t=a.call(this,e)).name=e.match.params.name,t.version=e.match.params.version,t.backend=new z.a,t.state={name:"",probeversion:"",mtype:"",probeexecutable:"",parent:"",description:"",config:[],attribute:[],dependency:[],parameter:[],flags:[],files:[],fileparameter:[],loading:!1},t}return p()(r,[{key:"componentDidMount",value:(t=u()(c.a.mark((function e(){var t=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.backend.fetchData("/api/v2/internal/version/metrictemplate/".concat(this.name));case 3:e.sent.forEach((function(e){e.version==t.version&&t.setState({name:e.fields.name,probeversion:e.fields.probeversion,type:e.fields.mtype,probeexecutable:e.fields.probeexecutable,description:e.fields.description,parent:e.fields.parent,config:e.fields.config,attribute:e.fields.attribute,dependency:e.fields.dependency,parameter:e.fields.parameter,flags:e.fields.flags,files:e.fields.files,fileparameter:e.fields.fileparameter,date_created:e.date_created,loading:!1})}));case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state,a=t.name,r=t.probeversion,i=t.type,o=t.probeexecutable,s=t.parent,c=t.config,l=t.attribute,u=t.dependency,m=t.parameter,d=t.flags,_=t.files,p=t.fileparameter,f=t.loading,h=t.description;return f?n.a.createElement(K.l,null):!f&&a?n.a.createElement(K.b,{resourcename:"".concat(a," ").concat(r&&"[".concat(r,"]")),infoview:!0},n.a.createElement(j.d,{initialValues:{name:a,probeversion:r,type:i,probeexecutable:o,description:h,parent:s,config:c,attributes:l,dependency:u,parameter:m,flags:d,file_attributes:_,file_parameters:p},render:function(t){return n.a.createElement(j.c,null,n.a.createElement(Te.d,O()({},t,{obj:"metrictemplate",state:e.state,isHistory:!0})))}})):null}}]),r}(r.Component),Fe=function(e){return n.a.createElement(j.c,{className:"ml-2 mb-2 mt-2"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Administration"),n.a.createElement(C.a,{className:"mb-2 pb-1 pt-1"},n.a.createElement(I.a,{className:"sm-5 p-2 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Poem"),n.a.createElement(S.a,null,n.a.createElement(P.a,{className:"p-1 align-items-center"},n.a.createElement(K.k,{i:"metrics"})," ",n.a.createElement(Z.b,{className:"pl-1",to:"/ui/metrics"},"Metrics")),n.a.createElement(P.a,{className:"p-1 align-items-center"},n.a.createElement(K.k,{i:"metricprofiles"})," ",n.a.createElement(Z.b,{className:"pl-1",to:"/ui/metricprofiles"},"Metric profiles")),n.a.createElement(P.a,{className:"p-1 align-items-center"},n.a.createElement(K.k,{i:"aggregationprofiles"})," ",n.a.createElement(Z.b,{className:"pl-1",to:"/ui/aggregationprofiles"},"Aggregation profiles")),n.a.createElement(P.a,{className:"p-1 align-items-center"},n.a.createElement(K.k,{i:"thresholdsprofiles"})," ",n.a.createElement(Z.b,{className:"pl-1",to:"/ui/thresholdsprofiles"},"Thresholds profiles")))),n.a.createElement(C.a,{className:"mb-2"},n.a.createElement(I.a,{className:"mt-2 p-2 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Authentication and authorization"),n.a.createElement(S.a,null,n.a.createElement(P.a,{className:"p-1 align-items-center"},n.a.createElement(K.k,{i:"groupofaggregationprofiles"})," ",n.a.createElement(Z.b,{to:"/ui/administration/groupofaggregations"},"Groups of aggregations")),n.a.createElement(P.a,{className:"p-1 align-items-center"},n.a.createElement(K.k,{i:"groupofmetrics"})," ",n.a.createElement(Z.b,{to:"/ui/administration/groupofmetrics"},"Groups of metrics")),n.a.createElement(P.a,{className:"p-1 align-items-center"},n.a.createElement(K.k,{i:"groupofmetricprofiles"})," ",n.a.createElement(Z.b,{to:"/ui/administration/groupofmetricprofiles"},"Groups of metric profiles")),n.a.createElement(P.a,{className:"p-1 align-items-center"},n.a.createElement(K.k,{i:"groupofthresholdsprofiles"})," ",n.a.createElement(Z.b,{to:"/ui/administration/groupofthresholdsprofiles"},"Groups of thresholds profiles")),n.a.createElement(P.a,{className:"p-1 align-items-center"},n.a.createElement(K.k,{i:"users"})," ",n.a.createElement(Z.b,{to:"/ui/administration/users"},"Users")))),n.a.createElement(C.a,null,n.a.createElement(I.a,{className:"mt-2 p-2 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"SuperAdmin POEM data"),n.a.createElement(S.a,null,n.a.createElement(P.a,{className:"p-1 align-items-center"},n.a.createElement(K.k,{i:"metrics"})," ",n.a.createElement(Z.b,{to:"/ui/administration/metrictemplates"},"Metric templates")),n.a.createElement(P.a,{className:"p-1 align-items-center"},n.a.createElement(K.k,{i:"yumrepos"})," ",n.a.createElement(Z.b,{to:"/ui/administration/yumrepos"},"YUM repos")))),n.a.createElement(C.a,null,n.a.createElement(I.a,{className:"mt-2 p-2 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"API key permissions"),n.a.createElement(S.a,null,n.a.createElement(P.a,{className:"p-1 align-items-center"},n.a.createElement(K.k,{i:"apikey"})," ",n.a.createElement(Z.b,{to:"/ui/administration/apikey"},"API keys")))))},Ve=function(e){return n.a.createElement(j.c,{className:"ml-2 mb-2 mt-2"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Administration"),n.a.createElement(C.a,{className:"mb-2 pb-1 pt-1"},n.a.createElement(I.a,{className:"sm-5 p-2 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Poem"),n.a.createElement(S.a,null,n.a.createElement(P.a,{className:"p-1 align-items-center"},n.a.createElement(K.k,{i:"probes"})," ",n.a.createElement(Z.b,{className:"pl-1",to:"/ui/probes"},"Probes")),n.a.createElement(P.a,{className:"p-1 align-items-center"},n.a.createElement(K.k,{i:"metrictemplates"})," ",n.a.createElement(Z.b,{className:"pl-1",to:"/ui/metrictemplates"},"Metric templates")),n.a.createElement(P.a,{className:"p-1 align-items-center"},n.a.createElement(K.k,{i:"yumrepos"})," ",n.a.createElement(Z.b,{className:"pl-1",to:"/ui/yumrepos"},"YUM repos")),n.a.createElement(P.a,{className:"p-1 align-items-center"},n.a.createElement(K.k,{i:"packages"})," ",n.a.createElement(Z.b,{className:"pl-1",to:"/ui/packages"},"Packages")))),n.a.createElement(C.a,{className:"mb-2"},n.a.createElement(I.a,{className:"mt-2 p-2 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Authentication and authorization"),n.a.createElement(S.a,null,n.a.createElement(P.a,{className:"p-1 align-items-center"},n.a.createElement(K.k,{i:"users"})," ",n.a.createElement(Z.b,{to:"/ui/administration/users"},"Users")))))};var He=function(e){E()(a,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=y()(e);if(t()){var n=y()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return b()(this,a)}}(a);function a(){return d()(this,a),t.apply(this,arguments)}return p()(a,[{key:"componentDidUpdate",value:function(e){e.formik!==this.props.formik&&this.props.onChange(this.props.formik,e.formik)}},{key:"render",value:function(){return null}}]),a}(r.Component),qe=Object(j.e)(He);a("R9sY"),a("lrsP");function Ge(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=y()(e);if(t()){var n=y()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return b()(this,a)}}var Ze=Object(K.j)("aggregationprofile");function Je(e,t){return-1!==e.toLowerCase().indexOf(t.toLowerCase())}var Xe=ne.object().shape({name:ne.string().required("Required"),groupname:ne.string().required("Required")});function $e(e,t){return e?[t].concat(G()(e)):[t]}var et=function(e){var t=e.name,a=e.form,r=e.list_services,i=e.list_operations,o=e.last_service_operation,s=e.write_perm;return n.a.createElement(P.a,{className:"groups"},a.values[t].map((function(e,c){return n.a.createElement(j.b,{key:c,name:"groups",render:function(l){return n.a.createElement(tt,O()({},l,{key:c,operation:e.operation,services:e.services,list_services:r,list_operations:i,last_service_operation:o,write_perm:s,groupindex:c,isnew:e.isNew,last:c===a.values[t].length-1}))}})})))},tt=function(e){var t=e.operation,a=e.services,r=e.list_operations,i=e.list_services,o=e.last_service_operation,s=e.write_perm,c=e.form,l=e.groupindex,u=e.remove,m=e.insert,d=e.isnew;return e.last?n.a.createElement(x.a,{sm:{size:12},md:{size:6},className:"mt-4 mb-2 d-flex justify-content-center align-items-center"},n.a.createElement(U.a,{outline:!0,color:"secondary",size:"lg",disabled:!s,onClick:function(){return s&&m(l,{name:"",operation:"",isNew:!0,services:[{name:"",operation:""}]})}},"Add new group")):n.a.createElement(n.a.Fragment,{key:l},n.a.createElement(x.a,{sm:{size:8},md:{size:5},className:"mt-4 mb-2"},n.a.createElement(C.a,{className:d?"border-success":""},n.a.createElement(I.a,{className:"p-1",color:"primary"},n.a.createElement(P.a,{className:"d-flex align-items-center no-gutters"},n.a.createElement(x.a,{sm:{size:10},md:{size:11}},n.a.createElement(j.a,{name:"groups.".concat(l,".name"),placeholder:"Name of service group",required:!0,className:"form-control"})),n.a.createElement(x.a,{sm:{size:2},md:{size:1},className:"pl-1"},n.a.createElement(U.a,{size:"sm",color:"danger",type:"button",onClick:function(){return s&&u(l)}},n.a.createElement(ee.a,{icon:te.s}))))),n.a.createElement(S.a,{className:"p-1"},n.a.createElement(j.b,{name:"groups.".concat(l),render:function(e){return n.a.createElement(at,{list_services:i,list_operations:r,last_service_operation:o,services:a,groupindex:l,groupoperation:t,groupnew:d,form:c})}})),n.a.createElement(R.a,{className:"p-1 d-flex justify-content-center"},n.a.createElement(K.f,{field:{name:"operation",value:t},data:r,prefix:"groups.".concat(l),class_name:"custom-select col-2"})))),n.a.createElement(x.a,{sm:{size:4},md:{size:1},className:"mt-5"},n.a.createElement("div",{className:"group-operation",key:l},n.a.createElement(K.f,{field:{name:"profile_operation",value:c.values.profile_operation},data:r}))))},at=function(e){var t=e.services,a=e.list_services,r=void 0===a?[]:a,i=e.list_operations,o=void 0===i?[]:i,s=e.last_service_operation,c=e.groupindex,l=e.groupnew,u=void 0!==l&&l,m=e.form;return t.map((function(e,a){return n.a.createElement(j.b,{key:a,name:"groups.".concat(c,".services"),render:function(i){return n.a.createElement(rt,O()({},i,{key:a,service:e,operation:e.operation,list_services:r,list_operations:o,last_service_operation:s,groupindex:c,groupnew:u,index:a,last:a===t.length-1,form:m,isnew:e.isnew,ismissing:-1===r.indexOf(e.name)}))}})}))},rt=function(e){e.name;var t=e.service,a=e.operation,r=e.list_services,i=e.list_operations,o=e.last_service_operation,s=e.groupindex,c=e.groupnew,l=e.index,u=e.remove,m=e.insert,d=e.form,_=e.isnew,p=e.ismissing;return n.a.createElement(P.a,{className:"d-flex align-items-center service pt-1 pb-1 no-gutters",key:l},n.a.createElement(x.a,{md:8},n.a.createElement(X.a,{inputProps:{className:'"form-control custom-select " '.concat(_&&!c?"border-success":""," ").concat(p?"border-danger":"")},getItemValue:function(e){return e},items:r,value:t.name,renderItem:function(e,t){return n.a.createElement("div",{key:r.indexOf(e),className:"aggregation-autocomplete-entries ".concat(t?"aggregation-autocomplete-entries-highlighted":"")},e?n.a.createElement(K.k,{i:"serviceflavour"}):""," ",e)},onChange:function(e){return d.setFieldValue("groups.".concat(s,".services.").concat(l,".name"),e.target.value)},onSelect:function(e){d.setFieldValue("groups.".concat(s,".services.").concat(l,".name"),e)},wrapperStyle:{},shouldItemRender:Je,renderMenu:function(e){return n.a.createElement("div",{className:"aggregation-autocomplete-menu",children:e})}})),n.a.createElement(x.a,{md:2},n.a.createElement("div",{className:"input-group"},n.a.createElement(K.f,{field:{name:"operation",value:a},data:i,prefix:"groups.".concat(s,".services.").concat(l),class_name:"custom-select service-operation",isnew:_&&!c}))),n.a.createElement(x.a,{md:2,className:"pl-2"},n.a.createElement(U.a,{size:"sm",color:"light",type:"button",onClick:function(){return u(l)}},n.a.createElement(ee.a,{icon:te.s})),n.a.createElement(U.a,{size:"sm",color:"light",type:"button",onClick:function(){return m(l+1,{name:"",operation:o(l,d.values.groups[s].services),isnew:!0})}},n.a.createElement(ee.a,{icon:te.l}))))},nt=function(e){var t=e.values,a=e.errors,r=e.historyview,i=void 0!==r&&r,o=e.write_perm,s=void 0!==o&&o,c=e.list_user_groups,l=e.logic_operations,u=e.endpoint_groups,m=e.list_id_metric_profiles;return n.a.createElement(n.a.Fragment,null,n.a.createElement(K.p,{values:t,errors:a,fieldsdisable:i,grouplist:i?void 0:s?c:[t.groupname],profiletype:"aggregation"}),n.a.createElement("h4",{className:"mt-4 alert-info p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Operations, endpoint group and metric profile"),n.a.createElement(P.a,{className:"mt-4"},n.a.createElement(x.a,{md:4},n.a.createElement(T.a,null,n.a.createElement(P.a,null,n.a.createElement(x.a,{md:12},n.a.createElement(N.a,{for:"aggregationMetric"},"Metric operation:"))),n.a.createElement(P.a,null,n.a.createElement(x.a,{md:5},i?n.a.createElement(j.a,{name:"metric_operation",className:"form-control",id:"aggregationMetric",disabled:!0}):n.a.createElement(j.a,{name:"metric_operation",component:K.f,data:$e(l,""),required:!0,class_name:"custom-select",id:"aggregationMetric"}))),n.a.createElement(P.a,null,n.a.createElement(x.a,{md:12},n.a.createElement(be.a,null,"Logical operation that will be applied between metrics of each service flavour"))))),n.a.createElement(x.a,{md:4},n.a.createElement(T.a,null,n.a.createElement(P.a,null,n.a.createElement(x.a,{md:12},n.a.createElement(N.a,{for:"aggregationOperation"},"Aggregation operation:")),n.a.createElement(x.a,{md:5},i?n.a.createElement(j.a,{name:"profile_operation",className:"form-control",id:"aggregationOperation",disabled:!0}):n.a.createElement(j.a,{name:"profile_operation",component:K.f,data:$e(l,""),required:!0,class_name:"custom-select",id:"aggregationOperation"}))),n.a.createElement(P.a,null,n.a.createElement(x.a,{md:12},n.a.createElement(be.a,null,"Logical operation that will be applied between defined service flavour groups"))))),n.a.createElement(x.a,{md:4},n.a.createElement(T.a,null,n.a.createElement(P.a,null,n.a.createElement(x.a,{md:12},n.a.createElement(N.a,{for:"aggregationEndpointGroup"},"Endpoint group:")),n.a.createElement(x.a,{md:5},i?n.a.createElement(j.a,{name:"endpoint_group",className:"form-control",id:"aggregationEndpointGroup",disabled:!0}):n.a.createElement(j.a,{name:"endpoint_group",component:K.f,data:$e(u,""),required:!0,class_name:"custom-select",id:"aggregationEndpointGroup"})))))),n.a.createElement(P.a,{className:"mt-4"},n.a.createElement(x.a,{md:5},n.a.createElement(T.a,null,n.a.createElement(N.a,{for:"metricProfile"},"Metric profile:"),i?n.a.createElement(j.a,{name:"metric_profile",className:"form-control",disabled:!0}):n.a.createElement(j.a,{name:"metric_profile",component:K.f,data:$e(m.map((function(e){return e.name})),""),required:!0,class_name:"custom-select"}),n.a.createElement(be.a,null,"Metric profile associated to Aggregation profile. Service flavours defined in service flavour groups originate from selected metric profile.")))),n.a.createElement("h4",{className:"mt-2 alert-info p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Service flavour groups"))},it=function(e){E()(o,e);var t,a,r,i=Ge(o);function o(e){var t;return d()(this,o),(t=i.call(this,e)).tenant_name=e.tenant_name,t.token=e.webapitoken,t.webapiaggregation=e.webapiaggregation,t.webapimetric=e.webapimetric,t.profile_name=e.match.params.name,t.addview=e.addview,t.history=e.history,t.location=e.location,t.state={aggregation_profile:{},groupname:void 0,list_user_groups:[],write_perm:!1,list_id_metric_profiles:[],list_services:[],list_complete_metric_profiles:{},areYouSureModal:!1,loading:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},t.backend=new z.a,t.webapi=new z.b({token:e.webapitoken,metricProfiles:e.webapimetric,aggregationProfiles:e.webapiaggregation}),t.extractListOfMetricsProfiles=t.extractListOfMetricsProfiles.bind(h()(t)),t.toggleAreYouSure=t.toggleAreYouSure.bind(h()(t)),t.doChange=t.doChange.bind(h()(t)),t.doDelete=t.doDelete.bind(h()(t)),t.toggleAreYouSureSetModal=t.toggleAreYouSureSetModal.bind(h()(t)),t.onSubmitHandle=t.onSubmitHandle.bind(h()(t)),t.logic_operations=["OR","AND"],t.endpoint_groups=["servicegroups","sites"],t}return p()(o,[{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"correctMetricProfileName",value:function(e,t){var a=t.filter((function(t){return t.id===e}));return a.length?a[0].name:""}},{key:"extractListOfServices",value:function(e,t){var a=t.filter((function(t){return t.name===e.name}));return 0===a.length&&(a=t.filter((function(t){return t.id===e.id}))),a.length?a[0].services.map((function(e){return e.service})):[]}},{key:"sortMetricProfiles",value:function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:e.name.toLowerCase()===t.name.toLowerCase()?0:void 0}},{key:"extractListOfMetricsProfiles",value:function(e){var t=[];return e.forEach((function(e){var a=t.length,r=e.name,n=e.id;t[a]={name:r,id:n},a+=1})),t.sort(this.sortMetricProfiles)}},{key:"insertEmptyServiceForNoServices",value:function(e){return e.forEach((function(e){0===e.services.length&&e.services.push({name:"",operation:""})})),e}},{key:"insertOperationFromPrevious",value:function(e,t){return t.length?t[t.length-1].operation:""}},{key:"onSubmitHandle",value:function(e,t){var a=this,r=void 0,n=void 0;this.addview?(r="Are you sure you want to add Aggregation profile?",n="Add aggregation profile"):(r="Are you sure you want to change Aggregation profile?",n="Change aggregation profile"),this.toggleAreYouSureSetModal(r,n,(function(){return a.doChange(e,t)}))}},{key:"doChange",value:(r=u()(c.a.mark((function e(t,a){var r,n,i,o,s,l,u,m=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=JSON.parse(JSON.stringify(t)),this.removeDummyGroup(r),r.namespace=this.tenant_name,n=this.state.list_id_metric_profiles.filter((function(e){return r.metric_profile===e.name})),r.metric_profile=n[0],this.addview){e.next=20;break}return e.next=8,this.webapi.changeAggregation(r);case 8:if((i=e.sent).ok){e.next=13;break}this.toggleAreYouSureSetModal("Error: ".concat(i.status,", ").concat(i.statusText),"Web API error changing aggregation profile",void 0),e.next=17;break;case 13:return e.next=15,this.backend.changeObject("/api/v2/internal/aggregations/",{apiid:r.id,name:r.name,groupname:r.groupname,endpoint_group:r.endpoint_group,metric_operation:r.metric_operation,profile_operation:r.profile_operation,metric_profile:t.metric_profile,groups:JSON.stringify(r.groups)});case 15:(o=e.sent).ok?Object(K.o)({msg:"Aggregation profile succesfully changed",title:"Changed",callback:function(){return m.history.push("/ui/aggregationprofiles")}}):this.toggleAreYouSureSetModal("Error: ".concat(o.status," ").concat(o.statusText),"Internal API error changing aggregation profile",void 0);case 17:e.next=35;break;case 20:return e.next=22,this.webapi.addAggregation(r);case 22:if((s=e.sent).ok){e.next=27;break}this.toggleAreYouSureSetModal("Error: ".concat(s.status,", ").concat(s.statusText),"Web API error adding aggregation profile",void 0),e.next=34;break;case 27:return e.next=29,s.json();case 29:return l=e.sent,e.next=32,this.backend.addObject("/api/v2/internal/aggregations/",{apiid:l.data.id,name:r.name,groupname:r.groupname,endpoint_group:r.endpoint_group,metric_operation:r.metric_operation,profile_operation:r.profile_operation,metric_profile:t.metric_profile,groups:JSON.stringify(r.groups)});case 32:(u=e.sent).ok?Object(K.o)({msg:"Aggregation profile successfully added",title:"Added",callback:function(){return m.history.push("/ui/aggregationprofiles")}}):this.toggleAreYouSureSetModal("Error: ".concat(u.status," ").concat(u.statusText),"Internal API error adding aggregation profile",void 0);case 34:case 35:case 36:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"doDelete",value:(a=u()(c.a.mark((function e(t){var a,r,n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.webapi.deleteAggregation(t);case 2:if((a=e.sent).ok){e.next=7;break}this.toggleAreYouSureSetModal("Error: ".concat(a.status," ").concat(a.statusText),"Web API error deleting aggregation profile",void 0),e.next=11;break;case 7:return e.next=9,this.backend.deleteObject("/api/v2/internal/aggregations/".concat(t));case 9:(r=e.sent).ok?Object(K.o)({msg:"Aggregation profile sucessfully deleted",title:"Deleted",callback:function(){return n.history.push("/ui/aggregationprofiles")}}):this.toggleAreYouSureSetModal("Error: ".concat(r.status," ").concat(r.statusText),"Internal API error deleting aggregation profile",void 0);case 11:case 12:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"insertDummyGroup",value:function(e){return[].concat(G()(e),[{name:"dummy",operation:"OR",services:[{name:"dummy",operation:"OR"}]}])}},{key:"removeDummyGroup",value:function(e){var t=e.groups[e.groups.length-1];"dummy"==t.name&&"dummy"==t.services[0].name&&e.groups.pop()}},{key:"checkIfServiceMissingInMetricProfile",value:function(e,t){var a=new Set(e),r=!1;return t.forEach((function(e){var t=!0,n=!1,i=void 0;try{for(var o,s=e.services[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var c=o.value;if(!a.has(c.name)){r=!0;break}}}catch(e){n=!0,i=e}finally{try{t||null==s.return||s.return()}finally{if(n)throw i}}})),r}},{key:"componentDidMount",value:(t=u()(c.a.mark((function e(){var t,a,r,n,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.backend.isActiveSession();case 3:if(!(t=e.sent).active){e.next=21;break}return e.next=7,this.webapi.fetchMetricProfiles();case 7:if(a=e.sent,this.addview){e.next=18;break}return e.next=11,this.backend.fetchData("/api/v2/internal/aggregations/".concat(this.profile_name));case 11:return r=e.sent,e.next=14,this.webapi.fetchAggregationProfile(r.apiid);case 14:n=e.sent,this.setState({aggregation_profile:n,groupname:r.groupname,list_user_groups:t.userdetails.groups.aggregations,write_perm:t.userdetails.is_superuser||t.userdetails.groups.aggregations.indexOf(r.groupname)>=0,list_id_metric_profiles:this.extractListOfMetricsProfiles(a),list_services:this.extractListOfServices(n.metric_profile,a),list_complete_metric_profiles:a,loading:!1}),e.next=20;break;case 18:i={id:"",name:"",metric_operation:"",profile_operation:"",endpoint_group:"",metric_profile:{name:""},groups:[]},this.setState({aggregation_profile:i,groupname:"",list_user_groups:t.userdetails.groups.aggregations,write_perm:t.userdetails.is_superuser||t.userdetails.groups.aggregations.length>0,list_id_metric_profiles:this.extractListOfMetricsProfiles(a),list_complete_metric_profiles:a,list_services:[],loading:!1});case 20:case 21:case 22:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state,a=t.aggregation_profile,r=t.list_id_metric_profiles,i=t.list_complete_metric_profiles,o=t.list_user_groups,s=t.groupname,c=t.list_services,l=t.write_perm,u=t.loading;if(u)return n.a.createElement(K.l,null);if(!u&&a&&a.metric_profile&&o&&this.token){var m=this.checkIfServiceMissingInMetricProfile(c,a.groups);return n.a.createElement(K.b,{resourcename:"aggregation profile",location:this.location,addview:this.addview,modal:!0,state:this.state,toggle:this.toggleAreYouSure,submitperm:l},n.a.createElement(j.d,{initialValues:{id:a.id,name:a.name,groupname:s,metric_operation:a.metric_operation,profile_operation:a.profile_operation,metric_profile:this.correctMetricProfileName(a.metric_profile.id,r),endpoint_group:a.endpoint_group,groups:this.insertDummyGroup(this.insertEmptyServiceForNoServices(a.groups))},onSubmit:function(t,a){return e.onSubmitHandle(t,a)},validationSchema:Xe,render:function(t){return n.a.createElement(j.c,null,n.a.createElement(qe,{onChange:function(t,a){if(t.values.metric_profile!==a.values.metric_profile){var r={name:t.values.metric_profile};e.setState({list_services:e.extractListOfServices(r,i)})}}}),m&&n.a.createElement(L.a,{color:"danger"},n.a.createElement("center",null,n.a.createElement(ee.a,{icon:te.i,size:"lg",color:"black"}),"   Some Service Flavours used in Aggregation profile are not presented in associated Metric profile meaning that two profiles are out of sync. Check below for Service Flavours in red borders.")),n.a.createElement(nt,O()({},t,{list_user_groups:o,logic_operations:e.logic_operations,endpoint_groups:e.endpoint_groups,list_id_metric_profiles:r,write_perm:l})),n.a.createElement(j.b,{name:"groups",render:function(t){return n.a.createElement(et,O()({},t,{list_services:$e(c,""),list_operations:$e(e.logic_operations,""),last_service_operation:e.insertOperationFromPrevious,write_perm:l}))}}),l&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},n.a.createElement(U.a,{color:"danger",onClick:function(){e.toggleAreYouSureSetModal("Are you sure you want to delete Aggregation profile?","Delete aggregation profile",(function(){return e.doDelete(t.values.id)}))}},"Delete"),n.a.createElement(U.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}}))}return null}}]),o}(r.Component),ot=function(e){E()(r,e);var t,a=Ge(r);function r(e){var t;return d()(this,r),(t=a.call(this,e)).state={loading:!1,list_aggregations:null},t.location=e.location,t.backend=new z.a,t}return p()(r,[{key:"componentDidMount",value:(t=u()(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.backend.fetchData("/api/v2/internal/aggregations");case 3:t=e.sent,this.setState({list_aggregations:t,loading:!1});case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=[{Header:"Name",id:"name",maxWidth:350,accessor:function(e){return n.a.createElement(Z.b,{to:"/ui/aggregationprofiles/"+e.name},e.name)}},{Header:"Description",accessor:"description"},{Header:"Group",accessor:"groupname",className:"text-center",maxWidth:150}],t=this.state,a=t.loading,r=t.list_aggregations;return a?n.a.createElement(K.l,null):!a&&r?n.a.createElement(K.b,{resourcename:"aggregation profile",location:this.location,listview:!0},n.a.createElement($.a,{data:r,columns:e,className:"-highlight",defaultPageSize:12,rowsText:"profiles",getTheadThProps:function(){return{className:"table-active font-weight-bold p-2"}}})):null}}]),r}(r.Component),st=function(e){for(var t=e.title,a=e.item1,r=e.item2,i=[],o=[],s=0;s<a.length;s++){for(var c=[],l=0;l<a[s].services.length;l++)c.push("{name: ".concat(a[s].services[l].name,", operation: ").concat(a[s].services[l].operation,"}"));i.push("name: ".concat(a[s].name,",\noperation: ").concat(a[s].operation,",\nservices: [\n").concat(c.join("\n"),"\n]"))}for(var u=0;u<r.length;u++){for(var m=[],d=0;d<r[u].services.length;d++)m.push("{name: ".concat(r[u].services[d].name,", operation: ").concat(r[u].services[d].operation,"}"));o.push("name: ".concat(r[u].name,",\noperation: ").concat(r[u].operation,",\nservices: [\n").concat(m.join("\n"),"\n]"))}return n.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},n.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},t),n.a.createElement(re.a,{oldValue:o.join("\n"),newValue:i.join("\n"),showDiffOnly:!0,splitView:!0,hideLineNumbers:!0}))},ct=function(e){E()(r,e);var t,a=Ge(r);function r(e){var t;return d()(this,r),(t=a.call(this,e)).version1=e.match.params.id1,t.version2=e.match.params.id2,t.name=e.match.params.name,t.state={loading:!1,name1:"",groupname1:"",metric_operation1:"",profile_operation1:"",endpoint_group1:"",metric_profile1:"",groups1:[],name2:"",groupname2:"",metric_operation2:"",profile_operation2:"",endpoint_group2:"",metric_profile2:"",groups2:[]},t.backend=new z.a,t}return p()(r,[{key:"componentDidMount",value:(t=u()(c.a.mark((function e(){var t,a,r,n,i,o,s,l,u,m,d,_,p,f,h,g=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backend.fetchData("/api/v2/internal/tenantversion/aggregationprofile/".concat(this.name));case 2:t=e.sent,a="",r="",n="",i="",o="",s="",l=[],u="",m="",d="",_="",p="",f="",h=[],t.forEach((function(e){e.version==g.version1?(a=e.fields.name,r=e.fields.groupname,n=e.fields.metric_operation,i=e.fields.profile_operation,o=e.fields.endpoint_group,s=e.fields.metric_profile,l=e.fields.groups):e.version==g.version2&&(u=e.fields.name,m=e.fields.groupname,d=e.fields.metric_operation,_=e.fields.profile_operation,p=e.fields.endpoint_group,f=e.fields.metric_profile,h=e.fields.groups),g.setState({name1:a,groupname1:r,metric_operation1:n,profile_operation1:i,endpoint_group1:o,metric_profile1:s,groups1:l,name2:u,groupname2:m,metric_operation2:d,profile_operation2:_,endpoint_group2:p,metric_profile2:f,groups2:h,loading:!1})}));case 18:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.name1,a=e.name2,r=e.groupname1,i=e.groupname2,o=e.metric_operation1,s=e.metric_operation2,c=e.profile_operation1,l=e.profile_operation2,u=e.endpoint_group1,m=e.endpoint_group2,d=e.metric_profile1,_=e.metric_profile2,p=e.groups1,f=e.groups2,h=e.loading;return h?n.a.createElement(K.l,null):!h&&t&&a?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Compare ".concat(this.name," versions"))),t!==a&&n.a.createElement(K.e,{title:"name",item1:t,item2:a}),r!==i&&n.a.createElement(K.e,{title:"group name",item1:r,item2:i}),o!==s&&n.a.createElement(K.e,{title:"metric operation",item1:o,item2:s}),c!==l&&n.a.createElement(K.e,{title:"aggregation operation",item1:c,item2:l}),u!==m&&n.a.createElement(K.e,{title:"endpoint group",item1:u,item2:m}),d!==_&&n.a.createElement(K.e,{title:"metric profile",item1:d,item2:_}),p!==f&&n.a.createElement(st,{title:"groups",item1:p,item2:f})):null}}]),r}(r.Component),lt=function(e){E()(r,e);var t,a=Ge(r);function r(e){var t;return d()(this,r),(t=a.call(this,e)).name=e.match.params.name,t.version=e.match.params.version,t.backend=new z.a,t.state={name:"",groupname:"",metric_operation:"",profile_operation:"",endpoint_group:"",metric_profile:"",groups:[],date_created:"",loading:!1},t}return p()(r,[{key:"componentDidMount",value:(t=u()(c.a.mark((function e(){var t=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.backend.fetchData("/api/v2/internal/tenantversion/aggregationprofile/".concat(this.name));case 3:e.sent.forEach((function(e){e.version==t.version&&t.setState({name:e.fields.name,groupname:e.fields.groupname,metric_operation:e.fields.metric_operation,profile_operation:e.fields.profile_operation,endpoint_group:e.fields.endpoint_group,metric_profile:e.fields.metric_profile,groups:e.fields.groups,date_created:e.date_created,loading:!1})}));case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.name,a=e.groupname,r=e.metric_operation,i=e.profile_operation,o=e.endpoint_group,s=e.metric_profile,c=e.groups,l=e.date_created,u=e.loading;return u?n.a.createElement(K.l,null):!u&&t?n.a.createElement(K.b,{resourcename:"".concat(t," (").concat(l,")"),infoview:!0},n.a.createElement(j.d,{initialValues:{name:t,groupname:a,metric_operation:r,profile_operation:i,endpoint_group:o,metric_profile:s,groups:c},render:function(e){return n.a.createElement(j.c,null,n.a.createElement(nt,O()({},e,{historyview:!0})),n.a.createElement(j.b,{name:"groups",render:function(t){return n.a.createElement(P.a,{className:"groups"},e.values.groups.map((function(t,a){return n.a.createElement(j.b,{key:a,name:"groups",render:function(r){return n.a.createElement(n.a.Fragment,{key:a},n.a.createElement(x.a,{sm:{size:8},md:{size:5},className:"mt-4 mb-2"},n.a.createElement(C.a,null,n.a.createElement(I.a,{className:"p-1",color:"primary"},n.a.createElement(P.a,{className:"d-flex align-items-center no-gutters"},n.a.createElement(x.a,{sm:{size:10},md:{size:11}},c[a].name))),n.a.createElement(S.a,{className:"p-1"},t.services.map((function(e,t){return n.a.createElement(j.b,{key:t,name:"groups.".concat(a,".services"),render:function(e){return n.a.createElement(P.a,{className:"d-flex align-items-center service pt-1 pb-1 no-gutters",key:t},n.a.createElement(x.a,{md:8},c[a].services[t].name),n.a.createElement(x.a,{md:2},c[a].services[t].operation))}})}))),n.a.createElement(R.a,{className:"p-1 d-flex justify-content-center"},c[a].operation))),n.a.createElement(x.a,{sm:{size:4},md:{size:1},className:"mt-5"},n.a.createElement("div",{className:"group-operation",key:a},e.values.profile_operation)))}})})))}}))}})):null}}]),r}(r.Component),ut=function(e){return n.a.createElement("div",null,'"I\'m Reports"')};a("b4bE");var mt=function(e){E()(r,e);var t,a=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=y()(e);if(t()){var n=y()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return b()(this,a)}}(r);function r(e){var t;return d()(this,r),(t=a.call(this,e)).state={loading:!1,rows:null,rowspan:null},t.backend=new z.a,t}return p()(r,[{key:"componentDidMount",value:(t=u()(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.backend.fetchData("/api/v2/internal/services");case 3:t=e.sent,this.setState({rows:t.result.rows,rowspan:t.result.rowspan,loading:!1});case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getRowSpan",value:function(e,t){var a=e.filter((function(e){return e[0]===t}));return a.length?a[0][1]:1}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,r=t.rows,i=t.rowspan;return a?n.a.createElement(K.l,null):!a&&r?n.a.createElement(K.b,{resourcename:"Services and probes",infoview:!0},n.a.createElement("table",{className:"table table-bordered table-sm"},n.a.createElement("thead",{className:"table-active"},n.a.createElement("tr",null,n.a.createElement("th",{id:"argo-th",scope:"col"},"Service category"),n.a.createElement("th",{id:"argo-th",scope:"col"},"Service name"),n.a.createElement("th",{id:"argo-th",scope:"col"},n.a.createElement(K.k,{i:"serviceflavour"})," Service type"),n.a.createElement("th",{id:"argo-th",scope:"col"},n.a.createElement(K.k,{i:"metrics"})," Metric"),n.a.createElement("th",{id:"argo-th",scope:"col"},n.a.createElement(K.k,{i:"probes"})," Probe"))),n.a.createElement("tbody",null,r.map((function(t,a){return n.a.createElement("tr",{key:a},t.service_category&&n.a.createElement("td",{id:"argo-td",className:"table-light",rowSpan:e.getRowSpan(i.service_category,t.service_category)},t.service_category),t.service_name&&n.a.createElement("td",{id:"argo-td",className:"table-light",rowSpan:e.getRowSpan(i.service_name,t.service_name)},t.service_name),t.service_type&&n.a.createElement("td",{id:"argo-td",className:"table-light",rowSpan:e.getRowSpan(i.service_type,t.service_type)},n.a.createElement(K.k,{i:"serviceflavour"})," ",t.service_type),t.metric&&n.a.createElement("td",{id:"argo-td",className:"table-light",rowSpan:e.getRowSpan(i.metric,t.metric)},n.a.createElement(K.k,{i:"metrics"})," ",n.a.createElement(Z.b,{to:"/ui/metrics/"+t.metric},t.metric)),t.probe&&n.a.createElement("td",{id:"argo-td",className:"table-light",rowSpan:e.getRowSpan(i.probe,t.probe)},n.a.createElement(K.k,{i:"probes"})," ",n.a.createElement(Te.i,{probeversion:t.probe})))}))))):null}}]),r}(r.Component);a("QjdQ");function dt(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=y()(e);if(t()){var n=y()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return b()(this,a)}}var _t=ne.object().shape({username:ne.string().max(30,"Username must be 30 characters or fewer.").matches(/^[A-Za-z0-9@.+\-_]*$/,"Letters, numbers and @/./+/-/_ characters").required("Required"),addview:ne.boolean(),password:ne.string().when("addview",{is:!0,then:ne.string().required("Required").min(8,"Your password must contain at least 8 characters.").matches(/^\d*[a-zA-Z][a-zA-Z\d]*$/,"Your password cannot be entirely numeric.")}),confirm_password:ne.string().when("addview",{is:!0,then:ne.string().required("Required").oneOf([ne.ref("password"),null],"Passwords do not match!")}),email:ne.string().email("Enter valid email.").required("Required")}),pt=Et(!0),ft=Et(),ht=function(e){var t=e.add,a=e.errors;e.values;return n.a.createElement(n.a.Fragment,null,t?n.a.createElement(T.a,null,n.a.createElement(P.a,null,n.a.createElement(x.a,{md:6},n.a.createElement(Ee.a,null,n.a.createElement(ve.a,{addonType:"prepend"},"Username"),n.a.createElement(j.a,{type:"text",name:"username",className:"form-control ".concat(a.username&&"border-danger"),id:"userUsername"})),a.username&&Object(K.h)(a.username))),n.a.createElement(P.a,null,n.a.createElement(x.a,{md:6},n.a.createElement(Ee.a,null,n.a.createElement(ve.a,{addonType:"prepend"},"Password"),n.a.createElement(j.a,{type:"password",name:"password",className:"form-control ".concat(a.password&&"border-danger"),id:"password"})),a.password&&Object(K.h)(a.password))),n.a.createElement(P.a,null,n.a.createElement(x.a,{md:6},n.a.createElement(Ee.a,null,n.a.createElement(ve.a,{addonType:"prepend"},"Confirm password"),n.a.createElement(j.a,{type:"password",name:"confirm_password",className:"form-control ".concat(a.confirm_password&&"border-danger"),id:"confirm_password"})),a.confirm_password&&Object(K.h)(a.confirm_password)))):n.a.createElement(T.a,null,n.a.createElement(P.a,null,n.a.createElement(x.a,{md:6},n.a.createElement(Ee.a,null,n.a.createElement(ve.a,{addonType:"prepend"},"Username"),n.a.createElement(j.a,{type:"text",name:"username",className:"form-control",id:"userUsername"})),a.username&&Object(K.h)(a.username)))),n.a.createElement(T.a,null,n.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Personal info"),n.a.createElement(P.a,null,n.a.createElement(x.a,{md:6},n.a.createElement(Ee.a,null,n.a.createElement(ve.a,{addonType:"prepend"},"First name"),n.a.createElement(j.a,{type:"text",name:"first_name",className:"form-control",id:"userFirstName"})))),n.a.createElement(P.a,null,n.a.createElement(x.a,{md:6},n.a.createElement(Ee.a,null,n.a.createElement(ve.a,{addonType:"prepend"},"Last name"),n.a.createElement(j.a,{type:"text",name:"last_name",className:"form-control",id:"userLastName"})))),n.a.createElement(P.a,null,n.a.createElement(x.a,{md:6},n.a.createElement(Ee.a,null,n.a.createElement(ve.a,{addonType:"prepend"},"Email"),n.a.createElement(j.a,{type:"text",name:"email",className:"form-control ".concat(a.email&&"border-danger"),id:"userEmail"})),a.email&&Object(K.h)(a.email))),!t&&n.a.createElement(n.a.Fragment,null,n.a.createElement(P.a,null,n.a.createElement(x.a,{md:6},n.a.createElement(Ee.a,null,n.a.createElement(ve.a,{addonType:"prepend"},"Last login"),n.a.createElement(j.a,{type:"text",name:"last_login",className:"form-control",readOnly:!0})))),n.a.createElement(P.a,null,n.a.createElement(x.a,{md:6},n.a.createElement(Ee.a,null,n.a.createElement(ve.a,{addonType:"prepend"},"Date joined"),n.a.createElement(j.a,{type:"text",name:"date_joined",className:"form-control",readOnly:!0})))))),n.a.createElement(T.a,null,n.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Permissions"),n.a.createElement(P.a,null,n.a.createElement(x.a,{md:6},n.a.createElement(j.a,{component:K.c,name:"is_superuser",className:"form-control",id:"checkbox",label:"Superuser status"}),n.a.createElement(be.a,{color:"muted"},"Designates that this user has all permissions without explicitly assigning them."))),n.a.createElement(P.a,null,n.a.createElement(x.a,{md:6},n.a.createElement(j.a,{component:K.c,name:"is_active",className:"form-control",id:"checkbox",label:"Active"}),n.a.createElement(be.a,{color:"muted"},"Designates whether this user should be treated as active. Unselect this instead of deleting accounts.")))))},gt=function(e){E()(r,e);var t,a=dt(r);function r(e){var t;return d()(this,r),(t=a.call(this,e)).state={loading:!1,list_users:null},t.location=e.location,t.backend=new z.a,t}return p()(r,[{key:"componentDidMount",value:(t=u()(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.backend.fetchData("/api/v2/internal/users");case 3:t=e.sent,this.setState({list_users:t,loading:!1});case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=[{Header:"Username",id:"username",accessor:function(e){return n.a.createElement(Z.b,{to:"/ui/administration/users/"+e.username},e.username)}},{Header:"First name",accessor:"first_name",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)}},{Header:"Last name",accessor:"last_name",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)}},{Header:"Email address",accessor:"email",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)}},{id:"is_superuser",Header:"Superuser status",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)},accessor:function(e){return e.is_superuser?n.a.createElement(ee.a,{icon:te.c,style:{color:"#339900"}}):n.a.createElement(ee.a,{icon:te.t,style:{color:"#CC0000"}})}},{Header:"Active status",id:"is_active",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)},accessor:function(e){return e.is_active?n.a.createElement(ee.a,{icon:te.c,style:{color:"#339900"}}):n.a.createElement(ee.a,{icon:te.t,style:{color:"#CC0000"}})}}],t=this.state,a=t.loading,r=t.list_users;return a?n.a.createElement(K.l,null):!a&&r?n.a.createElement(K.b,{resourcename:"users",location:this.location,listview:!0},n.a.createElement($.a,{data:r,columns:e,className:"-highlight",defaultPageSize:20,rowsText:"users",getTheadThProps:function(){return{className:"table-active font-weight-bold p-2"}}})):null}}]),r}(r.Component);function Et(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){E()(s,t);var a,r,i,o=dt(s);function s(e){var t;return d()(this,s),(t=o.call(this,e)).user_name=e.match.params.user_name,t.addview=e.addview,t.location=e.location,t.history=e.history,t.state={custuser:{pk:"",first_name:"",last_name:"",username:"",is_active:!0,is_superuser:!1,email:"",last_login:"",date_joined:""},password:"",userprofile:{displayname:"",subject:"",egiid:""},usergroups:{aggregations:[],metrics:[],metricprofiles:[],thresholdsprofiles:[]},allgroups:{metrics:[],aggregations:[],metricprofiles:[],thresholdsprofiles:[]},loading:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},t.backend=new z.a,t.toggleAreYouSure=t.toggleAreYouSure.bind(h()(t)),t.toggleAreYouSureSetModal=t.toggleAreYouSureSetModal.bind(h()(t)),t.onSubmitHandle=t.onSubmitHandle.bind(h()(t)),t.doChange=t.doChange.bind(h()(t)),t.doDelete=t.doDelete.bind(h()(t)),t}return p()(s,[{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSubmitHandle",value:function(e,t){var a=this,r=void 0,n=void 0;this.addview?(r="Are you sure you want to add user?",n="Add user"):(r="Are you sure you want to change user?",n="Change user"),this.toggleAreYouSureSetModal(r,n,(function(){return a.doChange(e,t)}))}},{key:"doChange",value:(i=u()(c.a.mark((function t(a,r){var n,i,o,s,l,u,m=this;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.addview){t.next=22;break}return t.next=3,this.backend.changeObject("/api/v2/internal/users/",{pk:a.pk,username:a.username,first_name:a.first_name,last_name:a.last_name,email:a.email,is_superuser:a.is_superuser,is_active:a.is_active});case 3:if((n=t.sent).ok){t.next=11;break}return t.next=7,n.json();case 7:i=t.sent,Me.NotificationManager.error(i.detail,"Error"),t.next=19;break;case 11:if(!e){t.next=18;break}return t.next=14,this.backend.changeObject("/api/v2/internal/userprofile/",{username:a.username,displayname:a.displayname,subject:a.subject,egiid:a.egiid,groupsofaggregations:a.groupsofaggregations,groupsofmetrics:a.groupsofmetrics,groupsofmetricprofiles:a.groupsofmetricprofiles,groupsofthresholdsprofiles:a.groupsofthresholdsprofiles});case 14:(o=t.sent).ok?Object(K.o)({msg:"User successfully changed",title:"Changed",callback:function(){return m.history.push("/ui/administration/users")}}):Me.NotificationManager.error("Error changing user","Error: ".concat(o.status," ").concat(o.statusText)),t.next=19;break;case 18:Object(K.o)({msg:"User successfully changed",title:"Changed",callback:function(){return m.history.push("/ui/administration/users")}});case 19:t.next=42;break;case 22:return t.next=24,this.backend.addObject("/api/v2/internal/users/",{username:a.username,password:a.password,first_name:a.first_name,last_name:a.last_name,email:a.email,is_superuser:a.is_superuser,is_active:a.is_active});case 24:if((s=t.sent).ok){t.next=32;break}return t.next=28,s.json();case 28:l=t.sent,Me.NotificationManager.error(l.detail,"Error"),t.next=41;break;case 32:if(!e){t.next=39;break}return t.next=35,this.backend.addObject("/api/v2/internal/userprofile/",{username:a.username,displayname:a.displayname,subject:a.subject,egiid:a.egiid,groupsofaggregations:a.groupsofaggregations,groupsofmetrics:a.groupsofmetrics,groupsofmetricprofiles:a.groupsofmetricprofiles,groupsofthresholdsprofiles:a.groupsofthresholdsprofiles});case 35:(u=t.sent).ok?Object(K.o)({msg:"User successfully added",title:"Added",callback:function(){return m.history.push("/ui/administration/users")}}):Me.NotificationManager.error("Error adding user","Error: ".concat(u.status," ").concat(u.statusText)),t.next=40;break;case 39:Object(K.o)({msg:"User successfully added",title:"Added",callback:function(){return m.history.push("/ui/administration/users")}});case 40:case 41:case 42:case 43:case"end":return t.stop()}}),t,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"doDelete",value:(r=u()(c.a.mark((function e(t){var a,r=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backend.deleteObject("/api/v2/internal/users/".concat(t));case 2:(a=e.sent).ok?Object(K.o)({msg:"User successfully deleted",title:"Deleted",callback:function(){return r.history.push("/ui/administration/users")}}):Me.NotificationManager.error("Error deleting user","Error: ".concat(a.status," ").concat(a.statusText));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"componentDidMount",value:(a=u()(c.a.mark((function t(){var a,r,n,i,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.setState({loading:!0}),this.addview){t.next=21;break}return t.next=4,this.backend.fetchData("/api/v2/internal/users/".concat(this.user_name));case 4:if(a=t.sent,!e){t.next=18;break}return t.next=8,this.backend.fetchData("/api/v2/internal/userprofile/".concat(this.user_name));case 8:return r=t.sent,t.next=11,this.backend.fetchResult("/api/v2/internal/usergroups/".concat(this.user_name));case 11:return n=t.sent,t.next=14,this.backend.fetchResult("/api/v2/internal/usergroups");case 14:i=t.sent,this.setState({custuser:a,userprofile:r,usergroups:n,allgroups:i,loading:!1}),t.next=19;break;case 18:this.setState({custuser:a,loading:!1});case 19:t.next=30;break;case 21:if(!e){t.next=28;break}return t.next=24,this.backend.fetchResult("/api/v2/internal/usergroups");case 24:o=t.sent,this.setState({allgroups:o,loading:!1}),t.next=29;break;case 28:this.setState({loading:!1});case 29:case 30:case 31:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"render",value:function(){var t=this,a=this.state,r=a.custuser,i=a.userprofile,o=a.usergroups,s=a.allgroups,c=a.loading;return c?n.a.createElement(K.l,null):c?void 0:n.a.createElement(K.b,{resourcename:"users",location:this.location,addview:this.addview,history:!1,modal:!0,state:this.state,toggle:this.toggleAreYouSure},n.a.createElement(j.d,{initialValues:{addview:this.addview,pk:r.pk,first_name:r.first_name,last_name:r.last_name,username:r.username,password:"",confirm_password:"",is_active:r.is_active,is_superuser:r.is_superuser,email:r.email,last_login:r.last_login,date_joined:r.date_joined,groupsofaggregations:o.aggregations,groupsofmetrics:o.metrics,groupsofmetricprofiles:o.metricprofiles,groupsofthresholdsprofiles:o.thresholdsprofiles,displayname:i.displayname,subject:i.subject,egiid:i.egiid},validationSchema:_t,onSubmit:function(e,a){return t.onSubmitHandle(e,a)},render:function(a){return n.a.createElement(j.c,null,n.a.createElement(ht,O()({},a,{add:t.addview})),e&&n.a.createElement(n.a.Fragment,null,n.a.createElement(T.a,null,n.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"POEM user permissions"),n.a.createElement(P.a,null,n.a.createElement(x.a,{md:6},n.a.createElement(N.a,{for:"groupsofmetrics",className:"grouplabel"},"Groups of metrics"),n.a.createElement(j.a,{component:"select",name:"groupsofmetrics",id:"select-field",onChange:function(e){return a.setFieldValue("groupsofmetrics",[].slice.call(e.target.selectedOptions).map((function(e){return e.value})))},multiple:!0},s.metrics.map((function(e){return n.a.createElement("option",{key:e,value:e},e)}))),n.a.createElement(be.a,{color:"muted"},'The groups of metrics that user will control. Hold down "Control" or "Command" on a Mac to select more than one.'))),n.a.createElement(P.a,null,n.a.createElement(x.a,{md:6},n.a.createElement(N.a,{for:"groupsofmetricprofiles",className:"grouplabel"},"Groups of metric profiles"),n.a.createElement(j.a,{component:"select",name:"groupsofmetricprofiles",id:"select-field",onChange:function(e){return a.setFieldValue("groupsofmetricprofiles",[].slice.call(e.target.selectedOptions).map((function(e){return e.value})))},multiple:!0},s.metricprofiles.map((function(e){return n.a.createElement("option",{key:e,value:e},e)}))),n.a.createElement(be.a,{color:"muted"},'The groups of metric profiles that user will control. Hold down "Control" or "Command" on a Mac to select more than one.'))),n.a.createElement(P.a,null,n.a.createElement(x.a,{md:6},n.a.createElement(N.a,{for:"groupsofaggregations",className:"grouplabel"},"Groups of aggregations"),n.a.createElement(j.a,{component:"select",name:"groupsofaggregations",id:"select-field",onChange:function(e){return a.setFieldValue("groupsofaggregations",[].slice.call(e.target.selectedOptions).map((function(e){return e.value})))},multiple:!0},s.aggregations.map((function(e){return n.a.createElement("option",{key:e,value:e},e)}))),n.a.createElement(be.a,{color:"muted"},'The groups of aggregations that user will control. Hold down "Control" or "Command" on a Mac to select more than one.'))),n.a.createElement(P.a,null,n.a.createElement(x.a,{md:6},n.a.createElement(N.a,{for:"groupsofthresholdsprofiles",className:"grouplabel"},"Groups of thresholds profiles"),n.a.createElement(j.a,{component:"select",name:"groupsofthresholdsprofiles",id:"select-field",onChange:function(e){return a.setFieldValue("groupsofthresholdsprofiles",[].slice.call(e.target.selectedOptions).map((function(e){return e.value})))},multiple:!0},s.thresholdsprofiles.map((function(e){return n.a.createElement("option",{key:e,value:e},e)}))),n.a.createElement(be.a,{color:"muted"},'The groups of thresholds profiles that user will control. Hold down "Control" or "Command" on a Mac to select more than one.')))),n.a.createElement(T.a,null,n.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Additional information"),n.a.createElement(P.a,null,n.a.createElement(x.a,{md:12},n.a.createElement(Ee.a,null,n.a.createElement(ve.a,{addonType:"prepend"},"distinguishedName"),n.a.createElement(j.a,{type:"text",name:"subject",required:!1,className:"form-control",id:"distinguishedname"}))))),n.a.createElement(T.a,null,n.a.createElement(P.a,null,n.a.createElement(x.a,{md:8},n.a.createElement(Ee.a,null,n.a.createElement(ve.a,{addonType:"prepend"},"eduPersonUniqueId"),n.a.createElement(j.a,{type:"text",name:"egiid",required:!1,className:"form-control",id:"eduid"}))))),n.a.createElement(T.a,null,n.a.createElement(P.a,null,n.a.createElement(x.a,{md:6},n.a.createElement(Ee.a,null,n.a.createElement(ve.a,{addonType:"prepend"},"displayName"),n.a.createElement(j.a,{type:"text",name:"displayname",required:!1,className:"form-control",id:"displayname"})))))),n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},t.addview?n.a.createElement("div",null):n.a.createElement(U.a,{color:"danger",onClick:function(){t.toggleAreYouSureSetModal("Are you sure you want to delete User?","Delete user",(function(){return t.doDelete(a.values.username)}))}},"Delete"),n.a.createElement(U.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}}))}}]),s}(r.Component)}var vt=a("csno");function bt(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=y()(e);if(t()){var n=y()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return b()(this,a)}}var Mt=xt("metrics","groupofmetrics","group of metrics"),yt=Ct("metrics","groupofmetrics","metrics"),Dt=xt("aggregations","groupofaggregations","group of aggregations"),Ot=Ct("aggregations","groupofaggregations","aggregations"),kt=xt("metricprofiles","groupofmetricprofiles","group of metric profiles"),wt=Ct("metricprofiles","groupofmetricprofiles","metric profiles"),At=xt("thresholdsprofiles","groupofthresholdsprofiles","group of thresholds profiles"),Pt=Ct("thresholdsprofiles","groupofthresholdsprofiles","thresholds profiles");function xt(e,t,a){return function(r){E()(s,r);var i,o=bt(s);function s(e){var t;return d()(this,s),(t=o.call(this,e)).state={loading:!1,list_groups:null},t.location=e.location,t.backend=new z.a,t}return p()(s,[{key:"componentDidMount",value:(i=u()(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({loading:!0}),t.next=3,this.backend.fetchResult("/api/v2/internal/usergroups");case 3:a=t.sent,this.setState({list_groups:a[e],loading:!1});case 5:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"render",value:function(){var e=[{Header:a.charAt(0).toUpperCase()+a.slice(1),id:t,accessor:function(e){return n.a.createElement(Z.b,{to:"/ui/administration/".concat(t,"/").concat(e)},e)}}],r=this.state,i=r.loading,o=r.list_groups;return i?n.a.createElement(K.l,null):!i&&o?n.a.createElement(K.b,{resourcename:a,location:this.location,listview:!0},n.a.createElement($.a,{data:o,columns:e,className:"-highlight",defaultPageSize:12,rowsText:"groups",getTheadThProps:function(){return{className:"table-active font-weight-bold p-2"}}})):null}}]),s}(r.Component)}function Ct(e,t,a){return function(r){E()(m,r);var i,o,s,l=bt(m);function m(e){var t;return d()(this,m),(t=l.call(this,e)).group=e.match.params.group,t.addview=e.addview,t.location=e.location,t.history=e.history,t.state={name:"",items:[],nogroupitems:[],loading:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},t.backend=new z.a,t.handleDeselect=t.handleDeselect.bind(h()(t)),t.handleSelect=t.handleSelect.bind(h()(t)),t.toggleAreYouSure=t.toggleAreYouSure.bind(h()(t)),t.toggleAreYouSureSetModal=t.toggleAreYouSureSetModal.bind(h()(t)),t.onSubmitHandle=t.onSubmitHandle.bind(h()(t)),t.doChange=t.doChange.bind(h()(t)),t.doDelete=t.doDelete.bind(h()(t)),t}return p()(m,[{key:"handleDeselect",value:function(e){var t=this.state.items.slice(),a=this.state.nogroupitems.slice();e.forEach((function(e){t.splice(t.indexOf(e),1)})),e.forEach((function(e){-1===a.indexOf(e)&&a.push(e)})),this.setState({items:t,nogroupitems:a})}},{key:"handleSelect",value:function(e){e.sort((function(e,t){return e.id-t.id})),this.setState({items:e})}},{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSubmitHandle",value:function(e,t){var r=this,n=void 0,i=void 0;this.addview?(n="Are you sure you want to add group of ".concat(a,"?"),i="Add group of ".concat(a)):(n="Are you sure you want to change group of ".concat(a,"?"),i="Change group of ".concat(a)),this.toggleAreYouSureSetModal(n,i,(function(){return r.doChange(e,t)}))}},{key:"doChange",value:(s=u()(c.a.mark((function r(n,i){var o,s,l,u=this;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=[],this.state.items.forEach((function(e){return o.push(e.name)})),this.addview){r.next=9;break}return r.next=5,this.backend.changeObject("/api/v2/internal/".concat(e,"group/"),{name:n.name,items:o});case 5:(s=r.sent).ok?Object(K.o)({msg:"Group of ".concat(a," successfully changed"),title:"Changed",callback:function(){return u.history.push("/ui/administration/".concat(t))}}):this.toggleAreYouSureSetModal("Error: ".concat(s.status," ").concat(s.statusText),"Error changing group of ".concat(a),void 0),r.next=13;break;case 9:return r.next=11,this.backend.addObject("/api/v2/internal/".concat(e,"group/"),{name:n.name,items:o});case 11:(l=r.sent).ok?Object(K.o)({msg:"Group of ".concat(a," successfully added"),title:"Added",callback:function(){return u.history.push("/ui/administration/".concat(t))}}):this.toggleAreYouSureSetModal("Error: ".concat(l.status," ").concat(l.statusText),"Error adding group of ".concat(a),void 0);case 13:case"end":return r.stop()}}),r,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"doDelete",value:(o=u()(c.a.mark((function r(n){var i,o=this;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.backend.deleteObject("/api/v2/internal/".concat(e,"group/").concat(n));case 2:(i=r.sent).ok?Object(K.o)({msg:"Group of ".concat(a," successfully deleted"),title:"Deleted",callback:function(){return o.history.push("/ui/administration/".concat(t))}}):this.toggleAreYouSureSetModal("Error: ".concat(i.status," ").concat(i.statusText),"Error deleting group of ".concat(a),void 0);case 4:case"end":return r.stop()}}),r,this)}))),function(e){return o.apply(this,arguments)})},{key:"componentDidMount",value:(i=u()(c.a.mark((function t(){var a,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({loading:!0}),t.next=3,this.backend.fetchResult("/api/v2/internal/".concat(e,"group"));case 3:if(a=t.sent,this.addview){t.next=11;break}return t.next=7,this.backend.fetchResult("/api/v2/internal/".concat(e,"group/").concat(this.group));case 7:r=t.sent,this.setState({name:this.group,items:r,nogroupitems:a,loading:!1}),t.next=12;break;case 11:this.setState({name:"",items:[],nogroupitems:a,loading:!1});case 12:case 13:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"render",value:function(){var t=this,r=this.state,i=r.name,o=r.items,s=r.loading,c=this.state.nogroupitems,l={filter:"form-control",select:"form-control",button:"btn btn btn-block btn-primary",buttonActive:"btn btn btn-block btn-primary"};return s?n.a.createElement(K.l,null):s?void 0:n.a.createElement(K.b,{resourcename:"group of ".concat(a),location:this.location,addview:this.addview,history:!1,modal:!0,state:this.state,toggle:this.toggleAreYouSure},n.a.createElement(j.d,{initialValues:{name:i,items:o},onSubmit:function(e,a){return t.onSubmitHandle(e,a)},render:function(r){return n.a.createElement(j.c,null,n.a.createElement(T.a,null,n.a.createElement(P.a,null,n.a.createElement(x.a,{md:6},n.a.createElement(N.a,{for:"groupname"},"Name"),n.a.createElement(j.a,{type:"text",name:"name",required:!0,className:"form-control",id:"groupname",disabled:!t.addview})))),n.a.createElement(T.a,null,n.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},a),n.a.createElement(P.a,null,n.a.createElement(x.a,{md:5},n.a.createElement(vt.a,{buttonText:"Add",classNames:l,onChange:t.handleSelect,options:c,selectedOptions:o,size:15,textProp:"name",valueProp:"id"})),n.a.createElement(x.a,{md:5},n.a.createElement(vt.a,{buttonText:"Remove",classNames:{filter:"form-control",select:"form-control",button:"btn btn btn-block btn-danger",buttonActive:"btn btn btn-block btn-danger"},onChange:t.handleDeselect,options:o,size:15,textProp:"name",valueProp:"id"})))),n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},t.addview?n.a.createElement("div",null):n.a.createElement(U.a,{color:"danger",onClick:function(){t.toggleAreYouSureSetModal("Are you sure you want to delete group of ".concat(e,"?"),"Delete group of ".concat(e),(function(){return t.doDelete(r.values.name)}))}},"Delete"),n.a.createElement(U.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}}))}}]),m}(r.Component)}var It=a("Q4bY"),St=a("VtcC"),Tt=a("p2VU");function Nt(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=y()(e);if(t()){var n=y()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return b()(this,a)}}var Lt=function(e){E()(r,e);var t,a=Nt(r);function r(e){var t;return d()(this,r),(t=a.call(this,e)).location=e.location,t.state={list_keys:null,loading:!1},t.backend=new z.a,t}return p()(r,[{key:"componentDidMount",value:(t=u()(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.backend.fetchData("/api/v2/internal/apikeys");case 3:t=e.sent,this.setState({list_keys:t,loading:!1});case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=[{Header:"Name",id:"name",accessor:function(e){return n.a.createElement(Z.b,{to:"/ui/administration/apikey/"+e.name},e.name)}},{Header:"Created",accessor:"created"},{Header:"Revoked",id:"revoked",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)},accessor:function(e){return e.revoked?n.a.createElement(ee.a,{icon:te.c,style:{color:"#339900"}}):n.a.createElement(ee.a,{icon:te.t,style:{color:"#CC0000"}})}}],t=this.state,a=t.loading,r=t.list_keys;return a?n.a.createElement(K.l,null):!a&&r?n.a.createElement(K.b,{resourcename:"API key",location:this.location,listview:!0},n.a.createElement($.a,{data:r,columns:e,className:"-highlight",defaultPageSize:5,rowsText:"keys",getTheadThProps:function(){return{className:"table-active font-weight-bold p-2"}}})):null}}]),r}(r.Component),Ut=function(e){E()(o,e);var t,a,r,i=Nt(o);function o(e){var t;return d()(this,o),(t=i.call(this,e)).name=e.match.params.name,t.location=e.location,t.addview=e.addview,t.history=e.history,t.state={key:{},loading:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},t.backend=new z.a,t.toggleAreYouSure=t.toggleAreYouSure.bind(h()(t)),t.toggleAreYouSureSetModal=t.toggleAreYouSureSetModal.bind(h()(t)),t.onSubmitHandle=t.onSubmitHandle.bind(h()(t)),t.doChange=t.doChange.bind(h()(t)),t.doDelete=t.doDelete.bind(h()(t)),t}return p()(o,[{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSubmitHandle",value:function(e,t){var a=this,r=void 0,n=void 0;this.addview?(r="Are you sure you want to add API key?",n="Add API key"):(r="Are you sure you want to change API key?",n="Change API key"),this.toggleAreYouSureSetModal(r,n,(function(){return a.doChange(e,t)}))}},{key:"doChange",value:(r=u()(c.a.mark((function e(t,a){var r,n,i=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.addview){e.next=7;break}return e.next=3,this.backend.changeObject("/api/v2/internal/apikeys/",{id:this.state.key.id,revoked:t.revoked,name:t.name});case 3:(r=e.sent).ok?Object(K.o)({msg:"API key successfully changed",title:"Changed",callback:function(){return i.history.push("/ui/administration/apikey")}}):this.toggleAreYouSureSetModal("Error: ".concat(r.status," ").concat(r.statusText),"Error changing API key",void 0),e.next=11;break;case 7:return e.next=9,this.backend.addObject("/api/v2/internal/apikeys/",{name:t.name});case 9:(n=e.sent).ok?Object(K.o)({msg:"API key successfully added",title:"Added",callback:function(){return i.history.push("/ui/administration/apikey")}}):this.toggleAreYouSureSetModal("Error: ".concat(n.status," ").concat(n.statusText),"Error adding API key",void 0);case 11:case 12:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"doDelete",value:(a=u()(c.a.mark((function e(t){var a,r=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backend.deleteObject("/api/v2/internal/apikeys/".concat(t));case 2:(a=e.sent).ok?Object(K.o)({msg:"API key successfully deleted",title:"Deleted",callback:function(){return r.history.push("/ui/administration/apikey")}}):this.toggleAreYouSureSetModal("Error: ".concat(a.status," ").concat(a.statusText),"Error deleting API key",void 0);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"componentDidMount",value:(t=u()(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),this.addview){e.next=8;break}return e.next=4,this.backend.fetchData("/api/v2/internal/apikeys/".concat(this.name));case 4:t=e.sent,this.setState({key:t,loading:!1}),e.next=9;break;case 8:this.setState({key:{name:"",revoked:!1,token:""},loading:!1});case 9:case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state,a=t.key,r=t.loading;return r?n.a.createElement(K.l,null):!r&&a?n.a.createElement(K.b,{resourcename:"API key",location:this.location,addview:this.addview,history:!1,modal:!0,state:this.state,toggle:this.toggleAreYouSure},n.a.createElement(j.d,{initialValues:{name:a.name,revoked:a.revoked,token:a.token},onSubmit:function(t,a){return e.onSubmitHandle(t,a)},render:function(t){return n.a.createElement(j.c,null,n.a.createElement(T.a,null,n.a.createElement(P.a,null,n.a.createElement(x.a,{md:6},n.a.createElement(N.a,{for:"name"},"Name"),n.a.createElement(j.a,{type:"text",name:"name",id:"name",required:!0,className:"form-control"}),n.a.createElement(be.a,{color:"muted"},"A free-form unique identifier of the client. 50 characters max."))),n.a.createElement(P.a,{className:"mt-2"},n.a.createElement(x.a,{md:6},n.a.createElement(j.a,{component:K.c,name:"revoked",className:"form-control",id:"checkbox",label:"Revoked"}),n.a.createElement(be.a,{color:"muted"},"If the API key is revoked, clients cannot use it any more. (This cannot be undone.)")))),n.a.createElement(T.a,null,n.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Credentials"),n.a.createElement(P.a,null,n.a.createElement(x.a,{sm:6},n.a.createElement(Ee.a,null,n.a.createElement(ve.a,{addonType:"prepend"},"Token"),n.a.createElement(j.a,{type:"text",name:"token",id:"token",readOnly:!0,className:"form-control"})),n.a.createElement(be.a,{color:"muted"},"A public, unique identifier for this API key."))),e.addview&&n.a.createElement(It.a,{className:"mt-3"},n.a.createElement(St.a,{icon:"info"},"Info"),n.a.createElement(Tt.a,null,"Token will be generated when clicking save."))),n.a.createElement("div",{className:e.addview?"submit-row d-flex align-items-center justify-content-end bg-light p-3 mt-5":"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},!e.addview&&n.a.createElement(U.a,{color:"danger",onClick:function(){e.toggleAreYouSureSetModal("Are you sure you want to delete API key?","Delete API key",(function(){return e.doDelete(t.values.name)}))}},"Delete"),n.a.createElement(U.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):void 0}}]),o}(r.Component),Rt=function(e){return n.a.createElement("div",null,n.a.createElement("h1",null,"Not found"))},jt=a("Ty5D");function Wt(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=y()(e);if(t()){var n=y()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return b()(this,a)}}var Bt=ne.object().shape({name:ne.string().matches(/^\S*$/,"Name cannot contain white spaces").required("Required"),content:ne.string().required("Required"),description:ne.string().required("Required")}),Kt=function(e){E()(r,e);var t,a=Wt(r);function r(e){var t;return d()(this,r),(t=a.call(this,e)).location=e.location,t.state={loading:!1,list_repos:null,list_tags:null,isTenantSchema:null,search_name:"",search_description:"",search_tag:""},t.backend=new z.a,t}return p()(r,[{key:"componentDidMount",value:(t=u()(c.a.mark((function e(){var t,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.backend.fetchData("/api/v2/internal/yumrepos");case 3:return t=e.sent,e.next=6,this.backend.fetchData("/api/v2/internal/ostags");case 6:return a=e.sent,e.next=9,this.backend.isTenantSchema();case 9:r=e.sent,this.setState({list_repos:t,list_tags:a,isTenantSchema:r,loading:!1});case 11:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state,a=t.list_repos,r=t.isTenantSchema,i=t.loading,o=void 0;o=r?"/ui/administration/yumrepos/":"/ui/yumrepos/";var s=[{Header:"#",id:"row",minWidth:12,Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.index+1)}},{Header:"Name",id:"name",minWidth:80,accessor:function(e){return n.a.createElement(Z.b,{to:o+e.name+"-"+e.tag.replace(/\s/g,"").toLowerCase()},"".concat(e.name," (").concat(e.tag,")"))},filterable:!0,Filter:n.a.createElement("input",{value:this.state.search_name,onChange:function(t){return e.setState({search_name:t.target.value})},placeholder:"Search by name",style:{width:"100%"}})},{Header:"Description",accessor:"description",filterable:!0,Filter:n.a.createElement("input",{type:"text",placeholder:"Search by description",value:this.state.search_description,onChange:function(t){return e.setState({search_description:t.target.value})},style:{width:"100%"}})},{Header:"Tag",accessor:"tag",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)},filterable:!0,Filter:n.a.createElement(K.g,{value:this.state.tag,onChange:function(t){return e.setState({search_tag:t.target.value})},data:this.state.list_tags})}];return this.state.search_name&&(a=a.filter((function(t){return t.name.toLowerCase().includes(e.state.search_name.toLowerCase())}))),this.state.search_description&&(a=a.filter((function(t){return t.description.toLowerCase().includes(e.state.search_description.toLowerCase())}))),this.state.search_tag&&(a=a.filter((function(t){return t.tag.toLowerCase().includes(e.state.search_tag.toLowerCase())}))),i?n.a.createElement(K.l,null):!i&&a?n.a.createElement(K.b,{resourcename:"YUM repo",location:this.location,listview:!0,addnew:!r},n.a.createElement($.a,{data:a,columns:s,className:"-striped -highlight",defaultPageSize:20})):null}}]),r}(r.Component),zt=function(e){E()(o,e);var t,a,r,i=Wt(o);function o(e){var t;return d()(this,o),t=i.call(this,e),e.match.params.name&&(t.tag=e.match.params.name.split("-")[e.match.params.name.split("-").length-1],t.name=e.match.params.name.replace("-"+t.tag,"")),t.addview=e.addview,t.disabled=e.disabled,t.location=e.location,t.history=e.history,t.backend=new z.a,t.state={repo:{id:"",name:"",tag:"CentOS 6",content:"",description:""},tagslist:[],loading:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},t.toggleAreYouSure=t.toggleAreYouSure.bind(h()(t)),t.toggleAreYouSureSetModal=t.toggleAreYouSureSetModal.bind(h()(t)),t.onSubmitHandle=t.onSubmitHandle.bind(h()(t)),t.doChange=t.doChange.bind(h()(t)),t.doDelete=t.doDelete.bind(h()(t)),t}return p()(o,[{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSubmitHandle",value:function(e,t){var a=this,r=void 0,n=void 0;this.addview?(r="Are you sure you want to add YUM repo?",n="Add YUM repo"):(r="Are you sure you want to change YUM repo?",n="Change YUM repo"),this.toggleAreYouSureSetModal(r,n,(function(){return a.doChange(e,t)}))}},{key:"doChange",value:(r=u()(c.a.mark((function e(t,a){var r,n,i,o,s=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.addview){e.next=15;break}return e.next=3,this.backend.changeObject("/api/v2/internal/yumrepos/",{id:t.id,name:t.name,tag:t.tag,content:t.content,description:t.description});case 3:if((r=e.sent).ok){e.next=11;break}return e.next=7,r.json();case 7:n=e.sent,Me.NotificationManager.error(n.detail,"Error"),e.next=12;break;case 11:Object(K.o)({msg:"YUM repo successfully changed",title:"Changed",callback:function(){return s.history.push("/ui/yumrepos")}});case 12:e.next=27;break;case 15:return e.next=17,this.backend.addObject("/api/v2/internal/yumrepos/",{name:t.name,tag:t.tag,content:t.content,description:t.description});case 17:if((i=e.sent).ok){e.next=25;break}return e.next=21,i.json();case 21:o=e.sent,Me.NotificationManager.error(o.detail,"Error"),e.next=26;break;case 25:Object(K.o)({msg:"YUM repo successfully added",title:"Added",callback:function(){return s.history.push("/ui/yumrepos")}});case 26:case 27:case 28:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"doDelete",value:(a=u()(c.a.mark((function e(t,a){var r,n,i=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backend.deleteObject("/api/v2/internal/yumrepos/".concat(t,"/").concat(a));case 2:if((r=e.sent).ok){e.next=10;break}return e.next=6,r.json();case 6:n=e.sent,Me.NotificationManager.error(n.detail,"Error"),e.next=11;break;case 10:Object(K.o)({msg:"YUM repo successfully deleted",title:"Deleted",callback:function(){return i.history.push("/ui/yumrepos")}});case 11:case 12:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"componentDidMount",value:(t=u()(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.backend.fetchData("/api/v2/internal/ostags");case 3:if(t=e.sent,this.addview){e.next=11;break}return e.next=7,this.backend.fetchData("/api/v2/internal/yumrepos/".concat(this.name,"/").concat(this.tag));case 7:a=e.sent,this.setState({repo:a,tagslist:t,loading:!1}),e.next=12;break;case 11:this.setState({tagslist:t,loading:!1});case 12:case 13:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state,a=t.repo,r=t.tagslist,i=t.loading;return i?n.a.createElement(K.l,null):!i&&a?n.a.createElement(K.b,{resourcename:"YUM repo",location:this.location,addview:this.addview,modal:!0,state:this.state,toggle:this.toggleAreYouSure,history:!1},n.a.createElement(j.d,{initialValues:{id:a.id,name:a.name,tag:a.tag,content:a.content,description:a.description},onSubmit:function(t,a){return e.onSubmitHandle(t,a)},validationSchema:Bt,render:function(t){return n.a.createElement(j.c,null,n.a.createElement(T.a,null,n.a.createElement(P.a,null,n.a.createElement(x.a,{md:6},n.a.createElement(Ee.a,null,n.a.createElement(ve.a,{addonType:"prepend"},"Name"),n.a.createElement(j.a,{type:"text",name:"name",className:"form-control ".concat(t.errors.name&&"border-danger"),id:"name",disabled:e.disabled})),t.errors.name&&Object(K.h)(t.errors.name),n.a.createElement(be.a,{color:"muted"},"Name of YUM repo file.")),n.a.createElement(x.a,{md:2},n.a.createElement(Ee.a,null,n.a.createElement(ve.a,{addonType:"prepend"},"Tag"),e.disabled?n.a.createElement(j.a,{type:"text",name:"tag",className:"form-control",id:"tag",disabled:!0}):n.a.createElement(j.a,{component:"select",name:"tag",className:"form-control",id:"tag"},r.map((function(e,t){return n.a.createElement("option",{key:t,value:e},e)})))),n.a.createElement(be.a,{color:"muted"},"OS tag.")))),n.a.createElement(T.a,null,n.a.createElement(P.a,null,n.a.createElement(x.a,{md:8},n.a.createElement(N.a,{for:"content"},"File content"),n.a.createElement(j.a,{component:"textarea",name:"content",rows:"20",className:"form-control ".concat(t.errors.content&&"border-danger"),id:"content",disabled:e.disabled}),t.errors.content&&Object(K.h)(t.errors.content),n.a.createElement(be.a,{color:"muted"},"Content of the repo file.")))),n.a.createElement(T.a,null,n.a.createElement(P.a,null,n.a.createElement(x.a,{md:8},n.a.createElement(N.a,{for:"description"},"Description"),n.a.createElement(j.a,{component:"textarea",name:"description",rows:"5",className:"form-control ".concat(t.errors.description&&"border-danger"),id:"description",disabled:e.disabled}),t.errors.description&&Object(K.h)(t.errors.description),n.a.createElement(be.a,{color:"muted"},"Short free text description.")))),!e.disabled&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},e.addview?n.a.createElement("div",null):n.a.createElement(U.a,{color:"danger",onClick:function(){e.toggleAreYouSureSetModal("Are you sure you want to delete YUM repo?","Delete YUM repo",(function(){return e.doDelete(e.name,e.tag)}))}},"Delete"),n.a.createElement(U.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):null}}]),o}(r.Component),Yt=a("iqOp"),Qt=a("glTy"),Ft=a("YGfb");function Vt(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=y()(e);if(t()){var n=y()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return b()(this,a)}}var Ht=Object(K.j)("thresholdsprofile"),qt=ne.object().shape({name:ne.string().required("Required"),groupname:ne.string().required("Required"),rules:ne.array().of(ne.object().shape({metric:ne.string().required("Required"),thresholds:ne.array().of(ne.object().shape({label:ne.string().matches(/^[a-zA-Z][A-Za-z0-9]*$/,"Label can contain alphanumeric characters, but must always begin with a letter.").required("Required"),value:ne.string().matches(/^([-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").required("Required"),warn1:ne.string().matches(/^[@]?(~|[-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").required("Required"),warn2:ne.string().matches(/^([-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").test("greater-than","Should be greater than lower warning limit",(function(e){var t="@"===this.parent.warn1.charAt(0)?this.parent.warn1.substr(1):this.parent.warn1;return!t||!e||("~"===t||(!(!isNaN(Number(t))&&!isNaN(Number(e)))||Number(t)<=Number(e)))})),crit1:ne.string().matches(/^[@]?(~|[-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").required("Required"),crit2:ne.string().matches(/^([-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").test("greater-than","Should be greater than lower critical limit",(function(e){var t="@"===this.parent.crit1.charAt(0)?this.parent.crit1.substr(1):this.parent.crit1;return!t||!e||("~"===t||(!(!isNaN(Number(t))&&!isNaN(Number(e)))||Number(t)<=Number(e)))})),min:ne.string().matches(/^([-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number."),max:ne.string().matches(/^([-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").test("greater-than-min","Should be greater than min value.",(function(e){var t=this.parent.min;return!t||(!(!isNaN(Number(t))&&!isNaN(Number(e)))||Number(t)<Number(e))}))}))}))});function Gt(e){return e.forEach((function(e){var t=e.thresholds.split(" "),a=[];t.forEach((function(e){var t="",r="",n="",i="",o="",s="",c="",l="",u="",m=e.split("=");if(2===m.length){t=m[0];var d=m[1].split(";");if(d.length>0&&(n=function(e){return isNaN(e.charAt(e.length-1))?e.endsWith("us")?"us":e.endsWith("ms")?"ms":e.endsWith("s")?"s":e.endsWith("%")?"%":e.endsWith("KB")?"KB":e.endsWith("MB")?"MB":e.endsWith("TB")?"TB":e.endsWith("B")?"B":e.endsWith("c")?"c":void 0:""}(d[0]),r=d[0].replace(n,""),d.length>1))for(var _=1;_<d.length;_++)if(1===_){var p=d[_].split(":");p.length>1?(i=p[0],o=p[1]):(i="0",o=d[_])}else if(2===_){var f=d[_].split(":");f.length>1?(s=f[0],c=f[1]):(s="0",c=d[_])}else 3===_?l=d[_]:4===_&&(u=d[_])}a.push({label:t,value:r,uom:n,warn1:i,warn2:o,crit1:s,crit2:c,min:l,max:u})})),e.thresholds=a})),e}var Zt=function(e){var t=e.values,a=e.errors,r=e.setFieldValue,i=e.historyview,o=void 0!==i&&i,s=e.groups_list,c=void 0===s?void 0:s,l=e.metrics_list,u=void 0===l?void 0:l,m=e.write_perm,d=void 0!==m&&m,_=e.onSelect,p=e.state,f=e.toggleWarningPopOver,h=e.toggleCriticalPopOver;return n.a.createElement(n.a.Fragment,null,n.a.createElement(K.p,{values:t,errors:a,grouplist:d?c:[t.groupname],fieldsdisable:o,profiletype:"thresholds"}),n.a.createElement(T.a,null,n.a.createElement("h4",{className:"mt-4 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Thresholds rules"),n.a.createElement(P.a,null,n.a.createElement(x.a,{md:12},n.a.createElement(j.b,{name:"rules",render:function(e){return n.a.createElement("div",null,t.rules&&t.rules.length>0?t.rules.map((function(i,s){return n.a.createElement(n.a.Fragment,{key:"fragment.rules.".concat(s)},n.a.createElement(C.a,{className:"mt-".concat(0===s?"1":"4")},n.a.createElement(I.a,{className:"p-1 font-weight-bold text-uppercase"},n.a.createElement("div",{className:"d-flex align-items-center justify-content-between no-gutters"},"Rule ",s+1,!o&&n.a.createElement(U.a,{size:"sm",color:"danger",type:"button",onClick:function(){return d&&e.remove(s)}},n.a.createElement(ee.a,{icon:te.s})))),n.a.createElement(S.a,{className:"p-1"},n.a.createElement(P.a,{className:"d-flex align-items-center no-gutters"},n.a.createElement(x.a,{md:12},o?n.a.createElement(Ee.a,null,n.a.createElement(ve.a,{addonType:"prepend"},"Metric"),n.a.createElement(j.a,{name:"rules.".concat(s,".metric"),className:"form-control",disabled:!0})):n.a.createElement(K.a,{req:a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].metric,setFieldValue:r,lists:u,icon:"metrics",field:"rules[".concat(s,"].metric"),val:t.rules[s].metric,onselect_handler:_,label:"Metric"}),a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].metric&&Object(K.h)(a.rules[s].metric))),n.a.createElement(P.a,{className:"mt-2"},n.a.createElement(x.a,{md:12},n.a.createElement(Ee.a,null,n.a.createElement(ve.a,{addonType:"prepend"},"Host"),n.a.createElement(j.a,{name:"rules.".concat(s,".host"),className:"form-control",disabled:o})))),n.a.createElement(P.a,{className:"mt-2"},n.a.createElement(x.a,{md:12},n.a.createElement(Ee.a,null,n.a.createElement(ve.a,{addonType:"prepend"},"Endpoint group"),n.a.createElement(j.a,{name:"rules.".concat(s,".endpoint_group"),className:"form-control",disabled:o}))))),n.a.createElement(R.a,null,n.a.createElement(P.a,{className:"mt-2"},n.a.createElement(x.a,{md:12},n.a.createElement("h6",{className:"text-uppercase rounded"},"Thresholds"),n.a.createElement(j.b,{name:"rules.".concat(s,".thresholds"),render:function(e){return n.a.createElement("div",null,n.a.createElement("table",{className:"table table-bordered table-sm"},n.a.createElement("thead",{className:"table-active"},n.a.createElement("tr",{className:"align-middle text-center"},n.a.createElement("th",{style:{width:"4%"}},"#"),n.a.createElement("th",{style:{width:"13%"}},"Label"),n.a.createElement("th",{colSpan:2,style:{width:"13%"}},"Value"),o?n.a.createElement("th",{colSpan:3,style:{width:"13%"}},"Warning"):n.a.createElement("th",{colSpan:3,style:{width:"13%"}},"Warning ",n.a.createElement(ee.a,{id:"warning-popover",icon:te.i,style:{color:"#416090"}}),n.a.createElement(Yt.a,{placement:"bottom",isOpen:p.popoverWarningOpen,target:"warning-popover",toggle:f,trigger:"hover"},n.a.createElement(Qt.a,null,"Warning range"),n.a.createElement(Ft.a,null,n.a.createElement("p",null,"Defined in format: ",n.a.createElement("code",null,"@{floor}:{ceil}")),n.a.createElement("p",null,n.a.createElement("code",null,"@")," - optional - negates the range (value should belong outside limits)"),n.a.createElement("p",null,n.a.createElement("code",null,"{floor}"),": integer/float or ",n.a.createElement("code",null,"~")," that defines negative infinity"),n.a.createElement("p",null,n.a.createElement("code",null,"{ceil}"),": integer/float or empty (defines positive infinity)")))),o?n.a.createElement("th",{colSpan:3,style:{width:"13%"}},"Critical"):n.a.createElement("th",{colSpan:3,style:{width:"13%"}},"Critical ",n.a.createElement(ee.a,{id:"critical-popover",icon:te.i,style:{color:"#416090"}}),n.a.createElement(Yt.a,{placement:"bottom",isOpen:p.popoverCriticalOpen,target:"critical-popover",toggle:h,trigger:"hover"},n.a.createElement(Qt.a,null,"Critical range"),n.a.createElement(Ft.a,null,n.a.createElement("p",null,"Defined in format: ",n.a.createElement("code",null,"@{floor}:{ceil}")),n.a.createElement("p",null,n.a.createElement("code",null,"@")," - optional - negates the range (value should belong outside limits)"),n.a.createElement("p",null,n.a.createElement("code",null,"{floor}"),": integer/float or ",n.a.createElement("code",null,"~")," that defines negative infinity"),n.a.createElement("p",null,n.a.createElement("code",null,"{ceil}"),": integer/float or empty (defines positive infinity)")))),n.a.createElement("th",{style:{width:"12%"}},"min"),n.a.createElement("th",{style:{width:"12%"}},"max"),!o&&n.a.createElement("th",{style:{width:"8%"}},"Action"))),n.a.createElement("tbody",null,t.rules&&t.rules.length>s&&t.rules[s]&&t.rules[s].thresholds&&t.rules[s].thresholds.length>0?t.rules[s].thresholds.map((function(r,i){return n.a.createElement("tr",{key:"rule-".concat(s,"-threshold-").concat(i)},n.a.createElement("td",{className:"align-middle text-center"},i+1),n.a.createElement("td",null,o?t.rules[s].thresholds[i].label:n.a.createElement(j.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].label&&"border-danger"),name:"rules[".concat(s,"].thresholds[").concat(i,"].label"),id:"values.rules.".concat(s,".thresholds.").concat(i,".label")}),a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].label&&Object(K.h)(a.rules[s].thresholds[i].label)),n.a.createElement("td",null,o?t.rules[s].thresholds[i].value:n.a.createElement(j.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].value&&"border-danger"),name:"rules.".concat(s,".thresholds.").concat(i,".value"),id:"values.rules.".concat(s,".thresholds.").concat(i,".value")}),a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].value&&Object(K.h)(a.rules[s].thresholds[i].value)),n.a.createElement("td",{style:{width:"6%"}},o?t.rules[s].thresholds[i].uom:n.a.createElement(j.a,{component:"select",className:"form-control custom-select",name:"rules.".concat(s,".thresholds.").concat(i,".uom"),id:"values.rules.".concat(s,".thresholds.").concat(i,".uom")},n.a.createElement("option",{key:"option-0",value:""}),n.a.createElement("option",{key:"option-1",value:"s"},"s"),n.a.createElement("option",{key:"option-2",value:"us"},"us"),n.a.createElement("option",{key:"option-3",value:"ms"},"ms"),n.a.createElement("option",{key:"option-4",value:"B"},"B"),n.a.createElement("option",{key:"option-5",value:"KB"},"KB"),n.a.createElement("option",{key:"option-6",value:"MB"},"MB"),n.a.createElement("option",{key:"option-7",value:"TB"},"TB"),n.a.createElement("option",{key:"option-8",value:"%"},"%"),n.a.createElement("option",{key:"option-9",value:"c"},"c"))),n.a.createElement("td",null,o?t.rules[s].thresholds[i].warn1:n.a.createElement(j.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].warn1&&"border-danger"),name:"rules.".concat(s,".thresholds.").concat(i,".warn1"),id:"values.rules.".concat(s,".thresholds.").concat(i,".warn1")}),a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].warn1&&Object(K.h)(a.rules[s].thresholds[i].warn1)),n.a.createElement("td",null,":"),n.a.createElement("td",null,o?t.rules[s].thresholds[i].warn2:n.a.createElement(j.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].warn2&&"border-danger"),name:"rules.".concat(s,".thresholds.").concat(i,".warn2"),id:"values.rules.".concat(s,".thresholds.").concat(i,".warn2")}),a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].warn2&&Object(K.h)(a.rules[s].thresholds[i].warn2)),n.a.createElement("td",null,o?t.rules[s].thresholds[i].crit1:n.a.createElement(j.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].crit1&&"border-danger"),name:"rules.".concat(s,".thresholds.").concat(i,".crit1"),id:"values.rules.".concat(s,".thresholds.").concat(i,".crit1")}),a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].crit1&&Object(K.h)(a.rules[s].thresholds[i].crit1)),n.a.createElement("td",null,":"),n.a.createElement("td",null,o?t.rules[s].thresholds[i].crit2:n.a.createElement(j.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].crit2&&"border-danger"),name:"rules.".concat(s,".thresholds.").concat(i,".crit2"),id:"values.rules.".concat(s,".thresholds.").concat(i,".crit2")}),a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].crit2&&Object(K.h)(a.rules[s].thresholds[i].crit2)),n.a.createElement("td",null,o?t.rules[s].thresholds[i].min:n.a.createElement(j.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].min&&"border-danger"),name:"rules.".concat(s,".thresholds.").concat(i,".min"),id:"values.rules.".concat(s,".thresholds.").concat(i,".min")}),a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].min&&Object(K.h)(a.rules[s].thresholds[i].min)),n.a.createElement("td",null,o?t.rules[s].thresholds[i].max:n.a.createElement(j.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].max&&"border-danger"),name:"rules.".concat(s,".thresholds.").concat(i,".max"),id:"values.rules.".concat(s,".thresholds.").concat(i,".max")}),a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].max&&Object(K.h)(a.rules[s].thresholds[i].max)),!o&&n.a.createElement("td",{className:"align-middle d-flex justify-content-center align-items-center"},n.a.createElement(U.a,{size:"sm",color:"light",type:"button",onClick:function(){e.remove(i),1===t.rules[s].thresholds.length&&e.push({label:"",value:"",uom:"",warn1:"",warn2:"",crit1:"",crit2:"",min:"",max:""})}},n.a.createElement(ee.a,{icon:te.s})),n.a.createElement(U.a,{size:"sm",color:"light",type:"button",onClick:function(){return e.push({label:"",value:"",uom:"",warn1:"",warn2:"",crit1:"",crit2:"",min:"",max:""})}},n.a.createElement(ee.a,{icon:te.l}))))})):null)))}}))))),s+1===t.rules.length&&!o&&n.a.createElement(U.a,{color:"success",className:"mt-4",onClick:function(){return e.push({metric:"",thresholds:[{label:"",value:"",uom:"",warn1:"",warn2:"",crit1:"",crit2:"",min:"",max:""}],host:"",endpoint_group:""})}},"Add new rule"))})):!o&&n.a.createElement(U.a,{color:"success",onClick:function(){return e.push({metric:"",thresholds:[{label:"",value:"",uom:"",warn1:"",warn2:"",crit1:"",crit2:"",min:"",max:""}],host:"",endpoint_group:""})}},"Add a rule"))}})))))},Jt=function(e){E()(r,e);var t,a=Vt(r);function r(e){var t;return d()(this,r),(t=a.call(this,e)).location=e.location,t.backend=new z.a,t.state={loading:!1,list_thresholdsprofiles:null},t}return p()(r,[{key:"componentDidMount",value:(t=u()(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.backend.fetchData("/api/v2/internal/thresholdsprofiles");case 3:t=e.sent,this.setState({list_thresholdsprofiles:t,loading:!1});case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=[{Header:"Name",id:"name",maxWidth:350,accessor:function(e){return n.a.createElement(Z.b,{to:"/ui/thresholdsprofiles/"+e.name},e.name)}},{Header:"Description",accessor:"description"},{Header:"Group",accessor:"groupname",className:"text-center",maxWidth:150}],t=this.state,a=t.loading,r=t.list_thresholdsprofiles;return a?n.a.createElement(K.l,null):!a&&r?n.a.createElement(K.b,{resourcename:"thresholds profile",location:this.location,listview:!0},n.a.createElement($.a,{data:r,columns:e,className:"-highlight",defaultPageSize:12,rowsText:"profiles",getTheadThProps:function(){return{className:"table-active font-weight-bold p-2"}}})):null}}]),r}(r.Component),Xt=function(e){E()(o,e);var t,a,r,i=Vt(o);function o(e){var t;return d()(this,o),(t=i.call(this,e)).name=e.match.params.name,t.addview=e.addview,t.history=e.history,t.location=e.location,t.tenant_name=e.tenantname,t.webapithresholds=e.webapithresholds,t.token=e.webapitoken,t.backend=new z.a,t.webapi=new z.b({token:t.token,thresholdsProfiles:t.webapithresholds}),t.state={thresholds_profile:{apiid:"",name:"",groupname:""},thresholds_rules:[],groups_list:[],metrics_list:[],write_perm:!1,areYouSureModal:!1,loading:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0,popoverWarningOpen:!1,popoverCriticalOpen:!1},t.toggleAreYouSure=t.toggleAreYouSure.bind(h()(t)),t.toggleAreYouSureSetModal=t.toggleAreYouSureSetModal.bind(h()(t)),t.onSelect=t.onSelect.bind(h()(t)),t.toggleWarningPopOver=t.toggleWarningPopOver.bind(h()(t)),t.toggleCriticalPopOver=t.toggleCriticalPopOver.bind(h()(t)),t.thresholdsToString=t.thresholdsToString.bind(h()(t)),t.onSubmitHandle=t.onSubmitHandle.bind(h()(t)),t.doChange=t.doChange.bind(h()(t)),t.doDelete=t.doDelete.bind(h()(t)),t}return p()(o,[{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleWarningPopOver",value:function(){this.setState({popoverWarningOpen:!this.state.popoverWarningOpen})}},{key:"toggleCriticalPopOver",value:function(){this.setState({popoverCriticalOpen:!this.state.popoverCriticalOpen})}},{key:"onSelect",value:function(e,t){var a=this.state.thresholds_rules,r=e.split("[")[1].split("]")[0];a.length==r&&a.push({metric:"",thresholds:[],host:"",endpoint_group:""}),a[r].metric=t,this.setState({thresholds_rules:a})}},{key:"thresholdsToString",value:function(e){return e.forEach((function(e){var t=[];e.host||delete e.host,e.endpoint_group||delete e.endpoint_group,e.thresholds.forEach((function(e){var a=void 0;a=e.label+"="+e.value+e.uom+";"+e.warn1+":"+e.warn2+";"+e.crit1+":"+e.crit2,e.min&&e.max&&(a=a+";"+e.min+";"+e.max),t.push(a)}));var a=t.join(" ");e.thresholds=a})),e}},{key:"onSubmitHandle",value:function(e,t){var a=this,r=void 0,n=void 0;this.addview?(r="Are you sure you want to add thresholds profile?",n="Add thresholds profile"):(r="Are you sure you want to change thresholds profile?",n="Change thresholds profile"),this.toggleAreYouSureSetModal(r,n,(function(){return a.doChange(e,t)}))}},{key:"doChange",value:(r=u()(c.a.mark((function e(t,a){var r,n,i,o,s,l,u=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=JSON.parse(JSON.stringify(t)),!this.addview){e.next=19;break}return e.next=4,this.webapi.addThresholdsProfile({name:r.name,rules:this.thresholdsToString(r.rules)});case 4:if((n=e.sent).ok){e.next=9;break}this.toggleAreYouSureSetModal("Error: ".concat(n.status," ").concat(n.statusText),"Web API error adding thresholds profile",void 0),e.next=16;break;case 9:return e.next=11,n.json();case 11:return i=e.sent,e.next=14,this.backend.addObject("/api/v2/internal/thresholdsprofiles/",{apiid:i.data.id,name:r.name,groupname:t.groupname,rules:r.rules});case 14:(o=e.sent).ok?Object(K.o)({msg:"Thresholds profile successfully added",title:"Added",callback:function(){return u.history.push("/ui/thresholdsprofiles")}}):this.toggleAreYouSureSetModal("Error: ".concat(o.status," ").concat(o.statusText),"Internal API error adding thresholds profile",void 0);case 16:e.next=34;break;case 19:return e.next=21,this.webapi.changeThresholdsProfile({id:r.id,name:r.name,rules:this.thresholdsToString(r.rules)});case 21:if((s=e.sent).ok){e.next=26;break}this.toggleAreYouSureSetModal("Error: ".concat(s.status," ").concat(s.statusText),"Web API error changing thresholds profile",void 0),e.next=33;break;case 26:return e.next=28,s.json();case 28:return e.sent,e.next=31,this.backend.changeObject("/api/v2/internal/thresholdsprofiles/",{apiid:r.id,name:r.name,groupname:t.groupname,rules:r.rules});case 31:(l=e.sent).ok?Object(K.o)({msg:"Thresholds profile successfully changed",title:"Changed",callback:function(){return u.history.push("/ui/thresholdsprofiles")}}):this.toggleAreYouSureSetModal("Error: ".concat(l.status," ").concat(l.statusText),"Internal API error changing thresholds profile",void 0);case 33:case 34:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"doDelete",value:(a=u()(c.a.mark((function e(t){var a,r,n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.webapi.deleteThresholdsProfile(t);case 2:if((a=e.sent).ok){e.next=7;break}this.toggleAreYouSureSetModal("Error: ".concat(a.status," ").concat(a.statusText),"Web API error deleting thresholds profile",void 0),e.next=11;break;case 7:return e.next=9,this.backend.deleteObject("/api/v2/internal/thresholdsprofiles/".concat(t));case 9:(r=e.sent)?Object(K.o)({msg:"Thresholds profile successfully deleted",title:"Deleted",callback:function(){return n.history.push("/ui/thresholdsprofiles")}}):this.toggleAreYouSureSetModal("Error: ".concat(r.status," ").concat(r.statusText),"Internal API error deleting thresholds profile",void 0);case 11:case 12:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"componentDidMount",value:(t=u()(c.a.mark((function e(){var t,a,r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.backend.isActiveSession();case 3:return t=e.sent,e.next=6,this.backend.fetchListOfNames("/api/v2/internal/metricsall");case 6:return a=e.sent,e.next=9,this.backend.fetchData("/api/v2/internal/thresholdsprofiles/".concat(this.name));case 9:if(r=e.sent,!this.addview){e.next=14;break}this.setState({loading:!1,groups_list:t.userdetails.groups.thresholdsprofiles,metrics_list:a,write_perm:t.userdetails.is_superuser||t.userdetails.groups.thresholdsprofiles.length>0}),e.next=18;break;case 14:return e.next=16,this.webapi.fetchThresholdsProfile(r.apiid);case 16:n=e.sent,this.setState({thresholds_profile:{apiid:n.id,name:n.name,groupname:r.groupname},thresholds_rules:Gt(n.rules),groups_list:t.userdetails.groups.thresholdsprofiles,metrics_list:a,write_perm:t.userdetails.is_superuser||t.userdetails.groups.thresholdsprofiles.indexOf(r.groupname)>=0,loading:!1});case 18:case 19:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state,a=t.thresholds_profile,r=t.thresholds_rules,i=t.metrics_list,o=t.groups_list,s=t.loading,c=t.write_perm;return s?n.a.createElement(K.l,null):!s&&a?n.a.createElement(K.b,{resourcename:"thresholds profile",location:this.location,addview:this.addview,modal:!0,state:this.state,toggle:this.toggleAreYouSure,submitperm:c},n.a.createElement(j.d,{initialValues:{id:a.apiid,name:a.name,groupname:a.groupname,rules:r},validationSchema:qt,onSubmit:function(t,a){return e.onSubmitHandle(t,a)},render:function(t){return n.a.createElement(j.c,null,n.a.createElement(Zt,O()({},t,{groups_list:o,metrics_list:i,write_perm:c,onSelect:e.onSelect,state:e.state,toggleWarningPopOver:e.toggleWarningPopOver,toggleCriticalPopOver:e.toggleCriticalPopOver})),c&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},e.addview?n.a.createElement("div",null):n.a.createElement(U.a,{color:"danger",onClick:function(){e.toggleAreYouSureSetModal("Are you sure you want to delete thresholds profile?","Delete thresholds profile",(function(){return e.doDelete(t.values.id)}))}},"Delete"),n.a.createElement(U.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):null}}]),o}(r.Component),$t=function(e){for(var t=e.title,a=e.item1,r=e.item2,i=[],o=[],s=0;s<a.length;s++){var c="metric: ".concat(a[s].metric,",\n");"host"in a[s]&&(c+="host: ".concat(a[s].host,",\n")),"endpoint_group"in a[s]&&(c+="endpoint_group: ".concat(a[s].endpoint_group,",\n")),c+="thresholds: ".concat(a[s].thresholds),i.push(c)}for(var l=0;l<r.length;l++){var u="metric: ".concat(r[l].metric,",\n");"host"in r[l]&&(u+="host: ".concat(r[l].host,",\n")),"endpoint_group"in r[l]&&(u+="endpoint_group: ".concat(r[l].endpoint_group,",\n")),u+="thresholds: ".concat(r[l].thresholds),o.push(u)}return n.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},n.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},t),n.a.createElement(re.a,{oldValue:o.join("\n"),newValue:i.join("\n"),showDiffOnly:!0,splitView:!0,hideLineNumbers:!0}))};var ea=function(e){E()(r,e);var t,a=Vt(r);function r(e){var t;return d()(this,r),(t=a.call(this,e)).version1=e.match.params.id1,t.version2=e.match.params.id2,t.name=e.match.params.name,t.state={loading:!1,name1:"",groupname1:"",rules1:[],name2:"",groupname2:"",rules2:[]},t.backend=new z.a,t}return p()(r,[{key:"componentDidMount",value:(t=u()(c.a.mark((function e(){var t,a,r,n,i,o,s,l=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backend.fetchData("/api/v2/internal/tenantversion/thresholdsprofile/".concat(this.name));case 2:t=e.sent,a="",r="",n=[],i="",o="",s=[],t.forEach((function(e){e.version==l.version1?(a=e.fields.name,r=e.fields.groupname,n=e.fields.rules):e.version==l.version2&&(i=e.fields.name,o=e.fields.groupname,s=e.fields.rules)})),this.setState({name1:a,groupname1:r,rules1:n,name2:i,groupname2:o,rules2:s,loading:!1});case 11:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.name1,a=e.name2,r=e.groupname1,i=e.groupname2,o=e.rules1,s=e.rules2,c=e.loading;return c?n.a.createElement(K.l,null):!c&&t&&a?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Compare ".concat(this.name," versions"))),t!==a&&n.a.createElement(K.e,{title:"name",item1:t,item2:a}),r!==i&&n.a.createElement(K.e,{title:"group name",item1:r,item2:i}),!function(e,t){if(e.length!==t.length)return!1;for(var a=e.length;a--;)if(e[a].metric!==t[a].metric||e[a].thresholds!==t[a].thresholds||e[a].host!==t[a].host||e[a].endpoint_group!==t[a].endpoint_group)return!1;return!0}(o,s)&&n.a.createElement($t,{title:"rules",item1:o,item2:s})):null}}]),r}(r.Component),ta=function(e){E()(r,e);var t,a=Vt(r);function r(e){var t;return d()(this,r),(t=a.call(this,e)).name=e.match.params.name,t.version=e.match.params.version,t.backend=new z.a,t.state={name:"",groupname:"",rules:[],date_created:"",loading:!1},t}return p()(r,[{key:"componentDidMount",value:(t=u()(c.a.mark((function e(){var t=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.backend.fetchData("/api/v2/internal/tenantversion/thresholdsprofile/".concat(this.name));case 3:e.sent.forEach((function(e){e.version==t.version&&t.setState({name:e.fields.name,groupname:e.fields.groupname,rules:Gt(e.fields.rules),date_created:e.date_created,loading:!1})}));case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.name,a=e.groupname,r=e.rules,i=e.date_created,o=e.loading;return o?n.a.createElement(K.l,null):!o&&t?n.a.createElement(K.b,{resourcename:"".concat(t," (").concat(i,")"),infoview:!0},n.a.createElement(j.d,{initialValues:{name:t,groupname:a,rules:r},render:function(e){return n.a.createElement(j.c,null,n.a.createElement(Zt,O()({},e,{historyview:!0})))}})):null}}]),r}(r.Component),aa=a("9ONQ");a("/WES");function ra(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=y()(e);if(t()){var n=y()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return b()(this,a)}}var na=ne.object().shape({name:ne.string().matches(/^\S*$/,"Name cannot contain white spaces").required("Required"),present_version:ne.boolean(),version:ne.string().matches(/^\S*$/,"Version cannot contain white spaces").when("present_version",{is:!1,then:ne.string().required("Required")}),repo_6:ne.string(),repo_7:ne.string()}).test("undefined","You must provide at least one repo!",(function(e){return!(!e.repo_6&&!e.repo_7)})),ia=function(e){E()(r,e);var t,a=ra(r);function r(e){var t;return d()(this,r),(t=a.call(this,e)).location=e.location,t.backend=new z.a,t.state={loading:!1,list_packages:null,list_repos:null,search_name:"",search_repo:""},t}return p()(r,[{key:"componentDidMount",value:(t=u()(c.a.mark((function e(){var t,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.backend.fetchData("/api/v2/internal/packages");case 3:return t=e.sent,e.next=6,this.backend.fetchData("/api/v2/internal/yumrepos");case 6:a=e.sent,r=[],a.forEach((function(e){return r.push(e.name+" ("+e.tag+")")})),this.setState({list_packages:t,list_repos:r,loading:!1});case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state,a=t.list_packages,r=t.loading,i=[{Header:"#",id:"row",minWidth:12,Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.index+1)}},{Header:"Name and version",id:"name",minWidth:80,accessor:function(e){return n.a.createElement(Z.b,{to:"/ui/packages/"+e.name+"-"+e.version},e.name+" ("+e.version+")")},filterable:!0,Filter:n.a.createElement("input",{value:this.state.search_name,onChange:function(t){return e.setState({search_name:t.target.value})},placeholder:"Search by name and version",style:{width:"100%"}})},{Header:"Repo",id:"repo",accessor:"repos",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value.join(", "))},filterable:!0,Filter:n.a.createElement(K.g,{value:this.state.repo,onChange:function(t){return e.setState({search_repo:t.target.value})},data:this.state.list_repos})}];return this.state.search_name&&(a=a.filter((function(t){return"".concat(t.name," + ' (' + ").concat(t.version," + ')").toLowerCase().includes(e.state.search_name.toLowerCase())}))),this.state.search_repo&&(a=a.filter((function(t){return"".concat(t.repos.join(", ")).toLowerCase().includes(e.state.search_repo.toLowerCase())}))),r?n.a.createElement(K.l,null):!r&&a?n.a.createElement(K.b,{resourcename:"package",location:this.location,listview:!0},n.a.createElement($.a,{data:a,columns:i,className:"-striped -highlight",defaultPageSize:50})):null}}]),r}(r.Component),oa=function(e){E()(o,e);var t,a,r,i=ra(o);function o(e){var t;return d()(this,o),(t=i.call(this,e)).nameversion=e.match.params.nameversion,t.addview=e.addview,t.location=e.location,t.history=e.history,t.backend=new z.a,t.state={pkg:{id:"",name:"",version:""},repo_6:"",repo_7:"",list_repos_6:[],list_repos_7:[],list_probes:[],present_version:!1,loading:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},t.toggleAreYouSure=t.toggleAreYouSure.bind(h()(t)),t.toggleAreYouSureSetModal=t.toggleAreYouSureSetModal.bind(h()(t)),t.onSelect=t.onSelect.bind(h()(t)),t.onSubmitHandle=t.onSubmitHandle.bind(h()(t)),t.doChange=t.doChange.bind(h()(t)),t.doDelete=t.doDelete.bind(h()(t)),t.toggleCheckbox=t.toggleCheckbox.bind(h()(t)),t}return p()(o,[{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSelect",value:function(e,t){var a=this.state.pkg;a[e]=t,this.setState({pkg:a})}},{key:"onSubmitHandle",value:function(e,t){var a=this,r=void 0,n=void 0;this.addview?(r="Are you sure you want to add package?",n="Add package"):(r="Are you sure you want to change package?",n="Change package"),this.toggleAreYouSureSetModal(r,n,(function(){return a.doChange(e,t)}))}},{key:"doChange",value:(r=u()(c.a.mark((function e(t,a){var r,n,i,o,s,l=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],t.repo_6&&r.push(t.repo_6),t.repo_7&&r.push(t.repo_7),!this.addview){e.next=18;break}return e.next=6,this.backend.addObject("/api/v2/internal/packages/",{name:t.name,version:t.version,use_present_version:t.present_version,repos:r});case 6:if((n=e.sent).ok){e.next=14;break}return e.next=10,n.json();case 10:i=e.sent,Me.NotificationManager.error(i.detail,"Error"),e.next=15;break;case 14:Object(K.o)({msg:"Package successfully added",title:"Added",callback:function(){return l.history.push("/ui/packages")}});case 15:e.next=30;break;case 18:return e.next=20,this.backend.changeObject("/api/v2/internal/packages/",{id:t.id,name:t.name,version:t.version,use_present_version:t.present_version,repos:r});case 20:if((o=e.sent).ok){e.next=28;break}return e.next=24,o.json();case 24:s=e.sent,Me.NotificationManager.error(s.detail,"Error"),e.next=29;break;case 28:Object(K.o)({msg:"Package successfully changed",title:"Changed",callback:function(){return l.history.push("/ui/packages")}});case 29:case 30:case 31:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"doDelete",value:(a=u()(c.a.mark((function e(t){var a,r,n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backend.deleteObject("/api/v2/internal/packages/".concat(t));case 2:if((a=e.sent).ok){e.next=10;break}return e.next=6,a.json();case 6:r=e.sent,Me.NotificationManager.error(r.detail,"Error"),e.next=11;break;case 10:Object(K.o)({msg:"Package successfully deleted",title:"Deleted",callback:function(){return n.history.push("/ui/packages")}});case 11:case 12:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"toggleCheckbox",value:function(){this.setState({present_version:!present_version})}},{key:"componentDidMount",value:(t=u()(c.a.mark((function e(){var t,a,r,n,i,o,s,l,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.backend.fetchData("/api/v2/internal/yumrepos");case 3:if(t=e.sent,a=[],r=[],t.forEach((function(e){"CentOS 6"===e.tag?a.push(e.name+" ("+e.tag+")"):"CentOS 7"===e.tag&&r.push(e.name+" ("+e.tag+")")})),!this.addview){e.next=11;break}this.setState({list_repos_6:a,list_repos_7:r,loading:!1}),e.next=23;break;case 11:return e.next=13,this.backend.fetchData("/api/v2/internal/packages/".concat(this.nameversion));case 13:return n=e.sent,e.next=16,this.backend.fetchData("/api/v2/internal/probes");case 16:for(i=e.sent,o=[],s="",l="",u=0;u<n.repos.length;u++)"CentOS 6"===n.repos[u].split("(")[1].slice(0,-1)&&(s=n.repos[u]),"CentOS 7"===n.repos[u].split("(")[1].slice(0,-1)&&(l=n.repos[u]);i.forEach((function(e){e.package==="".concat(n.name," (").concat(n.version,")")&&o.push(e.name)})),this.setState({pkg:n,list_repos_6:a,list_repos_7:r,repo_6:s,repo_7:l,list_probes:o,loading:!1});case 23:case 24:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state,a=t.pkg,r=t.repo_6,i=t.repo_7,o=t.list_repos_6,s=t.list_repos_7,c=t.list_probes,l=t.loading,u=t.present_version;return l?n.a.createElement(K.l,null):!l&&o?n.a.createElement(K.b,{resourcename:"package",location:this.location,addview:this.addview,modal:!0,state:this.state,toggle:this.toggleAreYouSure,history:!1},n.a.createElement(j.d,{initialValues:{id:a.id,name:a.name,version:a.version,repo_6:r,repo_7:i,present_version:u},onSubmit:function(t,a){return e.onSubmitHandle(t,a)},validationSchema:na,enableReinitialize:!0,render:function(t){return n.a.createElement(j.c,null,n.a.createElement(T.a,null,n.a.createElement(P.a,{className:"align-items-center"},n.a.createElement(x.a,{md:6},n.a.createElement(Ee.a,null,n.a.createElement(ve.a,{addonType:"prepend"},"Name"),n.a.createElement(j.a,{type:"text",name:"name",className:"form-control ".concat(t.errors.name&&"border-danger"),id:"name"})),t.errors.name&&Object(K.h)(t.errors.name),n.a.createElement(be.a,{color:"muted"},"Package name.")),n.a.createElement(x.a,{md:2},n.a.createElement(P.a,null,n.a.createElement(x.a,{md:12},n.a.createElement(Ee.a,null,n.a.createElement(ve.a,{addonType:"prepend"},"Version"),n.a.createElement(j.a,{type:"text",name:"version",value:t.values.present_version?"present":t.values.version,disabled:t.values.present_version,className:"form-control ".concat(t.errors.version&&"border-danger"),id:"version"})),t.errors.version&&Object(K.h)(t.errors.version),n.a.createElement(be.a,{color:"muted"},"Package version.")))),n.a.createElement(x.a,{md:3},n.a.createElement(j.a,{component:K.c,name:"present_version",className:"form-control",id:"checkbox",label:"Use version which is present in repo",onChange:e.toggleCheckbox})))),n.a.createElement(T.a,null,n.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Yum repo"),n.a.createElement(P.a,null,n.a.createElement(x.a,{md:8},n.a.createElement(K.a,O()({},t,{lists:o,icon:"yumrepos",field:"repo_6",val:t.values.repo_6,onselect_handler:e.onSelect,req:t.errors.undefined,label:"CentOS 6 repo"})),t.errors.undefined&&Object(K.h)(t.errors.undefined),n.a.createElement(be.a,{color:"muted"},"Package is part of selected CentOS 6 repo."))),n.a.createElement(P.a,{className:"mt-4"},n.a.createElement(x.a,{md:8},n.a.createElement(K.a,O()({},t,{lists:s,icon:"yumrepos",field:"repo_7",val:t.values.repo_7,onselect_handler:e.onSelect,req:t.errors.undefined,label:"CentOS 7 repo"})),t.errors.undefined&&Object(K.h)(t.errors.undefined),n.a.createElement(be.a,{color:"muted"},"Package is part of selected CentOS 7 repo."))),!e.addview&&n.a.createElement(P.a,{className:"mt-3"},n.a.createElement(x.a,{md:8},"Probes:",c.length>0&&n.a.createElement("div",null,c.map((function(e,t){return n.a.createElement(Z.b,{key:t,to:"/ui/probes/"+e},e)})).reduce((function(e,t){return[e,", ",t]})))))),n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},e.addview?n.a.createElement("div",null):n.a.createElement(U.a,{color:"danger",onClick:function(){e.toggleAreYouSureSetModal("Are you sure you want to delete package?","Delete package",(function(){return e.doDelete(e.nameversion)}))}},"Delete"),n.a.createElement(U.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):null}}]),o}(r.Component);var sa=Object(jt.g)(K.m),ca=Object(jt.g)(K.n),la=Object(jt.g)(K.d),ua=function(e){var t=e.isSuperUser,a=w()(e,["isSuperUser"]);return t?n.a.createElement(jt.b,a):n.a.createElement(jt.b,{component:Rt})},ma=function(e){var t=e.webApiAggregation,a=e.webApiMetric,r=e.webApiThresholds,i=e.token,o=e.tenantName,s=e.isSuperUser;return n.a.createElement(jt.d,null,n.a.createElement(jt.b,{exact:!0,path:"/ui/login",render:function(){return s?n.a.createElement(jt.a,{to:"/ui/administration"}):n.a.createElement(jt.a,{to:"/ui/metricprofiles"})}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/home",component:ge}),n.a.createElement(jt.b,{exact:!0,path:"/ui/services",component:mt}),n.a.createElement(jt.b,{exact:!0,path:"/ui/reports",component:ut}),n.a.createElement(jt.b,{exact:!0,path:"/ui/probes",component:xe}),n.a.createElement(jt.b,{exact:!0,path:"/ui/probes/:name/history",render:function(e){return n.a.createElement(De,e)}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/probes/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(Ie,e)}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/probes/:name/history/:version",render:function(e){return n.a.createElement(Se,e)}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/probes/:name",render:function(e){return n.a.createElement(Oe,e)}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/metrics",component:Te.f}),n.a.createElement(jt.b,{exact:!0,path:"/ui/metrics/:name/history",render:function(e){return n.a.createElement(Te.e,e)}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/metrics/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(Te.h,e)}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/metrics/:name/history/:version",render:function(e){return n.a.createElement(Te.g,e)}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/metrics/:name",render:function(e){return n.a.createElement(Te.c,e)}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/metricprofiles",component:_e}),n.a.createElement(jt.b,{exact:!0,path:"/ui/metricprofiles/add",render:function(e){return n.a.createElement(ce,O()({},e,{webapimetric:a,webapitoken:i,tenantname:o,addview:!0}))}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/metricprofiles/:name",render:function(e){return n.a.createElement(ce,O()({},e,{webapimetric:a,webapitoken:i,tenantname:o}))}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/metricprofiles/:name/clone",render:function(e){return n.a.createElement(se,O()({},e,{webapimetric:a,webapitoken:i,tenantname:o}))}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/metricprofiles/:name/history",render:function(e){return n.a.createElement(oe,e)}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/metricprofiles/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(fe,e)}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/metricprofiles/:name/history/:version",render:function(e){return n.a.createElement(he,e)}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/aggregationprofiles",component:ot}),n.a.createElement(jt.b,{exact:!0,path:"/ui/aggregationprofiles/add",render:function(e){return n.a.createElement(it,O()({},e,{webapiaggregation:t,webapimetric:a,webapitoken:i,tenantname:o,addview:!0}))}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/aggregationprofiles/:name",render:function(e){return n.a.createElement(it,O()({},e,{webapiaggregation:t,webapimetric:a,webapitoken:i,tenantname:o}))}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/aggregationprofiles/:name/history",render:function(e){return n.a.createElement(Ze,e)}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/aggregationprofiles/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(ct,e)}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/aggregationprofiles/:name/history/:version",render:function(e){return n.a.createElement(lt,e)}}),n.a.createElement(ua,{isSuperUser:s,exact:!0,path:"/ui/administration",component:Fe}),n.a.createElement(ua,{isSuperUser:s,exact:!0,path:"/ui/administration/users",component:gt}),n.a.createElement(ua,{isSuperUser:s,exact:!0,path:"/ui/administration/users/add",render:function(e){return n.a.createElement(pt,O()({},e,{addview:!0}))}}),n.a.createElement(ua,{isSuperUser:s,exact:!0,path:"/ui/administration/users/:user_name",render:function(e){return n.a.createElement(pt,e)}}),n.a.createElement(ua,{isSuperUser:s,exact:!0,path:"/ui/administration/groupofmetrics",component:Mt}),n.a.createElement(ua,{isSuperUser:s,exact:!0,path:"/ui/administration/groupofmetrics/add",render:function(e){return n.a.createElement(yt,O()({},e,{addview:!0}))}}),n.a.createElement(ua,{isSuperUser:s,exact:!0,path:"/ui/administration/groupofmetrics/:group",render:function(e){return n.a.createElement(yt,e)}}),n.a.createElement(ua,{isSuperUser:s,exact:!0,path:"/ui/administration/groupofaggregations",component:Dt}),n.a.createElement(ua,{isSuperUser:s,exact:!0,path:"/ui/administration/groupofaggregations/add",render:function(e){return n.a.createElement(Ot,O()({},e,{addview:!0}))}}),n.a.createElement(ua,{isSuperUser:s,exact:!0,path:"/ui/administration/groupofaggregations/:group",render:function(e){return n.a.createElement(Ot,e)}}),n.a.createElement(ua,{isSuperUser:s,exact:!0,path:"/ui/administration/groupofmetricprofiles",component:kt}),n.a.createElement(ua,{isSuperUser:s,exact:!0,path:"/ui/administration/groupofmetricprofiles/add",render:function(e){return n.a.createElement(wt,O()({},e,{addview:!0}))}}),n.a.createElement(ua,{isSuperUser:s,exact:!0,path:"/ui/administration/groupofmetricprofiles/:group",render:function(e){return n.a.createElement(wt,e)}}),n.a.createElement(ua,{isSuperUser:s,exact:!0,path:"/ui/administration/apikey",component:Lt}),n.a.createElement(ua,{isSuperUser:s,exact:!0,path:"/ui/administration/apikey/add",render:function(e){return n.a.createElement(Ut,O()({},e,{addview:!0}))}}),n.a.createElement(ua,{isSuperUser:s,exact:!0,path:"/ui/administration/metrictemplates/",component:Ue}),n.a.createElement(ua,{isSuperUser:s,exact:!0,path:"/ui/administration/metrictemplates/:name",render:function(e){return n.a.createElement(Re,O()({},e,{tenantview:!0}))}}),n.a.createElement(ua,{isSuperUser:s,exact:!0,path:"/ui/administration/metrictemplates/:name/history",render:function(e){return n.a.createElement(Be,e)}}),n.a.createElement(ua,{isSuperUser:s,exact:!0,path:"/ui/administration/metrictemplates/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(Ke,e)}}),n.a.createElement(ua,{isSuperUser:s,exact:!0,path:"/ui/administration/metrictemplates/:name/history/:version",render:function(e){return n.a.createElement(Qe,e)}}),n.a.createElement(ua,{isSuperUser:s,exact:!0,path:"/ui/administration/apikey/:name",render:function(e){return n.a.createElement(Ut,e)}}),n.a.createElement(ua,{isSuperUser:s,exact:!0,path:"/ui/administration/yumrepos/",component:Kt}),n.a.createElement(ua,{isSuperUser:s,exact:!0,path:"/ui/administration/yumrepos/:name",render:function(e){return n.a.createElement(zt,O()({},e,{disabled:!0}))}}),n.a.createElement(ua,{isSuperUser:s,exact:!0,path:"/ui/administration/groupofthresholdsprofiles",component:At}),n.a.createElement(ua,{isSuperUser:s,exact:!0,path:"/ui/administration/groupofthresholdsprofiles/add",render:function(e){return n.a.createElement(Pt,O()({},e,{addview:!0}))}}),n.a.createElement(ua,{isSuperUser:s,exact:!0,path:"/ui/administration/groupofthresholdsprofiles/:group",render:function(e){return n.a.createElement(Pt,e)}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/thresholdsprofiles",component:Jt}),n.a.createElement(jt.b,{exact:!0,path:"/ui/thresholdsprofiles/add",render:function(e){return n.a.createElement(Xt,O()({},e,{webapithresholds:r,webapitoken:i,tenantname:o,addview:!0}))}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/thresholdsprofiles/:name",render:function(e){return n.a.createElement(Xt,O()({},e,{webapithresholds:r,webapitoken:i,tenantname:o}))}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/thresholdsprofiles/:name/history",render:function(e){return n.a.createElement(Ht,e)}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/thresholdsprofiles/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(ea,e)}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/thresholdsprofiles/:name/history/:version",render:function(e){return n.a.createElement(ta,e)}}),n.a.createElement(jt.b,{component:Rt}))},da=function(e){e.props;return n.a.createElement(jt.d,null,n.a.createElement(jt.b,{exact:!0,path:"/ui/login",render:function(){return n.a.createElement(jt.a,{to:"/ui/administration"})}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/home",component:ge}),n.a.createElement(jt.b,{exact:!0,path:"/ui/probes",component:xe}),n.a.createElement(jt.b,{exact:!0,path:"/ui/probes/add",render:function(e){return n.a.createElement(Oe,O()({},e,{addview:!0}))}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/probes/:name/clone",render:function(e){return n.a.createElement(ke,e)}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/probes/:name/history",render:function(e){return n.a.createElement(De,e)}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/probes/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(Ie,e)}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/probes/:name/history/:version",render:function(e){return n.a.createElement(Se,e)}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/probes/:name",render:function(e){return n.a.createElement(Oe,e)}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/metrictemplates",component:Le}),n.a.createElement(jt.b,{exact:!0,path:"/ui/metrictemplates/add",render:function(e){return n.a.createElement(Re,O()({},e,{addview:!0}))}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/metrictemplates/:name/clone",render:function(e){return n.a.createElement(je,e)}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/metrictemplates/:name/history",render:function(e){return n.a.createElement(We,e)}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/metrictemplates/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(Ke,e)}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/metrictemplates/:name/history/:version",render:function(e){return n.a.createElement(Qe,e)}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/metrictemplates/:name",render:function(e){return n.a.createElement(Re,e)}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/yumrepos/",render:function(e){return n.a.createElement(Kt,e)}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/yumrepos/add",render:function(e){return n.a.createElement(zt,O()({addview:!0},e))}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/yumrepos/:name",render:function(e){return n.a.createElement(zt,e)}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/packages/",render:function(e){return n.a.createElement(ia,e)}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/packages/add",render:function(e){return n.a.createElement(oa,O()({addview:!0},e))}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/packages/:nameversion",render:function(e){return n.a.createElement(oa,e)}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/administration",component:Ve}),n.a.createElement(jt.b,{exact:!0,path:"/ui/administration/users",component:gt}),n.a.createElement(jt.b,{exact:!0,path:"/ui/administration/users/add",render:function(e){return n.a.createElement(ft,O()({},e,{addview:!0}))}}),n.a.createElement(jt.b,{exact:!0,path:"/ui/administration/users/:user_name",render:function(e){return n.a.createElement(ft,e)}}),n.a.createElement(jt.b,{component:Rt}))},_a=function(e){E()(l,e);var t,a,r,i,o,s=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=y()(e);if(t()){var n=y()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return b()(this,a)}}(l);function l(e){var t;return d()(this,l),(t=s.call(this,e)).cookies=new aa.a,t.backend=new z.a,t.state={isSessionActive:void 0,areYouSureModal:!1,userDetails:void 0,webApiAggregation:void 0,webApiMetric:void 0,webApiThresholds:void 0,tenantName:void 0,token:void 0,isTenantSchema:null},t.onLogin=t.onLogin.bind(h()(t)),t.onLogout=t.onLogout.bind(h()(t)),t.toggleAreYouSure=t.toggleAreYouSure.bind(h()(t)),t}return p()(l,[{key:"onLogin",value:(o=u()(c.a.mark((function e(t,a){var r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Object({active:!0,userdetails:t}),e.next=3,this.backend.isTenantSchema();case 3:return n=e.sent,e.next=6,this.initalizeState(n,r);case 6:e.sent,setTimeout((function(){r.userdetails.is_superuser?a.push("/ui/administration"):a.push("/ui/metricprofiles")}),50);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"onLogout",value:function(){this.setState({isSessionActive:!1})}},{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"fetchConfigOptions",value:(i=u()(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v2/internal/config_options");case 2:if(!(t=e.sent).ok){e.next=8;break}return e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:case 9:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"fetchToken",value:(r=u()(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v2/internal/apikeys/WEB-API");case 3:if(!(t=e.sent).ok){e.next=11;break}return e.next=7,t.json();case 7:return a=e.sent,e.abrupt("return",a.token);case 11:return e.abrupt("return",null);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),alert("Something went wrong: ".concat(e.t0));case 17:case 18:case"end":return e.stop()}}),e,null,[[0,14]])}))),function(){return r.apply(this,arguments)})},{key:"initalizeState",value:(a=u()(c.a.mark((function e(t,a){var r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}return e.next=3,this.fetchToken();case 3:return r=e.sent,e.next=6,this.fetchConfigOptions();case 6:n=e.sent,this.setState({isTenantSchema:t,isSessionActive:a.active,userDetails:a.userdetails,token:r,webApiMetric:n&&n.result.webapimetric,webApiAggregation:n&&n.result.webapiaggregation,webApiThresholds:n&&n.result.webapithresholds,tenantName:n&&n.result.tenant_name}),e.next=11;break;case 10:this.setState({isTenantSchema:t,isSessionActive:a.active,userDetails:a.userdetails});case 11:case 12:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"componentDidMount",value:(t=u()(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backend.isTenantSchema();case 2:return t=e.sent,e.next=5,this.backend.isActiveSession(t);case 5:(a=e.sent).active&&this.initalizeState(t,a);case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state,a=t.isSessionActive,r=t.userDetails;return a?a&&r&&null!==this.state.isTenantSchema?n.a.createElement(Z.a,null,n.a.createElement(A.a,{fluid:!0},n.a.createElement(P.a,null,n.a.createElement(Me.NotificationContainer,null),n.a.createElement(x.a,null,n.a.createElement(sa,{onLogout:this.onLogout,isOpenModal:this.state.areYouSureModal,toggle:this.toggleAreYouSure,titleModal:"Log out",msgModal:"Are you sure you want to log out?",userDetails:r}))),n.a.createElement(P.a,{className:"no-gutters"},n.a.createElement(x.a,{sm:{size:2},md:{size:2},id:"sidebar-col",className:"d-flex flex-column"},n.a.createElement(ca,{isTenantSchema:this.state.isTenantSchema,userDetails:r}),n.a.createElement("div",{id:"sidebar-grow",className:"flex-grow-1 border-left border-right rounded-bottom"})),n.a.createElement(x.a,null,n.a.createElement(la,null),this.state.isTenantSchema?n.a.createElement(ma,{webApiMetric:this.state.webApiMetric,webApiAggregation:this.state.webApiAggregation,webApiThresholds:this.state.webApiThresholds,token:this.state.token,tenantName:this.state.tenantName,isSuperUser:r.is_superuser}):n.a.createElement(da,null))),n.a.createElement(P.a,null,n.a.createElement(x.a,null,n.a.createElement(K.i,{loginPage:!1}))))):null:n.a.createElement(Z.a,null,n.a.createElement(jt.d,null,n.a.createElement(jt.b,{path:"/ui/",render:function(t){return n.a.createElement(Y,O()({onLogin:e.onLogin},t))}}),n.a.createElement(jt.b,{component:Rt})))}}]),l}(r.Component),pa=a("dLgX");a("q4sD");o.a.render(n.a.createElement(_a,null),document.getElementById("react")),pa.a()},hQ4L:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAdCAYAAAC9pNwMAAAABmJLR0QAngCeAJ53Twm3AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH4wQcDRUGZUVdGQAABRJJREFUSMell2tsFFUUx393drcv+oIWKpZFSrFuSmo24oMQSCSGogVtDOERWEHUGA2SILZUDCImBMFVCBLAmGIhKdEgJgSs0AEaNBKw8phS0LYqpQylAmH7Jt3HzPjBWVjKbLuN/y+7M/ee87/nzHldgQWc7kJURQ7/twEpQB7wEjAZyAEygB7gKnAOOAKcArpVRQ7019MfYhDSScALwDtAFoNDA74CDqiKLA9ELgYgXQ28Z1o2VGhABbBWVeQ2K3IRSQoIVZENp7vwAjARkPh/aAWmqYrcbGlxP0v9QFyMigOAH9DNZwmIt5DPUBXZF8kjwg9Od6EEnAceH4xN17WaUMB/ZVhaxtEla8prJ7gzxbA0gif21xnfeJdPEUK8bHfEO4UQU0yRPiBPVWQ1zBfp6jXAx4O497SuhfbMW7mlJTk9c27Q78/SQsEnwUgFeoQQf9sdcbX2uIT2czXf7zx58OvnktMztwNpwK+qIk/u7+pngGpzQzT8iOb3TL9wouPaCVJTe0hNCmHL7LuVHq/5NgIz+31F1Wa3bdi4YEKFGTN5QKmqyJ853YUIp7vQDnwIrB2AtE5VZDdA1aaCOebeEUAHGOuLNl/cV/b5H1MNxAHzfSS2ej2uFSZ5F1CsKvJt4XQXDgeaB7D2T1WR8w5/WjBLN9gVJZ97E0Nts445j/iCUvIh4BHzvWF6dafX41rpdBfeAF5RFfmgcLoLpwM10Uw1DHJ3L76e7w+J74CEgWIuKdQ6+4dxZzolI3AyUgUgJJv93R0lxVfSR2bnAF9IQHE0TQI2XKuTL8dACiDdsWcfKDs3vtEsn/fFka6FyhaW7WjUdW0SkCoBT0fTdLXdsa9qU8G6GEjDiDszauKzmohbYLH20MgxufO1YKArnPC5UZRcoSWzBXhzKKXKQFq2edH4zoiicq/a9N2ZINkdm0JBf5cEjIyaPuzpAGxDLJMTMQyA9gcOpetTF67antZ26SdNstpg4pb5Gxoi8WXaEECyxVq2EP8ZKgGXB1F0cIjE2188D2bN7g8bCClMfMZKOhjoY9XehiWzyurfHgKpnttZf9zV3lgRZb0d6A4TH7LMDck25Xab6iipbFqQoN1cGgtrvObzlOc3ZQGLo2w5DzSEiWvNxn2/T+yOGbtKZh8T6Dtl5/HGYUF1jtkCLeHQu+b+Mnp3rcDYazXZmGj0elwdYeJOYJvVrtQxj+YA+3Vhr6kad9pRdLY+BVgO3DS3+ICSdP/FtKPO6rpeh7MajPwopN1mI6K0suFud5oGHLMaAFRFFqWVDV3mwPdzr2Ps678PT7zdlE4gpxvHY+3EZ/Q1bQDjtUG+xGGvx1VUWtmA1+O6rx9vAVZYCGxbXVFd3nyp8beIg2mmp5JirGoNwFNej6vnbgyZsxbAGkC1EFr+ydKZRVlj8+ZF5LTNbH+xkF4Air0eV09pZcO94DXHHlRF7gXGRhH+aMuyGaMyRudMNuesWFEFzPB6XE1hFw82ZbYCDz+QpJq2rrX++PpVext3AM8bhjECSDSD1DA/QbcQ4nooGNi6+dWC8gE6n+VNIsWM9PkR7gw39ZYu340P4uITmxe9/+WoxJS0fJvNHmcYBoaut7f+VX+qcuNbCQlJKb7M7PFdWiioXqs7OuSbxDSzGLxhcT6fFgqd0rVQNxgaiGQhSelCko7YbPazQL2qyP9Eu02IGO5O8WbBfwLYDORbTKI+c277Fgioitwz2N3pX3OCCLv6PHumAAAAAElFTkSuQmCC"},kWNB:function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,"#argo-contentwrap {\n  background-color: white;\n}\n#sidebar-grow {\n  background-color: white;\n  margin-bottom: 1px;\n}\n#argo-nav {\n  background-color: #416090;\n}\n\n#argo-breadcrumb {\n  background-color: #ecf0f5;\n}\n\n#sidebar-col {\n  max-width: 215px;\n}\n\n#argo-breadcrumb > ol {\n  background-color: #ecf0f5;\n}\n",""])},lrsP:function(e,t,a){var r=a("eVqg");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},"p3/T":function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,"#argo-footer {\n  background-color: #ffffff;\n  max-height: 92px;\n}\n\n#argo-loginfooter {\n  background-color: #ffffff;\n  max-height: 155px;\n}\n\n#argo-navbar-logout {\n  color: #ffffff;\n  border-color: #ffffff;\n  background-color: #416090;\n}\n#argo-navbar-logout:hover {\n  color: #ffffff;\n  background-color: #31496d;\n}\n\n#argo-navlinks {\n  background-color: #ffffff;\n}\n\n.argo-autocomplete-menu {\n  display: block;\n  width: 94%;\n  color: #495057;\n  position: absolute;\n  background-color: white;\n  z-index: 1000;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n  overflow-y: auto;\n  max-height: 400px;\n}\n\n.argo-autocomplete-entries {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #495057;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n.argo-autocomplete-entries-highlighted {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  background-color: #4A90D9;\n  color: white;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n.ReactTable .rt-thead.-filters select {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  background: transparent;\n  background-image: url(\"data:image/svg+xml;utf8,<svg fill='black' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/><path d='M0 0h24v24H0z' fill='none'/></svg>\");\n  background-repeat: no-repeat;\n  background-position-x: 100%;\n  background-position-y: 5px;\n  border: 1px solid #dfdfdf;\n  border-radius: 2px;\n  margin-right: 2rem;\n  padding: 1rem;\n  padding-right: 2rem;\n}\n\n",""])},s1Uj:function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,"#argo-td {\n  vertical-align: middle;\n}\n",""])},"tYV+":function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,"#select-field{\n    width: 150px;\n}\n\n.grouplabel {\n    width: 180px;\n}\n\n.col-md-6 {\n    padding: 5px;\n}\n\n#checkbox {\n    margin-right: 5px;\n}",""])},uU5Y:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAZCAIAAAA5RHCCAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAA6cAAAOdQGIKBt4AAAGqklEQVRIiY1WSYxdVxGtuve++f3/e/jt73Y7aRts05A2ih0jAxEICGKIQBAEG6JYEUhIWbDIgh0LiAQBNiyQEOsIkAIRyhZEcIiwE4eEJHZIHCKP6W735D+/6Q5VLH73l91xSym9xbuqUp1X51TderjnyD+JyDnngAGAEQCAmQMrpQiK3CbNm+UwBQhl8j/dWyhqa1NuUpQeT1br3XIiIagsu1iF0845Y6vQUwhkjPaUQESQiogQUSmFiALeZ8wMAE6VhbhaCTvM5jBxWtl2e5HClHRM1Cax1rkpvNRUIHIbUzCZVTcNDwjLyuVOOKHQMhly45yjtHfAG1nORLAQTwUFXhnoNgQ9r96z/rVQBopD1g09rKc1r+zNBbG0VkofpY8qUE6QEwSeNEAWeYw0QhXjgnY4HCqQusi15KSuZvVG6A2SeDhHWdRqDX70m98vnnixc1XKzA8K6VUbTKGupDZgndAGDCMoH7xgnHlkYgx2K5kA4Cuo9IagoqHq0BXH771w6gd/rfFFkkt3Lbx99OS1u+dKlcvFe1555LFnDzY3JYVgPEGxr2rAvrEA6DmW44QjU7vpx1olooHct8MSivQzX1158LuvX3xhz/W3Tlx4ufzxdw6trc3VauXsofPfeuz5bOnI2890fN9nRoUeIBhHoICdA7wtuUymH72N4223Yut7OMhXAFnJxtpG+cpL8ZU37y8nsLsSZAOoZFxh2t70Lry4eO7MdD9fbu6JjO1bm6FwjpzvhQzobycUQiCiTKYfJSJmJmZEhPE8RMv9jenDJ5aPf/F6pxteuriwdP3unESleoGcCsJgwOTSYQVw+fynq6A6eKA6evRDTEWpc9/znQMpfSb2EJgZEcXIAC0KRsFCAm6ZBBBF2Yrr8sRC/uQTv1ts/dtH8lRrImxHJkGZ5Ww8QX7py2oynHpPoFqoZz/97fdPHnvXtT/SH86WdkZBv1YYQ44QWKADNuRkMn2KGbb5HNWHzMyYurJsrwzfef3gy2c/Bw3GdCMbRqjuPEKDdvTq2QNvvjbfKRyng7CmbRYGMrLCbZeBAIAzR/5OBETkgIEFIzAjEVmv63emIpB97dt6KdObhnLmicgmd8RzOuUM09iWZMVEXlkJmqeCWLMbkTnC23XecagOH3rj/gefN+EmpH3PzdfoY1L4u8VDeDWaeueTXzl9YH5FlFEcUlLXeZHuiNoVry6mvvHI+R/+7MzisY4buGwzU9RVhdkVrth3YK94/OenH3r4Xezt0d3Iahumgx1hu+oHubZl78rFyf+c/qhQM0nSAFdSriDA94MBQCM0VReydXHhpenlpVimOQBJ22TUH0i/JMwGm3VVNVS4xmmVsU+2aAXNLtk74lXVZqsWDa7u9+uZmlAF+cydAKVD8YH0G5RNO1mKvZuzH+44PU1hREmZDXeNh0YYtBJ/H9PEalu3yc/JSYSdHyfICXJADpgkMzIJJgBGK3tprr737af/+Ocn7jt4kbpNhXeTKjQweZuI6wGIokKTdNhTOKh97ciVp5558usPPctr85M+SFN5SdDHumCQgIJh9MikeWprySIgChAwutNEtG67s2l9WJnk1TP3asdkurFUGYYpTcWQFEUY1HMa1sQwDvx26IFRwzfO7e9s7McAjfOdyIVyyonb9Gsefo6ZyYEDBhBb+53AgEmkNGWhlNI9O7e3J/xqdXVf3tLiejjTyNezubDZl4P+gbu6q8vzuRkme97LB3WmOYDIoSJvQwWkyvoITAixpR8zMzhmBqDtI/myrm00lF4vqEPQeODL13/11F8WPj7UN1upp2thT6mSLR77xFu/+NOvP/vN/xpv/+qN+6zYL2NJQiolFCSst7cAbnW1YHbMjpkBiZnHR1eR4QxjzQG4oLO6rK9dNks3ViBqf+pLl37y9B+Ofv5s/4bNO7Ov/eP40qWAPPCSQARsSYComDPhasrVd/TLeP8RgACk7Y4la0p/ouPMpG3PRFOrZ144ee5fXxjKEqpyfQNLg0ASE3v56uwvH39YRKKUa77nysqArQUeaFPFsiFVal02Lm40f38bzx+iZABmZOYw6PUHrTDuRKispUHeMEAzTWdKGUPHdGYqKdTejWwQ+sJglUKUo2CgCAiVZ4uiSoIGkQUQt+mHiELAaDdt9xEjYpVHQUSQq1grKBs86anZYSfLWfctJVZMxPXNfq+wQUJpYtRQkHO5r+ykRCcYAhnJKNfc28Enzt/z3K3/M2OH4zvfW4C09cIj5sf7G29tjTGHihEARsUBwP8BoRsQdzWv4kYAAAAASUVORK5CYII="}},[["f1jT",1,2]]]);