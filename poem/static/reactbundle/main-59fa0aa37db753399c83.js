(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"/WES":function(e,t,a){var r=a("kWNB");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},"29KK":function(e,t,a){"use strict";a.d(t,"l",(function(){return De})),a.d(t,"f",(function(){return we})),a.d(t,"z",(function(){return ke})),a.d(t,"n",(function(){return xe})),a.d(t,"d",(function(){return Ae})),a.d(t,"p",(function(){return Ce})),a.d(t,"q",(function(){return Ie})),a.d(t,"o",(function(){return Ne})),a.d(t,"j",(function(){return Le})),a.d(t,"m",(function(){return je})),a.d(t,"t",(function(){return Ue})),a.d(t,"r",(function(){return Re})),a.d(t,"u",(function(){return We})),a.d(t,"s",(function(){return Be})),a.d(t,"y",(function(){return Ke})),a.d(t,"b",(function(){return ze})),a.d(t,"c",(function(){return Ve})),a.d(t,"i",(function(){return Ye})),a.d(t,"a",(function(){return Qe})),a.d(t,"g",(function(){return Fe})),a.d(t,"k",(function(){return qe})),a.d(t,"e",(function(){return He})),a.d(t,"w",(function(){return Ge})),a.d(t,"h",(function(){return Ze})),a.d(t,"v",(function(){return Je})),a.d(t,"x",(function(){return Xe}));var r=a("RIqP"),n=a.n(r),i=a("lSNA"),c=a.n(i),s=a("J4zp"),o=a.n(s),l=a("o0o1"),u=a.n(l),m=a("yXPU"),d=a.n(m),p=a("pVnL"),_=a.n(p),E=a("QILm"),f=a.n(E),g=a("q1tI"),h=a.n(g),b=a("9ONQ"),v=a("DCcX"),M=a("vkoW"),y=a("CaDr"),O=a("OBzv"),D=a("sOKU"),w=a("XI7o"),k=a("EvW+"),P=a("2Te1"),x=a("tiWs"),A=a("374E"),T=a("a5/R"),C=a("nsn4"),I=a("9a8N"),N=a("F66N"),S=a("iqOp"),L=a("YGfb"),j=a("arvA"),U=a("ok1R"),R=a("rhny"),W=a("BLzl"),B=a("afej"),K=a("/kxI"),z=a("1Yj4"),V=a("xdlx"),Y=a("aLZG"),Q=a("jrRI"),F=a("q7Gj"),q=a("re1l"),H=a("0E8A"),G=a("3OM0"),Z=a("XAkp"),J=a("bAGh"),X=a("TKOK"),$=a("5Ves"),ee=a("55Ip"),te=a("5tO7"),ae=a.n(te),re=a("RYGk"),ne=a.n(re),ie=a("uU5Y"),ce=a.n(ie),se=a("hQ4L"),oe=a.n(se),le=(a("Pn3v"),a("IP2g")),ue=a("wHSu"),me=a("of9s"),de=a("KYPV"),pe=a("a/x8"),_e=a("XNy0"),Ee=a.n(_e),fe=a("1h/R"),ge=a.n(fe),he=a("4tXu"),be=a("VYKx"),ve=["administration","probes","metrics","reports","servicetypes","metricprofiles","aggregationprofiles","thresholdsprofiles","operationsprofiles"],Me=["administration","tenants","yumrepos","packages","probes","metrictemplates"],ye=new Map;ye.set("administration","Administration"),ye.set("aggregationprofiles","Aggregation profiles"),ye.set("apikey","API key"),ye.set("groupofaggregations","Groups of aggregations"),ye.set("groupofmetricprofiles","Groups of metric profiles"),ye.set("groupofmetrics","Groups of metrics"),ye.set("groupofthresholdsprofiles","Groups of thresholds profiles"),ye.set("metricprofiles","Metric profiles"),ye.set("metrics","Metrics"),ye.set("metrictemplates","Metric templates"),ye.set("operationsprofiles","Operations profiles"),ye.set("packages","Packages"),ye.set("probes","Probes"),ye.set("public_aggregationprofiles","Public aggregation profiles"),ye.set("public_metricprofiles","Public metric profiles"),ye.set("public_metrics","Public metrics"),ye.set("public_metrictemplates","Public metric templates"),ye.set("public_operationsprofiles","Public operations profiles"),ye.set("cookiepolicies","Cookie policies"),ye.set("public_probes","Public probes"),ye.set("public_thresholdsprofiles","Public thresholds profiles"),ye.set("reports","Reports"),ye.set("servicetypes","Service types"),ye.set("public_servicetypes","Public service types"),ye.set("tenants","Tenants"),ye.set("thresholdsprofiles","Thresholds profiles"),ye.set("users","Users"),ye.set("yumrepos","YUM repos");var Oe=new Map;Oe.set("egi","https://argo.egi.eu/egi/policies"),Oe.set("eudat","https://avail.eudat.eu/eudat/policies"),Oe.set("sdc","https://monitoring.seadatanet.org/sdc/policies"),Oe.set("ni4os","https://argo.ni4os.eu/ni4os/policies");var De=function(e){var t=new Map;return t.set("administration",ue.E),t.set("serviceflavour",ue.n),t.set("servicetypes",ue.n),t.set("reports",ue.k),t.set("probes",ue.w),t.set("metrics",ue.g),t.set("metrictemplates",ue.g),t.set("metricprofiles",ue.h),t.set("aggregationprofiles",ue.A),t.set("apikey",ue.q),t.set("yumrepos",ue.c),t.set("thresholdsprofiles",ue.j),t.set("users",ue.D),t.set("packages",ue.b),t.set("tenants",ue.o),t.set("operationsprofiles",ue.z),t.set("policies",ue.l),t.set("terms",ue.m),t.set("argodoc",ue.r),t.set("documentation",ue.a),t.set("privacy",ue.t),e.i.startsWith("groupof")?h.a.createElement("span",{className:"fa-layers fa-fw"},h.a.createElement(le.a,{icon:ue.y,color:"white",fixedWidth:!0}),h.a.createElement(le.a,{icon:t.get(e.i.replace("groupof","")),transform:"shrink-".concat("groupofmetricprofiles"===e.i?9:8," up-3")}),h.a.createElement(le.a,{icon:t.get(e.i.replace("groupof","")),transform:"shrink-".concat("groupofmetricprofiles"===e.i?9:8," down-4.2 left-5")}),h.a.createElement(le.a,{icon:t.get(e.i.replace("groupof","")),transform:"shrink-".concat("groupofmetricprofiles"===e.i?9:8," down-4.2 right-5")})):h.a.createElement(le.a,{icon:t.get(e.i),size:"yumrepos"===e.i||"metricprofiles"===e.i?"sm":"1x",fixedWidth:!0})},we=function(e){var t=e.field,a=e.data,r=void 0===a?[]:a,n=e.prefix,i=void 0===n?"":n,c=e.class_name,s=void 0===c?"":c,o=e.isnew,l=void 0!==o&&o,u=e.errors,m=void 0===u?void 0:u;return h.a.createElement(de.a,{component:"select",name:i?"".concat(i,".").concat(t.name):t.name,required:!0,className:"form-control ".concat(s," ").concat(l?"border-success":"".concat(m&&m[t.name]?"border-danger":""))},r.map((function(e,t){return 0===t?h.a.createElement("option",{key:t,value:"",hidden:!0,color:"text-muted"},e):h.a.createElement("option",{key:t,value:e},e)})))},ke=function(e){e.form;var t=e.field,a=f()(e,["form","field"]);return h.a.createElement("div",{className:"input-group"},h.a.createElement("input",_()({type:"text",placeholder:"Search"},t,a)),h.a.createElement("div",{className:"input-group-append"},h.a.createElement("span",{className:"input-group-text",id:"basic-addon"},h.a.createElement(le.a,{icon:ue.v}))))},Pe=function(){var e=d()(u.a.mark((function e(t,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new b.a,a(),e.next=4,fetch("/rest-auth/logout/",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":r.get("csrftoken"),Referer:"same-origin"}});case 4:e.sent.ok&&t.push("/ui/login");case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),xe=function(e){var t=e.isOpen,a=e.toggle,r=e.title,n=e.msg,i=e.onYes;return h.a.createElement(v.a,{isOpen:t,toggle:a},h.a.createElement(M.a,{toggle:a},r),h.a.createElement(y.a,null,n),h.a.createElement(O.a,null,h.a.createElement(D.a,{color:"primary",onClick:function(){i(),a()}},"Yes")," ",h.a.createElement(D.a,{color:"secondary",onClick:a},"No")))},Ae=function(e){var t=e.location,a=(e.history,e.publicView),r=void 0!==a&&a,n=new Array,i=new Array,c=new Object;if(i.push({url:"/ui/".concat(r?"public_":"","home"),title:"Home"}),n=r?window.location.pathname.split("/"):t.pathname.split("/"),c.url="/ui/"+n[2],c.title=ye.get(n[2]),i.push(c),n.length>3){var s=new Object({url:c.url+"/"+n[3]});s.title="Administration"===c.title?ye.get(n[3]):n[3],i.push(s)}if(n.length>4){var o=new Object({url:s.url+"/"+n[4]});o.title=n[4],i.push(o)}if(n.length>5){var l=new Object({url:o.url+"/"+n[5]});l.title=n[5],i.push(l)}if(n.length>6&&"history"===l.title){var u=new Object({url:l.url+"/"+n[6]});u.title=n[6],i.push(u)}return h.a.createElement(w.a,{id:"argo-breadcrumb",className:"border-top rounded"},i.map((function(e,t){return t!==i.length-1?h.a.createElement(k.a,{key:t},h.a.createElement(ee.b,{to:e.url},e.title)):h.a.createElement(k.a,{key:t,active:!0},e.title)})))},Te=function(e){var t=e.userDetails,a=e.isTenantSchema,r=e.publicView,n=function(e){var t=e.only;return void 0!==t&&t?h.a.createElement("div",{className:"text-center"},h.a.createElement(P.a,{color:"dark",className:"mb-1 mt-1",style:{fontSize:"100%"}},"No permissions")):h.a.createElement(P.a,{color:"dark",className:"mb-1 mt-1"},"No permissions")},i=function(e){var t=e.name;return h.a.createElement("span",null,h.a.createElement(P.a,{color:"primary",className:"mb-1 mt-1"},t)," ")},c=function(){return h.a.createElement("div",null,h.a.createElement("hr",{style:{borderTop:"1px solid black"}}))};return r?h.a.createElement("div",null,h.a.createElement("div",null,h.a.createElement(P.a,{color:"warning",style:{fontSize:"100%"},pill:!0},"Anonymous User")),h.a.createElement(c,null),h.a.createElement(n,{only:!0})):h.a.createElement("div",null,h.a.createElement("div",{className:"text-center"},t.is_superuser?h.a.createElement(P.a,{color:"danger",className:"mt-2 mb-2",style:{fontSize:"100%"},pill:!0},a?"Tenant Admin":"Super Admin"):h.a.createElement(P.a,{color:"success",className:"mt-2 mb-2",style:{fontSize:"100%"},pill:!0},"Tenant User")),t.first_name&&h.a.createElement("div",{className:"text-center"},h.a.createElement("b",null,t.first_name," ",t.last_name)),h.a.createElement("div",{className:"text-center text-primary"},t.first_name?null:h.a.createElement("br",null),t.email),t.is_superuser?null:function(e){var t=!1;for(var a in e)if(e[a].length>0){t=!0;break}return t}(t.groups)?h.a.createElement("div",null,h.a.createElement(c,null),h.a.createElement("div",{className:"text-left"},"Aggregation profiles:",h.a.createElement("br",null),t.groups.aggregations.length>0?t.groups.aggregations.map((function(e,t){return h.a.createElement(i,{name:e,key:t})})):h.a.createElement(n,null)),h.a.createElement("div",{className:"text-left"},"Metrics:",h.a.createElement("br",null),t.groups.metrics.length>0?t.groups.metrics.map((function(e,t){return h.a.createElement(i,{name:e,key:t})})):h.a.createElement(n,null)),h.a.createElement("div",{className:"text-left"},"Metric profiles:",h.a.createElement("br",null),t.groups.metricprofiles.length>0?t.groups.metricprofiles.map((function(e,t){return h.a.createElement(i,{name:e,key:t})})):h.a.createElement(n,null)),h.a.createElement("div",{className:"text-left"},"Thresholds profiles:",h.a.createElement("br",null),t.groups.thresholdsprofiles.length>0?t.groups.thresholdsprofiles.map((function(e,t){return h.a.createElement(i,{name:e,key:t})})):h.a.createElement(n,null))):h.a.createElement("div",null,h.a.createElement(c,null),h.a.createElement(n,{only:!0})))},Ce=function(e){var t=e.history,a=e.onLogout,r=e.isOpenModal,n=e.toggle,i=e.titleModal,c=e.msgModal,s=e.userDetails,l=e.isTenantSchema,u=e.publicView,m=Object(g.useState)(!1),d=o()(m,2),p=d[0],_=d[1];return h.a.createElement(h.a.Fragment,null,h.a.createElement(xe,{isOpen:r,toggle:n,title:i,msg:c,onYes:function(){return Pe(t,a)}}),h.a.createElement(x.a,{expand:"md",id:"argo-nav",className:"border rounded"},h.a.createElement(A.a,{className:"text-light"},h.a.createElement("img",{src:ae.a,alt:"ARGO logo",className:"img-responsive"}),h.a.createElement("span",{className:"pl-3"},h.a.createElement("strong",null,"ARGO")," POEM")),h.a.createElement(T.a,null),h.a.createElement(C.a,{navbar:!0,className:"justify-content-end"},h.a.createElement(I.a,{navbar:!0},h.a.createElement(N.a,{className:"m-2 ml-5 text-light"},"Welcome, ",h.a.createElement("span",{onMouseEnter:function(){return _(!0)},onMouseLeave:function(){return _(!1)},className:"font-weight-bold",href:"#",id:"userToolTip"},h.a.createElement(P.a,{href:"#",color:"dark",style:{fontSize:"100%"}},s.first_name?s.first_name:s.username)),h.a.createElement(S.a,{style:{opacity:.9},placement:"bottom",isOpen:p,target:"userToolTip",toggle:function(){return _(!p)}},h.a.createElement(L.a,null,h.a.createElement(Te,{userDetails:s,isTenantSchema:l,publicView:u})))),h.a.createElement(N.a,{className:"m-2"},h.a.createElement(D.a,{id:"argo-navbar-logout",size:"sm",onClick:function(){return n()}},h.a.createElement(le.a,{icon:ue.x})))))))},Ie=function(e){var t=e.location,a=e.isTenantSchema,r=e.userDetails,n=void 0;return n=a?ve:Me,r.is_superuser||(n=n.filter((function(e){return"administration"!==e}))),h.a.createElement(I.a,{vertical:!0,pills:!0,id:"argo-navlinks",className:"border-left border-right border-top rounded-top sticky-top"},n.map((function(e,a){return h.a.createElement(N.a,{key:a},h.a.createElement(j.a,{tag:ee.b,active:t.pathname.split("/")[2]===e,className:t.pathname.split("/")[2]===e?"text-white bg-info":"text-dark",to:"/ui/"+e},h.a.createElement(De,{i:e})," ",ye.get(e)))})))},Ne=function(e){var t=e.location,a=e.poemVersion,r=e.tenantName,n=void 0===r?"egi":r;return h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"bg-white border-left border-right pl-3 mt-0 pt-5 text-uppercase"},h.a.createElement("h5",null,"Info")),h.a.createElement(I.a,{vertical:!0,pills:!0,id:"argo-navlinks",className:"border-left border-right sticky-top rounded-bottom border-bottom pb-2 mb-0"},h.a.createElement(j.a,{tag:"a",href:"http://argoeu.github.io/poem/v1/",className:"text-dark",target:"_blank",rel:"noopener noreferrer"},h.a.createElement(De,{i:"documentation"})," ","Documentation"),h.a.createElement(j.a,{tag:"a",href:"http://argoeu.github.io/overview",className:"text-dark",target:"_blank",rel:"noopener noreferrer"},h.a.createElement(De,{i:"argodoc"})," ","About ARGO"),h.a.createElement(j.a,{tag:"a",href:"https://ui.argo.grnet.gr/egi/termsofUse",className:"text-dark",target:"_blank",rel:"noopener noreferrer"},h.a.createElement(De,{i:"terms"})," ","Terms"),h.a.createElement(j.a,{tag:ee.b,active:"policies"===t.pathname.split("/")[2],className:"policies"===t.pathname.split("/")[2]?"text-white bg-info":"text-dark",to:"/ui/cookiepolicies"},h.a.createElement(De,{i:"policies"})," ","Cookie Policies"),h.a.createElement(j.a,{tag:"a",href:Oe.get(n.toLowerCase()),className:"text-dark",target:"_blank",rel:"noopener noreferrer"},h.a.createElement(De,{i:"privacy"})," "," ","Privacy policy"),h.a.createElement(j.a,{tag:"a",href:"#",className:"text-dark font-italic text-monospace"},h.a.createElement(le.a,{icon:ue.i,size:"1x",color:"green",fixedWidth:!0})," ",a)))},Se=function(e){var t,a=e.border,r=void 0!==a&&a,n=e.publicPage,i=void 0!==n&&n,s=e.tenantName,l=void 0===s?"egi":s,u=Object(g.useState)(!1),m=o()(u,2),d=m[0],p=m[1],_=function(){return p(!d)};return h.a.createElement(h.a.Fragment,null,r&&h.a.createElement("div",{className:"pt-1"}),h.a.createElement("div",{className:"text-center pt-0 pb-2"},h.a.createElement("img",{src:ce.a,id:"eulogo",alt:"EU logo"}),h.a.createElement("img",{src:oe.a,id:"eosclogo",alt:"EOSC logo",className:"pl-1"})),h.a.createElement("p",{className:"text-center ".concat(i?"mb-0":"mb-0 pb-1")},h.a.createElement("small",null,h.a.createElement("strong",null,"ARGO POEM")," is a service jointly developed and maintained by  ",h.a.createElement("a",{href:"http://www.cnrs.fr/",title:"Centre national de la recherche scientifique"},"CNRS"),",  ",h.a.createElement("a",{href:"https://grnet.gr/",title:"Greek Research and Technology Network"},"GRNET")," and  ",h.a.createElement("a",{href:"http://www.srce.unizg.hr/",title:"University computing centre"},"SRCE"),"  co-funded by ",h.a.createElement("a",{href:"https://www.eosc-hub.eu",title:"EOSC-Hub"},"EOSC-Hub")," and  ",h.a.createElement("a",{href:"http://www.egi.eu/",title:"EGI.eu"},"EGI.eu"))),i&&h.a.createElement("div",{className:"text-center mb-0 pt-0"},h.a.createElement("small",null,h.a.createElement("a",{href:"https://ui.argo.grnet.gr/egi/termsofUse",target:"_blank",rel:"noopener noreferrer",title:"Terms"},"Terms"),",  ",h.a.createElement("a",{href:"#",title:"Cookie Policies",onClick:_},"Cookie Policies"),",  ",h.a.createElement("a",(t={href:"#",title:"Privacy Policy"},c()(t,"href",l?Oe.get(l.toLowerCase()):Oe.get("egi")),c()(t,"target","_blank"),c()(t,"rel","noopener noreferrer"),t),"Privacy Policy")),h.a.createElement(v.a,{isOpen:d,toggle:_,size:"lg"},h.a.createElement(y.a,{className:"p-0"},h.a.createElement(he.a,{fromModal:!0})))))},Le=function(e){var t=e.loginPage,a=void 0!==t&&t,r=e.publicPage,n=void 0!==r&&r,i=e.tenantName,c=void 0===i?"egi":i;return a?h.a.createElement("div",{id:"argo-loginfooter"},h.a.createElement(Se,{publicPage:!0,tenantName:c})):h.a.createElement("div",{id:"argo-footer",className:"border rounded"},h.a.createElement(Se,{border:!0,publicPage:n,tenantName:c}))},je=function(){return h.a.createElement(U.a,{className:"ml-2 mr-1 border rounded",style:{height:"90%",backgroundColor:"white"}},h.a.createElement(R.a,{className:"d-flex flex-column align-items-center align-self-center",md:{size:8,offset:2}},h.a.createElement(W.a,{className:"text-center border-0"},h.a.createElement(B.a,{className:"bg-light"},h.a.createElement("h4",{className:"text-dark"},"Loading data...")),h.a.createElement(K.a,null,h.a.createElement("img",{src:ne.a,alt:"ARGO logo anim",className:"img-responsive",height:"400px"})))))},Ue=function(e){var t=e.msg,a=void 0===t?"":t,r=e.title,n=void 0===r?"":r,i=e.callback,c=void 0===i?void 0:i;me.NotificationManager.success(a,n,2e3),setTimeout(c,2e3)},Re=function(e){var t=e.msg,a=void 0===t?"":t,r=e.title,n=void 0===r?"":r;a=h.a.createElement("div",null,h.a.createElement("p",null,a),h.a.createElement("p",null,"Click to dismiss.")),me.NotificationManager.error(a=a,n,0,(function(){return!0}))},We=function(e){var t=e.msg,a=void 0===t?"":t,r=e.title,n=void 0===r?"":r;a=h.a.createElement("div",null,h.a.createElement("p",null,a),h.a.createElement("p",null,"Click to dismiss.")),me.NotificationManager.warning(a,n,0,(function(){return!0}))},Be=function(e){var t=e.msg,a=void 0===t?"":t,r=e.title,n=void 0===r?"":r;a=h.a.createElement("div",null,h.a.createElement("p",null,a),h.a.createElement("p",null,"Click to dismiss.")),me.NotificationManager.info(a,n,0,(function(){return!0}))},Ke=function(e){var t=e.tenantName,a=void 0===t?void 0:t,r=e.children;return h.a.createElement(z.a,{fluid:!0},h.a.createElement(U.a,null,h.a.createElement(R.a,null,h.a.createElement(Ce,{history:void 0,onLogout:void 0,isOpenModal:void 0,toggle:function(){},titleModal:"Log out",msgModal:"Are you sure you want to log out?",userDetails:{username:"Anonymous"},publicView:!0}))),h.a.createElement(U.a,{className:"no-gutters"},h.a.createElement(R.a,null,h.a.createElement(Ae,{publicView:!0}),r)),h.a.createElement(U.a,null,h.a.createElement(R.a,null,a?h.a.createElement(Le,{loginPage:!1,publicPage:!0,tenantName:a}):h.a.createElement(Le,{loginPage:!1,publicPage:!0}))))},ze=function(e){var t=e.resourcename,a=void 0===t?"":t,r=e.location,n=void 0===r?void 0:r,i=e.infoview,c=void 0!==i&&i,s=e.addview,o=void 0!==s&&s,l=e.listview,u=void 0!==l&&l,m=e.modal,d=void 0!==m&&m,p=e.state,_=void 0===p?void 0:p,E=e.toggle,f=void 0===E?void 0:E,g=e.submitperm,b=void 0===g||g,v=e.history,M=void 0===v||v,y=e.addnew,O=void 0===y||y,w=e.clone,k=void 0!==w&&w,P=e.cloneview,x=void 0!==P&&P,A=e.tenantview,T=void 0!==A&&A,C=e.publicview,I=void 0!==C&&C,N=e.addperm,S=void 0===N||N,L=e.children;return h.a.createElement(h.a.Fragment,null,d&&h.a.createElement(xe,{isOpen:_.areYouSureModal,toggle:f,title:_.modalTitle,msg:_.modalMsg,onYes:_.modalFunc}),h.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},c?h.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},a):o?h.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Add ".concat(a)):u?h.a.createElement(h.a.Fragment,null,O?h.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Select ".concat(a," to change")):h.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Select ".concat(a," for details")),O&&S&&h.a.createElement(ee.b,{className:"btn btn-secondary",to:n.pathname+"/add",role:"button"},"Add"),O&&!S&&h.a.createElement(D.a,{className:"btn btn-secondary",onClick:function(){return Re({title:"Not allowed",msg:"You do not have permission to add ".concat(a,".")})}},"Add")):x?h.a.createElement(h.a.Fragment,null,h.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Clone ".concat(a))):T||I?h.a.createElement(h.a.Fragment,null,h.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},a),M&&h.a.createElement(ee.b,{className:"btn btn-secondary",to:n.pathname+"/history",role:"button"},"History")):h.a.createElement(h.a.Fragment,null,h.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Change ".concat(a)),h.a.createElement(V.a,null,k&&!I&&h.a.createElement(ee.b,{className:"btn btn-secondary mr-2",to:n.pathname+"/clone",role:"button"},"Clone"),M&&!I&&h.a.createElement(ee.b,{className:"btn btn-secondary",to:n.pathname+"/history",role:"button"},"History")))),h.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},!b&&!c&&!u&&!I&&h.a.createElement(Y.a,{color:"danger"},h.a.createElement("center",null,"This is a read-only instance, please request the corresponding permissions to perform any changes in this form.")),L))},Ve=function(e){var t=e.field,a=t.name,r=t.value,n=t.onChange,i=t.onBlur,c=e.form,s=c.errors,o=c.touched,l=e.id,u=e.label;f()(e,["field","form","id","label"]);return h.a.createElement("div",null,h.a.createElement("input",{name:a,id:l,type:"checkbox",value:r,checked:r,onChange:n,onBlur:i}),h.a.createElement("label",{htmlFor:l},u),o[a]&&s[a]&&h.a.createElement("div",{className:"error"},s[a]))},Ye=function(e){return h.a.createElement("div",{style:{color:"#FF0000",fontSize:"small"}},e)},Qe=function(e){var t=e.setFieldValue,a=e.lists,r=void 0===a?[]:a,n=e.val,i=void 0===n?"":n,c=e.icon,s=e.field,l=e.req,u=e.label,m=e.onselect_handler,d=Object(g.useState)(i),p=o()(d,2),E=p[0],f=p[1],b=Object(g.useState)(r),v=o()(b,2),M=v[0],y=v[1];return h.a.createElement("div",null,h.a.createElement(ge.a,{suggestions:M,onSuggestionsClearRequested:function(){return y([])},onSuggestionsFetchRequested:function(e){var t=e.value;f(t),y(function(e){return r.filter((function(t){return t.toLowerCase().includes(e.trim().toLowerCase())}))}(t))},getSuggestionValue:function(e){return e},renderSuggestion:function(e,t){var a=t.isHighlighted;return h.a.createElement("div",{key:r.indexOf(e),className:"argo-autocomplete-entries ".concat(a?"argo-autocomplete-entries-highlighted":"")},e?h.a.createElement(De,{i:c}):""," ",e)},inputProps:{value:E,onChange:function(e,a){var r=a.newValue;f(r),t(s,r),m(s,r)}},renderInputComponent:function(e){return u?h.a.createElement("div",{className:"input-group mb-3"},h.a.createElement("div",{className:"input-group-prepend"},h.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},u)),h.a.createElement("input",_()({},e,{type:"text",className:"form-control ".concat(l&&"border-danger"),"aria-label":"label"}))):h.a.createElement("input",_()({},e,{type:"text",className:"form-control"}))},shouldRenderSuggestions:function(){return!0},theme:{containerOpen:"argo-autocomplete-menu",suggestionsList:"argo-autocomplete-list"}}))},Fe=function(e){var t=e.value,a=e.onChange,r=e.data;return h.a.createElement("select",{onChange:a,style:{width:"100%"},value:t},h.a.createElement("option",{key:0,value:""},"Show all"),r.map((function(e,t){return h.a.createElement("option",{key:t+1,value:e},e)})))},qe=function(e){var t=e.match.params.name,a=e.history,r=e.publicView,n=e.tenantView,i=e.object,c=Object(g.useState)(!1),s=o()(c,2),l=s[0],m=s[1],p=Object(g.useState)(null),_=o()(p,2),E=_[0],f=_[1],b=Object(g.useState)(""),v=o()(b,2),M=v[0],y=v[1],O=Object(g.useState)(""),w=o()(O,2),k=w[0],P=w[1],x=Object(g.useState)(null),A=o()(x,2),T=A[0],C=A[1],I=void 0;I=["metric","metricprofile","aggregationprofile","thresholdsprofile"].includes(i)?"/api/v2/internal/".concat(r?"public_":"","tenantversion/"):"/api/v2/internal/".concat(r?"public_":"","version/");var N="/ui/".concat(n?"administration/":"").concat(r?"public_":"").concat(i,"s/").concat(t,"/history"),S=new pe.a;return Object(g.useEffect)((function(){function e(){return(e=d()(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.fetchData("".concat(I,"/").concat(i,"/").concat(t));case 3:a=e.sent,f(a),a.length>1&&(y(a[0].version),P(a[1].version)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),C(e.t0);case 11:m(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}m(!0),function(){e.apply(this,arguments)}()}),[]),l?h.a.createElement(je,null):T?h.a.createElement(Ze,{error:T}):!l&&E?h.a.createElement(ze,{resourcename:"Version history",infoview:!0},h.a.createElement("table",{className:"table table-sm"},h.a.createElement("thead",{className:"table-active"},h.a.createElement("tr",null,1===E.length?h.a.createElement("th",{scope:"col"},"Compare"):h.a.createElement("th",{scope:"col"},h.a.createElement(D.a,{color:"info",onClick:function(){return a.push("".concat(N,"/compare/").concat(M,"/").concat(k))}},"Compare")),h.a.createElement("th",{scope:"col"},"Version"),h.a.createElement("th",{scope:"col"},"Date/time"),h.a.createElement("th",{scope:"col"},"User"),h.a.createElement("th",{scope:"col"},"Comment"))),h.a.createElement("tbody",null,E.map((function(e,t){return h.a.createElement("tr",{key:t},1===E.length?h.a.createElement("td",null,"-"):0===t?h.a.createElement("td",null,h.a.createElement("input",{type:"radio",name:"radio-1",value:e.version,defaultChecked:!0,onChange:function(e){return y(e.target.value)}})):h.a.createElement("td",null,h.a.createElement("input",{type:"radio",name:"radio-1",value:e.version,onChange:function(e){return y(e.target.value)}})," ",h.a.createElement("input",{type:"radio",name:"radio-2",value:e.version,defaultChecked:1===t,onChange:function(e){return P(e.target.value)}})),h.a.createElement("td",null,e.version?h.a.createElement(ee.b,{to:"".concat(N,"/").concat(e.version)},e.version):""),h.a.createElement("td",null,e.date_created?e.date_created:""),h.a.createElement("td",null,e.user?e.user:""),h.a.createElement("td",{className:"col-md-6"},e.comment?e.comment:""))}))))):null},He=function(e){var t=e.title,a=e.item1,r=e.item2;Array.isArray(a)||Array.isArray(r)||(a=a.split("\r\n"),r=r.split("\r\n"));var n=Math.max(a.length,r.length);if(a.length>r.length)for(var i=r.length;i<a.length;i++)r.push(" ");else if(r.length>a.length)for(var c=a.length;c<r.length;c++)a.push(" ");for(var s=[],o=0;o<n;o++)s.push(h.a.createElement(Ee.a,{oldValue:r[o],newValue:a[o],showDiffOnly:!0,splitView:!1,hideLineNumbers:!0,disableWordDiff:!0,key:"diff-"+o}));return h.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},h.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},t),s)},Ge=function(e){var t=e.errors,a=e.grouplist,r=void 0===a?void 0:a,n=e.description,i=void 0===n?void 0:n,c=e.fieldsdisable,s=void 0!==c&&c,o=e.profiletype,l=void 0===o?void 0:o;return h.a.createElement(Q.a,null,h.a.createElement(U.a,null,h.a.createElement(R.a,{md:6},h.a.createElement(F.a,null,h.a.createElement(q.a,{addonType:"prepend"},"Name"),h.a.createElement(de.a,{type:"text",name:"name",className:"form-control form-control-lg ".concat(t.name&&"border-danger"),disabled:s})),t.name&&Ye(t.name),h.a.createElement(H.a,{color:"text-muted"},"Name of ".concat(l," profile")))),i&&h.a.createElement(U.a,{className:"mt-3"},h.a.createElement(R.a,{md:10},h.a.createElement(G.a,{for:"profileDescription"},"Description:"),h.a.createElement(de.a,{id:"profileDescription",className:"form-control",component:"textarea",name:i,disabled:s}),h.a.createElement(H.a,{color:"muted"},"Free text description outlining the purpose of this profile."))),h.a.createElement(U.a,{className:"mt-4"},h.a.createElement(R.a,{md:3},h.a.createElement(F.a,null,h.a.createElement(q.a,{addonType:"prepend"},"Group"),s?h.a.createElement(de.a,{type:"text",name:"groupname",className:"form-control",disabled:!0}):h.a.createElement(de.a,{name:"groupname",component:"select",className:"form-control custom-select ".concat(t.groupname&&"border-danger")},h.a.createElement("option",{key:0,value:"",hidden:!0,color:"text-muted"},"Select group"),r.map((function(e,t){return h.a.createElement("option",{key:t+1,value:e},e)})))),t.groupname&&Ye(t.groupname),h.a.createElement(H.a,{color:"muted"},"".concat(l.charAt(0).toUpperCase()+l.slice(1)," profile is member of given group.")))))},Ze=function(e){var t=e.error,a=[];return t.toString().split("; ").forEach((function(e,t){0===t?a.push(h.a.createElement("h3",{key:t},e)):a.push(h.a.createElement("p",{key:t},e))})),h.a.createElement(h.a.Fragment,null,h.a.createElement("h1",null,"Something went wrong"),a)},Je=function(e){var t=e.title;return h.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-uppercase rounded",style:{backgroundColor:"#c4ccd4"}},t)};function Xe(e){var t=e.columns,a=e.data,r=e.type,i=Object(be.useTable)({columns:t,data:a,initialState:{pageIndex:0,pageSize:10}},be.usePagination),c=i.headerGroups,s=i.prepareRow,o=i.page,l=i.canPreviousPage,u=i.canNextPage,m=i.pageCount,d=i.gotoPage,p=i.nextPage,_=i.previousPage,E=i.setPageSize,f=i.state,g=f.pageIndex,b=f.pageSize;return h.a.createElement(h.a.Fragment,null,h.a.createElement(U.a,null,h.a.createElement(R.a,null,h.a.createElement(Z.a,{className:"table table-bordered table-hover"},h.a.createElement("thead",{className:"table-active align-middle text-center"},c.map((function(e,t){return h.a.createElement(h.a.Fragment,{key:t},h.a.createElement("tr",null,e.headers.map((function(e,t){var a=void 0;return 0===t&&(a="2%"),1===t?a="20%":2===t?a="70%":3===t&&(a="8%"),h.a.createElement("th",{style:{width:a},className:"p-1 m-1",key:t},e.render("Header"))}))))}))),h.a.createElement("tbody",null,o.map((function(e,t){return s(e),h.a.createElement("tr",{key:t,style:{height:"49px"}},e.cells.map((function(a,r){return 0===r?h.a.createElement("td",{key:r,className:"align-middle text-center"},t+1+g*b):r===e.cells.length-1?h.a.createElement("td",{key:r,className:"align-middle text-center"},a.render("Cell")):h.a.createElement("td",{key:r,className:"align-middle"},a.render("Cell"))})))})))))),h.a.createElement(U.a,null,h.a.createElement(R.a,{className:"d-flex justify-content-center"},h.a.createElement(J.a,null,h.a.createElement(X.a,{disabled:!l},h.a.createElement($.a,{first:!0,onClick:function(){return d(0)}})),h.a.createElement(X.a,{disabled:!l},h.a.createElement($.a,{previous:!0,onClick:function(){return _()}})),n()(Array(m)).map((function(e,t){return h.a.createElement(X.a,{key:t,active:g===t},h.a.createElement($.a,{onClick:function(){return d(t)}},t+1))})),h.a.createElement(X.a,{disabled:!u},h.a.createElement($.a,{next:!0,onClick:function(){return p()}})),h.a.createElement(X.a,{disabled:!u},h.a.createElement($.a,{last:!0,onClick:function(){return d(m+1)}})),h.a.createElement(X.a,{className:"pl-2"},h.a.createElement("select",{style:{width:"180px"},className:"custom-select text-primary",value:b,onChange:function(e){return E(Number(e.target.value))}},[10,20,50].map((function(e){return h.a.createElement("option",{key:e,value:e},e," ","".concat(r," profiles"))}))))))))}},"4tXu":function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var r=a("q1tI"),n=a.n(r),i=(a("29KK"),a("BLzl")),c=a("afej"),s=a("/kxI"),o=a("XAkp"),l=a("cZcL"),u=function(e){var t=e.fromModal,a=void 0!==t&&t,r=window.location.hostname;return n.a.createElement((function(){return n.a.createElement(i.a,{className:"".concat(a?"":"ml-2 mb-2 border rounded")},n.a.createElement(c.a,null,n.a.createElement("h3",{className:"p-2"},"Cookie Policies")),n.a.createElement(s.a,null,n.a.createElement("h4",{className:"p-3"},"1. Purpose of this cookie policy"),n.a.createElement("p",null,'This Website uses technologies such as "cookies" and "pixel tags". By browsing the webpage, the User agrees to the creation and use of cookies.',n.a.createElement("br",null),"If User does not wish to consent to the use of cookies, User may either disable them or discontinue browsing this webpage.",n.a.createElement("br",null),"For the purpose of this Policy, the following terms shall have the following meaning:",n.a.createElement("br",null)),n.a.createElement("ul",null,n.a.createElement("li",null,'"Cookie" or "Cookies": Cookies are small text or message files sent from the server of an organization and stored on your computer. Cookies do not have access to data stored on your computer\'s hard disk or to Cookies placed by other websites, and they may not harm or damage your system.'),n.a.createElement("li",null,'"Persistence cookies" remain during multiple website visits and get stored on your hard disk.'),n.a.createElement("li",null,'"Session Cookies" are temporary cookies that disappear automatically after you leave a website;'),n.a.createElement("li",null,'"Third Party Cookies" are cookies used by the websites of our partners, as integrated in our own Website or used by websites we link to.')),n.a.createElement("h4",{className:"p-3"},"2. Which cookies are placed on your device when using our Website?"),n.a.createElement("p",null,"When you access and/or use the Website, we place one or more Cookies on your device for the purposes described herein. The following table and relevant information set out the cookies used for the Website. It also provides details of third parties setting cookies:"),n.a.createElement(o.a,{responsive:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Cookie Type"),n.a.createElement("th",null,"Cookie Provider"),n.a.createElement("th",null,"Cookie Name"),n.a.createElement("th",null,"Third party cookie"),n.a.createElement("th",null,"Persistent or session Cookie"),n.a.createElement("th",null,"Purpose of cookie"))),n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,"Session State"),n.a.createElement("td",null,r),n.a.createElement("td",null,"JSESSIONID"),n.a.createElement("td",null,"No"),n.a.createElement("td",null,"Session"),n.a.createElement("td",null,"Preserve user session information")))),n.a.createElement("h4",{className:"p-3"},"3. How long are cookies stored on your device?"),n.a.createElement("p",null,'The duration for which a cookie will be stored on your browsing device depends on whether it is a "persistence" or a "session" cookie. Session cookies will be stored on a device until you turn off your web browser.',n.a.createElement("br",null),'"Persistence cookies" shall remain on your device after you have finished browsing until they expire or until they are deleted by you.'),n.a.createElement("h4",{className:"p-3"},"4. How can you disable cookies that have been placed on your device?"),n.a.createElement("p",null,'You can usually use your web browser to enable, disable, or delete cookies. To do so, follow the instructions provided for by your web browser (usually located in the "Help", "Tools" or "Edit" settings).',n.a.createElement("br",null),"You can also set your web browser to reject all cookies or to indicate when a cookie is being sent.")),n.a.createElement(l.a,null,n.a.createElement("p",{className:"font-italic"},"Cookies are important for identifying you, thereby enabling us to grant you access to the ARGO Monitoring service and other Infrastructure services and for optimizing your browsing experience.")))}),null)}},"5tO7":function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgdmVyc2lvbj0iMS4xIiAKICAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgCiAgICB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQgbWVldCIgdmlld0JveD0iNC45MTc4NjU2NTY3NTI0NCA0LjY0MjkwMjM3NzQwOTk2OCAxMDIuMjMzMjE1NTQ3NzAzMiA1MCIgd2lkdGg9Ijk4LjIzIiBoZWlnaHQ9IjQ2Ij4KICAgIDxkZWZzPgogICAgICAgIDxwYXRoIGQ9Ik0xMDMuMTkgMjkuMDFMMTAyLjIyIDMwLjE2TDEwMS4yMyAzMS4yOUwxMDAuMjMgMzIuMzhMOTkuMjEgMzMuNDVMOTguMTggMzQuNDhMOTcuMTQgMzUuNDlMOTYuMDggMzYuNDZMOTUuMDEgMzcuNDFMOTMuOTMgMzguMzJMOTIuODMgMzkuMkw5MS43MiA0MC4wNkw5MC42IDQwLjg4TDg5LjQ2IDQxLjY3TDg4LjMxIDQyLjQzTDg3LjE0IDQzLjE2TDg1Ljk2IDQzLjg3TDg0Ljc3IDQ0LjU0TDgzLjU3IDQ1LjE4TDgyLjM1IDQ1Ljc5TDgxLjExIDQ2LjM3TDc5Ljg3IDQ2LjkyTDc4LjYxIDQ3LjQ0TDc3LjMzIDQ3LjkzTDc2LjA0IDQ4LjM5TDc0Ljc0IDQ4LjgyTDczLjQzIDQ5LjIyTDcyLjEgNDkuNThMNzAuNzYgNDkuOTJMNjkuNCA1MC4yM0w2OC4wMyA1MC41MUw2Ni42NSA1MC43Nkw2NS4yNSA1MC45N0w2My44NCA1MS4xNkw2Mi40MiA1MS4zMkw2MC45OCA1MS40NEw1OS41MyA1MS41NEw1OC4wNiA1MS42TDU2LjU4IDUxLjY0TDU1LjA5IDUxLjY0TDUzLjYgNTEuNjJMNTIuMTIgNTEuNTdMNTAuNjYgNTEuNDlMNDkuMjEgNTEuMzhMNDcuNzcgNTEuMjRMNDYuMzQgNTEuMDdMNDQuOTMgNTAuODhMNDMuNTMgNTAuNjZMNDIuMTUgNTAuNDFMNDAuNzggNTAuMTNMMzkuNDIgNDkuODJMMzguMDggNDkuNDlMMzYuNzUgNDkuMTJMMzUuNDMgNDguNzNMMzQuMTMgNDguMzFMMzIuODQgNDcuODZMMzEuNTYgNDcuMzlMMzAuMyA0Ni44OEwyOS4wNSA0Ni4zNUwyNy44MSA0NS43OUwyNi41OSA0NS4yTDI1LjM4IDQ0LjU4TDI0LjE4IDQzLjk0TDIzIDQzLjI2TDIxLjgzIDQyLjU2TDIwLjY4IDQxLjgzTDE5LjU0IDQxLjA3TDE4LjQxIDQwLjI5TDE3LjI5IDM5LjQ3TDE2LjE5IDM4LjYzTDE1LjEgMzcuNzZMMTQuMDMgMzYuODZMMTIuOTcgMzUuOTNMMTEuOTIgMzQuOTdMMTAuODkgMzMuOTlMOS44NyAzMi45OEw4Ljg2IDMxLjk0TDcuODYgMzAuODdMNi44OCAyOS43N0w1LjkyIDI4LjY0TDU1LjA5IDUuNjRMMTA0LjE1IDI3LjgyTDEwMy4xOSAyOS4wMVpNNTEuNzkgMTMuNjFMNTAuNTQgMTMuODhMNDkuMzMgMTQuMjVMNDguMTcgMTQuNzJMNDcuMDUgMTUuMjdMNDUuOTkgMTUuOTFMNDQuOTkgMTYuNjNMNDQuMDUgMTcuNDNMNDMuMTggMTguMzFMNDIuMzggMTkuMjRMNDEuNjUgMjAuMjVMNDEuMDEgMjEuMzFMNDAuNDYgMjIuNDJMMzkuOTkgMjMuNTlMMzkuNjIgMjQuOEwzOS4zNSAyNi4wNEwzOS4xOSAyNy4zM0wzOS4xMyAyOC42NEwzOS4xOSAyOS45NkwzOS4zNSAzMS4yNEwzOS42MiAzMi40OUwzOS45OSAzMy43TDQwLjQ2IDM0Ljg3TDQxLjAxIDM1Ljk4TDQxLjY1IDM3LjA0TDQyLjM4IDM4LjA0TDQzLjE4IDM4Ljk4TDQ0LjA1IDM5Ljg2TDQ0Ljk5IDQwLjY1TDQ1Ljk5IDQxLjM4TDQ3LjA1IDQyLjAyTDQ4LjE3IDQyLjU3TDQ5LjMzIDQzLjA0TDUwLjU0IDQzLjQxTDUxLjc5IDQzLjY4TDUzLjA3IDQzLjg0TDU0LjM5IDQzLjlMNTUuNyA0My44NEw1Ni45OSA0My42OEw1OC4yNCA0My40MUw1OS40NCA0My4wNEw2MC42MSA0Mi41N0w2MS43MiA0Mi4wMkw2Mi43OCA0MS4zOEw2My43OSA0MC42NUw2NC43MyAzOS44Nkw2NS42IDM4Ljk4TDY2LjQgMzguMDRMNjcuMTIgMzcuMDRMNjcuNzYgMzUuOThMNjguMzIgMzQuODdMNjguNzggMzMuN0w2OS4xNSAzMi40OUw2OS40MiAzMS4yNEw2OS41OCAyOS45Nkw2OS42NCAyOC42NEw2OS41OCAyNy4zM0w2OS40MiAyNi4wNEw2OS4xNSAyNC44TDY4Ljc4IDIzLjU5TDY4LjMyIDIyLjQyTDY3Ljc2IDIxLjMxTDY3LjEyIDIwLjI1TDY2LjQgMTkuMjRMNjUuNiAxOC4zMUw2NC43MyAxNy40M0w2My43OSAxNi42M0w2Mi43OCAxNS45MUw2MS43MiAxNS4yN0w2MC42MSAxNC43Mkw1OS40NCAxNC4yNUw1OC4yNCAxMy44OEw1Ni45OSAxMy42MUw1NS43IDEzLjQ1TDU0LjM5IDEzLjM5TDUzLjA3IDEzLjQ1TDUxLjc5IDEzLjYxWiIgaWQ9ImIzZHhnVUpTTFciPjwvcGF0aD4KICAgICAgICA8cGF0aCBkPSJNNjYuMTEgMjguODJDNjYuMTEgMzUuMzUgNjAuOCA0MC42NiA1NC4yNyA0MC42NkM0Ny43NCA0MC42NiA0Mi40MyAzNS4zNSA0Mi40MyAyOC44MkM0Mi40MyAyMi4yOSA0Ny43NCAxNi45OCA1NC4yNyAxNi45OEM2MC44IDE2Ljk4IDY2LjExIDIyLjI5IDY2LjExIDI4LjgyWiIgaWQ9ImU0ZXBvZkxQV0wiPjwvcGF0aD4KICAgIDwvZGVmcz4KICAgIDxnPgogICAgICAgIDxnPgogICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9IiNiM2R4Z1VKU0xXIiBvcGFjaXR5PSIxIiBmaWxsPSIjNzViM2Q5IiAgZmlsbC1vcGFjaXR5PSIxIj48L3VzZT4KICAgICAgICA8L2c+CiAgICAgICAgPGc+CiAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI2U0ZXBvZkxQV0wiIG9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlPSJ3aGl0ZSIgZmlsbD0iIzZmOGRjNCIgZmlsbC1vcGFjaXR5PSIxIj48L3VzZT4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},ML16:function(e,t,a){var r=a("dtk8");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},Pn3v:function(e,t,a){var r=a("p3/T");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},QjdQ:function(e,t,a){var r=a("tYV+");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},RYGk:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgdmVyc2lvbj0iMS4xIiAKICAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgCiAgICB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQgbWVldCIgdmlld0JveD0iNC45MTc4NjU2NTY3NTI0NCA0LjY0MjkwMjM3NzQwOTk2OCAxMDIuMjMzMjE1NTQ3NzAzMiA1MCIgd2lkdGg9Ijk4LjIzIiBoZWlnaHQ9IjQ2Ij4KICAgIDxkZWZzPgogICAgICAgIDxwYXRoIGQ9Ik0xMDMuMTkgMjkuMDFMMTAyLjIyIDMwLjE2TDEwMS4yMyAzMS4yOUwxMDAuMjMgMzIuMzhMOTkuMjEgMzMuNDVMOTguMTggMzQuNDhMOTcuMTQgMzUuNDlMOTYuMDggMzYuNDZMOTUuMDEgMzcuNDFMOTMuOTMgMzguMzJMOTIuODMgMzkuMkw5MS43MiA0MC4wNkw5MC42IDQwLjg4TDg5LjQ2IDQxLjY3TDg4LjMxIDQyLjQzTDg3LjE0IDQzLjE2TDg1Ljk2IDQzLjg3TDg0Ljc3IDQ0LjU0TDgzLjU3IDQ1LjE4TDgyLjM1IDQ1Ljc5TDgxLjExIDQ2LjM3TDc5Ljg3IDQ2LjkyTDc4LjYxIDQ3LjQ0TDc3LjMzIDQ3LjkzTDc2LjA0IDQ4LjM5TDc0Ljc0IDQ4LjgyTDczLjQzIDQ5LjIyTDcyLjEgNDkuNThMNzAuNzYgNDkuOTJMNjkuNCA1MC4yM0w2OC4wMyA1MC41MUw2Ni42NSA1MC43Nkw2NS4yNSA1MC45N0w2My44NCA1MS4xNkw2Mi40MiA1MS4zMkw2MC45OCA1MS40NEw1OS41MyA1MS41NEw1OC4wNiA1MS42TDU2LjU4IDUxLjY0TDU1LjA5IDUxLjY0TDUzLjYgNTEuNjJMNTIuMTIgNTEuNTdMNTAuNjYgNTEuNDlMNDkuMjEgNTEuMzhMNDcuNzcgNTEuMjRMNDYuMzQgNTEuMDdMNDQuOTMgNTAuODhMNDMuNTMgNTAuNjZMNDIuMTUgNTAuNDFMNDAuNzggNTAuMTNMMzkuNDIgNDkuODJMMzguMDggNDkuNDlMMzYuNzUgNDkuMTJMMzUuNDMgNDguNzNMMzQuMTMgNDguMzFMMzIuODQgNDcuODZMMzEuNTYgNDcuMzlMMzAuMyA0Ni44OEwyOS4wNSA0Ni4zNUwyNy44MSA0NS43OUwyNi41OSA0NS4yTDI1LjM4IDQ0LjU4TDI0LjE4IDQzLjk0TDIzIDQzLjI2TDIxLjgzIDQyLjU2TDIwLjY4IDQxLjgzTDE5LjU0IDQxLjA3TDE4LjQxIDQwLjI5TDE3LjI5IDM5LjQ3TDE2LjE5IDM4LjYzTDE1LjEgMzcuNzZMMTQuMDMgMzYuODZMMTIuOTcgMzUuOTNMMTEuOTIgMzQuOTdMMTAuODkgMzMuOTlMOS44NyAzMi45OEw4Ljg2IDMxLjk0TDcuODYgMzAuODdMNi44OCAyOS43N0w1LjkyIDI4LjY0TDU1LjA5IDUuNjRMMTA0LjE1IDI3LjgyTDEwMy4xOSAyOS4wMVpNNTEuNzkgMTMuNjFMNTAuNTQgMTMuODhMNDkuMzMgMTQuMjVMNDguMTcgMTQuNzJMNDcuMDUgMTUuMjdMNDUuOTkgMTUuOTFMNDQuOTkgMTYuNjNMNDQuMDUgMTcuNDNMNDMuMTggMTguMzFMNDIuMzggMTkuMjRMNDEuNjUgMjAuMjVMNDEuMDEgMjEuMzFMNDAuNDYgMjIuNDJMMzkuOTkgMjMuNTlMMzkuNjIgMjQuOEwzOS4zNSAyNi4wNEwzOS4xOSAyNy4zM0wzOS4xMyAyOC42NEwzOS4xOSAyOS45NkwzOS4zNSAzMS4yNEwzOS42MiAzMi40OUwzOS45OSAzMy43TDQwLjQ2IDM0Ljg3TDQxLjAxIDM1Ljk4TDQxLjY1IDM3LjA0TDQyLjM4IDM4LjA0TDQzLjE4IDM4Ljk4TDQ0LjA1IDM5Ljg2TDQ0Ljk5IDQwLjY1TDQ1Ljk5IDQxLjM4TDQ3LjA1IDQyLjAyTDQ4LjE3IDQyLjU3TDQ5LjMzIDQzLjA0TDUwLjU0IDQzLjQxTDUxLjc5IDQzLjY4TDUzLjA3IDQzLjg0TDU0LjM5IDQzLjlMNTUuNyA0My44NEw1Ni45OSA0My42OEw1OC4yNCA0My40MUw1OS40NCA0My4wNEw2MC42MSA0Mi41N0w2MS43MiA0Mi4wMkw2Mi43OCA0MS4zOEw2My43OSA0MC42NUw2NC43MyAzOS44Nkw2NS42IDM4Ljk4TDY2LjQgMzguMDRMNjcuMTIgMzcuMDRMNjcuNzYgMzUuOThMNjguMzIgMzQuODdMNjguNzggMzMuN0w2OS4xNSAzMi40OUw2OS40MiAzMS4yNEw2OS41OCAyOS45Nkw2OS42NCAyOC42NEw2OS41OCAyNy4zM0w2OS40MiAyNi4wNEw2OS4xNSAyNC44TDY4Ljc4IDIzLjU5TDY4LjMyIDIyLjQyTDY3Ljc2IDIxLjMxTDY3LjEyIDIwLjI1TDY2LjQgMTkuMjRMNjUuNiAxOC4zMUw2NC43MyAxNy40M0w2My43OSAxNi42M0w2Mi43OCAxNS45MUw2MS43MiAxNS4yN0w2MC42MSAxNC43Mkw1OS40NCAxNC4yNUw1OC4yNCAxMy44OEw1Ni45OSAxMy42MUw1NS43IDEzLjQ1TDU0LjM5IDEzLjM5TDUzLjA3IDEzLjQ1TDUxLjc5IDEzLjYxWiIgaWQ9ImExcGtjZVVMNDQiPjwvcGF0aD4KICAgICAgICA8cGF0aCBkPSJNNjYuMTEgMjguODJDNjYuMTEgMzUuMzUgNjAuOCA0MC42NiA1NC4yNyA0MC42NkM0Ny43NCA0MC42NiA0Mi40MyAzNS4zNSA0Mi40MyAyOC44MkM0Mi40MyAyMi4yOSA0Ny43NCAxNi45OCA1NC4yNyAxNi45OEM2MC44IDE2Ljk4IDY2LjExIDIyLjI5IDY2LjExIDI4LjgyWiIgaWQ9ImRqWGR6bnhlSSI+PC9wYXRoPgogICAgPC9kZWZzPgogICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCw0MCkiPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsLTQwKSI+CiAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI2ExcGtjZVVMNDQiIG9wYWNpdHk9IjEiIGZpbGw9IiNkMmQyZDIiIGZpbGwtb3BhY2l0eT0iMSI+PC91c2U+CiAgICAgICAgPC9nPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsLTQwKSI+CiAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI2RqWGR6bnhlSSIgb3BhY2l0eT0iMSIgZmlsbD0iI2JmYmZiZiIgZmlsbC1vcGFjaXR5PSIxIj48L3VzZT4KICAgICAgICA8L2c+CiAgICAgICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIgogICAgICAgICAgICAgdHlwZT0ic2NhbGUiCiAgICAgICAgICAgICBhZGRpdGl2ZT0ic3VtIiAKICAgICAgICAgICAgIGZyb209IjEgMSIKICAgICAgICAgICAgIHRvPSIxIDEiCiAgICAgICAgICAgICBiZWdpbj0iMHMiCiAgICAgICAgICAgICBkdXI9IjFzIgogICAgICAgICAgICAgdmFsdWVzPSIxIDE7IDEgMTsgMSAwOyAxIDE7IDEgMTsgMSAwOyAxIDE7IDEgMDsgMSAxIgogICAgICAgICAgICAga2V5VGltZXM9IjA7IDAuMzsgMC40OyAwLjU7IDAuNzsgMC43NjsgMC44OyAwLjk7IDEiCiAgICAgICAgICAgICByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIKICAgICAgICAvPgogICAgPC9nPgo8L3N2Zz4="},SKq3:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return ListOfMetrics})),__webpack_require__.d(__webpack_exports__,"d",(function(){return MetricForm})),__webpack_require__.d(__webpack_exports__,"a",(function(){return CompareMetrics})),__webpack_require__.d(__webpack_exports__,"c",(function(){return MetricChange})),__webpack_require__.d(__webpack_exports__,"e",(function(){return MetricVersionDetails}));var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("pVnL"),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("MVZn"),_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("o0o1"),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("yXPU"),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("J4zp"),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("q1tI"),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_DataManager__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("a/x8"),react_router_dom__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("55Ip"),_UIElements__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("29KK"),react_table_6__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("RKv1"),react_table_6_react_table_css__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("nON+"),react_table_6_react_table_css__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(react_table_6_react_table_css__WEBPACK_IMPORTED_MODULE_10__),formik__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("KYPV"),reactstrap__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("ok1R"),reactstrap__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("rhny"),reactstrap__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("3OM0"),reactstrap__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("sOKU"),reactstrap__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("2Te1"),reactstrap__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("xdlx"),reactstrap__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("jrRI"),reactstrap__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("q7Gj"),reactstrap__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("re1l"),reactstrap__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("0E8A"),reactstrap__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("iqOp"),reactstrap__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("glTy"),reactstrap__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("YGfb"),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("IP2g"),_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("wHSu"),react_diff_viewer__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("XNy0"),react_diff_viewer__WEBPACK_IMPORTED_MODULE_27___default=__webpack_require__.n(react_diff_viewer__WEBPACK_IMPORTED_MODULE_27__),react_select_creatable__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("vwsU"),react_select__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("FCdT"),react_query__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("Qv+K"),DefaultFilterComponent=function(e){var t=e.value,a=e.onChange,r=e.field;return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("input",{type:"text",placeholder:"Search by "+r,value:t,onChange:a,style:{width:"100%"}})};function validateConfig(e){var t;return e||(t="Required"),t}var InlineDiffElement=function(e){for(var t=e.title,a=e.item1,r=e.item2,n=Math.max(a.length,r.length),i=[],c=0;c<a.length;c++)i.push("key: "+a[c].key+", value: "+a[c].value);for(var s=[],o=0;o<r.length;o++)s.push("key: "+r[o].key+", value: "+r[o].value);if(a.length>r.length)for(var l=r.length;l<a.length;l++)s.push(" ");else if(r.length>a.length)for(var u=a.length;u<r.length;u++)i.push(" ");for(var m=[],d=0;d<n;d++)m.push(react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_diff_viewer__WEBPACK_IMPORTED_MODULE_27___default.a,{oldValue:s[d],newValue:i[d],showDiffOnly:!0,splitView:!1,hideLineNumbers:!0,disableWordDiff:!0,key:"diff-"+d}));return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},t),m)};function arraysEqual(e,t){if(e.length!==t.length)return!1;for(var a=e.length;a--;)if(e[a].key!==t[a].key||e[a].value!==t[a].value)return!1;return!0}var InlineFields=function(e){var t=e.values,a=e.errors,r=e.field,n=e.addnew,i=void 0!==n&&n,c=e.readonly,s=void 0!==c&&c;return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase",hidden:"Passive"===t.type&&"flags"!==r},r.replace("_"," ")),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_11__.b,{name:r,render:function(e){return t[r]&&t[r].length>0?t[r].map((function(n,c){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment,{key:"fragment.".concat(r,".").concat(c)},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{md:5},0===c&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_14__.a,{hidden:"Passive"===t.type&&"flags"!==r,for:"".concat(r,".0.key")},"Key")),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{md:5},0===c&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_14__.a,{hidden:"Passive"===t.type&&"flags"!==r,for:"".concat(r,".0.value")},"Value"))),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{md:5},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_11__.a,{type:"text",name:"".concat(r,".").concat(c,".key"),id:"".concat(r,".").concat(c,".key"),className:"form-control ".concat(t[r][c].isNew&&"border-success"),readOnly:!i||"config"===r||"Passive"===t.type&&"PASSIVE"===n.key,hidden:"Passive"===t.type&&"flags"!==r})),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{md:5},"Active"===t.type&&"config"===r?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_11__.a,{type:"text",name:"".concat(r,".").concat(c,".value"),id:"".concat(r,".").concat(c,".value"),className:"form-control ".concat(a.config&&a.config[c]&&"border-danger"),readOnly:s||!i&&"config"===r&&"path"===n.key,validate:validateConfig}):react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_11__.a,{type:"text",name:"".concat(r,".").concat(c,".value"),id:"".concat(r,".").concat(c,".value"),className:"form-control ".concat(t[r][c].isNew&&"border-success"),style:{overflowX:"auto"},readOnly:s||!i&&("config"!==r||"config"===r&&"path"===n.key)||"Passive"===t.type&&"PASSIVE"===n.key,hidden:"Passive"===t.type&&"flags"!==r}),a.config&&"config"===r&&a.config[c]&&Object(_UIElements__WEBPACK_IMPORTED_MODULE_8__.i)(a.config[c].value)),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{md:2},i&&"config"!==r&&(""!==t[r][0].key||""!==t[r][0].value||t[r].length>1)&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_15__.a,{hidden:"Passive"===t.type&&"flags"!==r||"flags"===r&&"Passive"===t.type&&("PASSIVE"===t[r][c].key||""===t[r][c].key&&""===t[r][c].value),size:"sm",color:"danger",type:"button",onClick:function(){e.remove(c),1===t[r].length&&e.push({key:"",value:""})}},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_25__.a,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_26__.s})))),i&&"config"!==r&&c===t[r].length-1&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,{className:"Passive"===t.type?"mt-0":"mt-2"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{md:2},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_15__.a,{hidden:"Passive"===t.type&&"flags"!==r,size:"sm",color:"success",type:"button",onClick:function(){return e.push({key:"",value:"",isNew:!0})}},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_25__.a,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_26__.u})," Add another ","s"===r.slice(-1)?r.slice(0,-1).replace("_"," "):r.replace("_"," ")))))})):react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment,{key:"fragment.".concat(r)},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{md:5},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_14__.a,{to:"empty-key",hidden:"Passive"===t.type&&"flags"!==r},"Key"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_11__.a,{type:"text",className:"form-control",value:"",id:"empty-key",readOnly:!i,hidden:"Passive"===t.type&&"flags"!==r})),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{md:5},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_14__.a,{to:"empty-value",hidden:"Passive"===t.type&&"flags"!==r},"Value"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_11__.a,{type:"text",value:"",className:"form-control",id:"empty-value",readOnly:!i,hidden:"Passive"===t.type&&"flags"!==r}))),i&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,{className:"Passive"===t.type?"mt-0":"mt-2"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{md:2},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_15__.a,{hidden:"Passive"===t.type&&"flags"!==r,size:"sm",color:"success",type:"button",onClick:function(){return e.push({key:"",value:""})}},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_25__.a,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_26__.u})," Add another ","s"===r.slice(-1)?r.slice(0,-1).replace("_"," "):r.replace("_"," ")))))}}))},ProbeVersionLink=function(e){var t=e.probeversion,a=e.publicView,r=void 0!==a&&a;return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_7__.b,{to:"/ui/".concat(r?"public_":"","probes/")+t.split(" ")[0]+"/history/"+t.split(" ")[1].substring(1,t.split(" ")[1].length-1)},t)},ListOfMetrics=function ListOfMetrics(props){var location=props.location,type=props.type,publicView=props.publicView,_useState=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(""),_useState2=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default()(_useState,2),searchName=_useState2[0],setSearchName=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(""),_useState4=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default()(_useState3,2),searchProbeversion=_useState4[0],setSearchProbeversion=_useState4[1],_useState5=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(""),_useState6=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default()(_useState5,2),searchType=_useState6[0],setSearchType=_useState6[1],_useState7=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(""),_useState8=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default()(_useState7,2),searchTag=_useState8[0],setSearchTag=_useState8[1],_useState9=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(""),_useState10=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default()(_useState9,2),searchOSGroups=_useState10[0],setSearchOSGroups=_useState10[1],_useState11=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)({}),_useState12=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default()(_useState11,2),selected=_useState12[0],setSelected=_useState12[1],_useState13=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(0),_useState14=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default()(_useState13,2),selectAll=_useState14[0],setSelectAll=_useState14[1],_useState15=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(!1),_useState16=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default()(_useState15,2),areYouSureModal=_useState16[0],setAreYouSureModal=_useState16[1],_useState17=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(void 0),_useState18=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default()(_useState17,2),modalVar=_useState18[0],setModalVar=_useState18[1],_useState19=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(void 0),_useState20=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default()(_useState19,2),modalTitle=_useState20[0],setModalTitle=_useState20[1],_useState21=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(void 0),_useState22=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default()(_useState21,2),modalMsg=_useState22[0],setModalMsg=_useState22[1],backend=new _DataManager__WEBPACK_IMPORTED_MODULE_6__.a,_useQuery=Object(react_query__WEBPACK_IMPORTED_MODULE_30__.b)("".concat(type,"_listview"),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(){var t;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,backend.fetchData("/api/v2/internal/".concat(publicView?"public_":"").concat("metrics"===type?"metric":type));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),{retry:!1}),listMetrics=_useQuery.data,listMetricsError=_useQuery.error,listMetricsLoading=_useQuery.isLoading,_useQuery2=Object(react_query__WEBPACK_IMPORTED_MODULE_30__.b)("".concat(type,"_listview_mtypes"),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(){var t;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,backend.fetchData("/api/v2/internal/".concat(publicView?"public_":"","mt").concat("metrictemplates"==type?"t":"","ypes"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),listTypes=_useQuery2.data,listTypesError=_useQuery2.error,listTypesLoading=_useQuery2.isLoading,_useQuery3=Object(react_query__WEBPACK_IMPORTED_MODULE_30__.b)("".concat(type,"_listview_tags"),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(){var t;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,backend.fetchData("/api/v2/internal/".concat(publicView?"public_":"","metrictags"));case 2:return(t=e.sent).push("none"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))),listTags=_useQuery3.data,listTagsError=_useQuery3.error,listTagsLoading=_useQuery3.isLoading,_useQuery4=Object(react_query__WEBPACK_IMPORTED_MODULE_30__.b)("".concat(type,"_listview_osgroups"),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(){var t,a;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("metrics"!==type){e.next=7;break}return e.next=3,backend.fetchResult("/api/v2/internal/".concat(publicView?"public_":"","usergroups"));case 3:return t=e.sent,e.abrupt("return",t.metrics);case 7:return e.next=9,backend.fetchData("/api/v2/internal/".concat(publicView?"public_":"","ostags"));case 9:return a=e.sent,e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})))),listOSGroups=_useQuery4.data,listOSGroupsError=_useQuery4.error,listOSGroupsLoading=_useQuery4.isLoading,_useQuery5=Object(react_query__WEBPACK_IMPORTED_MODULE_30__.b)("".concat(type,"_listview_schema"),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(){var t;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=backend.isTenantSchema(),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})))),isTenantSchema=_useQuery5.data,isTenantSchemaLoading=_useQuery5.isLoading,_useQuery6=Object(react_query__WEBPACK_IMPORTED_MODULE_30__.b)("".concat(type,"_listview_userdetails"),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(){var t,a,r;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={username:"Anonymous"},a=backend.isTenantSchema(),publicView){e.next=7;break}return e.next=5,backend.isActiveSession(a);case 5:(r=e.sent).active&&(t=r.userdetails);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))),userDetails=_useQuery6.data,userDetailsError=_useQuery6.error,userDetailsLoading=_useQuery6.isLoading;function doFilter(list_metric,field,filter){return list_metric.filter((function(row){return eval("row.".concat(field)).toLowerCase().includes(filter.toLowerCase())}))}function toggleRow(e){var t=Object.assign({},selected);t[e]=!selected[e],setSelected(t),setSelectAll(Object.keys(t).every((function(e){return!t[e]}))?0:2)}function toggleSelectAll(){var e=listMetrics;searchName&&(e=doFilter(e,"name",searchName)),searchProbeversion&&(e=doFilter(e,"probeversion",searchProbeversion)),searchType&&(e=doFilter(e,"mtype",searchType)),searchTag&&(e=e.filter((function(e){return e.tags.includes(searchTag)}))),searchOSGroups&&(e="metrics"===type?doFilter(e,"group",searchOSGroups):e.filter((function(e){return"".concat(e.ostag.join(", ")).includes(searchOStag)})));var t={};0===selectAll&&e.forEach((function(e){t[e.name]=!0})),setSelected(t),setSelectAll(0===selectAll?1:0)}function toggleAreYouSure(){setAreYouSureModal(!areYouSureModal)}function onDelete(){var e=selected,t=Object.keys(e).filter((function(t){return e[t]}));t.length>0?(setModalMsg("Are you sure you want to delete metric template".concat(t.length>1?"s":""," ").concat(t.join(", "),"?")),setModalTitle("Delete metric template".concat(t.length>1?"s":"")),setModalVar(t),toggleAreYouSure()):Object(_UIElements__WEBPACK_IMPORTED_MODULE_8__.r)({msg:"No metric templates were selected!",title:"Error"})}function importMetrics(){return _importMetrics.apply(this,arguments)}function _importMetrics(){return(_importMetrics=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(){var t,a,r,n;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=selected,!((a=Object.keys(t).filter((function(e){return t[e]}))).length>0)){e.next=17;break}return e.next=5,backend.importMetrics({metrictemplates:a});case 5:return r=e.sent,e.next=8,r.json();case 8:"imported"in(n=e.sent)&&Object(_UIElements__WEBPACK_IMPORTED_MODULE_8__.t)({msg:n.imported,title:"Imported"}),"warn"in n&&Object(_UIElements__WEBPACK_IMPORTED_MODULE_8__.s)({msg:n.warn,title:"Imported with older probe version"}),"err"in n&&Object(_UIElements__WEBPACK_IMPORTED_MODULE_8__.u)({msg:n.err,title:"Not imported"}),"unavailable"in n&&Object(_UIElements__WEBPACK_IMPORTED_MODULE_8__.r)({msg:n.unavailable,title:"Unavailable"}),setSelected({}),setSelectAll(0),e.next=18;break;case 17:Object(_UIElements__WEBPACK_IMPORTED_MODULE_8__.r)({msg:"No metric templates were selected!",title:"Error"});case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bulkDeleteMetrics(e){return _bulkDeleteMetrics.apply(this,arguments)}function _bulkDeleteMetrics(){return(_bulkDeleteMetrics=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(t){var a,r;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,backend.bulkDeleteMetrics({metrictemplates:t});case 2:return a=e.sent,e.next=5,a.json();case 5:r=e.sent,a.ok?("info"in r&&Object(_UIElements__WEBPACK_IMPORTED_MODULE_8__.t)({msg:r.info,title:"Deleted"}),"warning"in r&&Object(_UIElements__WEBPACK_IMPORTED_MODULE_8__.u)({msg:r.warning,title:"Deleted"}),react_query__WEBPACK_IMPORTED_MODULE_30__.a.setQueryData("".concat(type,"_listview"),(function(e){return e.filter((function(e){return!t.includes(e.name)}))})),setSelectAll(0)):Object(_UIElements__WEBPACK_IMPORTED_MODULE_8__.r)({msg:"Error deleting metric template".concat(t.length>0?"s":""),title:"Error: ".concat(a.status," ").concat(a.statusText)});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(listMetricsLoading||listTypesLoading||listTagsLoading||listOSGroupsLoading||isTenantSchemaLoading||userDetailsLoading)return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.m,null);if(listMetricsError)return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.h,{error:listMetricsError.message});if(listTypesError)return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.h,{error:listTypesError.message});if(listTagsError)return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.h,{error:listTagsError.message});if(listOSGroupsError)return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.h,{error:listOSGroupsError.message});if(userDetailsError)return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.h,{error:userDetailsError.message});var metriclink="/ui/".concat("metrictemplates"===type&&isTenantSchema&&!publicView?"administration/":"").concat(publicView?"public_":"").concat(type,"/"),columns=[{Header:"Name",id:"name",minWidth:100,accessor:function(e){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_7__.b,{to:"metrictemplates"===type&&isTenantSchema?"CentOS 6"===searchOSGroups&&e.centos6_probeversion?"".concat(metriclink).concat(e.name,"/history/").concat(e.centos6_probeversion.split(" ")[1].substring(1,e.centos6_probeversion.split(" ")[1].length-1)):"CentOS 7"===searchOSGroups&&e.centos7_probeversion?"".concat(metriclink).concat(e.name,"/history/").concat(e.centos7_probeversion.split(" ")[1].substring(1,e.centos7_probeversion.split(" ")[1].length-1)):"".concat(metriclink).concat(e.name):"".concat(metriclink).concat(e.name)},e.name)},filterable:!0,Filter:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(DefaultFilterComponent,{field:"name",value:searchName,onChange:function(e){return setSearchName(e.target.value)}})},{Header:"Probe version",id:"probeversion",minWidth:80,accessor:function(e){return e.probeversion?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(ProbeVersionLink,{publicView:publicView,probeversion:"metrictemplates"===type&&isTenantSchema?"CentOS 6"===searchOSGroups.search_ostag&&e.centos6_probeversion?e.centos6_probeversion:"CentOS 7"===searchOSGroups&&e.centos7_probeversion?e.centos7_probeversion:e.probeversion:e.probeversion}):""},Cell:function(e){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{style:{textAlign:"center"}},e.value)},filterable:!0,Filter:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(DefaultFilterComponent,{field:"probe version",value:searchProbeversion,onChange:function(e){return setSearchProbeversion(e.target.value)}})},{Header:"Type",minWidth:30,accessor:"mtype",Cell:function(e){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{style:{textAlign:"center"}},e.value)},filterable:!0,Filter:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.g,{value:searchType,onChange:function(e){return setSearchType(e.target.value)},data:listTypes})},{Header:"Tag",minWidth:30,accessor:"tags",Cell:function(e){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{style:{textAlign:"center"}},0===e.value.length?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_16__.a,{color:"dark"},"none"):e.value.map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_16__.a,{className:"mr-1",key:t,color:"internal"===e?"success":"deprecated"===e?"danger":"secondary"},e)})))},filterable:!0,Filter:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.g,{value:searchTag,onChange:function(e){return setSearchTag(e.target.value)},data:listTags})}];"metrictemplates"==type&&userDetails&&userDetails.is_superuser?columns.splice(0,0,{id:"checkbox",accessor:"",Cell:function(e){var t=e.original;return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("input",{type:"checkbox",className:"checkbox",checked:!0===selected[t.name],onChange:function(){return toggleRow(t.name)}}))},Header:"".concat(isTenantSchema?"Select all":"Delete"),Filter:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("input",{type:"checkbox",className:"checkbox",checked:1===selectAll,ref:function(e){e&&(e.indeterminate=2===selectAll)},onChange:function(){return toggleSelectAll()}})),filterable:!0,sortable:!1,minWidth:12}):columns.splice(0,0,{Header:"#",id:"row",minWidth:12,Cell:function(e){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{style:{textAlign:"center"}},e.index+1)}}),"metrics"===type?columns.splice(4,0,{Header:"Group",minWidth:30,accessor:"group",Cell:function(e){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{style:{textAlign:"center"}},e.value)},filterable:!0,Filter:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.g,{value:searchOSGroups,onChange:function(e){return setSearchOSGroups(e.target.value)},data:listOSGroups})}):isTenantSchema&&columns.splice(4,0,{Header:"OS",minWidth:30,accessor:"ostag",Cell:function(e){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{style:{textAlign:"center"}},e.value.join(", "))},filterable:!0,Filter:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.g,{value:searchOSGroups,onChange:function(e){return setSearchOSGroups(e.target.value)},data:listOSGroups})});var list_metric=listMetrics;return searchName&&(list_metric=doFilter(list_metric,"name",searchName)),searchProbeversion&&(list_metric=doFilter(list_metric,"probeversion",searchProbeversion)),searchType&&(list_metric=doFilter(list_metric,"mtype",searchType)),searchOSGroups&&(list_metric="metrics"===type?doFilter(list_metric,"group",searchOSGroups):list_metric.filter((function(e){return"".concat(e.ostag.join(", ")).toLowerCase().includes(searchOSGroups.toLowerCase())}))),searchTag&&(list_metric=list_metric.filter((function(e){return"none"===searchTag?0===e.tags.length:e.tags.includes(searchTag)}))),"metrics"===type?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.b,{resourcename:"metric",location:location,listview:!0,addnew:!1},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_table_6__WEBPACK_IMPORTED_MODULE_9__.a,{data:list_metric,columns:columns,className:"-highlight",defaultPageSize:50,rowsText:"metrics",getTheadThProps:function(){return{className:"table-active font-weight-bold p-2"}}})):isTenantSchema?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Select metric template".concat(userDetails.is_superuser?"(s) to import":" for details")),userDetails.is_superuser&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_15__.a,{className:"btn btn-secondary",onClick:function(){return importMetrics()}},"Import")),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_table_6__WEBPACK_IMPORTED_MODULE_9__.a,{data:list_metric,columns:columns,className:"-highlight",defaultPageSize:50,rowsText:"metrics",getTheadThProps:function(){return{className:"table-active font-weight-bold p-2"}}}))):react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.n,{isOpen:areYouSureModal,toggle:toggleAreYouSure,title:modalTitle,msg:modalMsg,onYes:function(){return bulkDeleteMetrics(modalVar)}}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Select metric template to change"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_17__.a,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_7__.b,{className:"btn btn-secondary mr-2",to:location.pathname+"/add",role:"button"},"Add"),!isTenantSchema&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_15__.a,{className:"btn btn-secondary",onClick:function(){return onDelete()}},"Delete"))),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_table_6__WEBPACK_IMPORTED_MODULE_9__.a,{data:list_metric,columns:columns,className:"-highlight",defaultPageSize:50,rowsText:"metric templates",getTheadThProps:function(){return{className:"table-active font-weight-bold p-2"}}})))},styles={multiValue:function(e,t){return"internal"===t.data.value?_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({},e,{backgroundColor:"#d4edda"}):"deprecated"===t.data.value?_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({},e,{backgroundColor:"#f8d7da"}):e}},DropdownIndicator=function(e){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_select__WEBPACK_IMPORTED_MODULE_29__.z.DropdownIndicator,e,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_25__.a,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_26__.d}))},MetricForm=function(e){var t=e.values,a=void 0===t?void 0:t,r=e.errors,n=void 0===r?{name:void 0,probeversion:void 0,probeexecutable:void 0}:r,i=e.setFieldValue,c=void 0===i?void 0:i,s=e.handleChange,o=e.obj_label,l=void 0===o?"":o,u=e.obj,m=void 0===u?void 0:u,d=e.probe,p=void 0===d?void 0:d,_=e.popoverOpen,E=void 0===_?void 0:_,f=e.togglePopOver,g=void 0===f?void 0:f,h=e.onSelect,b=void 0===h?void 0:h,v=e.onTagChange,M=void 0===v?void 0:v,y=e.isHistory,O=void 0!==y&&y,D=e.isTenantSchema,w=void 0!==D&&D,k=e.addview,P=void 0!==k&&k,x=e.probeversions,A=void 0===x?[]:x,T=e.groups,C=void 0===T?[]:T,I=e.metrictemplatelist,N=void 0===I?[]:I,S=e.types,L=void 0===S?[]:S,j=e.alltags,U=void 0===j?[]:j,R=e.tags,W=void 0===R?[]:R,B=e.publicView,K=void 0!==B&&B;return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_18__.a,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,{className:"mb-3"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{md:6},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_19__.a,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_20__.a,{addonType:"prepend"},"Name"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_11__.a,{type:"text",name:"name",className:"form-control ".concat(n.name&&"border-danger"),id:"name",readOnly:O||w||K})),n.name&&Object(_UIElements__WEBPACK_IMPORTED_MODULE_8__.i)(n.name),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_21__.a,{color:"muted"},"Metric name.")),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{md:4,className:"mt-1"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_19__.a,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_20__.a,{addonType:"prepend"},"Type"),w||O||K?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_11__.a,{type:"text",name:"type",className:"form-control",id:"mtype",readOnly:!0}):react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_11__.a,{component:"select",name:"type",className:"form-control custom-select",id:"mtype",onChange:function(e){if(s(e),"Passive"===e.target.value){var t=a.flags.length;1===t&&""===a.flags[0].key?(c("flags[0].key","PASSIVE"),c("flags[0].value","1")):(c("flags[".concat(t,"].key"),"PASSIVE"),c("flags[".concat(t,"].value"),"1"))}else if("Active"===e.target.value){var r=void 0;a.flags.forEach((function(e,t){"PASSIVE"===e.key&&(r=t)})),1===a.flags.length?a.flags.splice(r,1,{key:"",value:""}):a.flags.splice(r,1)}}},L.map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("option",{key:t,value:e},e)})))),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_21__.a,{color:"muted"},"Metric is of given type."))),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{md:6},"Passive"===a.type?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_19__.a,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_20__.a,{addonType:"prepend"},"Probe"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("input",{type:"text",className:"form-control",disabled:!0,id:"passive-probeversion"})):O||w||K?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_19__.a,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_20__.a,{addonType:"prepend"},"Probe"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_11__.a,{type:"text",name:"probeversion",className:"form-control",id:"probeversion",disabled:!0})):react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.a,{setFieldValue:c,lists:A,icon:"probes",field:"probeversion",val:a.probeversion,onselect_handler:b,req:n.probeversion,label:"Probe"}),n.probeversion&&Object(_UIElements__WEBPACK_IMPORTED_MODULE_8__.i)(n.probeversion),"Active"===a.type&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_21__.a,{color:"muted"},"Probe name and version ",!O&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_25__.a,{id:"probe-popover",hidden:"Passive"==="".concat(m,".mtype")||P,icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_26__.p,style:{color:"#416090"}}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_22__.a,{placement:"bottom",isOpen:E,target:"probe-popover",toggle:g,trigger:"click"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_23__.a,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(ProbeVersionLink,{probeversion:m.probeversion,publicView:K})),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_24__.a,null,p.description))))),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{md:4,className:"mt-1"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_19__.a,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_20__.a,{addonType:"prepend"},"Package"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_11__.a,{type:"text",className:"form-control",value:"Active"===a.type?p.package:"",disabled:!0})),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_21__.a,{color:"muted"},"Package which contains probe."))),"metrictemplate"!==l||O||w||K?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,{className:"mb-4 mt-2"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{md:10},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_14__.a,null,"Tags:"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",null,0===W.length?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_16__.a,{color:"dark"},"none"):"metrictemplate"!==l||O?W.map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_16__.a,{className:"mr-1",key:t,color:"internal"===e?"success":"deprecated"===e?"danger":"secondary"},e)})):W.map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_16__.a,{className:"mr-1",key:t,color:"internal"===e.value?"success":"deprecated"===e.value?"danger":"secondary"},e.value)}))))):react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,{className:"mb-4 mt-2"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{md:10},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_14__.a,null,"Tags:"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_select_creatable__WEBPACK_IMPORTED_MODULE_28__.a,{closeMenuOnSelect:!1,isMulti:!0,onChange:M,options:U,components:{DropdownIndicator:DropdownIndicator},defaultValue:W,styles:styles}))),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,{className:"mb-4 mt-2"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{md:10},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_14__.a,{for:"description"},"Description:"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_11__.a,{id:"description",className:"form-control",component:"textarea",name:"description",disabled:w||O||K}))),"metric"===l&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,{className:"mb-4"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{md:3},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_19__.a,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_20__.a,{addonType:"prepend"},"Group"),O||K?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_11__.a,{type:"text",name:"group",className:"form-control",disabled:!0,id:"group"}):react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_11__.a,{component:"select",name:"group",className:"form-control custom-select",id:"group"},C.map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("option",{key:t,value:e},e)})))),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_21__.a,{color:"muted"},"Metric is member of selected group.")))),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_18__.a,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.v,{title:"Metric configuration"}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase",hidden:"Passive"===a.type},"probe executable"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{md:5},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_11__.a,{type:"text",name:"probeexecutable",id:"probeexecutable",className:"form-control ".concat(n.probeexecutable&&"border-danger"),hidden:"Passive"===a.type,readOnly:w||O||K}),n.probeexecutable&&Object(_UIElements__WEBPACK_IMPORTED_MODULE_8__.i)(n.probeexecutable))),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(InlineFields,{values:a,errors:n,field:"config",addnew:!w&&!O,readonly:"metrictemplate"===l&&w||O||K}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(InlineFields,{values:a,errors:n,field:"attributes",addnew:!w&&!O&&!K}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(InlineFields,{values:a,errors:n,field:"dependency",addnew:!w&&!O&&!K}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(InlineFields,{values:a,errors:n,field:"parameter",addnew:!w&&!O&&!K}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(InlineFields,{values:a,errors:n,field:"flags",addnew:!w&&!O&&!K}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},"parent"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{md:5},w||O||K?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_11__.a,{type:"text",name:"parent",id:"parent",className:"form-control",readOnly:!0}):react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.a,{setFieldValue:c,lists:N,field:"parent",val:a.parent,icon:"metrics",onselect_handler:b,req:n.parent}),n.parent&&Object(_UIElements__WEBPACK_IMPORTED_MODULE_8__.i)(n.parent))))))},CompareMetrics=function(e){var t=e.match.params.id1,a=e.match.params.id2,r=e.match.params.name,n=e.publicView,i=e.type,c=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(!1),s=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default()(c,2),o=s[0],l=s[1],u=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(void 0),m=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default()(u,2),d=m[0],p=m[1],_=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(void 0),E=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default()(_,2),f=E[0],g=E[1],h=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(void 0),b=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default()(h,2),v=b[0],M=b[1],y=new _DataManager__WEBPACK_IMPORTED_MODULE_6__.a;return Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){function e(){return(e=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(){var c;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c="/api/v2/internal/".concat(n?"public_":"").concat("metric"===i?"tenant":"","version/").concat(i,"/").concat(r),e.next=4,y.fetchData(c);case 4:e.sent.forEach((function(e){e.version==t&&p(e.fields),e.version==a&&g(e.fields)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),M(e.t0);case 11:l(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}l(!0),function(){e.apply(this,arguments)}()}),[]),o?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.m,null):v?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.h,{error:v}):!o&&d&&f?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Compare ".concat(r))),d.name!==f.name&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.e,{title:"name",item1:d.name,item2:f.name}),d.probeversion!==f.probeversion&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.e,{title:"probe version",item1:d.probeversion,item2:f.probeversion}),d.type!==f.type&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.e,{title:"type",item1:d.type,item2:f.type}),!arraysEqual(d.tags,f.tags)&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.e,{title:"tags",item1:d.tags,item2:f.tags}),"metric"===i&&d.group!==f.group&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.e,{title:"group",item1:d.group,item2:f.group}),d.description!==f.description&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.e,{title:"description",item1:d.description,item2:f.description}),d.probeexecutable!==f.probeexecutable&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.e,{title:"probe executable",item1:d.probeexecutable,item2:f.probeexecutable}),d.parent!==f.parent&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.e,{title:"parent",item1:d.parent,item2:f.parent}),!arraysEqual(d.config,f.config)&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(InlineDiffElement,{title:"config",item1:d.config,item2:f.config}),!arraysEqual(d.attribute,f.attribute)&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(InlineDiffElement,{title:"attribute",item1:d.attribute,item2:f.attribute}),"metrictemplate"===i&&!arraysEqual(d.dependency,f.dependency)&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(InlineDiffElement,{title:"dependency",item1:d.dependency,item2:f.dependency}),"metric"===i&&!arraysEqual(d.dependancy,f.dependancy)&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(InlineDiffElement,{title:"dependency",item1:d.dependancy,item2:f.dependancy}),!arraysEqual(d.parameter,f.parameter)&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(InlineDiffElement,{title:"parameter",item1:d.parameter,item2:f.parameter}),!arraysEqual(d.flags,f.flags)&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(InlineDiffElement,{title:"flags",item1:d.flags,item2:f.flags})):null},MetricChange=function(e){var t=e.match.params.name,a=e.location,r=e.history,n=e.publicView,i="metric_".concat(t,"_").concat(n?"publicview":"changeview"),c=new _DataManager__WEBPACK_IMPORTED_MODULE_6__.a,s=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(!1),o=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default()(s,2),l=o[0],u=o[1],m=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(!1),d=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default()(m,2),p=d[0],_=d[1],E=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(void 0),f=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default()(E,2),g=f[0],h=f[1],b=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(void 0),v=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default()(b,2),M=v[0],y=v[1],O=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(void 0),D=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default()(O,2),w=D[0],k=D[1],P=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(void 0),x=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default()(P,2),A=x[0],T=x[1],C=Object(react_query__WEBPACK_IMPORTED_MODULE_30__.b)("".concat(i,"_metric"),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(){var a;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.fetchData("/api/v2/internal/".concat(n?"public_":"","metric/").concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))),I=C.data,N=C.error,S=C.isLoading,L=Object(react_query__WEBPACK_IMPORTED_MODULE_30__.b)("".concat(i,"_session"),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(){var t;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.isActiveSession();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),j=L.data,U=L.error,R=L.isLoading,W=Object(react_query__WEBPACK_IMPORTED_MODULE_30__.b)("".concat(i,"_probe"),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(){var t,a;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},a=[],!I.probeversion){e.next=6;break}return e.next=5,c.fetchData("/api/v2/internal/".concat(n?"public_":"","version/probe/").concat(I.probeversion.split(" ")[0]));case 5:a=e.sent;case 6:return a.forEach((function(e){e.object_repr===I.probeversion&&(t=e.fields)})),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)}))),{enabled:I}),B=W.data,K=W.error,z=W.isLoading;function V(){u(!l)}function Y(){_(!p)}function Q(){return(Q=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(){var t,a,n;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.changeObject("/api/v2/internal/metric/",{name:A.name,mtype:A.type,group:A.group,description:A.description,parent:A.parent,probeversion:A.probeversion,probeexecutable:A.probeexecutable,config:A.config,attribute:A.attributes,dependancy:A.dependency,flags:A.flags,files:A.files,parameter:A.parameter,fileparameter:A.file_parameters});case 2:if(!(t=e.sent).ok){e.next=7;break}Object(_UIElements__WEBPACK_IMPORTED_MODULE_8__.t)({msg:"Metric successfully changed",title:"Changed",callback:function(){return r.push("/ui/metrics")}}),e.next=19;break;case 7:return a="",e.prev=8,e.next=11,t.json();case 11:n=e.sent,a=n.detail,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),a="Error changing metric";case 18:Object(_UIElements__WEBPACK_IMPORTED_MODULE_8__.r)({title:"Error: ".concat(t.status," ").concat(t.statusText),msg:a});case 19:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}function F(){return(F=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(){var a,n,i;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.deleteObject("/api/v2/internal/metric/".concat(t));case 2:if(!(a=e.sent).ok){e.next=7;break}Object(_UIElements__WEBPACK_IMPORTED_MODULE_8__.t)({msg:"Metric successfully deleted",title:"Deleted",callback:function(){return r.push("/ui/metrics")}}),e.next=19;break;case 7:return n="",e.prev=8,e.next=11,a.json();case 11:i=e.sent,n=i.detail,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),n="Error deleting metric";case 18:Object(_UIElements__WEBPACK_IMPORTED_MODULE_8__.r)({title:"Error: ".concat(a.status," ").concat(a.statusText),msg:n});case 19:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}if(S||R||z)return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.m,null);if(N)return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.h,{error:N});if(U)return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.h,{error:U});if(K)return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.h,{error:K});var q=[],H=!1;return j.active&&(q=j.userdetails.groups.metrics,H=j.userdetails.is_superuser||j.userdetails.groups.metrics.indexOf(I.group)>=0),q.includes(I.group)||q.push(I.group),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.n,{isOpen:p,toggle:Y,title:g,msg:M,onYes:"submit"===w?function(){return Q.apply(this,arguments)}:"delete"===w?function(){return F.apply(this,arguments)}:void 0}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.b,{resourcename:n?"Metric details":"metric",location:a,history:!n,publicview:n,submitperm:H},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_11__.d,{enableReinitialize:!0,initialValues:{name:I.name,probeversion:I.probeversion,description:I.description,type:I.mtype,group:I.group,probeexecutable:I.probeexecutable,parent:I.parent,config:I.config,attributes:I.attribute,dependency:I.dependancy,parameter:I.parameter,flags:I.flags,files:I.files,file_attributes:I.files,file_parameters:I.fileparameter},onSubmit:function(e,t){return function(e,t){y("Are you sure you want to change metric?"),h("Change metric"),T(e),k("submit"),Y()}(e)},render:function(e){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_11__.c,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(MetricForm,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},e,{obj_label:"metric",obj:I,probe:B,tags:I.tags,isTenantSchema:!0,popoverOpen:l,togglePopOver:V,groups:q,publicView:n})),H&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_15__.a,{color:"danger",onClick:function(){y("Are you sure you want to delete metric?"),h("Delete metric"),k("delete"),Y()}},"Delete"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_15__.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})))},MetricVersionDetails=function(e){var t=e.match.params.name,a=e.match.params.version,r=new _DataManager__WEBPACK_IMPORTED_MODULE_6__.a,n=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(!1),i=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default()(n,2),c=i[0],s=i[1],o=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(null),l=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default()(o,2),u=l[0],m=l[1],d=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)({package:""}),p=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default()(d,2),_=p[0],E=p[1],f=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(null),g=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4___default()(f,2),h=g[0],b=g[1];return Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){function e(){return(e=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.fetchData("/api/v2/internal/tenantversion/metric/".concat(t));case 3:e.sent.forEach(function(){var e=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(t){var n;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.version!=a){e.next=8;break}return e.next=3,r.fetchData("/api/v2/internal/version/probe/".concat(t.fields.probeversion.split(" ")[0]));case 3:e.sent.forEach((function(e){e.object_repr===t.fields.probeversion&&E(e.fields)})),(n=t.fields).date_created=t.date_created,m(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),b(e.t0);case 10:s(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}s(!0),function(){e.apply(this,arguments)}()}),[]),c?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.m,null):h?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.h,{error:h}):!c&&u?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_8__.b,{resourcename:"".concat(t," (").concat(u.date_created,")"),infoview:!0},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_11__.d,{initialValues:{name:t,probeversion:u.probeversion,type:u.mtype,group:u.group,description:u.description,probeexecutable:u.probeexecutable,parent:u.parent,config:u.config,attributes:u.attribute,dependency:u.dependancy,parameter:u.parameter,flags:u.flags,files:u.files,fileparameter:u.fileparameter},render:function(e){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_11__.c,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(MetricForm,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},e,{obj_label:"metric",isHistory:!0,probe:_,tags:u.tags})))}})):null}},ZnWx:function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,".metricprofiles-autocomplete-menu {\n  display: block;\n  width: 40%;\n  color: #495057;\n  position: absolute;\n  background-color: white;\n  z-index: 1000;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n  overflow-y: auto;\n  padding: 0;\n}\n\n.metricprofiles-autocomplete-entries {\n  list-style-type: none;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #495057;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n.metricprofiles-autocomplete-list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n}\n\n.metricprofiles-autocomplete-entries-highlighted {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  background-color: #4A90D9;\n  color: white;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n.ReactTable .rt-thead.-header {\n  box-shadow: none;\n}\n\n.ReactTable .-pagination {\n  box-shadow: none;\n}\n\n.ReactTable .-pagination select {\n  display: inline-block;\n  transition: background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;\n  width: 100%;\n  height: calc(1.5em + .75rem + 2px);\n  padding: .375rem 1.75rem .375rem .75rem;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #495057;\n  vertical-align: middle;\n  background: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e\") no-repeat right .75rem center/8px 10px;\n  background-color: rgba(0, 0, 0, 0);\n  background-color: #fff;\n  border: 1px solid #ced4da;\n  border-radius: .25rem;\n  border-top-left-radius: 0.25rem;\n  border-bottom-left-radius: 0.25rem;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n}\n",""])},"a/x8":function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return p}));var r=a("o0o1"),n=a.n(r),i=a("yXPU"),c=a.n(i),s=a("lwsE"),o=a.n(s),l=a("W8MJ"),u=a.n(l),m=a("9ONQ"),d=function(){function e(){o()(this,e)}var t,a,r,i,s,l,d;return u()(e,[{key:"isActiveSession",value:(d=c()(n.a.mark((function e(){var t,a,r=arguments;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(r.length>0&&void 0!==r[0])||r[0],e.prev=1,e.next=4,fetch("/api/v2/internal/sessionactive/".concat(t));case 4:if(!(a=e.sent).ok){e.next=9;break}return e.abrupt("return",a.json());case 9:return e.abrupt("return",!1);case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[1,12]])}))),function(){return d.apply(this,arguments)})},{key:"isTenantSchema",value:(l=c()(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v2/internal/istenantschema");case 3:if(!(t=e.sent).ok){e.next=11;break}return e.next=7,t.json();case 7:return a=e.sent,e.abrupt("return",a.isTenantSchema);case 11:return e.abrupt("return",null);case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),function(){return l.apply(this,arguments)})},{key:"fetchPublicToken",value:(s=c()(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v2/internal/public_apikey");case 3:if(!(t=e.sent).ok){e.next=11;break}return e.next=7,t.json();case 7:return a=e.sent,e.abrupt("return",a.token);case 11:return e.abrupt("return",null);case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),function(){return s.apply(this,arguments)})},{key:"fetchConfigOptions",value:(i=c()(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v2/internal/config_options");case 2:if(!(t=e.sent).ok){e.next=8;break}return e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"fetchData",value:(r=c()(n.a.mark((function e(t){var a,r,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",e.prev=1,e.next=4,fetch(t);case 4:if(!(r=e.sent).ok){e.next=9;break}return e.abrupt("return",r.json());case 9:return e.prev=9,e.next=12,r.json();case 12:i=e.sent,a="".concat(r.status," ").concat(r.statusText,"; in fetch ").concat(t,"; ").concat(i.detail),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),a="".concat(r.status," ").concat(r.statusText,"; in fetch ").concat(t);case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(1),a="".concat(e.t1,"; in fetch ").concat(t);case 24:if(!a){e.next=27;break}throw Error(a);case 27:case"end":return e.stop()}}),e,null,[[1,21],[9,16]])}))),function(e){return r.apply(this,arguments)})},{key:"fetchListOfNames",value:(a=c()(n.a.mark((function e(t){var a,r,i,c,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",e.prev=1,e.next=4,fetch(t);case 4:if(!(r=e.sent).ok){e.next=14;break}return e.next=8,r.json();case 8:return i=e.sent,c=[],i.forEach((function(e){return c.push(e.name)})),e.abrupt("return",c);case 14:return e.prev=14,e.next=17,r.json();case 17:s=e.sent,a="".concat(r.status," ").concat(r.statusText,"; in fetch ").concat(t,"; ").concat(s.detail),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(14),a="".concat(r.status," ").concat(r.statusText,"; in fetch ").concat(t);case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(1),a="".concat(e.t1,"; in fetch ").concat(t);case 29:if(!a){e.next=32;break}throw Error(a);case 32:case"end":return e.stop()}}),e,null,[[1,26],[14,21]])}))),function(e){return a.apply(this,arguments)})},{key:"fetchResult",value:(t=c()(n.a.mark((function e(t){var a,r,i,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",e.prev=1,e.next=4,fetch(t);case 4:if(!(r=e.sent).ok){e.next=12;break}return e.next=8,r.json();case 8:return i=e.sent,e.abrupt("return",i.result);case 12:return e.prev=12,e.next=15,r.json();case 15:c=e.sent,a="".concat(r.status," ").concat(r.statusText,"; in fetch ").concat(t,"; ").concat(c.detail),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(12),a="".concat(r.status," ").concat(r.statusText,"; in fetch ").concat(t);case 22:case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(1),a="".concat(e.t1,"; in fetch ").concat(t);case 28:if(!a){e.next=31;break}throw Error(a);case 31:case"end":return e.stop()}}),e,null,[[1,25],[12,19]])}))),function(e){return t.apply(this,arguments)})},{key:"changeObject",value:function(e,t){return this.send(e,"PUT",t)}},{key:"addObject",value:function(e,t){return this.send(e,"POST",t)}},{key:"deleteObject",value:function(e){return this.send(e,"DELETE")}},{key:"importMetrics",value:function(e){return this.send("/api/v2/internal/importmetrics/","POST",e)}},{key:"bulkDeleteMetrics",value:function(e){return this.send("/api/v2/internal/deletetemplates/","POST",e)}},{key:"send",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=new m.a;return fetch(e,{method:t,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":r.get("csrftoken"),Referer:"same-origin"},body:a&&JSON.stringify(a)})}}]),e}(),p=function(){function e(t){var a=t.token,r=void 0===a?void 0:a,n=t.metricProfiles,i=void 0===n?void 0:n,c=t.aggregationProfiles,s=void 0===c?void 0:c,l=t.thresholdsProfiles,u=void 0===l?void 0:l,m=t.operationsProfiles,d=void 0===m?void 0:m,p=t.reportsConfigurations,_=void 0===p?void 0:p;o()(this,e),this.token=r,this.metricprofiles=i,this.aggregationprofiles=s,this.thresholdsprofiles=u,this.operationsprofiles=d,this.reports=_}var t,a,r,i,s,l,m,d;return u()(e,[{key:"fetchProfiles",value:(d=c()(n.a.mark((function e(t){var a,r,i,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",e.prev=1,e.next=4,fetch(t,{headers:{Accept:"application/json","x-api-key":this.token}});case 4:if(!(r=e.sent).ok){e.next=12;break}return e.next=8,r.json();case 8:return i=e.sent,e.abrupt("return",i.data);case 12:return e.prev=12,e.next=15,r.json();case 15:c=e.sent,a="".concat(r.status," ").concat(r.statusText,"; in fetch ").concat(t,"; ").concat(c.status.details),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(12),a="".concat(r.status," ").concat(r.statusText,"; in fetch ").concat(t);case 22:case 23:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(1),a="".concat(e.t1,"; in fetch ").concat(t);case 29:if(!a){e.next=32;break}throw Error(a);case 32:case"end":return e.stop()}}),e,this,[[1,26],[12,19]])}))),function(e){return d.apply(this,arguments)})},{key:"fetchMetricProfiles",value:(m=c()(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchProfiles(this.metricprofiles));case 1:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"fetchAggregationProfiles",value:(l=c()(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchProfiles(this.aggregationprofiles));case 1:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"fetchOperationsProfiles",value:(s=c()(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchProfiles(this.operationsprofiles));case 1:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"fetchReports",value:(i=c()(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchProfiles(this.reports));case 1:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"fetchMetricProfile",value:function(e){return this.fetchProfile("".concat(this.metricprofiles,"/").concat(e))}},{key:"fetchOperationProfile",value:(r=c()(n.a.mark((function e(t){var a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchOperationsProfiles();case 2:return a=e.sent,r={},a.forEach((function(e){e.name===t&&(r=e)})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"fetchReport",value:(a=c()(n.a.mark((function e(t){var a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchReports();case 2:return a=e.sent,r={},a.forEach((function(e){e.info.name===t&&(r=e)})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"fetchAggregationProfile",value:function(e){return this.fetchProfile("".concat(this.aggregationprofiles,"/").concat(e))}},{key:"fetchThresholdsProfile",value:function(e){return this.fetchProfile("".concat(this.thresholdsprofiles,"/").concat(e))}},{key:"changeAggregation",value:function(e){return this.changeProfile(this.aggregationprofiles,e)}},{key:"changeMetricProfile",value:function(e){return this.changeProfile(this.metricprofiles,e)}},{key:"changeThresholdsProfile",value:function(e){return this.changeProfile(this.thresholdsprofiles,e)}},{key:"addMetricProfile",value:function(e){return this.addProfile(this.metricprofiles,e)}},{key:"addAggregation",value:function(e){return this.addProfile(this.aggregationprofiles,e)}},{key:"addThresholdsProfile",value:function(e){return this.addProfile(this.thresholdsprofiles,e)}},{key:"deleteMetricProfile",value:function(e){return this.deleteProfile("".concat(this.metricprofiles,"/").concat(e))}},{key:"deleteAggregation",value:function(e){return this.deleteProfile("".concat(this.aggregationprofiles,"/").concat(e))}},{key:"deleteThresholdsProfile",value:function(e){return this.deleteProfile("".concat(this.thresholdsprofiles,"/").concat(e))}},{key:"fetchProfile",value:(t=c()(n.a.mark((function e(t){var a,r,i,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",e.prev=1,e.next=4,fetch(t,{headers:{Accept:"application/json","x-api-key":this.token}});case 4:if(!(r=e.sent).ok){e.next=12;break}return e.next=8,r.json();case 8:return i=e.sent,e.abrupt("return",i.data[0]);case 12:return e.prev=12,e.next=15,r.json();case 15:c=e.sent,a=c.status.details?"".concat(r.status," ").concat(r.statusText,"; in fetch ").concat(t,"; ").concat(c.status.details):c.errors[0].details?"".concat(r.status," ").concat(r.statusText,"; in fetch ").concat(t,"; ").concat(c.errors[0].details):"".concat(r.status," ").concat(r.statusText,"; in fetch ").concat(t),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(12),a="".concat(r.status," ").concat(r.statusText,"; in fetch ").concat(t);case 22:case 23:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(1),a="".concat(e.t1,"; in fetch ").concat(t);case 29:if(!a){e.next=32;break}throw Error(a);case 32:case"end":return e.stop()}}),e,this,[[1,26],[12,19]])}))),function(e){return t.apply(this,arguments)})},{key:"changeProfile",value:function(e,t){return this.send("".concat(e,"/").concat(t.id),"PUT",t)}},{key:"addProfile",value:function(e,t){return this.send(e,"POST",t)}},{key:"deleteProfile",value:function(e){return this.send(e,"DELETE")}},{key:"send",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return fetch(e,{method:t,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","x-api-key":this.token},body:a&&JSON.stringify(a)})}}]),e}()},acgP:function(e,t,a){var r=a("ZnWx");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},dLgX:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return r}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function r(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}}).call(this,a("8oxB"))},dtk8:function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,".bodyreact {\n  background-color: #ecf0f5;\n}\n.login-first-row {\n  margin-top: 10%;\n}\n#argo-loginheader {\n  background-color:#416090;\n}\n#argo-loginfooter {\n  background-color:#ffffff;\n}\n",""])},eVqg:function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,".group-operation {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n       appearance: none;\n  text-align: center;\n}\n\n.group-operation > select {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n       appearance: none;\n  text-align: center;\n}\n\n.aggregation-autocomplete-menu {\n  display: block;\n  width: 100%;\n  color: #495057;\n  position: absolute;\n  background-color: white;\n  z-index: 1000;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n  overflow-y: auto;\n}\n\n.aggregation-autocomplete-entries {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #495057;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n.aggregation-autocomplete-entries-highlighted {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  background-color: #4A90D9;\n  color: white;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n.aggregation-autocomplete-list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n}\n",""])},f1jT:function(e,t,a){"use strict";a.r(t);var r=a("q1tI"),n=a.n(r),i=a("i8i4"),c=a.n(i),s=a("o0o1"),o=a.n(s),l=a("yXPU"),u=a.n(l),m=a("lwsE"),d=a.n(m),p=a("W8MJ"),_=a.n(p),E=a("PJYZ"),f=a.n(E),g=a("7W2i"),h=a.n(g),b=a("a1gu"),v=a.n(b),M=a("Nsbk"),y=a.n(M),O=a("pVnL"),D=a.n(O),w=a("QILm"),k=a.n(w),P=a("1Yj4"),x=a("ok1R"),A=a("rhny"),T=a("BLzl"),C=a("afej"),I=a("/kxI"),N=a("jrRI"),S=a("3OM0"),L=a("aLZG"),j=a("sOKU"),U=a("cZcL"),R=a("KYPV"),W=a("5tO7"),B=a.n(W),K=(a("ML16"),a("29KK")),z=a("a/x8");var V=function(e){h()(c,e);var t,a,r,i=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=y()(e);if(t()){var n=y()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return v()(this,a)}}(c);function c(e){var t;return d()(this,c),(t=i.call(this,e))._isMounted=!1,t.state={samlIdpString:null,loginFailedVisible:!1,isTenantSchema:null,tenantName:null,loading:!1},t.backend=new z.a,t.dismissLoginAlert=t.dismissLoginAlert.bind(f()(t)),t.AppOnLogin=e.onLogin,t}return _()(c,[{key:"fetchSamlButtonString",value:(r=u()(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v2/internal/config_options");case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),alert("Something went wrong: ".concat(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),function(){return r.apply(this,arguments)})},{key:"componentDidMount",value:(a=u()(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._isMounted=!0,this.setState({loading:!0}),e.next=4,this.backend.isTenantSchema();case 4:if(!(t=e.sent)){e.next=12;break}return e.next=8,this.fetchSamlButtonString();case 8:a=e.sent,this._isMounted&&this.setState({isTenantSchema:t,samlIdpString:a.result.saml_login_string,tenantName:a.result.tenant_name,loading:!1}),e.next=13;break;case 12:this._isMounted&&this.setState({isTenantSchema:t,loading:!1});case 13:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"doUserPassLogin",value:(t=u()(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/rest-auth/login/",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json",Referer:"same-origin"},body:JSON.stringify({username:t,password:a})});case 2:return e.sent,e.abrupt("return",this.backend.isActiveSession(this.state.isTenantSchema));case 4:case"end":return e.stop()}}),e,this)}))),function(e,a){return t.apply(this,arguments)})},{key:"dismissLoginAlert",value:function(){this._isMounted&&this.setState({loginFailedVisible:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.isTenantSchema,r=t.loading;return null===a||r?null!==a||r?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Something went wrong"),n.a.createElement("p",null,"Cannot obtain schema")):n.a.createElement(P.a,null,n.a.createElement(x.a,{className:"login-first-row"},n.a.createElement(A.a,{sm:{size:4,offset:4}},n.a.createElement(T.a,null,n.a.createElement(C.a,{id:"argo-loginheader",className:"d-sm-inline-flex align-items-center justify-content-around"},n.a.createElement("img",{src:B.a,id:"argologo",alt:"ARGO logo"}),n.a.createElement("h4",{className:"text-light"},n.a.createElement("strong",null,"ARGO")," POEM")),n.a.createElement(I.a,null,n.a.createElement(R.d,{initialValues:{username:"",password:""},onSubmit:function(){var t=u()(o.a.mark((function t(a){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.doUserPassLogin(a.username,a.password);case 2:(r=t.sent).active?e.AppOnLogin(r.userdetails):e.setState({loginFailedVisible:!0});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},n.a.createElement(R.c,null,n.a.createElement(N.a,null,n.a.createElement(S.a,{for:"username"},"Username: "),n.a.createElement(R.a,{name:"username",className:"form-control"})),n.a.createElement(N.a,null,n.a.createElement(S.a,{for:"password"},"Password: "),n.a.createElement(R.a,{name:"password",className:"form-control",type:"password"})),n.a.createElement(N.a,null,n.a.createElement(L.a,{color:"danger",isOpen:this.state.loginFailedVisible,toggle:this.dismissLoginAlert,fade:!1},n.a.createElement("p",{className:"text-center"},"Login failed, invalid username and password provided"))),n.a.createElement("div",{className:"pt-3"}),n.a.createElement(N.a,null,n.a.createElement(j.a,{color:"success",type:"submit",block:!0},"Login using username and password"),this.state.isTenantSchema&&n.a.createElement("a",{className:"btn btn-success btn-block",role:"button",href:"/saml2/login"},this.state.samlIdpString))))),n.a.createElement(U.a,{id:"argo-loginfooter"},n.a.createElement(K.j,{loginPage:!0,tenantName:this.state.tenantName}))))))}}]),c}(r.Component),Y=a("MVZn"),Q=a.n(Y),F=a("lSNA"),q=a.n(F),H=a("RIqP"),G=a.n(H),Z=a("J4zp"),J=a.n(Z),X=a("55Ip"),$=a("1h/R"),ee=a.n($),te=a("IP2g"),ae=a("wHSu"),re=a("XNy0"),ne=a.n(re),ie=a("Qv+K");a("acgP");function ce(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=y()(e);if(t()){var n=y()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return v()(this,a)}}var se=pe(!0),oe=pe();function le(e,t){return-1!==e.toLowerCase().indexOf(t.toLowerCase())}var ue=function(e){var t=e.suggestions,a=e.service,i=e.index,c=e.onselect,s=e.icon,o=e.form,l=e.tupleType,u=e.id,m=Object(r.useState)(t),d=J()(m,2),p=d[0],_=d[1],E=function(e){o.setFieldValue("view_services.".concat(i,".").concat(l),e),o.setFieldValue("view_services.".concat(i,".").concat(l,"Changed"),!0),c(o.values.view_services[i],l,e)};return n.a.createElement(ee.a,{inputProps:{className:'"form-control custom-select " '.concat(a.isNew?"border border-success":a[l+"Changed"]?"border border-danger":""),placeholder:"",onChange:function(e,t){var a=t.newValue;return E(a)},value:a[l]},getSuggestionValue:function(e){return e},suggestions:p,renderSuggestion:function(e,a){a.query;var r=a.isHighlighted;return n.a.createElement("div",{key:t.indexOf(e),className:"metricprofiles-autocomplete-entries ".concat(r?"metricprofiles-autocomplete-entries-highlighted":"")},e?n.a.createElement(K.l,{i:s}):""," ",e)},onSuggestionsFetchRequested:function(e){var a=e.value,r=t.filter((function(e){return e.toLowerCase().includes(a.trim().toLowerCase())}));_(r)},onSuggestionsClearRequested:function(){_([])},onSuggestionSelected:function(e,t){var a=t.suggestion;return E(a)},shouldRenderSuggestions:function(){return!0},theme:{containerOpen:"metricprofiles-autocomplete-menu",suggestionsList:"metricprofiles-autocomplete-list"},id:u})},me=function(e){var t=e.view_services,a=e.name,r=e.groupname,n=e.metrics_all,i=e.services_all,c=new Object,s=!1,o=!1;c.view_services=new Array(t.length);var l=!0,u=!1,m=void 0;try{for(var d,p=t[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var _=d.value,E=!0,f=!1,g=void 0;try{for(var h,b=t[Symbol.iterator]();!(E=(h=b.next()).done);E=!0){var v=h.value;_.index!==v.index&&_.service===v.service&&_.metric===v.metric&&(_.isNew||_.serviceChanged||_.metricChanged)&&(c.view_services[_.index]=new Object,c.view_services[_.index].dup="Duplicated",s=!0)}}catch(e){f=!0,g=e}finally{try{E||null==b.return||b.return()}finally{if(f)throw g}}}}catch(e){u=!0,m=e}finally{try{l||null==p.return||p.return()}finally{if(u)throw m}}a||(c.name="Required",o=!0),r||(c.groupname="Required",o=!0);var M=!0,y=!1,O=void 0;try{for(var D,w=t[Symbol.iterator]();!(M=(D=w.next()).done);M=!0){_=D.value;var k=void 0;c.view_services[_.index]||(c.view_services[_.index]=new Object),k=c.view_services[_.index],!_.service&&_.isNew?(k.service="Required",o=!0):_.service&&(_.isNew||_.serviceChanged)&&-1==i.indexOf(_.service)&&(k.service="Must be one of predefined service types",o=!0),!_.metric&&_.isNew?(k.metric="Required",o=!0):_.metric&&(_.isNew||_.metricChanged)&&-1==n.indexOf(_.metric)&&(k.metric="Must be one of predefined metrics",o=!0)}}catch(e){y=!0,O=e}finally{try{M||null==w.return||w.return()}finally{if(y)throw O}}return s||o?c:new Object},de=function(e){var t=e.serviceflavours_all,a=e.metrics_all,r=e.search_handler,i=e.remove_handler,c=e.insert_handler,s=e.onselect_handler,o=e.form,l=e.remove,u=e.insert;return n.a.createElement("table",{className:"table table-bordered table-sm table-hover"},n.a.createElement("thead",{className:"table-active"},n.a.createElement("tr",null,n.a.createElement("th",{className:"align-middle text-center",style:{width:"5%"}},"#"),n.a.createElement("th",{style:{width:"42.5%"}},n.a.createElement(K.l,{i:"serviceflavour"})," Service flavour"),n.a.createElement("th",{style:{width:"42.5%"}},n.a.createElement(K.l,{i:"metrics"})," Metric"),n.a.createElement("th",{style:{width:"10%"}},"Actions"))),n.a.createElement("tbody",null,n.a.createElement("tr",{style:{background:"#ECECEC"}},n.a.createElement("td",{className:"align-middle text-center"},n.a.createElement(te.a,{icon:ae.v})),n.a.createElement("td",null,n.a.createElement(R.a,{type:"text",name:"search_serviceflavour",required:!1,className:"form-control",id:"searchServiceFlavour",onChange:function(e){return r(e,"view_services","searchServiceFlavour","service","searchMetric","metric")},component:K.z})),n.a.createElement("td",null,n.a.createElement(R.a,{type:"text",name:"search_metric",required:!1,className:"form-control",id:"searchMetric",onChange:function(e){return r(e,"view_services","searchMetric","metric","searchServiceFlavour","service")},component:K.z})),n.a.createElement("td",null,"")),o.values.view_services.map((function(e,r){return n.a.createElement(n.a.Fragment,{key:r},n.a.createElement("tr",{key:r},n.a.createElement("td",{className:e.isNew?"bg-light align-middle text-center":"align-middle text-center"},r+1),n.a.createElement("td",{className:e.isNew?"bg-light":""},n.a.createElement(ue,{suggestions:t,service:e,index:r,icon:"serviceflavour",onselect:s,form:o,tupleType:"service",id:"autosuggest-metric-".concat(r)}),o.errors&&o.errors.view_services&&o.errors.view_services[r]&&o.errors.view_services[r].service?Object(K.i)(o.errors.view_services[r].service):null),n.a.createElement("td",{className:e.isNew?"bg-light":""},n.a.createElement(ue,{suggestions:a,service:e,index:r,icon:"metrics",onselect:s,form:o,tupleType:"metric",id:"autosuggest-metric-".concat(r)}),o.errors&&o.errors.view_services&&o.errors.view_services[r]&&o.errors.view_services[r].metric?Object(K.i)(o.errors.view_services[r].metric):null),n.a.createElement("td",{className:e.isNew?"bg-light align-middle pl-3":"align-middle pl-3"},n.a.createElement(j.a,{size:"sm",color:"light",type:"button",onClick:function(){if(i(o.values.view_services[r],o.values.groupname,o.values.name,o.values.description),r>0&&o.values.view_services.length>1)return l(r)}},n.a.createElement(te.a,{icon:ae.B})),n.a.createElement(j.a,{size:"sm",color:"light",type:"button",onClick:function(){var e={index:r+1,service:"",metric:"",isNew:!0};return c(e,r+1,o.values.groupname,o.values.name,o.values.description),u(r+1,e)}},n.a.createElement(te.a,{icon:ae.u})))),o.errors&&o.errors.view_services&&o.errors.view_services[r]&&o.errors.view_services[r].dup?n.a.createElement("tr",{key:r+o.values.view_services.length},n.a.createElement("td",{className:"bg-light"}),n.a.createElement("td",{colSpan:"2",className:"bg-light text-center"},Object(K.i)(o.errors.view_services[r].dup)),n.a.createElement("td",{className:"bg-light"})):null)}))))};function pe(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){h()(s,t);var a,r,i,c=ce(s);function s(t){var a;return d()(this,s),(a=c.call(this,t)).tenant_name=t.tenant_name,a.token=t.webapitoken,a.webapimetric=t.webapimetric,a.profile_name=t.match.params.name,a.addview=t.addview,a.history=t.history,a.location=t.location,a.cloneview=e,a.publicView=t.publicView,a.state={metric_profile:{},metric_profile_name:void 0,metric_profile_description:void 0,groupname:void 0,list_user_groups:void 0,view_services:void 0,list_services:void 0,write_perm:!1,serviceflavours_all:void 0,metrics_all:void 0,areYouSureModal:!1,loading:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0,searchServiceFlavour:"",searchMetric:"",error:null},a.backend=new z.a,a.webapi=new z.b({token:t.webapitoken,metricProfiles:t.webapimetric}),a.toggleAreYouSure=a.toggleAreYouSure.bind(f()(a)),a.toggleAreYouSureSetModal=a.toggleAreYouSureSetModal.bind(f()(a)),a.handleSearch=a.handleSearch.bind(f()(a)),a.onRemove=a.onRemove.bind(f()(a)),a.onInsert=a.onInsert.bind(f()(a)),a.onSelect=a.onSelect.bind(f()(a)),a}return _()(s,[{key:"flattenServices",value:function(e){var t=[],a=0;return e.forEach((function(e){var r=e.service;e.metrics.forEach((function(e){t.push({index:a,service:r,metric:e}),a+=1}))})),t}},{key:"componentDidMount",value:(i=u()(o.a.mark((function e(){var t,a,r,n,i,c,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),e.prev=1,!this.publicView){e.next=12;break}return e.next=5,this.backend.fetchData("/api/v2/internal/public_metricprofiles/".concat(this.profile_name));case 5:return t=e.sent,e.next=8,this.webapi.fetchMetricProfile(t.apiid);case 8:a=e.sent,this.setState({metric_profile:a,metric_profile_name:a.name,metric_profile_description:a.description,groupname:t.groupname,list_user_groups:[],write_perm:!1,view_services:this.flattenServices(a.services).sort(this.sortServices),serviceflavours_all:[],metrics_all:[],list_services:this.flattenServices(a.services).sort(this.sortServices),loading:!1}),e.next=34;break;case 12:return e.next=14,this.backend.isActiveSession();case 14:if(!(r=e.sent).active){e.next=34;break}return e.next=18,this.backend.fetchListOfNames("/api/v2/internal/serviceflavoursall");case 18:return n=e.sent,e.next=21,this.backend.fetchListOfNames("/api/v2/internal/metricsall");case 21:if(i=e.sent,this.addview&&!this.cloneview){e.next=32;break}return e.next=25,this.backend.fetchData("/api/v2/internal/metricprofiles/".concat(this.profile_name));case 25:return c=e.sent,e.next=28,this.webapi.fetchMetricProfile(c.apiid);case 28:s=e.sent,this.setState({metric_profile:s,metric_profile_name:s.name,metric_profile_description:s.description,groupname:c.groupname,list_user_groups:r.userdetails.groups.metricprofiles,write_perm:r.userdetails.is_superuser||r.userdetails.groups.metricprofiles.indexOf(c.groupname)>=0,view_services:this.ensureAlignedIndexes(this.flattenServices(s.services).sort(this.sortServices)),serviceflavours_all:n,metrics_all:i,list_services:this.ensureAlignedIndexes(this.flattenServices(s.services).sort(this.sortServices)),loading:!1}),e.next=34;break;case 32:l={id:"",name:"",services:[]},this.setState({metric_profile:l,metric_profile_name:"",metric_profile_description:"",groupname:"",list_user_groups:r.userdetails.groups.metricprofiles,write_perm:r.userdetails.is_superuser||r.userdetails.groups.metricprofiles.length>0,view_services:[{service:"",metric:"",index:0,isNew:!0}],serviceflavours_all:n,metrics_all:i,list_services:[{service:"",metric:"",index:0,isNew:!0}],loading:!1});case 34:e.next=39;break;case 36:e.prev=36,e.t0=e.catch(1),this.setState({error:e.t0,loading:!1});case 39:case"end":return e.stop()}}),e,this,[[1,36]])}))),function(){return i.apply(this,arguments)})},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"sortServices",value:function(e,t){if(e.service.toLowerCase()<t.service.toLowerCase())return-1;if(e.service.toLowerCase()>t.service.toLowerCase())return 1;if(e.service.toLowerCase()===t.service.toLowerCase()){if(e.metric.toLowerCase()<t.metric.toLowerCase())return-1;if(e.metric.toLowerCase()>t.metric.toLowerCase())return 1;if(e.metric.toLowerCase()===t.metric.toLowerCase())return 0}}},{key:"ensureAlignedIndexes",value:function(e){var t=0;return e.forEach((function(e){e.index=t,t+=1})),e}},{key:"handleSearch",value:function(e,t,a,r,n,i){var c,s=this,o=this.state[t.replace("view_","list_")],l=G()(this.state.list_services);this.state[a].length>e.target.value.length?(o=this.state[t.replace("view_","list_")].filter((function(t){return le(t[r],e.target.value)})),l.sort(this.sortServices),l=this.ensureAlignedIndexes(l)):""!==e.target.value&&(o=this.state[t].filter((function(t){return le(t[r],e.target.value)}))),this.state[n].length&&(o=o.filter((function(e){return le(e[i],s.state[n])}))),o.sort(this.sortServices),this.setState((c={},q()(c,"".concat(a),e.target.value),q()(c,"".concat(t),o),q()(c,"list_services",l),c))}},{key:"onInsert",value:function(e,t,a,r,n){if(""===this.state.searchServiceFlavour&&""===this.state.searchMetric){var i=e.service,c=e.metric,s=G()(this.state.list_services),o=G()(s).slice(0,t),l=G()(s).slice(t);o.push({index:t,service:i,metric:c,isNew:!0});var u=(o=this.ensureAlignedIndexes(o)).length;l.forEach((function(e){e.index=u,u+=1})),s=[].concat(G()(o),G()(l)),this.setState({list_services:s,view_services:s,groupname:a,metric_profile_name:r,metric_profile_description:n})}else{var m=G()(this.state.view_services),d=G()(this.state.list_services),p=G()(m).slice(0,t),_=G()(m).slice(t);p.push(Q()({},e,{isNew:!0}));var E=0;p.forEach((function(e){e.index=E,E+=1})),E=t+1,_.forEach((function(e){e.index=E,E+=1})),d.push(Q()({},e,{isNew:!0})),this.setState({view_services:[].concat(G()(p),G()(_)),list_services:d})}}},{key:"onSubmitHandle",value:function(e,t){var a=this,r=e.formValues,n=e.servicesList,i=void 0,c=void 0;this.addview||this.cloneview?(i="Are you sure you want to add Metric profile?",c="Add metric profile"):(i="Are you sure you want to change Metric profile?",c="Change metric profile"),this.toggleAreYouSureSetModal(i,c,(function(){return a.doChange({formValues:r,servicesList:n},t)}))}},{key:"groupMetricsByServices",value:function(e){var t=[];return e.forEach((function(e){var a=t.filter((function(t){return t.service===e.service}));a.length?a[0].metrics.push(e.metric):t.push({service:e.service,metrics:[e.metric]})})),t}},{key:"doChange",value:(r=u()(o.a.mark((function e(t,a){var r,n,i,c,s,l,u,m,d,p,_,E,f,g,h,b,v,M,y,O,D=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.formValues,n=t.servicesList,i=[],c=new Object,this.addview||this.cloneview){e.next=48;break}return s=this.state.metric_profile.id,i=this.groupMetricsByServices(n),c={id:s,name:r.name,description:r.description,services:i},e.next=9,this.webapi.changeMetricProfile(c);case 9:if((l=e.sent).ok){e.next=27;break}return u="",e.prev=12,e.next=15,l.json();case 15:m=e.sent,d=[],m.errors.forEach((function(e){return d.push(e.details)})),u=d.join(" "),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(12),u="Web API error changing metric profile";case 24:Object(K.r)({title:"Web API error: ".concat(l.status," ").concat(l.statusText),msg:u}),e.next=46;break;case 27:return e.next=29,this.backend.changeObject("/api/v2/internal/metricprofiles/",{apiid:c.id,name:c.name,description:c.description,groupname:r.groupname,services:r.view_services});case 29:if(!(p=e.sent).ok){e.next=34;break}Object(K.t)({msg:"Metric profile succesfully changed",title:"Changed",callback:function(){return D.history.push("/ui/metricprofiles")}}),e.next=46;break;case 34:return _="",e.prev=35,e.next=38,p.json();case 38:E=e.sent,_=E.detail,e.next=45;break;case 42:e.prev=42,e.t1=e.catch(35),_="Internal API error changing metric profile";case 45:Object(K.r)({title:"Internal API error: ".concat(p.status," ").concat(p.statusText),msg:_});case 46:e.next=92;break;case 48:return i=this.groupMetricsByServices(n),c={name:r.name,description:r.description,services:i},e.next=52,this.webapi.addMetricProfile(c);case 52:if((f=e.sent).ok){e.next=70;break}return g="",e.prev=55,e.next=58,f.json();case 58:h=e.sent,b=[],h.errors.forEach((function(e){return b.push(e.details)})),g=b.join(" "),e.next=67;break;case 64:e.prev=64,e.t2=e.catch(55),g="Web API error adding metric profile";case 67:Object(K.r)({title:"Web API error: ".concat(f.status," ").concat(f.statusText),msg:g}),e.next=92;break;case 70:return e.next=72,f.json();case 72:return v=e.sent,e.next=75,this.backend.addObject("/api/v2/internal/metricprofiles/",{apiid:v.data.id,name:c.name,groupname:r.groupname,description:r.description,services:r.view_services});case 75:if(!(M=e.sent).ok){e.next=80;break}Object(K.t)({msg:"Metric profile successfully added",title:"Added",callback:function(){return D.history.push("/ui/metricprofiles")}}),e.next=92;break;case 80:return y="",e.prev=81,e.next=84,M.json();case 84:O=e.sent,y=O.detail,e.next=91;break;case 88:e.prev=88,e.t3=e.catch(81),y="Internal API error adding metric profile";case 91:Object(K.r)({title:"Internal API error: ".concat(M.status," ").concat(M.statusText),msg:y});case 92:case"end":return e.stop()}}),e,this,[[12,21],[35,42],[55,64],[81,88]])}))),function(e,t){return r.apply(this,arguments)})},{key:"doDelete",value:(a=u()(o.a.mark((function e(t){var a,r,n,i,c,s,l,u=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.webapi.deleteMetricProfile(t);case 2:if((a=e.sent).ok){e.next=20;break}return r="",e.prev=5,e.next=8,a.json();case 8:n=e.sent,i=[],n.errors.forEach((function(e){return i.push(e.details)})),r=i.join(" "),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),r="Web API error deleting metric profile";case 17:Object(K.r)({title:"Web API error: ".concat(a.status," ").concat(a.statusText),msg:r}),e.next=39;break;case 20:return e.next=22,this.backend.deleteObject("/api/v2/internal/metricprofiles/".concat(t));case 22:if(!(c=e.sent).ok){e.next=27;break}Object(K.t)({msg:"Metric profile sucessfully deleted",title:"Deleted",callback:function(){return u.history.push("/ui/metricprofiles")}}),e.next=39;break;case 27:return s="",e.prev=28,e.next=31,c.json();case 31:l=e.sent,s=l.detail,e.next=38;break;case 35:e.prev=35,e.t1=e.catch(28),s="Internal API error deleting metric profile";case 38:Object(K.r)({title:"Internal API error: ".concat(c.status," ").concat(c.statusText),msg:s});case 39:case"end":return e.stop()}}),e,this,[[5,14],[28,35]])}))),function(e){return a.apply(this,arguments)})},{key:"onSelect",value:function(e,t,a){var r=e.index,n=G()(this.state.list_services),i=G()(this.state.view_services),c=n.findIndex((function(e){return e.index===r&&!0===e.isNew}));c>=0?(n[c][t]=a,n[c][t+"Changed"]=a):(n[r][t]=a,n[r][t+"Changed"]=a);for(var s=0;s<i.length;s++)i[s].index===r&&(i[s][t]=a,i[s][t+"Changed"]=!0);this.setState({list_services:n,view_services:i})}},{key:"onRemove",value:function(e,t,a,r){var n=[],i=[],c=void 0,s=void 0,o=this.state.list_services.filter((function(t){return e.service===t.service&&e.metric===t.metric})),l=this.state.view_services.filter((function(t){return e.service===t.service&&e.metric===t.metric}));if(o.length>=2||l.length>=2?(c=this.state.list_services.findIndex((function(t){return e.index===t.index&&e.service===t.service&&e.metric===t.metric})),s=this.state.view_services.findIndex((function(t){return e.index===t.index&&e.service===t.service&&e.metric===t.metric}))):(c=this.state.list_services.findIndex((function(t){return e.service===t.service&&e.metric===t.metric})),s=this.state.view_services.findIndex((function(t){return e.service===t.service&&e.metric===t.metric}))),1===this.state.view_services.length&&1===this.state.list_services.length)i=[{index:0,service:"",metric:""}],n=[{index:0,service:"",metric:""}];else if(c>=0&&s>=0){i=G()(this.state.list_services),n=G()(this.state.view_services),i.splice(c,1),n.splice(s,1);for(var u=c;u<i.length;u++){var m=i[u].index;i[u].index=m-1}for(u=s;u<n.length;u++){var d=n[u].index;n[u].index=d-1}}else i=G()(this.state.list_services),n=G()(this.state.view_services);this.setState({list_services:this.ensureAlignedIndexes(i),view_services:this.ensureAlignedIndexes(n),groupname:t,metric_profile_name:a,metric_profile_description:r})}},{key:"render",value:function(){var e,t=this,a=this.state,r=a.write_perm,i=a.loading,c=a.metric_profile_description,s=a.view_services,o=a.groupname,l=a.list_user_groups,u=a.serviceflavours_all,m=a.metrics_all,d=a.searchMetric,p=a.searchServiceFlavour,_=a.error,E=this.state,f=E.metric_profile,g=E.metric_profile_name;return this.cloneview&&f&&g&&f.id&&(f.id="",g="Cloned "+g),i?n.a.createElement(K.m,null):_?n.a.createElement(K.h,{error:_}):!i&&f&&s?n.a.createElement(K.b,(e={resourcename:this.publicView?"Metric profile details":"metric profile",location:this.location,addview:this.addview,modal:!0,cloneview:this.cloneview,clone:!0,history:!this.publicView,state:this.state,toggle:this.toggleAreYouSure},q()(e,"addview",this.publicView?!this.publicView:this.addview),q()(e,"publicview",this.publicView),q()(e,"submitperm",r),e),n.a.createElement(R.d,{initialValues:{id:f.id,name:g,description:c,groupname:o,view_services:s,search_metric:d,search_serviceflavour:p,metrics_all:m,services_all:u},onSubmit:function(e,a){return t.onSubmitHandle({formValues:e,servicesList:t.state.list_services},a)},enableReinitialize:!0,validate:me,render:function(e){return n.a.createElement(R.c,null,n.a.createElement(K.w,D()({},e,{description:"description",grouplist:r?l:[o],profiletype:"metric",fieldsdisable:t.publicView})),n.a.createElement(K.v,{title:"Metric instances"}),t.publicView?n.a.createElement(R.b,{name:"metricinstances",render:function(a){return n.a.createElement("table",{className:"table table-bordered table-sm"},n.a.createElement("thead",{className:"table-active"},n.a.createElement("tr",null,n.a.createElement("th",{className:"align-middle text-center",style:{width:"5%"}},"#"),n.a.createElement("th",{style:{width:"47.5%"}},n.a.createElement(K.l,{i:"serviceflavour"}),"Service flavour"),n.a.createElement("th",{style:{width:"47.5%"}},n.a.createElement(K.l,{i:"metrics"}),"Metric"))),n.a.createElement("tbody",null,n.a.createElement("tr",{style:{background:"#ECECEC"}},n.a.createElement("td",{className:"align-middle text-center"},n.a.createElement(te.a,{icon:ae.v})),n.a.createElement("td",null,n.a.createElement(R.a,{type:"text",name:"search_serviceflavour",required:!1,className:"form-control",id:"searchServiceFlavour",onChange:function(e){return t.handleSearch(e,"view_services","searchServiceFlavour","service","searchMetric","metric")},component:K.z})),n.a.createElement("td",null,n.a.createElement(R.a,{type:"text",name:"search_metric",required:!1,className:"form-control",id:"searchMetric",onChange:function(e){return t.handleSearch(e,"view_services","searchMetric","metric","searchServiceFlavour","service")},component:K.z}))),e.values.view_services.map((function(e,t){return n.a.createElement("tr",{key:t},n.a.createElement("td",{className:"align-middle text-center"},t+1),n.a.createElement("td",null,e.service),n.a.createElement("td",null,e.metric))}))))}}):n.a.createElement(R.b,{name:"view_services",render:function(e){return n.a.createElement(de,D()({},e,{serviceflavours_all:u,metrics_all:m,search_handler:t.handleSearch,remove_handler:t.onRemove,insert_handler:t.onInsert,onselect_handler:t.onSelect}))}}),r&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},n.a.createElement(j.a,{color:"danger",onClick:function(){t.toggleAreYouSureSetModal("Are you sure you want to delete Metric profile?","Delete metric profile",(function(){return t.doDelete(e.values.id)}))}},"Delete"),n.a.createElement(j.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):null}}]),s}(r.Component)}var _e=function(e){var t=e.location,a=new z.a,i=e.publicView,c=null;c=i?"/api/v2/internal/public_metricprofiles":"/api/v2/internal/metricprofiles";var s=Object(ie.b)("session_userdetails",u()(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.isActiveSession();case 2:if(!(t=e.sent).active){e.next=5;break}return e.abrupt("return",t.userdetails);case 5:case"end":return e.stop()}}),e)})))),l=s.data,m=s.error,d=s.isLoading,p=Object(ie.b)("metricprofiles_listview",u()(o.a.mark((function e(){var t,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchData(c);case 2:for(t=e.sent,r=10-t.length%10,n=0;n<r;n++)t.push({description:"",groupname:"",name:""});return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))),_=p.data,E=p.error,f=p.isLoading,g=Object(r.useMemo)((function(){return[{Header:"#",accessor:null},{Header:"Name",id:"name",maxWidth:350,accessor:function(e){return n.a.createElement(X.b,{to:"/ui/".concat(i?"public_":"","metricprofiles/")+e.name},e.name)}},{Header:"Description",accessor:"description"},{Header:"Group",accessor:"groupname",className:"text-center",maxWidth:150}]}));return d||f?n.a.createElement(K.m,null):E?n.a.createElement(K.h,{error:E}):m?n.a.createElement(K.h,{error:m}):d||d||!_?null:n.a.createElement(K.b,{resourcename:"metric profile",location:t,listview:!0,addnew:!i,addperm:!i&&(l.is_superuser||l.groups.metricprofiles.length>0),publicview:i},n.a.createElement(K.x,{data:_,columns:g,type:"metric"}))},Ee=function(e){for(var t=e.title,a=e.item1,r=e.item2,i=[],c=[],s=0;s<a.length;s++)i.push("service: ".concat(a[s].service,", metric: ").concat(a[s].metric));for(var o=0;o<r.length;o++)c.push("service: ".concat(r[o].service,", metric: ").concat(r[o].metric));return n.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},n.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},t),n.a.createElement(ne.a,{oldValue:c.join("\n"),newValue:i.join("\n"),showDiffOnly:!1,splitView:!0,hideLineNumbers:!0}))},fe=function(e){h()(r,e);var t,a=ce(r);function r(e){var t;return d()(this,r),(t=a.call(this,e)).version1=e.match.params.id1,t.version2=e.match.params.id2,t.name=e.match.params.name,t.state={loading:!1,name1:"",groupname1:"",metricinstances1:[],name2:"",groupname2:"",metricinstances2:[],error:null},t.backend=new z.a,t}return _()(r,[{key:"componentDidMount",value:(t=u()(o.a.mark((function e(){var t,a,r,n,i,c,s,l,u,m=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.prev=1,e.next=4,this.backend.fetchData("/api/v2/internal/tenantversion/metricprofile/".concat(this.name));case 4:t=e.sent,a="",r="",n="",i=[],c="",s="",l="",u=[],t.forEach((function(e){e.version==m.version1?(a=e.fields.name,n=e.fields.description,r=e.fields.groupname,i=e.fields.metricinstances):e.version==m.version2&&(c=e.fields.name,s=e.fields.groupname,l=e.fields.description,u=e.fields.metricinstances)})),this.setState({name1:a,groupname1:r,description1:n,metricinstances1:i,name2:c,description2:l,groupname2:s,metricinstances2:u,loading:!1}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),this.setState({error:e.t0,loading:!1});case 20:case"end":return e.stop()}}),e,this,[[1,17]])}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.name1,a=e.name2,r=e.description1,i=e.description2,c=e.groupname1,s=e.groupname2,o=e.metricinstances1,l=e.metricinstances2,u=e.loading,m=e.error;return u?n.a.createElement(K.m,null):m?n.a.createElement(K.h,{error:m}):!u&&t&&a?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Compare ".concat(this.name," versions"))),t!==a&&n.a.createElement(K.e,{title:"name",item1:t,item2:a}),t!==a&&n.a.createElement(K.e,{title:"name",item1:t,item2:a}),r!==i&&n.a.createElement(K.e,{title:"name",item1:r,item2:i}),c!==s&&n.a.createElement(K.e,{title:"groupname",item1:c,item2:s}),o!==l&&n.a.createElement(Ee,{title:"metric instances",item1:o,item2:l})):null}}]),r}(r.Component),ge=function(e){h()(r,e);var t,a=ce(r);function r(e){var t;return d()(this,r),(t=a.call(this,e)).name=e.match.params.name,t.version=e.match.params.version,t.backend=new z.a,t.state={name:"",groupname:"",description:"",date_created:"",metricinstances:[],loading:!1,error:null},t}return _()(r,[{key:"componentDidMount",value:(t=u()(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.prev=1,e.next=4,this.backend.fetchData("/api/v2/internal/tenantversion/metricprofile/".concat(this.name));case 4:e.sent.forEach((function(e){e.version==t.version&&t.setState({name:e.fields.name,groupname:e.fields.groupname,description:e.fields.description,date_created:e.date_created,metricinstances:e.fields.metricinstances,loading:!1})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.setState({error:e.t0,loading:!1});case 11:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.name,a=e.description,r=e.groupname,i=e.date_created,c=e.metricinstances,s=e.loading,o=e.error;return s?n.a.createElement(K.m,null):o?n.a.createElement(K.h,{error:o}):!s&&t?n.a.createElement(K.b,{resourcename:"".concat(t," (").concat(i,")"),infoview:!0},n.a.createElement(R.d,{initialValues:{name:t,description:a,groupname:r,metricinstances:c},render:function(e){return n.a.createElement(R.c,null,n.a.createElement(K.w,D()({},e,{fieldsdisable:!0,description:"description",profiletype:"metric"})),n.a.createElement(K.v,{title:"Metric instances"}),n.a.createElement(R.b,{name:"metricinstances",render:function(t){return n.a.createElement("table",{className:"table table-bordered table-sm"},n.a.createElement("thead",{className:"table-active"},n.a.createElement("tr",null,n.a.createElement("th",{className:"align-middle text-center",style:{width:"5%"}},"#"),n.a.createElement("th",{style:{width:"47.5%"}},n.a.createElement(K.l,{i:"serviceflavour"}),"Service flavour"),n.a.createElement("th",{style:{width:"47.5%"}},n.a.createElement(K.l,{i:"metrics"}),"Metric"))),n.a.createElement("tbody",null,e.values.metricinstances.map((function(e,t){return n.a.createElement("tr",{key:t},n.a.createElement("td",{className:"align-middle text-center"},t+1),n.a.createElement("td",null,e.service),n.a.createElement("td",null,e.metric))}))))}}))}})):null}}]),r}(r.Component),he=a("ChEw"),be=a("x863"),ve=a("wDPn"),Me=function(e){var t=e.title;return n.a.createElement(C.a,{className:"mt-1 sm-5 p-2 text-uppercase font-weight-bold rounded",style:{backgroundColor:"#c4ccd4"}},t)},ye=function(e){return n.a.createElement(R.c,{className:"ml-2 mb-2 mt-2"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Administration"),n.a.createElement(T.a,{className:"mb-2"},n.a.createElement(Me,{title:"Poem"}),n.a.createElement(I.a,null,n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"metrics"})," ",n.a.createElement(X.b,{className:"pl-1",to:"/ui/metrics"},"Metrics")),n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"reports"})," ",n.a.createElement(X.b,{className:"pl-1",to:"/ui/reports"},"Reports")),n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"metricprofiles"})," ",n.a.createElement(X.b,{className:"pl-1",to:"/ui/metricprofiles"},"Metric profiles")),n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"aggregationprofiles"})," ",n.a.createElement(X.b,{className:"pl-1",to:"/ui/aggregationprofiles"},"Aggregation profiles")),n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"thresholdsprofiles"})," ",n.a.createElement(X.b,{className:"pl-1",to:"/ui/thresholdsprofiles"},"Thresholds profiles")),n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"operationsprofiles"})," ",n.a.createElement(X.b,{className:"pl-1",to:"/ui/operationsprofiles"},"Operations profiles")))),n.a.createElement(T.a,{className:"mb-2"},n.a.createElement(Me,{title:"Authentication and authorization"}),n.a.createElement(I.a,null,n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"groupofaggregationprofiles"})," ",n.a.createElement(X.b,{to:"/ui/administration/groupofaggregations"},"Groups of aggregations")),n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"groupofmetrics"})," ",n.a.createElement(X.b,{to:"/ui/administration/groupofmetrics"},"Groups of metrics")),n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"groupofmetricprofiles"})," ",n.a.createElement(X.b,{to:"/ui/administration/groupofmetricprofiles"},"Groups of metric profiles")),n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"groupofthresholdsprofiles"})," ",n.a.createElement(X.b,{to:"/ui/administration/groupofthresholdsprofiles"},"Groups of thresholds profiles")),n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"users"})," ",n.a.createElement(X.b,{to:"/ui/administration/users"},"Users")))),n.a.createElement(T.a,{className:"mb-2"},n.a.createElement(Me,{title:"SuperAdmin POEM data"}),n.a.createElement(I.a,null,n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"yumrepos"})," ",n.a.createElement(X.b,{to:"/ui/administration/yumrepos"},"YUM repos")),n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"packages"})," ",n.a.createElement(X.b,{to:"/ui/administration/packages"},"Packages")),n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"metrics"})," ",n.a.createElement(X.b,{to:"/ui/administration/metrictemplates"},"Metric templates")))),n.a.createElement(T.a,null,n.a.createElement(Me,{title:"API key permissions"}),n.a.createElement(I.a,null,n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"apikey"})," ",n.a.createElement(X.b,{to:"/ui/administration/apikey"},"API keys")))))},Oe=function(e){return n.a.createElement(R.c,{className:"ml-2 mb-2 mt-2"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Administration"),n.a.createElement(T.a,{className:"mb-2"},n.a.createElement(Me,{title:"Poem"}),n.a.createElement(I.a,null,n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"tenants"})," ",n.a.createElement(X.b,{to:"/ui/tenants"},"Tenants")),n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"yumrepos"})," ",n.a.createElement(X.b,{className:"pl-1",to:"/ui/yumrepos"},"YUM repos")),n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"packages"})," ",n.a.createElement(X.b,{className:"pl-1",to:"/ui/packages"},"Packages")),n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"probes"})," ",n.a.createElement(X.b,{className:"pl-1",to:"/ui/probes"},"Probes")),n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"metrictemplates"})," ",n.a.createElement(X.b,{className:"pl-1",to:"/ui/metrictemplates"},"Metric templates")))),n.a.createElement(T.a,{className:"mb-2"},n.a.createElement(Me,{title:"Authentication and authorization"}),n.a.createElement(I.a,null,n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"users"})," ",n.a.createElement(X.b,{to:"/ui/administration/users"},"Users")))),n.a.createElement(T.a,null,n.a.createElement(Me,{title:"API key permissions"}),n.a.createElement(I.a,null,n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"apikey"})," ",n.a.createElement(X.b,{to:"/ui/administration/apikey"},"API keys")))))},De=function(e){return n.a.createElement("div",null,'"I\'m Home"')},we=function(e){if(e.isSuperAdmin){var t=Object(r.useState)(!1),a=J()(t,2),i=a[0],c=a[1],s=Object(r.useState)(null),l=J()(s,2),m=l[0],d=l[1],p=Object(r.useState)(null),_=J()(p,2),E=_[0],f=_[1],g=new z.a;if(Object(r.useEffect)((function(){function e(){return(e=u()(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.fetchData("/api/v2/internal/public_tenants");case 3:t=e.sent,a=[],t.forEach((function(e){"SuperPOEM Tenant"!==e.name&&a.push(e)})),d(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),f(e.t0);case 12:c(!1);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}c(!0),function(){e.apply(this,arguments)}()}),[]),i)return n.a.createElement(K.m,null);if(E)return n.a.createElement(K.h,{error:E});if(!i&&m){for(var h=[],b=0;b<m.length;b+=3){for(var v=[],M=0;M<3;M++)b+M<m.length&&v.push(n.a.createElement(T.a,{className:"mr-3",key:M+1},n.a.createElement(he.a,{className:"text-center"},n.a.createElement("h3",null,m[b+M].name)),n.a.createElement(be.a,{className:"mb-4 mt-3 text-center"},n.a.createElement(te.a,{icon:ae.o,size:"5x"})),n.a.createElement(I.a,null,n.a.createElement(T.a,null,n.a.createElement(Me,{title:"Tenant resources"}),n.a.createElement(I.a,null,n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"metrics"})," ",n.a.createElement("a",{href:"https://".concat(m[b+M].domain_url,"/ui/public_metrics")},"Metrics")),n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"metricprofiles"})," ",n.a.createElement("a",{href:"https://".concat(m[b+M].domain_url,"/ui/public_metricprofiles")},"Metric profiles")),n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"aggregationprofiles"})," ",n.a.createElement("a",{href:"https://".concat(m[b+M].domain_url,"/ui/public_aggregationprofiles")},"Aggregation profiles")),n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"thresholdsprofiles"})," ",n.a.createElement("a",{href:"https://".concat(m[b+M].domain_url,"/ui/public_thresholdsprofiles")},"Thresholds profiles")),n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"operationsprofiles"})," ",n.a.createElement("a",{href:"https://".concat(m[b+M].domain_url,"/ui/public_operationsprofiles")},"Operations profiles")))))));var y="100%";1==v.length&&(y="33.3333%"),2==v.length&&(y="66.6666%"),h.push(n.a.createElement(ve.a,{key:b,className:"mb-3",style:{width:y}},v.map((function(e,t){return e}))))}return n.a.createElement(R.c,{className:"ml-2 mb-2 mt-2"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Public pages"),n.a.createElement(T.a,{className:"mb-2"},n.a.createElement(Me,{title:"Shared resources"}),n.a.createElement(I.a,null,n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"probes"})," ",n.a.createElement(X.b,{to:"/ui/public_probes"},"Probes")),n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"metrictemplates"})," ",n.a.createElement(X.b,{to:"/ui/public_metrictemplates"},"Metric templates")))),n.a.createElement(K.v,{title:"Tenants"}),h.map((function(e,t){return e})))}return null}return n.a.createElement(R.c,{className:"ml-2 mb-2 mt-2"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Public pages"),n.a.createElement(T.a,{className:"mb-2"},n.a.createElement(Me,{title:"Shared resources"}),n.a.createElement(I.a,null,n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"probes"})," ",n.a.createElement(X.b,{to:"/ui/public_probes"},"Probes")),n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"metrictemplates"})," ",n.a.createElement(X.b,{to:"/ui/public_metrictemplates"},"Metric templates")))),n.a.createElement(T.a,{className:"mb-2"},n.a.createElement(Me,{title:"Tenant resources"}),n.a.createElement(I.a,null,n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"metrics"})," ",n.a.createElement(X.b,{to:"/ui/public_metrics"},"Metrics")),n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"servicetypes"})," ",n.a.createElement(X.b,{to:"/ui/public_servicetypes"},"Service types")),n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"metricprofiles"})," ",n.a.createElement(X.b,{to:"/ui/public_metricprofiles"},"Metric profiles")),n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"aggregationprofiles"})," ",n.a.createElement(X.b,{to:"/ui/public_aggregationprofiles"},"Aggregation profiles")),n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"thresholdsprofiles"})," ",n.a.createElement(X.b,{to:"/ui/public_thresholdsprofiles"},"Thresholds profiles")),n.a.createElement(x.a,{className:"p-1 align-items-center"},n.a.createElement(K.l,{i:"operationsprofiles"})," ",n.a.createElement(X.b,{to:"/ui/public_operationsprofiles"},"Operations profiles")))))},ke=a("RKv1"),Pe=a("q7Gj"),xe=a("re1l"),Ae=a("0E8A"),Te=a("lCZi"),Ce=Te.object().shape({name:Te.string().matches(/^\S*$/,"Name cannot contain white spaces").required("Required"),package:Te.string().required("Required"),repository:Te.string().url("Invalid url").required("Required"),docurl:Te.string().url("Invalid url").required("Required"),description:Te.string().required("Required"),comment:Te.string().required("Required")}),Ie=function(e){var t=e.field.value;k()(e,["field"]);return n.a.createElement("div",{className:"form-control",style:{backgroundColor:"#e9ecef",overflow:"hidden",textOverflow:"ellipsis"}},n.a.createElement("a",{href:t,style:{whiteSpace:"nowrap"}},t))},Ne=function(e){var t=e.isTenantSchema,a=void 0!==t&&t,r=e.isHistory,i=void 0!==r&&r,c=e.publicView,s=void 0!==c&&c,o=e.errors,l=void 0===o?{name:void 0,package:void 0,repository:void 0,docurl:void 0,comment:void 0}:o,u=e.addview,m=void 0!==u&&u,d=e.cloneview,p=void 0!==d&&d,_=e.list_packages,E=void 0===_?[]:_,f=e.setFieldValue,g=void 0===f?void 0:f,h=e.values,b=void 0===h?void 0:h,v=e.onSelect,M=void 0===v?void 0:v,y=e.metrictemplatelist,O=void 0===y?[]:y,D=e.version,w=void 0===D?void 0:D;return n.a.createElement(n.a.Fragment,null,n.a.createElement(N.a,null,n.a.createElement(x.a,null,n.a.createElement(A.a,{md:6},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"Name"),n.a.createElement(R.a,{type:"text",name:"name",className:"form-control ".concat(l.name&&"border-danger"),id:"name",disabled:a||i||s})),l.name&&Object(K.i)(l.name),n.a.createElement(Ae.a,{color:"muted"},"Name of this probe.")),n.a.createElement(A.a,{md:2},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"Version"),n.a.createElement(R.a,{type:"text",name:"version",className:"form-control",value:w,id:"version",disabled:!0})),n.a.createElement(Ae.a,{color:"muted"},"Version of the probe.")),!m&&!p&&!a&&!i&&!s&&n.a.createElement(A.a,{md:2},n.a.createElement(R.a,{component:K.c,name:"update_metrics",className:"form-control",id:"checkbox",label:"Update metric templates"}),n.a.createElement(Ae.a,{color:"muted"},"Update all associated metric templates."))),n.a.createElement(x.a,{className:"mt-3"},n.a.createElement(A.a,{md:8},a||i||s?n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"Package"),n.a.createElement(R.a,{type:"text",name:"package",className:"form-control",id:"package",disabled:!0})):n.a.createElement(n.a.Fragment,null,n.a.createElement(K.a,{setFieldValue:g,lists:E,icon:"packages",field:"package",val:b.package,onselect_handler:M,req:l.package,label:"Package"}),l.package&&Object(K.i)(l.package)),n.a.createElement(Ae.a,{color:"muted"},"Probe is part of selected package.")))),n.a.createElement(N.a,null,n.a.createElement(K.v,{title:"Probe metadata"}),n.a.createElement(x.a,{className:"mt-4 mb-3 align-items-top"},n.a.createElement(A.a,{md:8},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"Repository"),a||i||s?n.a.createElement(R.a,{component:Ie,name:"repository",className:"form-control",id:"repository",disabled:!0}):n.a.createElement(R.a,{type:"text",name:"repository",className:"form-control ".concat(l.repository&&"border-danger"),id:"repository"})),l.repository&&Object(K.i)(l.repository),n.a.createElement(Ae.a,{color:"muted"},"Probe repository URL."))),n.a.createElement(x.a,{className:"mb-3 align-items-top"},n.a.createElement(A.a,{md:8},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"Documentation"),a||i||s?n.a.createElement(R.a,{component:Ie,name:"docurl",className:"form-control",id:"docurl",disabled:!0}):n.a.createElement(R.a,{type:"text",name:"docurl",className:"form-control ".concat(l.docurl&&"border-danger"),id:"docurl"})),l.docurl&&Object(K.i)(l.docurl),n.a.createElement(Ae.a,{color:"muted"},"Documentation URL."))),n.a.createElement(x.a,{className:"mb-3 align-items-top"},n.a.createElement(A.a,{md:8},n.a.createElement(S.a,{for:"description"},"Description"),n.a.createElement(R.a,{component:"textarea",name:"description",rows:"15",className:"form-control ".concat(l.description&&"border-danger"),id:"description",disabled:a||i||s}),l.description&&Object(K.i)(l.description),n.a.createElement(Ae.a,{color:"muted"},"Free text description outlining the purpose of this probe."))),n.a.createElement(x.a,{className:"mb-3 align-items-top"},n.a.createElement(A.a,{md:8},n.a.createElement(S.a,{for:"comment"},"Comment"),n.a.createElement(R.a,{component:"textarea",name:"comment",rows:"5",className:"form-control ".concat(l.comment&&"border-danger"),id:"comment",disabled:a||i||s}),l.comment&&Object(K.i)(l.comment),n.a.createElement(Ae.a,{color:"muted"},"Short comment about this version."))),!i&&!m&&!p&&n.a.createElement(x.a,null,n.a.createElement(A.a,{md:8},O.length>0&&n.a.createElement("div",null,"Metric templates:",n.a.createElement("div",null,O.map((function(e,t){return n.a.createElement(X.b,{key:t,to:s?"/ui/public_metrictemplates/".concat(e):a?"/ui/probes/".concat(b.name,"/").concat(e):"/ui/metrictemplates/".concat(e)},e)})).reduce((function(e,t){return[e,", ",t]}))))))))},Se=function(e){var t=e.location,a=e.publicView,i=Object(r.useState)(""),c=J()(i,2),s=c[0],l=c[1],m=Object(r.useState)(""),d=J()(m,2),p=d[0],_=d[1],E=Object(r.useState)(""),f=J()(E,2),g=f[0],h=f[1],b=new z.a,v=Object(ie.b)("probe_listview",u()(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.fetchData("/api/v2/internal/".concat(a?"public_":"","probes"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),M=v.data,y=v.error,O=v.isLoading,D=Object(ie.b)("probe_listview_schema",u()(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.isTenantSchema(),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})))),w=D.data,k=D.isLoading;if(O||k)return n.a.createElement(K.m,null);if(y)return n.a.createElement(K.h,{error:y.message});var P=[{Header:"#",id:"row",minWidth:12,Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.index+1)}},{Header:"Name",id:"name",minWidth:80,accessor:function(e){return n.a.createElement(X.b,{to:"/ui/".concat(a?"public_":"","probes/").concat(e.name)},e.name)},filterable:!0,Filter:n.a.createElement("input",{value:s,onChange:function(e){return l(e.target.value)},placeholder:"Search by name",style:{width:"100%"}})},{Header:"#versions",id:"nv",minWidth:25,accessor:function(e){return n.a.createElement(X.b,{to:"/ui/".concat(a?"public_":"","probes/").concat(e.name,"/history")},e.nv)},Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)}},{Header:"Package",minWidth:120,accessor:"package",filterable:!0,Filter:n.a.createElement("input",{type:"text",placeholder:"Search by package",value:g,onChange:function(e){return h(e.target.value)},style:{width:"100%"}}),filterMethod:function(e,t){return void 0===t[e.id]||String(t[e.id]).toLowerCase().includes(e.value.toLowerCase())}},{Header:"Description",minWidth:200,accessor:"description",filterable:!0,Filter:n.a.createElement("input",{type:"text",placeholder:"Search by description",value:p,onChange:function(e){return _(e.target.value)},style:{width:"100%"}}),filterMethod:function(e,t){return void 0===t[e.id]||String(t[e.id]).toLowerCase().includes(e.value.toLowerCase())}}],x=M;return s&&(x=x.filter((function(e){return e.name.toLowerCase().includes(s.toLowerCase())}))),p&&(x=x.filter((function(e){return e.description.toLowerCase().includes(p.toLowerCase())}))),g&&(x=x.filter((function(e){return e.package.toLowerCase().includes(g.toLowerCase())}))),n.a.createElement(K.b,{resourcename:"probe",location:t,listview:!0,addnew:!w&&!a},n.a.createElement(ke.a,{data:x,columns:P,className:"-highlight",defaultPageSize:50,rowsText:"probes",getTheadThProps:function(){return{className:"table-active font-weight-bold p-2"}}}))},Le=function(e){var t=e.match.params.name,a=e.addview,i=e.cloneview,c=e.location,s=e.history,l=e.publicView,m=new z.a,d="probe_".concat(a?"addview":"".concat(t,"_").concat(i?"cloneview":"".concat(l?"publicview":"changeview"))),p="/api/v2/internal/".concat(l?"public_":"","packages"),_="/api/v2/internal/".concat(l?"public_":"","probes"),E="/api/v2/internal/".concat(l?"public_":"","metricsforprobes"),f=Object(r.useState)(!1),g=J()(f,2),h=g[0],b=g[1],v=Object(r.useState)(void 0),M=J()(v,2),y=M[0],O=M[1],w=Object(r.useState)(void 0),k=J()(w,2),P=k[0],x=k[1],A=Object(r.useState)(void 0),T=J()(A,2),C=T[0],I=T[1],N=Object(r.useState)(void 0),S=J()(N,2),L=S[0],U=S[1],W=Object(ie.b)("".concat(d,"_probe"),u()(o.a.mark((function e(){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={id:"",name:"",version:"",package:"",repository:"",docurl:"",description:"",comment:""},a){e.next=5;break}return e.next=4,m.fetchData("".concat(_,"/").concat(t));case 4:r=e.sent;case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))),B=W.data,V=W.error,Y=W.isLoading,Q=Object(ie.b)("".concat(d,"_schema"),u()(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.isTenantSchema();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),F=Q.data,q=Q.isLoading,H=Object(ie.b)("".concat(d,"_metrictemplates"),u()(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.fetchData("".concat(E,"/").concat(B.name,"(").concat(B.version,")"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),{enabled:B}),G=H.data,Z=H.error,X=H.isLoading,$=Object(ie.b)("".concat(d,"_packages"),u()(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.fetchData(p);case 2:return t=e.sent,a=[],t.forEach((function(e){return a.push("".concat(e.name," (").concat(e.version,")"))})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))),ee=$.data,te=$.error,ae=$.isLoading;function re(){b(!h)}function ne(){return(ne=u()(o.a.mark((function e(){var t,r,n,c,l,u,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a&&!i){e.next=25;break}return t=void 0,t=i?L.id:"",e.next=5,m.addObject("/api/v2/internal/probes/",{name:L.name,package:L.package,repository:L.repository,docurl:L.docurl,description:L.description,comment:L.comment,cloned_from:t});case 5:if((r=e.sent).ok){e.next=21;break}return n="",e.prev=8,e.next=11,r.json();case 11:c=e.sent,n=c.detail,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),n="Error adding probe";case 18:Object(K.r)({title:"Error: ".concat(r.status," ").concat(r.statusText),msg:n}),e.next=22;break;case 21:Object(K.t)({msg:"Probe successfully added",title:"Added",callback:function(){return s.push("/ui/probes")}});case 22:e.next=46;break;case 25:return e.next=27,m.changeObject("/api/v2/internal/probes/",{id:L.id,name:L.name,package:L.package,repository:L.repository,docurl:L.docurl,description:L.description,comment:L.comment,update_metrics:L.update_metrics});case 27:if((l=e.sent).ok){e.next=44;break}return u="",e.prev=30,e.next=33,l.json();case 33:d=e.sent,u=d.detail,e.next=40;break;case 37:e.prev=37,e.t1=e.catch(30),u="Error changing probe";case 40:Object(K.r)({title:"Error: ".concat(l.status," ").concat(l.statusText),msg:u}),e.next=45;break;case 44:Object(K.t)({msg:"Probe successfully changed",title:"Changed",callback:function(){return s.push("/ui/probes")}});case 45:case 46:case 47:case"end":return e.stop()}}),e,null,[[8,15],[30,37]])})))).apply(this,arguments)}function ce(){return(ce=u()(o.a.mark((function e(){var a,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.deleteObject("/api/v2/internal/probes/".concat(t));case 2:if((a=e.sent).ok){e.next=19;break}return r="",e.prev=5,e.next=8,a.json();case 8:n=e.sent,r=n.detail,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),r="Error deleting probe";case 15:Object(K.r)({title:"Error: ".concat(a.status," ").concat(a.statusText),msg:r}),e.next=20;break;case 19:Object(K.t)({msg:"Probe successfully deleted",title:"Deleted",callback:function(){return s.push("/ui/probes")}});case 20:case 21:case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}function se(e,t){var a=B;a[e]=t;try{a.version=t.split(" ")[1].slice(1,-1)}catch(e){e instanceof TypeError&&(a.version="")}ie.a.setQueryData("".concat(d,"_probe"),(function(){return a}))}if(Y||q||X||ae)return n.a.createElement(K.m,null);if(V)return n.a.createElement(K.h,{error:V.message});if(Z)return n.a.createElement(K.h,{error:Z.message});if(te)return n.a.createElement(K.h,{error:te});if(F)return n.a.createElement(K.b,{resourcename:"Probe details",location:c,tenantview:!0,history:!0},n.a.createElement(R.d,{initialValues:{id:B.id,name:B.name,version:B.version,package:B.package,repository:B.repository,docurl:B.docurl,description:B.description,comment:B.comment},render:function(e){return n.a.createElement(Ne,D()({},e,{isTenantSchema:!0,publicView:l,metrictemplatelist:G,version:B.version}))}}));var oe="";return a||(oe=B.package),n.a.createElement(n.a.Fragment,null,n.a.createElement(K.n,{isOpen:h,toggle:re,title:P,msg:C,onYes:"submit"===y?function(){return ne.apply(this,arguments)}:"delete"===y?function(){return ce.apply(this,arguments)}:void 0}),n.a.createElement(K.b,{resourcename:"".concat(l?"Probe details":"probe"),location:c,addview:a,cloneview:i,clone:!0,publicview:l},n.a.createElement(R.d,{initialValues:{id:B.id,name:B.name,version:B.version,package:oe,repository:B.repository,docurl:B.docurl,description:B.description,comment:B.comment,update_metrics:!1},validationSchema:Ce,onSubmit:function(e,t){return function(e,t){var r="Are you sure you want to ".concat(a||i?"add":"change"," probe?"),n="".concat(a||i?"Add":"Change"," probe");U(e),I(r),x(n),O("submit"),re()}(e)}},(function(e){return n.a.createElement(R.c,null,n.a.createElement(Ne,D()({},e,{addview:a,cloneview:i,publicView:l,list_packages:ee,onSelect:se,metrictemplatelist:G,version:B.version})),!l&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},a||i||l?n.a.createElement("div",null):n.a.createElement(j.a,{color:"danger",onClick:function(){I("Are you sure you want to delete probe?"),x("Delete probe"),O("delete"),re()}},"Delete"),n.a.createElement(j.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}))))},je=function(e){var t=e.match.params.id1,a=e.match.params.id2,i=e.match.params.name,c=e.publicView,s=Object(r.useState)(!1),l=J()(s,2),m=l[0],d=l[1],p=Object(r.useState)({}),_=J()(p,2),E=_[0],f=_[1],g=Object(r.useState)({}),h=J()(g,2),b=h[0],v=h[1],M=Object(r.useState)(null),y=J()(M,2),O=y[0],D=y[1],w=new z.a;return Object(r.useEffect)((function(){function e(){return(e=u()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.fetchData("/api/v2/internal/".concat(c?"public_":"","version/probe/").concat(i));case 3:e.sent.forEach((function(e){e.version==t?f(e.fields):e.version===a&&v(e.fields)})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),D(e.t0);case 10:d(!1);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}d(!0),function(){e.apply(this,arguments)}()}),[]),m?n.a.createElement(K.m,null):O?n.a.createElement(K.h,{error:O}):!m&&E&&b?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Compare ".concat(i))),E.name!==b.name&&n.a.createElement(K.e,{title:"name",item1:E.name,item2:b.name}),E.version!==b.version&&n.a.createElement(K.e,{title:"version",item1:E.version,item2:b.version}),E.package!==b.package&&n.a.createElement(K.e,{title:"package",item1:E.package,item2:b.package}),E.description!==b.description&&n.a.createElement(K.e,{title:"description",item1:E.description,item2:b.description}),E.repository!==b.repository&&n.a.createElement(K.e,{title:"repository",item1:E.repository,item2:b.repository}),E.docurl!==b.docurl&&n.a.createElement(K.e,{title:"documentation",item1:E.docurl,item2:b.docurl}),E.comment!==b.comment&&n.a.createElement(K.e,{title:"comment",item1:E.comment,item2:b.comment})):null},Ue=function(e){var t=e.match.params.name,a=e.match.params.version,i=e.publicView,c=new z.a,s="/api/v2/internal/".concat(i?"public_":"","version/probe"),l=Object(r.useState)({}),m=J()(l,2),d=m[0],p=m[1],_=Object(r.useState)(!1),E=J()(_,2),f=E[0],g=E[1],h=Object(r.useState)(null),b=J()(h,2),v=b[0],M=b[1];return Object(r.useEffect)((function(){function e(){return(e=u()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.fetchData("".concat(s,"/").concat(t));case 3:e.sent.forEach((function(e){e.version===a&&p(e.fields)})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),M(e.t0);case 10:g(!1);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}g(!0),function(){e.apply(this,arguments)}()}),[]),f?n.a.createElement(K.m,null):v?n.a.createElement(K.h,{error:v}):!f&&t?n.a.createElement(K.b,{resourcename:"".concat(t," (").concat(a,")"),infoview:!0},n.a.createElement(R.d,{initialValues:{name:d.name,version:d.version,package:d.package,repository:d.repository,docurl:d.docurl,description:d.description,comment:d.comment},render:function(e){return n.a.createElement(Ne,D()({},e,{version:d.version,isHistory:!0}))}})):null},Re=a("SKq3"),We=Te.object().shape({name:Te.string().matches(/^\S*$/,"Name cannot contain white spaces").required("Required"),type:Te.string(),probeversion:Te.string().when("type",{is:function(e){return"Active"===e},then:Te.string().required("Required")}),probeexecutable:Te.string().when("type",{is:function(e){return"Active"===e},then:Te.string().required("Required")})}),Be=function(e){var t=e.probeview,a=void 0;a=t?e.match.params.metrictemplatename:e.match.params.name;var i=e.location,c=e.addview,s=e.cloneview,l=e.publicView,m=e.tenantview,d=e.history,p="metrictemplate_".concat(c?"addview":"".concat(a,"_").concat(m?"tenant_":"").concat(s?"cloneview":"".concat(l?"publicview":"changeview"))),_=new z.a,E=Object(r.useState)(!1),f=J()(E,2),g=f[0],h=f[1],b=Object(r.useState)(!1),v=J()(b,2),M=v[0],y=v[1],O=Object(r.useState)(void 0),w=J()(O,2),k=w[0],P=w[1],x=Object(r.useState)(void 0),A=J()(x,2),T=A[0],C=A[1],I=Object(r.useState)(void 0),N=J()(I,2),S=N[0],L=N[1],U=Object(r.useState)(void 0),W=J()(U,2),B=W[0],V=W[1],Y=Object(ie.b)("".concat(p,"_types"),u()(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.fetchData("/api/v2/internal/".concat(l?"public_":"","mttypes"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),Q=Y.data,F=Y.error,q=Y.isLoading,H=Object(ie.b)("".concat(p,"_tags"),u()(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.fetchData("/api/v2/internal/".concat(l?"public_":"","metrictags"));case 2:return t=e.sent,a=[],t.forEach((function(e){return a.push({value:e,label:e})})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))),G=H.data,Z=H.error,X=H.isLoading,$=Object(ie.b)("".concat(p,"_allprobeversions"),u()(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.fetchData("/api/v2/internal/".concat(l?"public_":"","version/probe"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),ee=$.data,te=$.error,ae=$.isLoading,re=Object(ie.b)("".concat(p,"_metrictemplates"),u()(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.fetchData("/api/v2/internal/".concat(l?"public_":"","metrictemplates"));case 2:return t=e.sent,a=[],t.forEach((function(e){return a.push(e.name)})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))),ne=re.data,ce=re.error,se=re.isLoading,oe=Object(ie.b)("".concat(p,"_metrictemplate"),u()(o.a.mark((function e(){var t,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={id:"",name:"",probeversion:"",mtype:"Active",description:"",probeexecutable:"",parent:"",config:[{key:"maxCheckAttempts",value:""},{key:"timeout",value:""},{key:"path",value:""},{key:"interval",value:""},{key:"retryInterval",value:""}],attribute:[{key:"",value:""}],dependency:[{key:"",value:""}],parameter:[{key:"",value:""}],flags:[{key:"",value:""}],files:[{key:"",value:""}],fileparameter:[{key:"",value:""}],tags:[],probe:{package:""}},c){e.next=16;break}return e.next=4,_.fetchData("/api/v2/internal/".concat(l?"public_":"","metrictemplates/").concat(a));case 4:t=e.sent,r=[],t.tags.forEach((function(e){return r.push({value:e,label:e})})),t.tags=r,t.probeversion&&(n={},ee.forEach((function(e){e.object_repr===t.probeversion&&(n=e.fields)})),t.probe=n),0===t.attribute.length&&(t.attribute=[{key:"",value:""}]),0===t.dependency.length&&(t.dependency=[{key:"",value:""}]),0===t.parameter.length&&(t.parameter=[{key:"",value:""}]),0===t.flags.length&&(t.flags=[{key:"",value:""}]),0===t.files.length&&(t.files=[{key:"",value:""}]),0===t.fileparameter.length&&(t.fileparameter=[{key:"",value:""}]);case 16:return e.abrupt("return",t);case 18:case"end":return e.stop()}}),e)}))),{enabled:ee}),le=oe.data,ue=oe.error,me=oe.isLoading;function de(e,t){if("probeversion"===e){var a=le,r={},n=!0,i=!1,c=void 0;try{for(var s,o=ee[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var l=s.value;if(l.object_repr===t){r=l.fields;break}r={package:""}}}catch(e){i=!0,c=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw c}}a.probe=r,ie.a.setQueryData("".concat(p,"_metrictemplate"),(function(){return a}))}}function pe(e){var t=le;t.tags=e,ie.a.setQueryData("".concat(p,"_metrictemplate"),(function(){return t}))}function _e(){h(!g)}function Ee(){y(!M)}function fe(){return(fe=u()(o.a.mark((function e(){var t,a,r,n,i,l,u,m,p,E;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(e,t,a){return a.indexOf(e)==t},a=[],le.tags.forEach((function(e){return a.push(e.value)})),r=a.filter(t),!c&&!s){e.next=31;break}return n=void 0,n=s?B.id:"",e.next=10,_.addObject("/api/v2/internal/metrictemplates/",{cloned_from:n,name:B.name,probeversion:B.probeversion,mtype:B.type,tags:r,description:B.description,probeexecutable:B.probeexecutable,parent:B.parent,config:B.config,attribute:B.attributes,dependency:B.dependency,parameter:B.parameter,flags:B.flags,files:B.file_attributes,fileparameter:B.file_parameters});case 10:if((i=e.sent).ok){e.next=27;break}return l="",e.prev=13,e.next=16,i.json();case 16:u=e.sent,l=u.detail,e.next=23;break;case 20:e.prev=20,e.t0=e.catch(13),l="Error adding metric template";case 23:Object(K.r)({title:"Error: ".concat(i.status," ").concat(i.statusText),msg:l}),e.next=28;break;case 27:Object(K.t)({msg:"Metric template successfully added",title:"Added",callback:function(){return d.push("/ui/metrictemplates")}});case 28:e.next=52;break;case 31:return e.next=33,_.changeObject("/api/v2/internal/metrictemplates/",{id:B.id,name:B.name,probeversion:B.probeversion,mtype:B.type,tags:r,description:B.description,probeexecutable:B.probeexecutable,parent:B.parent,config:B.config,attribute:B.attributes,dependency:B.dependency,parameter:B.parameter,flags:B.flags,files:B.file_attributes,fileparameter:B.file_parameters});case 33:if((m=e.sent).ok){e.next=50;break}return p="",e.prev=36,e.next=39,m.json();case 39:E=e.sent,p=E.detail,e.next=46;break;case 43:e.prev=43,e.t1=e.catch(36),p="Error changing metric template";case 46:"418"==m.status?Object(K.u)({title:"Warning: ".concat(m.status," ").concat(m.statusText),msg:p}):Object(K.r)({title:"Error: ".concat(m.status," ").concat(m.statusText),msg:p}),e.next=51;break;case 50:Object(K.t)({msg:"Metric template successfully changed",title:"Changed",callback:function(){return d.push("/ui/metrictemplates")}});case 51:case 52:case 53:case"end":return e.stop()}}),e,null,[[13,20],[36,43]])})))).apply(this,arguments)}function ge(){return(ge=u()(o.a.mark((function e(){var t,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.deleteObject("/api/v2/internal/metrictemplates/".concat(a));case 2:if(!(t=e.sent).ok){e.next=7;break}Object(K.t)({msg:"Metric template successfully deleted",title:"Deleted",callback:function(){return d.push("/ui/metrictemplates")}}),e.next=20;break;case 7:return r="",e.prev=8,e.next=11,t.json();case 11:n=e.sent,r=n.detail,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),r="Error deleting metric template";case 18:Object(K.r)({title:"Error: ".concat(t.status," ").concat(t.statusText),msg:r});case 20:case 21:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}if(!c&&me||q||X||ae||se)return n.a.createElement(K.m,null);if(!c&&ue)return n.a.createElement(K.h,{error:ue.message});if(F)return n.a.createElement(K.h,{error:F.message});if(Z)return n.a.createElement(K.h,{error:Z.message});if(te)return n.a.createElement(K.h,{error:te.message});if(ce)return n.a.createElement(K.h,{error:ce.message});var he=[];return ee.forEach((function(e){return he.push(e.object_repr)})),n.a.createElement(n.a.Fragment,null,n.a.createElement(K.n,{isOpen:M,toggle:Ee,title:T,msg:S,onYes:"submit"===k?function(){return fe.apply(this,arguments)}:"delete"===k?function(){return ge.apply(this,arguments)}:void 0}),n.a.createElement(K.b,{resourcename:m||l?"Metric template details":"metric template",location:i,addview:c,tenantview:m,publicview:l,history:!t,cloneview:s,clone:!l,modal:!1},n.a.createElement(R.d,{initialValues:{id:le.id,name:le.name,probeversion:le.probeversion,type:le.mtype,description:le.description,probeexecutable:le.probeexecutable,parent:le.parent,config:le.config,attributes:le.attribute,dependency:le.dependency,parameter:le.parameter,flags:le.flags,file_attributes:le.files,file_parameters:le.fileparameter},onSubmit:function(e,t){return function(e,t){L("Are you sure you want to ".concat(c||s?"add":"change"," metric template?")),C("".concat(c||s?"Add":"Change"," metric template")),P("submit"),V(e),Ee()}(e)},validationSchema:We,render:function(e){return n.a.createElement(R.c,null,n.a.createElement(Re.d,D()({},e,{obj_label:"metrictemplate",obj:le,probe:le.probe,isTenantSchema:m,publicView:l,addview:c,onSelect:de,popoverOpen:g,togglePopOver:_e,onTagChange:pe,types:Q,alltags:G,tags:c?[]:le.tags,probeversions:he,metrictemplatelist:ne})),!m&&!l&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},c||s?n.a.createElement("div",null):n.a.createElement(j.a,{color:"danger",onClick:function(){L("Are you sure you want to delete metric template?"),C("Delete metric template"),P("delete"),Ee()}},"Delete"),n.a.createElement(j.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})))},Ke=function(e){var t=e.match.params.name,a=e.match.params.version,i=e.publicView,c=new z.a,s=Object(r.useState)(null),l=J()(s,2),m=l[0],d=l[1],p=Object(r.useState)({package:""}),_=J()(p,2),E=_[0],f=_[1],g=Object(r.useState)(!1),h=J()(g,2),b=h[0],v=h[1],M=Object(r.useState)(null),y=J()(M,2),O=y[0],w=y[1];return Object(r.useEffect)((function(){function e(){return(e=u()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.fetchData("/api/v2/internal/".concat(i?"public_":"","version/metrictemplate/").concat(t));case 3:e.sent.forEach(function(){var e=u()(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.version!=a){e.next=8;break}return e.next=3,c.fetchData("/api/v2/internal/".concat(i?"public_":"","version/probe/").concat(t.fields.probeversion.split(" ")[0]));case 3:e.sent.forEach((function(e){e.object_repr===t.fields.probeversion&&f(e.fields)})),(r=t.fields).date_created=t.date_created,d(r);case 8:case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),w(e.t0);case 10:v(!1);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}v(!0),function(){e.apply(this,arguments)}()}),[]),b?n.a.createElement(K.m,null):O?n.a.createElement(K.h,{error:O}):!b&&m?n.a.createElement(K.b,{resourcename:"".concat(t," ").concat(m.probeversion&&"[".concat(m.probeversion,"]")),infoview:!0},n.a.createElement(R.d,{initialValues:{name:m.name,probeversion:m.probeversion,type:m.mtype,probeexecutable:m.probeexecutable,description:m.description,parent:m.parent,config:m.config,attributes:m.attribute,dependency:m.dependency,parameter:m.parameter,flags:m.flags,file_attributes:m.files,file_parameters:m.fileparameter},render:function(e){return n.a.createElement(R.c,null,n.a.createElement(Re.d,D()({},e,{obj_label:"metrictemplate",isHistory:!0,probe:E,tags:m.tags})))}})):null};var ze=function(e){h()(a,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=y()(e);if(t()){var n=y()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return v()(this,a)}}(a);function a(){return d()(this,a),t.apply(this,arguments)}return _()(a,[{key:"componentDidUpdate",value:function(e){e.formik!==this.props.formik&&this.props.onChange(this.props.formik,e.formik)}},{key:"render",value:function(){return null}}]),a}(r.Component),Ve=Object(R.e)(ze);a("R9sY"),a("lrsP");function Ye(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=y()(e);if(t()){var n=y()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return v()(this,a)}}var Qe=Te.object().shape({name:Te.string().required("Required"),groupname:Te.string().required("Required"),metric_operation:Te.string().required("Required"),profile_operation:Te.string().required("Required"),endpoint_group:Te.string().required("Required"),metric_profile:Te.string().required("Required"),groups:Te.array().of(Te.object().shape({name:Te.string().required("Required"),operation:Te.string().required("Required"),services:Te.array().of(Te.object().shape({name:Te.string().required("Required"),operation:Te.string().required("Required")}))}))});function Fe(e,t){return e?[t].concat(G()(e)):[t]}var qe=function(e){var t=e.suggestions,a=e.service,i=e.index,c=e.form,s=e.isNew,o=e.groupNew,l=e.groupIndex,u=e.isMissing,m=Object(r.useState)(t),d=J()(m,2),p=d[0],_=d[1];return n.a.createElement(ee.a,{inputProps:{className:'"form-control custom-select " '.concat(s&&!o?"border-success":""," ").concat(u?"border-primary":""),placeholder:"",onChange:function(e,t){var a=t.newValue;return c.setFieldValue("groups.".concat(l,".services.").concat(i,".name"),a)},value:a.name},getSuggestionValue:function(e){return e},suggestions:p,renderSuggestion:function(e,a){a.query;var r=a.isHighlighted;return n.a.createElement("div",{key:t.indexOf(e),className:"aggregation-autocomplete-entries ".concat(r?"aggregation-autocomplete-entries-highlighted":"")},e?n.a.createElement(K.l,{i:"serviceflavour"}):""," ",e)},onSuggestionsFetchRequested:function(e){var a=e.value,r=t.filter((function(e){return e.toLowerCase().includes(a.trim().toLowerCase())}));_(r)},onSuggestionsClearRequested:function(){_([])},onSuggestionSelected:function(e,t){var a=t.suggestion;c.setFieldValue("groups.".concat(l,".services.").concat(i,".name"),a)},shouldRenderSuggestions:function(){return!0},theme:{suggestionsContainerOpen:"aggregation-autocomplete-menu",suggestionsList:"aggregation-autocomplete-list"}})},He=function(e){var t=e.name,a=e.form,r=e.list_services,i=e.list_operations,c=e.last_service_operation,s=e.write_perm;return n.a.createElement(x.a,{className:"groups"},a.values[t].map((function(e,o){return n.a.createElement(R.b,{key:o,name:"groups",render:function(l){return n.a.createElement(Ge,D()({},l,{key:o,operation:e.operation,services:e.services,list_services:r,list_operations:i,last_service_operation:c,write_perm:s,groupindex:o,isnew:e.isNew,last:o===a.values[t].length-1}))}})})))},Ge=function(e){var t=e.operation,a=e.services,r=e.list_operations,i=e.list_services,c=e.last_service_operation,s=e.write_perm,o=e.form,l=e.groupindex,u=e.remove,m=e.insert,d=e.isnew;return e.last?n.a.createElement(A.a,{sm:{size:12},md:{size:6},className:"mt-4 mb-2 d-flex justify-content-center align-items-center"},n.a.createElement(j.a,{outline:!0,color:"secondary",size:"lg",disabled:!s,onClick:function(){return s&&m(l,{name:"",operation:"",isNew:!0,services:[{name:"",operation:""}]})}},"Add new group")):n.a.createElement(n.a.Fragment,{key:l},n.a.createElement(A.a,{sm:{size:8},md:{size:5},className:"mt-4 mb-2"},n.a.createElement(T.a,{className:d?"border-success":""},n.a.createElement(C.a,{className:"p-1",color:"primary"},n.a.createElement(x.a,{className:"d-flex align-items-center no-gutters"},n.a.createElement(A.a,{sm:{size:10},md:{size:11}},n.a.createElement(R.a,{name:"groups.".concat(l,".name"),placeholder:"Name of service group",required:!0,className:"".concat(o.errors&&o.errors.groups&&o.errors.groups[l]&&o.errors.groups[l].name?"form-control border-danger":"form-control")})),n.a.createElement(A.a,{sm:{size:2},md:{size:1},className:"pl-1"},n.a.createElement(j.a,{size:"sm",color:"danger",type:"button",onClick:function(){return s&&u(l)}},n.a.createElement(te.a,{icon:ae.B}))))),n.a.createElement(I.a,{className:"p-1"},n.a.createElement(R.b,{name:"groups.".concat(l),render:function(e){return n.a.createElement(Ze,{list_services:i,list_operations:r,last_service_operation:c,services:a,groupindex:l,groupoperation:t,groupnew:d,form:o})}})),n.a.createElement(U.a,{className:"p-1 d-flex justify-content-center"},n.a.createElement(K.f,{field:{name:"operation",value:t},data:Fe(r,"Select"),prefix:"groups.".concat(l),class_name:"custom-select col-2",errors:o.errors&&o.errors.groups&&o.errors.groups[l]})))),n.a.createElement(A.a,{sm:{size:4},md:{size:1},className:"mt-5"},n.a.createElement("div",{className:"group-operation",key:l},n.a.createElement(K.f,{field:{name:"profile_operation",value:o.values.profile_operation},data:Fe(r,"Select")}))))},Ze=function(e){var t=e.services,a=e.list_services,r=void 0===a?[]:a,i=e.list_operations,c=void 0===i?[]:i,s=e.last_service_operation,o=e.groupindex,l=e.groupnew,u=void 0!==l&&l,m=e.form;return t.map((function(e,a){return n.a.createElement(R.b,{key:a,name:"groups.".concat(o,".services"),render:function(i){return n.a.createElement(Je,D()({},i,{key:a,service:e,operation:e.operation,list_services:r,list_operations:c,last_service_operation:s,groupindex:o,groupnew:u,index:a,last:a===t.length-1,form:m,isnew:e.isnew,ismissing:e.name&&-1===r.indexOf(e.name)}))}})}))},Je=function(e){e.name;var t=e.service,a=e.operation,r=e.list_services,i=e.list_operations,c=e.last_service_operation,s=e.groupindex,o=e.groupnew,l=e.index,u=e.remove,m=e.insert,d=e.form,p=e.isnew,_=e.ismissing;return n.a.createElement(n.a.Fragment,null,n.a.createElement(x.a,{className:"d-flex align-items-center service pt-1 pb-1 no-gutters",key:l},n.a.createElement(A.a,{md:8},n.a.createElement(qe,{suggestions:r,service:t,index:l,form:d,isNew:p,groupNew:o,groupIndex:s,isMissing:_})),n.a.createElement(A.a,{md:2},n.a.createElement("div",{className:"input-group"},n.a.createElement(K.f,{field:{name:"operation",value:a},data:Fe(i,"Select"),prefix:"groups.".concat(s,".services.").concat(l),class_name:"custom-select service-operation",isnew:p&&!o}))),n.a.createElement(A.a,{md:2,className:"pl-2"},n.a.createElement(j.a,{size:"sm",color:"light",type:"button",onClick:function(){return u(l)}},n.a.createElement(te.a,{icon:ae.B})),n.a.createElement(j.a,{size:"sm",color:"light",type:"button",onClick:function(){return m(l+1,{name:"",operation:c(l,d.values.groups[s].services),isnew:!0})}},n.a.createElement(te.a,{icon:ae.u})))),n.a.createElement(x.a,null,d.errors&&d.errors.groups&&d.errors.groups[s]&&d.errors.groups[s].services&&d.errors.groups[s].services[l]&&d.errors.groups[s].services[l].name&&n.a.createElement(A.a,{md:8},Object(K.i)(d.errors.groups[s].services[l].name)),d.errors&&d.errors.groups&&d.errors.groups[s]&&d.errors.groups[s].services&&d.errors.groups[s].services[l]&&d.errors.groups[s].services[l].operation&&n.a.createElement(A.a,{md:{offset:d.errors.groups[s].services[l].name?0:8,size:2}},Object(K.i)(d.errors.groups[s].services[l].operation))))},Xe=function(e){var t=e.values,a=e.errors,r=e.historyview,i=void 0!==r&&r,c=e.write_perm,s=void 0!==c&&c,o=e.list_user_groups,l=e.logic_operations,u=e.endpoint_groups,m=e.list_id_metric_profiles;return n.a.createElement(n.a.Fragment,null,n.a.createElement(K.w,{values:t,errors:a,fieldsdisable:i,grouplist:i?void 0:s?o:[t.groupname],profiletype:"aggregation"}),n.a.createElement(K.v,{title:"Operations, endpoint group and metric profile"}),n.a.createElement(x.a,{className:"mt-4"},n.a.createElement(A.a,{md:4},n.a.createElement(N.a,null,n.a.createElement(x.a,null,n.a.createElement(A.a,{md:12},n.a.createElement(S.a,{for:"aggregationMetric"},"Metric operation:"))),n.a.createElement(x.a,null,n.a.createElement(A.a,{md:5},i?n.a.createElement(R.a,{name:"metric_operation",className:"form-control",id:"aggregationMetric",disabled:!0}):n.a.createElement(R.a,{name:"metric_operation",component:K.f,data:Fe(l,"Select"),required:!0,class_name:"custom-select",id:"aggregationMetric",errors:a}))),n.a.createElement(x.a,null,n.a.createElement(A.a,{md:12},a&&a.metric_operation&&Object(K.i)(a.metric_operation),n.a.createElement(Ae.a,null,"Logical operation that will be applied between metrics of each service flavour"))))),n.a.createElement(A.a,{md:4},n.a.createElement(N.a,null,n.a.createElement(x.a,null,n.a.createElement(A.a,{md:12},n.a.createElement(S.a,{for:"aggregationOperation"},"Aggregation operation:")),n.a.createElement(A.a,{md:5},i?n.a.createElement(R.a,{name:"profile_operation",className:"form-control",id:"aggregationOperation",disabled:!0}):n.a.createElement(R.a,{name:"profile_operation",component:K.f,data:Fe(l,"Select"),required:!0,class_name:"custom-select",id:"aggregationOperation",errors:a}))),n.a.createElement(x.a,null,n.a.createElement(A.a,{md:12},a&&a.profile_operation&&Object(K.i)(a.profile_operation),n.a.createElement(Ae.a,null,"Logical operation that will be applied between defined service flavour groups"))))),n.a.createElement(A.a,{md:4},n.a.createElement(N.a,null,n.a.createElement(x.a,null,n.a.createElement(A.a,{md:12},n.a.createElement(S.a,{for:"aggregationEndpointGroup"},"Endpoint group:")),n.a.createElement(A.a,{md:5},i?n.a.createElement(R.a,{name:"endpoint_group",className:"form-control",id:"aggregationEndpointGroup",disabled:!0}):n.a.createElement(R.a,{name:"endpoint_group",component:K.f,data:Fe(u,"Select"),required:!0,class_name:"custom-select",id:"aggregationEndpointGroup",errors:a}),a&&a.endpoint_group&&Object(K.i)(a.endpoint_group)))))),n.a.createElement(x.a,{className:"mt-4"},n.a.createElement(A.a,{md:5},n.a.createElement(N.a,null,n.a.createElement(S.a,{for:"metricProfile"},"Metric profile:"),i?n.a.createElement(R.a,{name:"metric_profile",className:"form-control",disabled:!0}):n.a.createElement(R.a,{name:"metric_profile",component:K.f,data:Fe(m.map((function(e){return e.name})),"Select"),required:!0,class_name:"custom-select",errors:a}),a&&a.metric_profile&&Object(K.i)(a.metric_profile),n.a.createElement(Ae.a,null,"Metric profile associated to Aggregation profile. Service flavours defined in service flavour groups originate from selected metric profile.")))),n.a.createElement(K.v,{title:"Service flavour groups"}))},$e=function(e){h()(c,e);var t,a,r,i=Ye(c);function c(e){var t;return d()(this,c),(t=i.call(this,e)).tenant_name=e.tenant_name,t.token=e.webapitoken,t.webapiaggregation=e.webapiaggregation,t.webapimetric=e.webapimetric,t.profile_name=e.match.params.name,t.addview=e.addview,t.history=e.history,t.location=e.location,t.publicView=e.publicView,t.state={aggregation_profile:{},groupname:void 0,list_user_groups:[],write_perm:!1,list_id_metric_profiles:[],list_services:[],list_complete_metric_profiles:{},areYouSureModal:!1,loading:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0,error:null},t.backend=new z.a,t.webapi=new z.b({token:e.webapitoken,metricProfiles:e.webapimetric,aggregationProfiles:e.webapiaggregation}),t.extractListOfMetricsProfiles=t.extractListOfMetricsProfiles.bind(f()(t)),t.toggleAreYouSure=t.toggleAreYouSure.bind(f()(t)),t.doChange=t.doChange.bind(f()(t)),t.doDelete=t.doDelete.bind(f()(t)),t.toggleAreYouSureSetModal=t.toggleAreYouSureSetModal.bind(f()(t)),t.onSubmitHandle=t.onSubmitHandle.bind(f()(t)),t.logic_operations=["OR","AND"],t.endpoint_groups=["servicegroups","sites"],t}return _()(c,[{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"correctMetricProfileName",value:function(e,t){var a=t.filter((function(t){return t.id===e}));return a.length?a[0].name:""}},{key:"sortServices",value:function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:void 0}},{key:"extractListOfServices",value:function(e,t){var a=t.filter((function(t){return t.name===e.name}));return 0===a.length&&(a=t.filter((function(t){return t.id===e.id}))),a.length?a[0].services.map((function(e){return e.service})).sort(this.sortServices):[]}},{key:"sortMetricProfiles",value:function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:e.name.toLowerCase()===t.name.toLowerCase()?0:void 0}},{key:"extractListOfMetricsProfiles",value:function(e){var t=[];return e.forEach((function(e){var a=t.length,r=e.name,n=e.id;t[a]={name:r,id:n},a+=1})),t.sort(this.sortMetricProfiles)}},{key:"insertEmptyServiceForNoServices",value:function(e){return e.forEach((function(e){0===e.services.length&&e.services.push({name:"",operation:""})})),e}},{key:"insertOperationFromPrevious",value:function(e,t){return t.length?t[t.length-1].operation:""}},{key:"onSubmitHandle",value:function(e,t){var a=this,r=void 0,n=void 0;this.addview?(r="Are you sure you want to add Aggregation profile?",n="Add aggregation profile"):(r="Are you sure you want to change Aggregation profile?",n="Change aggregation profile"),this.toggleAreYouSureSetModal(r,n,(function(){return a.doChange(e,t)}))}},{key:"doChange",value:(r=u()(o.a.mark((function e(t,a){var r,n,i,c,s,l,u,m,d,p,_,E,f,g,h,b,v,M=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=JSON.parse(JSON.stringify(t)),this.removeDummyGroup(r),r.namespace=this.tenant_name,n=this.state.list_id_metric_profiles.filter((function(e){return r.metric_profile===e.name})),r.metric_profile=n[0],this.addview){e.next=47;break}return e.next=8,this.webapi.changeAggregation(r);case 8:if((i=e.sent).ok){e.next=26;break}return c="",e.prev=11,e.next=14,i.json();case 14:s=e.sent,l=[],s.errors.forEach((function(e){return l.push(e.details)})),c=l.join(" "),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(11),c="Web API error changing aggregation profile";case 23:Object(K.r)({title:"Web API error: ".concat(i.status," ").concat(i.statusText),msg:c}),e.next=45;break;case 26:return e.next=28,this.backend.changeObject("/api/v2/internal/aggregations/",{apiid:r.id,name:r.name,groupname:r.groupname,endpoint_group:r.endpoint_group,metric_operation:r.metric_operation,profile_operation:r.profile_operation,metric_profile:t.metric_profile,groups:JSON.stringify(r.groups)});case 28:if(!(u=e.sent).ok){e.next=33;break}Object(K.t)({msg:"Aggregation profile succesfully changed",title:"Changed",callback:function(){return M.history.push("/ui/aggregationprofiles")}}),e.next=45;break;case 33:return m="",e.prev=34,e.next=37,u.json();case 37:d=e.sent,m=d.detail,e.next=44;break;case 41:e.prev=41,e.t1=e.catch(34),m="Internal API error changing aggregation profile";case 44:Object(K.r)({title:"Internal API error: ".concat(u.status," ").concat(u.statusText),msg:m});case 45:e.next=89;break;case 47:return e.next=49,this.webapi.addAggregation(r);case 49:if((p=e.sent).ok){e.next=67;break}return _="",e.prev=52,e.next=55,p.json();case 55:E=e.sent,f=[],E.errors.forEach((function(e){return f.push(e.details)})),_=f.join(" "),e.next=64;break;case 61:e.prev=61,e.t2=e.catch(52),_="Web API error adding aggregation profile: ".concat(e.t2);case 64:Object(K.r)({title:"Web API error: ".concat(p.status," ").concat(p.statusText),msg:_}),e.next=89;break;case 67:return e.next=69,p.json();case 69:return g=e.sent,e.next=72,this.backend.addObject("/api/v2/internal/aggregations/",{apiid:g.data.id,name:r.name,groupname:r.groupname,endpoint_group:r.endpoint_group,metric_operation:r.metric_operation,profile_operation:r.profile_operation,metric_profile:t.metric_profile,groups:JSON.stringify(r.groups)});case 72:if(!(h=e.sent).ok){e.next=77;break}Object(K.t)({msg:"Aggregation profile successfully added",title:"Added",callback:function(){return M.history.push("/ui/aggregationprofiles")}}),e.next=89;break;case 77:return b="",e.prev=78,e.next=81,h.json();case 81:v=e.sent,b=v.detail,e.next=88;break;case 85:e.prev=85,e.t3=e.catch(78),b="Internal API error adding aggregation profile";case 88:Object(K.r)({title:"Internal API error: ".concat(h.status," ").concat(h.statusText),msg:b});case 89:case"end":return e.stop()}}),e,this,[[11,20],[34,41],[52,61],[78,85]])}))),function(e,t){return r.apply(this,arguments)})},{key:"doDelete",value:(a=u()(o.a.mark((function e(t){var a,r,n,i,c,s,l,u=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.webapi.deleteAggregation(t);case 2:if((a=e.sent).ok){e.next=20;break}return r="",e.prev=5,e.next=8,a.json();case 8:n=e.sent,i=[],n.errors.forEach((function(e){return i.push(e.details)})),r=i.join(" "),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),r="Web API error deleting aggregation profile";case 17:Object(K.r)({title:"Web API error: ".concat(a.status," ").concat(a.statusText),msg:r}),e.next=39;break;case 20:return e.next=22,this.backend.deleteObject("/api/v2/internal/aggregations/".concat(t));case 22:if(!(c=e.sent).ok){e.next=27;break}Object(K.t)({msg:"Aggregation profile sucessfully deleted",title:"Deleted",callback:function(){return u.history.push("/ui/aggregationprofiles")}}),e.next=39;break;case 27:return s="",e.prev=28,e.next=31,c.json();case 31:l=e.sent,s=l.detail,e.next=38;break;case 35:e.prev=35,e.t1=e.catch(28),s="Internal API error deleting aggregation profile";case 38:Object(K.r)({title:"Internal API error: ".concat(c.status," ").concat(c.statusText),msg:s});case 39:case"end":return e.stop()}}),e,this,[[5,14],[28,35]])}))),function(e){return a.apply(this,arguments)})},{key:"insertDummyGroup",value:function(e){return[].concat(G()(e),[{name:"dummy",operation:"OR",services:[{name:"dummy",operation:"OR"}]}])}},{key:"removeDummyGroup",value:function(e){var t=e.groups[e.groups.length-1];"dummy"==t.name&&"dummy"==t.services[0].name&&e.groups.pop()}},{key:"checkIfServiceMissingInMetricProfile",value:function(e,t){var a=new Set(e),r=!1;return t.forEach((function(e){var t=!0,n=!1,i=void 0;try{for(var c,s=e.services[Symbol.iterator]();!(t=(c=s.next()).done);t=!0){var o=c.value;if(!a.has(o.name)){r=!0;break}}}catch(e){n=!0,i=e}finally{try{t||null==s.return||s.return()}finally{if(n)throw i}}})),r}},{key:"componentDidMount",value:(t=u()(o.a.mark((function e(){var t,a,r,n,i,c,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),e.prev=1,!this.publicView){e.next=15;break}return e.next=5,this.webapi.fetchMetricProfiles();case 5:return t=e.sent,e.next=8,this.backend.fetchData("/api/v2/internal/public_aggregations/".concat(this.profile_name));case 8:return a=e.sent,e.next=11,this.webapi.fetchAggregationProfile(a.apiid);case 11:r=e.sent,this.setState({aggregation_profile:r,groupname:a.groupname,list_user_groups:[],write_perm:!1,list_id_metric_profiles:this.extractListOfMetricsProfiles(t),list_services:this.extractListOfServices(r.metric_profile,t),list_complete_metric_profiles:t,loading:!1}),e.next=34;break;case 15:return e.next=17,this.backend.isActiveSession();case 17:if(!(n=e.sent).active){e.next=34;break}return e.next=21,this.webapi.fetchMetricProfiles();case 21:if(i=e.sent,this.addview){e.next=32;break}return e.next=25,this.backend.fetchData("/api/v2/internal/aggregations/".concat(this.profile_name));case 25:return c=e.sent,e.next=28,this.webapi.fetchAggregationProfile(c.apiid);case 28:s=e.sent,this.setState({aggregation_profile:s,groupname:c.groupname,list_user_groups:n.userdetails.groups.aggregations,write_perm:n.userdetails.is_superuser||n.userdetails.groups.aggregations.indexOf(c.groupname)>=0,list_id_metric_profiles:this.extractListOfMetricsProfiles(i),list_services:this.extractListOfServices(s.metric_profile,i),list_complete_metric_profiles:i,loading:!1}),e.next=34;break;case 32:l={id:"",name:"",metric_operation:"",profile_operation:"",endpoint_group:"",metric_profile:{name:""},groups:[]},this.setState({aggregation_profile:l,groupname:"",list_user_groups:n.userdetails.groups.aggregations,write_perm:n.userdetails.is_superuser||n.userdetails.groups.aggregations.length>0,list_id_metric_profiles:this.extractListOfMetricsProfiles(i),list_complete_metric_profiles:i,list_services:[],loading:!1});case 34:e.next=39;break;case 36:e.prev=36,e.t0=e.catch(1),this.setState({error:e.t0,loading:!1});case 39:case"end":return e.stop()}}),e,this,[[1,36]])}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state,a=t.aggregation_profile,r=t.list_id_metric_profiles,i=t.list_complete_metric_profiles,c=t.list_user_groups,s=t.groupname,o=t.list_services,l=t.write_perm,u=t.loading,m=t.error;if(u)return n.a.createElement(K.m,null);if(m)return n.a.createElement(K.h,{error:m});if(!u&&a&&a.metric_profile&&c&&this.token){var d=this.checkIfServiceMissingInMetricProfile(o,a.groups);return n.a.createElement(K.b,{resourcename:this.publicView?"Aggregation profile details":"aggregation profile",location:this.location,modal:!0,history:!this.publicView,state:this.state,toggle:this.toggleAreYouSure,addview:this.publicView?!this.publicView:this.addview,publicview:this.publicView,submitperm:l},n.a.createElement(R.d,{initialValues:{id:a.id,name:a.name,groupname:s,metric_operation:a.metric_operation,profile_operation:a.profile_operation,metric_profile:this.correctMetricProfileName(a.metric_profile.id,r),endpoint_group:a.endpoint_group,groups:this.publicView?a.groups:this.insertDummyGroup(this.insertEmptyServiceForNoServices(a.groups))},onSubmit:function(t,a){return e.onSubmitHandle(t,a)},validationSchema:Qe,render:function(t){return n.a.createElement(R.c,null,n.a.createElement(Ve,{onChange:function(t,a){if(t.values.metric_profile!==a.values.metric_profile){var r={name:t.values.metric_profile};e.setState({list_services:e.extractListOfServices(r,i)})}}}),d&&!e.publicView&&n.a.createElement(L.a,{color:"danger"},n.a.createElement("center",null,n.a.createElement(te.a,{icon:ae.p,size:"lg",color:"black"}),"   Some Service Flavours used in Aggregation profile are not presented in associated Metric profile meaning that two profiles are out of sync. Check below for Service Flavours in blue borders.")),n.a.createElement(Xe,D()({},t,{list_user_groups:c,logic_operations:e.logic_operations,endpoint_groups:e.endpoint_groups,list_id_metric_profiles:r,write_perm:l,historyview:e.publicView})),e.publicView?n.a.createElement(R.b,{name:"groups",render:function(e){return n.a.createElement(x.a,{className:"groups"},t.values.groups.map((function(e,a){return n.a.createElement(R.b,{key:a,name:"groups",render:function(r){return n.a.createElement(n.a.Fragment,{key:a},n.a.createElement(A.a,{sm:{size:8},md:{size:5},className:"mt-4 mb-2"},n.a.createElement(T.a,null,n.a.createElement(C.a,{className:"p-1",color:"primary"},n.a.createElement(x.a,{className:"d-flex align-items-center no-gutters"},n.a.createElement(A.a,{sm:{size:10},md:{size:11}},t.values.groups[a].name))),n.a.createElement(I.a,{className:"p-1"},e.services.map((function(e,r){return n.a.createElement(R.b,{key:r,name:"groups.".concat(a,".services"),render:function(e){return n.a.createElement(x.a,{className:"d-flex align-items-center service pt-1 pb-1 no-gutters",key:r},n.a.createElement(A.a,{md:8},t.values.groups[a].services[r].name),n.a.createElement(A.a,{md:2},t.values.groups[a].services[r].operation))}})}))),n.a.createElement(U.a,{className:"p-1 d-flex justify-content-center"},t.values.groups[a].operation))),n.a.createElement(A.a,{sm:{size:4},md:{size:1},className:"mt-5"},n.a.createElement("div",{className:"group-operation",key:a},t.values.profile_operation)))}})})))}}):n.a.createElement(R.b,{name:"groups",render:function(t){return n.a.createElement(He,D()({},t,{list_services:o,list_operations:e.logic_operations,last_service_operation:e.insertOperationFromPrevious,write_perm:l}))}}),l&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},n.a.createElement(j.a,{color:"danger",onClick:function(){e.toggleAreYouSureSetModal("Are you sure you want to delete Aggregation profile?","Delete aggregation profile",(function(){return e.doDelete(t.values.id)}))}},"Delete"),n.a.createElement(j.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}}))}return null}}]),c}(r.Component),et=function(e){var t=e.location,a=new z.a,i=e.publicView,c=null;c=i?"/api/v2/internal/public_aggregations":"/api/v2/internal/aggregations";var s=Object(ie.b)("session_userdetails",u()(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.isActiveSession();case 2:if(!(t=e.sent).active){e.next=5;break}return e.abrupt("return",t.userdetails);case 5:case"end":return e.stop()}}),e)})))),l=s.data,m=s.error,d=s.isLoading,p=Object(ie.b)("aggregations_listview",u()(o.a.mark((function e(){var t,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchData(c);case 2:for(t=e.sent,r=10-t.length%10,n=0;n<r;n++)t.push({description:"",groupname:"",name:""});return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))),_=p.data,E=p.error,f=p.isLoading,g=Object(r.useMemo)((function(){return[{Header:"#",accessor:null},{Header:"Name",id:"name",maxWidth:350,accessor:function(e){return n.a.createElement(X.b,{to:"/ui/".concat(i?"public_":"","aggregationprofiles/")+e.name},e.name)}},{Header:"Description",accessor:"description"},{Header:"Group",accessor:"groupname",className:"text-center",maxWidth:150}]}));return d||f?n.a.createElement(K.m,null):E?n.a.createElement(K.h,{error:E}):m?n.a.createElement(K.h,{error:m}):d||d||!_?null:n.a.createElement(K.b,{resourcename:"aggregation profile",location:t,listview:!0,addnew:!i,addperm:!i&&(l.is_superuser||l.groups.metricprofiles.length>0),publicview:i},n.a.createElement(K.x,{data:_,columns:g,type:"aggregation"}))},tt=function(e){for(var t=e.title,a=e.item1,r=e.item2,i=[],c=[],s=0;s<a.length;s++){for(var o=[],l=0;l<a[s].services.length;l++)o.push("{name: ".concat(a[s].services[l].name,", operation: ").concat(a[s].services[l].operation,"}"));i.push("name: ".concat(a[s].name,",\noperation: ").concat(a[s].operation,",\nservices: [\n").concat(o.join("\n"),"\n]"))}for(var u=0;u<r.length;u++){for(var m=[],d=0;d<r[u].services.length;d++)m.push("{name: ".concat(r[u].services[d].name,", operation: ").concat(r[u].services[d].operation,"}"));c.push("name: ".concat(r[u].name,",\noperation: ").concat(r[u].operation,",\nservices: [\n").concat(m.join("\n"),"\n]"))}return n.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},n.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},t),n.a.createElement(ne.a,{oldValue:c.join("\n"),newValue:i.join("\n"),showDiffOnly:!0,splitView:!0,hideLineNumbers:!0}))},at=function(e){h()(r,e);var t,a=Ye(r);function r(e){var t;return d()(this,r),(t=a.call(this,e)).version1=e.match.params.id1,t.version2=e.match.params.id2,t.name=e.match.params.name,t.state={loading:!1,name1:"",groupname1:"",metric_operation1:"",profile_operation1:"",endpoint_group1:"",metric_profile1:"",groups1:[],name2:"",groupname2:"",metric_operation2:"",profile_operation2:"",endpoint_group2:"",metric_profile2:"",groups2:[],error:null},t.backend=new z.a,t}return _()(r,[{key:"componentDidMount",value:(t=u()(o.a.mark((function e(){var t,a,r,n,i,c,s,l,u,m,d,p,_,E,f,g=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.backend.fetchData("/api/v2/internal/tenantversion/aggregationprofile/".concat(this.name));case 3:t=e.sent,a="",r="",n="",i="",c="",s="",l=[],u="",m="",d="",p="",_="",E="",f=[],t.forEach((function(e){e.version==g.version1?(a=e.fields.name,r=e.fields.groupname,n=e.fields.metric_operation,i=e.fields.profile_operation,c=e.fields.endpoint_group,s=e.fields.metric_profile,l=e.fields.groups):e.version==g.version2&&(u=e.fields.name,m=e.fields.groupname,d=e.fields.metric_operation,p=e.fields.profile_operation,_=e.fields.endpoint_group,E=e.fields.metric_profile,f=e.fields.groups),g.setState({name1:a,groupname1:r,metric_operation1:n,profile_operation1:i,endpoint_group1:c,metric_profile1:s,groups1:l,name2:u,groupname2:m,metric_operation2:d,profile_operation2:p,endpoint_group2:_,metric_profile2:E,groups2:f,loading:!1})})),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),this.setState({error:e.t0,loading:!1});case 24:case"end":return e.stop()}}),e,this,[[0,21]])}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.name1,a=e.name2,r=e.groupname1,i=e.groupname2,c=e.metric_operation1,s=e.metric_operation2,o=e.profile_operation1,l=e.profile_operation2,u=e.endpoint_group1,m=e.endpoint_group2,d=e.metric_profile1,p=e.metric_profile2,_=e.groups1,E=e.groups2,f=e.loading,g=e.error;return f?n.a.createElement(K.m,null):g?n.a.createElement(K.h,{error:g}):!f&&t&&a?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Compare ".concat(this.name," versions"))),t!==a&&n.a.createElement(K.e,{title:"name",item1:t,item2:a}),r!==i&&n.a.createElement(K.e,{title:"group name",item1:r,item2:i}),c!==s&&n.a.createElement(K.e,{title:"metric operation",item1:c,item2:s}),o!==l&&n.a.createElement(K.e,{title:"aggregation operation",item1:o,item2:l}),u!==m&&n.a.createElement(K.e,{title:"endpoint group",item1:u,item2:m}),d!==p&&n.a.createElement(K.e,{title:"metric profile",item1:d,item2:p}),_!==E&&n.a.createElement(tt,{title:"groups",item1:_,item2:E})):null}}]),r}(r.Component),rt=function(e){h()(r,e);var t,a=Ye(r);function r(e){var t;return d()(this,r),(t=a.call(this,e)).name=e.match.params.name,t.version=e.match.params.version,t.backend=new z.a,t.state={name:"",groupname:"",metric_operation:"",profile_operation:"",endpoint_group:"",metric_profile:"",groups:[],date_created:"",loading:!1,error:null},t}return _()(r,[{key:"componentDidMount",value:(t=u()(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.prev=1,e.next=4,this.backend.fetchData("/api/v2/internal/tenantversion/aggregationprofile/".concat(this.name));case 4:e.sent.forEach((function(e){e.version==t.version&&t.setState({name:e.fields.name,groupname:e.fields.groupname,metric_operation:e.fields.metric_operation,profile_operation:e.fields.profile_operation,endpoint_group:e.fields.endpoint_group,metric_profile:e.fields.metric_profile,groups:e.fields.groups,date_created:e.date_created,loading:!1})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.setState({error:e.t0,loading:!1});case 11:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.name,a=e.groupname,r=e.metric_operation,i=e.profile_operation,c=e.endpoint_group,s=e.metric_profile,o=e.groups,l=e.date_created,u=e.loading,m=e.error;return u?n.a.createElement(K.m,null):m?n.a.createElement(K.h,{error:m}):!u&&t?n.a.createElement(K.b,{resourcename:"".concat(t," (").concat(l,")"),infoview:!0},n.a.createElement(R.d,{initialValues:{name:t,groupname:a,metric_operation:r,profile_operation:i,endpoint_group:c,metric_profile:s,groups:o},render:function(e){return n.a.createElement(R.c,null,n.a.createElement(Xe,D()({},e,{historyview:!0})),n.a.createElement(R.b,{name:"groups",render:function(t){return n.a.createElement(x.a,{className:"groups"},e.values.groups.map((function(t,a){return n.a.createElement(R.b,{key:a,name:"groups",render:function(r){return n.a.createElement(n.a.Fragment,{key:a},n.a.createElement(A.a,{sm:{size:8},md:{size:5},className:"mt-4 mb-2"},n.a.createElement(T.a,null,n.a.createElement(C.a,{className:"p-1",color:"primary"},n.a.createElement(x.a,{className:"d-flex align-items-center no-gutters"},n.a.createElement(A.a,{sm:{size:10},md:{size:11}},o[a].name))),n.a.createElement(I.a,{className:"p-1"},t.services.map((function(e,t){return n.a.createElement(R.b,{key:t,name:"groups.".concat(a,".services"),render:function(e){return n.a.createElement(x.a,{className:"d-flex align-items-center service pt-1 pb-1 no-gutters",key:t},n.a.createElement(A.a,{md:8},o[a].services[t].name),n.a.createElement(A.a,{md:2},o[a].services[t].operation))}})}))),n.a.createElement(U.a,{className:"p-1 d-flex justify-content-center"},o[a].operation))),n.a.createElement(A.a,{sm:{size:4},md:{size:1},className:"mt-5"},n.a.createElement("div",{className:"group-operation",key:a},e.values.profile_operation)))}})})))}}))}})):null}}]),r}(r.Component),nt=a("bAGh"),it=a("TKOK"),ct=a("5Ves"),st=a("uBiN"),ot=a("VYKx");function lt(e){var t=e.columns,a=e.data,r=Object(ot.useTable)({columns:t,data:a,initialState:{pageIndex:0,pageSize:10}},ot.usePagination),i=r.headerGroups,c=r.prepareRow,s=r.page,o=r.canPreviousPage,l=r.canNextPage,u=r.pageCount,m=r.gotoPage,d=r.nextPage,p=r.previousPage,_=r.setPageSize,E=r.state,f=E.pageIndex,g=E.pageSize;return n.a.createElement(n.a.Fragment,null,n.a.createElement(x.a,null,n.a.createElement(A.a,null,n.a.createElement("table",{className:"table table-bordered table-hover"},n.a.createElement("thead",{className:"table-active align-middle text-center"},i.map((function(e,t){return n.a.createElement(n.a.Fragment,{key:t},n.a.createElement("tr",null,e.headers.map((function(e,t){var a=void 0;return 0===t&&(a="2%"),1===t&&(a="20%"),2===t&&(a="70%"),3===t&&(a="8%"),n.a.createElement("th",{style:{width:a},className:"p-1 m-1",key:t},e.render("Header"))}))))}))),n.a.createElement("tbody",null,s.map((function(e,t){return c(e),n.a.createElement("tr",{key:t},e.cells.map((function(e,a){return 0===a?n.a.createElement("td",{key:a,className:"align-middle text-center"},t+1+f*g):n.a.createElement("td",{key:a,className:"align-middle"},e.render("Cell"))})))})))))),n.a.createElement(x.a,null,n.a.createElement(A.a,{className:"d-flex justify-content-center"},n.a.createElement(nt.a,null,n.a.createElement(it.a,{disabled:!o},n.a.createElement(ct.a,{first:!0,onClick:function(){return m(0)}})),n.a.createElement(it.a,{disabled:!o},n.a.createElement(ct.a,{previous:!0,onClick:function(){return p()}})),G()(Array(u)).map((function(e,t){return n.a.createElement(it.a,{key:t,active:f===t},n.a.createElement(ct.a,{onClick:function(){return m(t)}},t+1))})),n.a.createElement(it.a,{disabled:!l},n.a.createElement(ct.a,{next:!0,onClick:function(){return d()}})),n.a.createElement(it.a,{disabled:!l},n.a.createElement(ct.a,{last:!0,onClick:function(){return m(u+1)}})),n.a.createElement(it.a,{className:"pl-2"},n.a.createElement("select",{style:{width:"180px"},className:"custom-select text-primary",value:g,onChange:function(e){return _(Number(e.target.value))}},[10,20,50].map((function(e){return n.a.createElement("option",{key:e,value:e},e," reports")}))))))))}var ut=function(e){var t=e.location,a=new z.b({token:e.webapitoken,reportsConfigurations:e.webapireports}),r=Object(ie.b)("reports_listview",u()(o.a.mark((function e(){var t,r,n,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchReports();case 2:for(t=e.sent,r=[],t.forEach((function(e){return r.push({name:e.info.name,description:e.info.description,disabled:e.disabled})})),n=10-r.length%10,i=0;i<n;i++)r.push({description:"",groupname:"",name:"",disabled:""});return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))),i=r.data,c=r.error,s=r.isLoading,l=n.a.useMemo((function(){return[{Header:"#",accessor:null},{Header:"Name",id:"name",accessor:function(e){return n.a.createElement(X.b,{to:"/ui/reports/".concat(e.name)},e.name)}},{Header:"Description",accessor:"description"},{Header:"Enabled",id:"disabled",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)},accessor:function(e){return""===e.disabled?"":e.disabled?n.a.createElement(te.a,{icon:ae.C,style:{color:"#CC0000"}}):n.a.createElement(te.a,{icon:ae.e,style:{color:"#339900"}})}}]}));return s?n.a.createElement(K.m,null):c?n.a.createElement(K.h,{error:c}):n.a.createElement(K.b,{resourcename:"report",location:t,listview:!0,addnew:!1},n.a.createElement(lt,{data:i,columns:l}))},mt=function(e){var t=e.match.params.name,a=e.location,r="report_".concat(t,"_changeview"),i=new z.b({token:e.webapitoken,reportsConfigurations:e.webapireports,metricProfiles:e.webapimetric,aggregationProfiles:e.webapiaggregation,operationsProfiles:e.webapioperations}),c=Object(ie.b)("".concat(r,"_report"),u()(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.fetchReport(t),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})))),s=c.data,l=c.error,m=c.isLoading,d=Object(ie.b)("".concat(r,"_metricprofiles"),u()(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.fetchMetricProfiles();case 2:return t=e.sent,a=[],t.forEach((function(e){return a.push(e.name)})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))),p=d.data,_=d.error,E=d.isLoading,f=Object(ie.b)("".concat(r,"_aggregationprofiles"),u()(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.fetchAggregationProfiles();case 2:return t=e.sent,a=[],t.forEach((function(e){return a.push(e.name)})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))),g=f.data,h=f.error,b=f.isLoading,v=Object(ie.b)("".concat(r,"_operationsprofiles"),u()(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.fetchOperationsProfiles();case 2:return t=e.sent,a=[],t.forEach((function(e){return a.push(e.name)})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))),M=v.data,y=v.error,O=v.isLoading;if(m||E||b||O)return n.a.createElement(K.m,null);if(l)return n.a.createElement(K.h,{error:l});if(_)return n.a.createElement(K.h,{error:_});if(h)return n.a.createElement(K.h,{error:h});if(y)return n.a.createElement(K.h,{error:y});var D="",w="",k="";return s.profiles.forEach((function(e){"metric"===e.type&&(D=e.name),"aggregation"===e.type&&(w=e.name),"operations"===e.type&&(k=e.name)})),n.a.createElement(K.b,{resourcename:"report",location:a,history:!1},n.a.createElement(R.d,{initialValues:q()({id:s.id,disabled:s.disabled,name:s.info.name,description:s.info.description,metricProfile:D,aggregationProfile:w,operationsProfile:k,availabilityThreshold:s.thresholds.availability,reliabilityThreshold:s.thresholds.reliability,uptimeThreshold:s.thresholds.uptime,unknownThreshold:s.thresholds.unknown,downtimeThreshold:s.thresholds.downtime},"disabled",s.disabled),render:function(e){return n.a.createElement(st.a,null,n.a.createElement(N.a,null,n.a.createElement(x.a,{className:"align-items-center"},n.a.createElement(A.a,{md:6},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"Name"),n.a.createElement(R.a,{type:"text",name:"name",className:"form-control form-control-lg"})),n.a.createElement(Ae.a,{color:"muted"},"Report name")),n.a.createElement(A.a,{md:2},n.a.createElement(R.a,{component:K.c,name:"disabled",className:"form-control",id:"checkbox",label:"Disabled"}),n.a.createElement(Ae.a,{color:"muted"},"Mark report as disabled."))),n.a.createElement(x.a,{className:"mt-3"},n.a.createElement(A.a,{md:10},n.a.createElement(S.a,{for:"description"},"Description:"),n.a.createElement(R.a,{id:"description",className:"form-control",component:"textarea",name:"description"}),n.a.createElement(Ae.a,{color:"muted"},"Free text report description.")))),n.a.createElement(N.a,{className:"mt-4"},n.a.createElement(K.v,{title:"profiles"}),n.a.createElement(x.a,{className:"mt-2"},n.a.createElement(A.a,{md:4},n.a.createElement(S.a,{to:"metricProfile"},"Metric profile:"),n.a.createElement(R.a,{id:"metricProfile",component:"select",className:"form-control custom-select",name:"metricProfile"},p.map((function(e,t){return n.a.createElement("option",{key:t,value:e},e)})))),n.a.createElement(A.a,{md:4},n.a.createElement(S.a,{to:"aggregationProfile"},"Aggregation profile:"),n.a.createElement(R.a,{component:"select",id:"aggregationProfile",className:"form-control custom-select",name:"aggregationProfile"},g.map((function(e,t){return n.a.createElement("option",{key:t,value:e},e)})))),n.a.createElement(A.a,{md:4},n.a.createElement(S.a,{to:"operationsProfile"},"Operations profile:"),n.a.createElement(R.a,{component:"select",id:"operationsProfile",className:"form-control custom-select",name:"operationsProfile"},M.map((function(e,t){return n.a.createElement("option",{key:t,value:e},e)})))))),n.a.createElement(N.a,{className:"mt-4"},n.a.createElement(K.v,{title:"Thresholds"}),n.a.createElement(x.a,null,n.a.createElement(A.a,{md:2,className:"mr-4"},n.a.createElement(S.a,{to:"availabilityThreshold"},"Availability:"),n.a.createElement(R.a,{id:"availabilityThreshold",name:"availabilityThreshold",className:"form-control"})),n.a.createElement(A.a,{md:2,className:"mr-4"},n.a.createElement(S.a,{to:"reliabilityThreshold"},"Reliability:"),n.a.createElement(R.a,{id:"reliabilityThreshold",name:"reliabilityThreshold",className:"form-control"})),n.a.createElement(A.a,{md:2,className:"mr-4"},n.a.createElement(S.a,{to:"uptimeThreshold"},"Uptime:"),n.a.createElement(R.a,{id:"uptimeThreshold",name:"uptimeThreshold",className:"form-control"})),n.a.createElement(A.a,{md:2,className:"mr-4"},n.a.createElement(S.a,{to:"unknownThreshold"},"Unknown:"),n.a.createElement(R.a,{id:"unknownThreshold",name:"unknownThreshold",className:"form-control"})),n.a.createElement(A.a,{md:2,className:"mr-4"},n.a.createElement(S.a,{to:"downtimeThreshold"},"Downtime:"),n.a.createElement(R.a,{id:"downtimeThreshold",name:"downtimeThreshold",className:"form-control"})))))}}))};a("QjdQ");function dt(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=y()(e);if(t()){var n=y()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return v()(this,a)}}var pt=Te.object().shape({username:Te.string().max(30,"Username must be 30 characters or fewer.").matches(/^[A-Za-z0-9@.+\-_]*$/,"Letters, numbers and @/./+/-/_ characters").required("Required"),addview:Te.boolean(),password:Te.string().when("addview",{is:!0,then:Te.string().required("Required").min(8,"Your password must contain at least 8 characters.").matches(/^\d*[a-zA-Z][a-zA-Z\d]*$/,"Your password cannot be entirely numeric.")}),confirm_password:Te.string().when("addview",{is:!0,then:Te.string().required("Required").oneOf([Te.ref("password"),null],"Passwords do not match!")}),email:Te.string().email("Enter valid email.").required("Required")}),_t=Te.object().shape({password:Te.string().required("Required").min(8,"Your password must contain at least 8 characters.").matches(/^\d*[a-zA-Z][a-zA-Z\d]*$/,"Your password cannot be entirely numeric."),confirm_password:Te.string().required("Required").oneOf([Te.ref("password"),null],"Passwords do not match!")}),Et=bt(!0),ft=bt(),gt=function(e){var t=e.add,a=e.errors;e.values;return n.a.createElement(n.a.Fragment,null,t?n.a.createElement(N.a,null,n.a.createElement(x.a,null,n.a.createElement(A.a,{md:6},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"Username"),n.a.createElement(R.a,{type:"text",name:"username",className:"form-control ".concat(a.username&&"border-danger"),id:"userUsername"})),a.username&&Object(K.i)(a.username))),n.a.createElement(x.a,null,n.a.createElement(A.a,{md:6},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"Password"),n.a.createElement(R.a,{type:"password",name:"password",className:"form-control ".concat(a.password&&"border-danger"),id:"password"})),a.password&&Object(K.i)(a.password))),n.a.createElement(x.a,null,n.a.createElement(A.a,{md:6},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"Confirm password"),n.a.createElement(R.a,{type:"password",name:"confirm_password",className:"form-control ".concat(a.confirm_password&&"border-danger"),id:"confirm_password"})),a.confirm_password&&Object(K.i)(a.confirm_password)))):n.a.createElement(N.a,null,n.a.createElement(x.a,null,n.a.createElement(A.a,{md:6},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"Username"),n.a.createElement(R.a,{type:"text",name:"username",className:"form-control",id:"userUsername"})),a.username&&Object(K.i)(a.username)))),n.a.createElement(N.a,null,n.a.createElement(K.v,{title:"Personal info"}),n.a.createElement(x.a,null,n.a.createElement(A.a,{md:6},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"First name"),n.a.createElement(R.a,{type:"text",name:"first_name",className:"form-control",id:"userFirstName"})))),n.a.createElement(x.a,null,n.a.createElement(A.a,{md:6},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"Last name"),n.a.createElement(R.a,{type:"text",name:"last_name",className:"form-control",id:"userLastName"})))),n.a.createElement(x.a,null,n.a.createElement(A.a,{md:6},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"Email"),n.a.createElement(R.a,{type:"text",name:"email",className:"form-control ".concat(a.email&&"border-danger"),id:"userEmail"})),a.email&&Object(K.i)(a.email))),!t&&n.a.createElement(n.a.Fragment,null,n.a.createElement(x.a,null,n.a.createElement(A.a,{md:6},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"Last login"),n.a.createElement(R.a,{type:"text",name:"last_login",className:"form-control",readOnly:!0})))),n.a.createElement(x.a,null,n.a.createElement(A.a,{md:6},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"Date joined"),n.a.createElement(R.a,{type:"text",name:"date_joined",className:"form-control",readOnly:!0})))))),n.a.createElement(N.a,null,n.a.createElement(K.v,{title:"permissions"}),n.a.createElement(x.a,null,n.a.createElement(A.a,{md:6},n.a.createElement(R.a,{component:K.c,name:"is_superuser",className:"form-control",id:"checkbox",label:"Superuser status"}),n.a.createElement(Ae.a,{color:"muted"},"Designates that this user has all permissions without explicitly assigning them."))),n.a.createElement(x.a,null,n.a.createElement(A.a,{md:6},n.a.createElement(R.a,{component:K.c,name:"is_active",className:"form-control",id:"checkbox",label:"Active"}),n.a.createElement(Ae.a,{color:"muted"},"Designates whether this user should be treated as active. Unselect this instead of deleting accounts.")))))},ht=function(e){h()(r,e);var t,a=dt(r);function r(e){var t;return d()(this,r),(t=a.call(this,e)).state={loading:!1,list_users:null,error:null},t.location=e.location,t.backend=new z.a,t}return _()(r,[{key:"componentDidMount",value:(t=u()(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.prev=1,e.next=4,this.backend.fetchData("/api/v2/internal/users");case 4:t=e.sent,this.setState({list_users:t,loading:!1}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.setState({error:e.t0,loading:!1});case 11:case 12:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=[{Header:"Username",id:"username",accessor:function(e){return n.a.createElement(X.b,{to:"/ui/administration/users/"+e.username},e.username)}},{Header:"First name",accessor:"first_name",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)}},{Header:"Last name",accessor:"last_name",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)}},{Header:"Email address",accessor:"email",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)}},{id:"is_superuser",Header:"Superuser status",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)},accessor:function(e){return e.is_superuser?n.a.createElement(te.a,{icon:ae.e,style:{color:"#339900"}}):n.a.createElement(te.a,{icon:ae.C,style:{color:"#CC0000"}})}},{Header:"Active status",id:"is_active",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)},accessor:function(e){return e.is_active?n.a.createElement(te.a,{icon:ae.e,style:{color:"#339900"}}):n.a.createElement(te.a,{icon:ae.C,style:{color:"#CC0000"}})}}],t=this.state,a=t.loading,r=t.list_users,i=t.error;return a?n.a.createElement(K.m,null):i?n.a.createElement(K.h,{error:i}):!a&&r?n.a.createElement(K.b,{resourcename:"users",location:this.location,listview:!0},n.a.createElement(ke.a,{data:r,columns:e,className:"-highlight",defaultPageSize:20,rowsText:"users",getTheadThProps:function(){return{className:"table-active font-weight-bold p-2"}}})):null}}]),r}(r.Component);function bt(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){h()(s,t);var a,r,i,c=dt(s);function s(e){var t;return d()(this,s),(t=c.call(this,e)).user_name=e.match.params.user_name,t.addview=e.addview,t.location=e.location,t.history=e.history,t.state={custuser:{pk:"",first_name:"",last_name:"",username:"",is_active:!0,is_superuser:!1,email:"",last_login:"",date_joined:""},password:"",userprofile:{displayname:"",subject:"",egiid:""},usergroups:{aggregations:[],metrics:[],metricprofiles:[],thresholdsprofiles:[]},allgroups:{metrics:[],aggregations:[],metricprofiles:[],thresholdsprofiles:[]},loading:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0,userdetails:{userdetails:{username:""}},error:null},t.backend=new z.a,t.toggleAreYouSure=t.toggleAreYouSure.bind(f()(t)),t.toggleAreYouSureSetModal=t.toggleAreYouSureSetModal.bind(f()(t)),t.onSubmitHandle=t.onSubmitHandle.bind(f()(t)),t.doChange=t.doChange.bind(f()(t)),t.doDelete=t.doDelete.bind(f()(t)),t}return _()(s,[{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSubmitHandle",value:function(e,t){var a=this,r=void 0,n=void 0;this.addview?(r="Are you sure you want to add user?",n="Add user"):(r="Are you sure you want to change user?",n="Change user"),this.toggleAreYouSureSetModal(r,n,(function(){return a.doChange(e,t)}))}},{key:"doChange",value:(i=u()(o.a.mark((function t(a,r){var n,i,c,s,l,u,m,d,p,_,E,f,g=this;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.addview){t.next=48;break}return t.next=3,this.backend.changeObject("/api/v2/internal/users/",{pk:a.pk,username:a.username,first_name:a.first_name,last_name:a.last_name,email:a.email,is_superuser:a.is_superuser,is_active:a.is_active});case 3:if((n=t.sent).ok){t.next=20;break}return i="",t.prev=6,t.next=9,n.json();case 9:c=t.sent,i=c.detail,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(6),i="Error changing user";case 16:Object(K.r)({title:"Error: ".concat(n.status," ").concat(n.statusText),msg:i}),t.next=45;break;case 20:if(!e){t.next=44;break}return t.next=23,this.backend.changeObject("/api/v2/internal/userprofile/",{username:a.username,displayname:a.displayname,subject:a.subject,egiid:a.egiid,groupsofaggregations:a.groupsofaggregations,groupsofmetrics:a.groupsofmetrics,groupsofmetricprofiles:a.groupsofmetricprofiles,groupsofthresholdsprofiles:a.groupsofthresholdsprofiles});case 23:if(!(s=t.sent).ok){t.next=28;break}Object(K.t)({msg:"User successfully changed",title:"Changed",callback:function(){return g.history.push("/ui/administration/users")}}),t.next=41;break;case 28:return l="",t.prev=29,t.next=32,s.json();case 32:u=t.sent,l=u.detail,t.next=39;break;case 36:t.prev=36,t.t1=t.catch(29),l="Error changing user profile";case 39:Object(K.r)({title:"Error: ".concat(s.status," ").concat(s.statusText),msg:l});case 41:t.next=45;break;case 44:Object(K.t)({msg:"User successfully changed",title:"Changed",callback:function(){return g.history.push("/ui/administration/users")}});case 45:t.next=94;break;case 48:return t.next=50,this.backend.addObject("/api/v2/internal/users/",{username:a.username,password:a.password,first_name:a.first_name,last_name:a.last_name,email:a.email,is_superuser:a.is_superuser,is_active:a.is_active});case 50:if((m=t.sent).ok){t.next=67;break}return d="",t.prev=53,t.next=56,m.json();case 56:p=t.sent,d=p.detail,t.next=63;break;case 60:t.prev=60,t.t2=t.catch(53),d="Error adding user";case 63:Object(K.r)({title:"Error: ".concat(m.status," ").concat(m.statusText),msg:d}),t.next=93;break;case 67:if(!e){t.next=91;break}return t.next=70,this.backend.addObject("/api/v2/internal/userprofile/",{username:a.username,displayname:a.displayname,subject:a.subject,egiid:a.egiid,groupsofaggregations:a.groupsofaggregations,groupsofmetrics:a.groupsofmetrics,groupsofmetricprofiles:a.groupsofmetricprofiles,groupsofthresholdsprofiles:a.groupsofthresholdsprofiles});case 70:if(!(_=t.sent).ok){t.next=75;break}Object(K.t)({msg:"User successfully added",title:"Added",callback:function(){return g.history.push("/ui/administration/users")}}),t.next=88;break;case 75:return E="",t.prev=76,t.next=79,_.json();case 79:f=t.sent,E=f.detail,t.next=86;break;case 83:t.prev=83,t.t3=t.catch(76),E="Error adding user profile";case 86:Object(K.r)({title:"Error: ".concat(_.status," ").concat(_.statusText),msg:E});case 88:t.next=92;break;case 91:Object(K.t)({msg:"User successfully added",title:"Added",callback:function(){return g.history.push("/ui/administration/users")}});case 92:case 93:case 94:case 95:case"end":return t.stop()}}),t,this,[[6,13],[29,36],[53,60],[76,83]])}))),function(e,t){return i.apply(this,arguments)})},{key:"doDelete",value:(r=u()(o.a.mark((function e(t){var a,r,n,i=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backend.deleteObject("/api/v2/internal/users/".concat(t));case 2:if(!(a=e.sent).ok){e.next=7;break}Object(K.t)({msg:"User successfully deleted",title:"Deleted",callback:function(){return i.history.push("/ui/administration/users")}}),e.next=20;break;case 7:return r="",e.prev=8,e.next=11,a.json();case 11:n=e.sent,r=n.detail,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),r="Error deleting user";case 18:Object(K.r)({title:"Error: ".concat(a.status," ").concat(a.statusText),msg:r});case 20:case 21:case"end":return e.stop()}}),e,this,[[8,15]])}))),function(e){return r.apply(this,arguments)})},{key:"componentDidMount",value:(a=u()(o.a.mark((function t(){var a,r,n,i,c,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.setState({loading:!0}),t.prev=1,this.addview){t.next=25;break}return t.next=5,this.backend.fetchData("/api/v2/internal/users/".concat(this.user_name));case 5:if(a=t.sent,!e){t.next=19;break}return t.next=9,this.backend.fetchData("/api/v2/internal/userprofile/".concat(this.user_name));case 9:return r=t.sent,t.next=12,this.backend.fetchResult("/api/v2/internal/usergroups/".concat(this.user_name));case 12:return n=t.sent,t.next=15,this.backend.fetchResult("/api/v2/internal/usergroups");case 15:i=t.sent,this.setState({custuser:a,userprofile:r,usergroups:n,allgroups:i,loading:!1}),t.next=23;break;case 19:return t.next=21,this.backend.isActiveSession(!1);case 21:c=t.sent,this.setState({custuser:a,userdetails:c,loading:!1});case 23:t.next=34;break;case 25:if(!e){t.next=32;break}return t.next=28,this.backend.fetchResult("/api/v2/internal/usergroups");case 28:s=t.sent,this.setState({allgroups:s,loading:!1}),t.next=33;break;case 32:this.setState({loading:!1});case 33:case 34:t.next=40;break;case 37:t.prev=37,t.t0=t.catch(1),this.setState({error:t.t0,loading:!1});case 40:case 41:case"end":return t.stop()}}),t,this,[[1,37]])}))),function(){return a.apply(this,arguments)})},{key:"render",value:function(){var t=this,a=this.state,r=a.custuser,i=a.userprofile,c=a.usergroups,s=a.allgroups,o=a.loading,l=a.error;return o?n.a.createElement(K.m,null):l?n.a.createElement(K.h,{error:l}):o?void 0:e?n.a.createElement(K.b,{resourcename:"users",location:this.location,addview:this.addview,history:!1,modal:!0,state:this.state,toggle:this.toggleAreYouSure},n.a.createElement(R.d,{initialValues:{addview:this.addview,pk:r.pk,first_name:r.first_name,last_name:r.last_name,username:r.username,password:"",confirm_password:"",is_active:r.is_active,is_superuser:r.is_superuser,email:r.email,last_login:r.last_login,date_joined:r.date_joined,groupsofaggregations:c.aggregations,groupsofmetrics:c.metrics,groupsofmetricprofiles:c.metricprofiles,groupsofthresholdsprofiles:c.thresholdsprofiles,displayname:i.displayname,subject:i.subject,egiid:i.egiid},validationSchema:pt,onSubmit:function(e,a){return t.onSubmitHandle(e,a)},render:function(a){return n.a.createElement(R.c,null,n.a.createElement(gt,D()({},a,{add:t.addview})),e&&n.a.createElement(n.a.Fragment,null,n.a.createElement(N.a,null,n.a.createElement(K.v,{title:"POEM user permissions"}),n.a.createElement(x.a,null,n.a.createElement(A.a,{md:6},n.a.createElement(S.a,{for:"groupsofmetrics",className:"grouplabel"},"Groups of metrics"),n.a.createElement(R.a,{component:"select",name:"groupsofmetrics",id:"select-field",onChange:function(e){return a.setFieldValue("groupsofmetrics",[].slice.call(e.target.selectedOptions).map((function(e){return e.value})))},multiple:!0},s.metrics.map((function(e){return n.a.createElement("option",{key:e,value:e},e)}))),n.a.createElement(Ae.a,{color:"muted"},'The groups of metrics that user will control. Hold down "Control" or "Command" on a Mac to select more than one.'))),n.a.createElement(x.a,null,n.a.createElement(A.a,{md:6},n.a.createElement(S.a,{for:"groupsofmetricprofiles",className:"grouplabel"},"Groups of metric profiles"),n.a.createElement(R.a,{component:"select",name:"groupsofmetricprofiles",id:"select-field",onChange:function(e){return a.setFieldValue("groupsofmetricprofiles",[].slice.call(e.target.selectedOptions).map((function(e){return e.value})))},multiple:!0},s.metricprofiles.map((function(e){return n.a.createElement("option",{key:e,value:e},e)}))),n.a.createElement(Ae.a,{color:"muted"},'The groups of metric profiles that user will control. Hold down "Control" or "Command" on a Mac to select more than one.'))),n.a.createElement(x.a,null,n.a.createElement(A.a,{md:6},n.a.createElement(S.a,{for:"groupsofaggregations",className:"grouplabel"},"Groups of aggregations"),n.a.createElement(R.a,{component:"select",name:"groupsofaggregations",id:"select-field",onChange:function(e){return a.setFieldValue("groupsofaggregations",[].slice.call(e.target.selectedOptions).map((function(e){return e.value})))},multiple:!0},s.aggregations.map((function(e){return n.a.createElement("option",{key:e,value:e},e)}))),n.a.createElement(Ae.a,{color:"muted"},'The groups of aggregations that user will control. Hold down "Control" or "Command" on a Mac to select more than one.'))),n.a.createElement(x.a,null,n.a.createElement(A.a,{md:6},n.a.createElement(S.a,{for:"groupsofthresholdsprofiles",className:"grouplabel"},"Groups of thresholds profiles"),n.a.createElement(R.a,{component:"select",name:"groupsofthresholdsprofiles",id:"select-field",onChange:function(e){return a.setFieldValue("groupsofthresholdsprofiles",[].slice.call(e.target.selectedOptions).map((function(e){return e.value})))},multiple:!0},s.thresholdsprofiles.map((function(e){return n.a.createElement("option",{key:e,value:e},e)}))),n.a.createElement(Ae.a,{color:"muted"},'The groups of thresholds profiles that user will control. Hold down "Control" or "Command" on a Mac to select more than one.')))),n.a.createElement(N.a,null,n.a.createElement(K.v,{title:"Additional information"}),n.a.createElement(x.a,null,n.a.createElement(A.a,{md:12},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"distinguishedName"),n.a.createElement(R.a,{type:"text",name:"subject",required:!1,className:"form-control",id:"distinguishedname"}))))),n.a.createElement(N.a,null,n.a.createElement(x.a,null,n.a.createElement(A.a,{md:8},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"eduPersonUniqueId"),n.a.createElement(R.a,{type:"text",name:"egiid",required:!1,className:"form-control",id:"eduid"}))))),n.a.createElement(N.a,null,n.a.createElement(x.a,null,n.a.createElement(A.a,{md:6},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"displayName"),n.a.createElement(R.a,{type:"text",name:"displayname",required:!1,className:"form-control",id:"displayname"})))))),n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},t.addview?n.a.createElement("div",null):n.a.createElement(j.a,{color:"danger",onClick:function(){t.toggleAreYouSureSetModal("Are you sure you want to delete User?","Delete user",(function(){return t.doDelete(a.values.username)}))}},"Delete"),n.a.createElement(j.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):n.a.createElement(n.a.Fragment,null,n.a.createElement(K.n,{isOpen:this.state.areYouSureModal,toggle:this.toggleAreYouSure,title:this.state.modalTitle,msg:this.state.modalMsg,onYes:this.state.modalFunc}),n.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"".concat(this.addview?"Add":"Change"," user")),!this.addview&&this.state.userdetails.userdetails.username===this.user_name&&n.a.createElement(X.b,{className:"btn btn-secondary",to:this.location.pathname+"/change_password",role:"button"},"Change password")),n.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},n.a.createElement(R.d,{initialValues:{addview:this.addview,pk:r.pk,first_name:r.first_name,last_name:r.last_name,username:r.username,password:"",confirm_password:"",is_active:r.is_active,is_superuser:r.is_superuser,email:r.email,last_login:r.last_login,date_joined:r.date_joined},validationSchema:pt,onSubmit:function(e,a){return t.onSubmitHandle(e,a)},render:function(e){return n.a.createElement(R.c,null,n.a.createElement(gt,D()({},e,{add:t.addview})),n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},t.addview?n.a.createElement("div",null):n.a.createElement(j.a,{color:"danger",onClick:function(){t.toggleAreYouSureSetModal("Are you sure you want to delete user ".concat(t.user_name,"?"),"Delete user",(function(){return t.doDelete(e.values.username)}))}},"Delete"),n.a.createElement(j.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})))}}]),s}(r.Component)}var vt=function(e){h()(i,e);var t,a,r=dt(i);function i(e){var t;return d()(this,i),(t=r.call(this,e)).name=e.match.params.user_name,t.location=e.locaation,t.history=e.history,t.backend=new z.a,t.state={password:"",confirm_password:"",isTenantSchema:null,loading:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0,write_perm:!1},t.toggleAreYouSure=t.toggleAreYouSure.bind(f()(t)),t.toggleAreYouSureSetModal=t.toggleAreYouSureSetModal.bind(f()(t)),t.onSubmitHandle=t.onSubmitHandle.bind(f()(t)),t.doChange=t.doChange.bind(f()(t)),t}return _()(i,[{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSubmitHandle",value:function(e,t){var a=this;this.toggleAreYouSureSetModal("Are you sure you want to change password?","Change password",(function(){return a.doChange(e,t)}))}},{key:"doChange",value:(a=u()(o.a.mark((function e(t,a){var r,n,i,c=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backend.changeObject("/api/v2/internal/change_password/",{username:this.name,new_password:t.confirm_password});case 2:if((r=e.sent).ok){e.next=19;break}return n="",e.prev=5,e.next=8,r.json();case 8:i=e.sent,n=i.detail,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),n="Error changing password";case 15:Object(K.r)({title:"Error: ".concat(r.status," ").concat(r.statusText),msg:n}),e.next=20;break;case 19:Object(K.t)({msg:"Password successfully changed",title:"Changed",callback:function(){return c.history.push("/ui/administration/users")}});case 20:case"end":return e.stop()}}),e,this,[[5,12]])}))),function(e,t){return a.apply(this,arguments)})},{key:"componentDidMount",value:(t=u()(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.backend.isActiveSession(!1);case 3:t=e.sent,this.setState({write_perm:t.userdetails.username===this.name,loading:!1});case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,r=t.password,i=t.confirm_password,c=t.write_perm;return a?n.a.createElement(K.m,null):a?null:n.a.createElement(K.b,{resourcename:"password",location:this.location,modal:!0,state:this.state,toggle:this.toggleAreYouSure,history:!1,submitperm:c},n.a.createElement(R.d,{initialValues:{password:r,confirm_password:i},validationSchema:_t,onSubmit:function(t,a){return e.onSubmitHandle(t,a)},render:function(e){return n.a.createElement(R.c,null,n.a.createElement(x.a,null,n.a.createElement(A.a,{md:6},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"Password"),n.a.createElement(R.a,{type:"password",name:"password",className:"form-control ".concat(e.errors.password&&"border-danger"),id:"password"})),e.errors.password&&Object(K.i)(e.errors.password))),n.a.createElement(x.a,null,n.a.createElement(A.a,{md:6},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"Confirm password"),n.a.createElement(R.a,{type:"password",name:"confirm_password",className:"form-control ".concat(e.errors.confirm_password&&"border-danger"),id:"confirm_password"})),e.errors.confirm_password&&Object(K.i)(e.errors.confirm_password))),c&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},n.a.createElement("div",null),n.a.createElement(j.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}}))}}]),i}(r.Component),Mt=a("Cs6D"),yt=(a("QDav"),function(e){var t=Object(r.useState)(!1),a=J()(t,2),i=a[0],c=a[1],s=Object(r.useState)(null),l=J()(s,2),m=l[0],d=l[1],p=Object(r.useState)(null),_=J()(p,2),E=_[0],f=_[1],g=e.location,h=e.name,b=e.id,v=e.group,M=new z.a;Object(r.useEffect)((function(){function e(){return(e=u()(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.fetchResult("/api/v2/internal/usergroups");case 3:t=e.sent,d(t[v]),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),f(e.t0);case 10:c(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}c(!0),function(){e.apply(this,arguments)}()}),[]);var y=[{Header:h.charAt(0).toUpperCase()+h.slice(1),id:b,accessor:function(e){return n.a.createElement(X.b,{to:"/ui/administration/".concat(b,"/").concat(e)},e)}}];return i?n.a.createElement(K.m,null):E?n.a.createElement(K.h,{error:E}):!i&&m?n.a.createElement(K.b,{resourcename:h,location:g,listview:!0},n.a.createElement(ke.a,{data:m,columns:y,className:"-highlight",defaultPageSize:12,rowsText:"groups",getTheadThProps:function(){return{className:"table-active font-weight-bold p-2"}}})):null}),Ot=function(e){var t=Object(r.useState)(""),a=J()(t,2),i=a[0],c=a[1],s=Object(r.useState)([]),l=J()(s,2),m=l[0],d=l[1],p=Object(r.useState)(""),_=J()(p,2),E=_[0],f=_[1],g=Object(r.useState)([]),h=J()(g,2),b=h[0],v=h[1],M=Object(r.useState)([]),y=J()(M,2),O=y[0],D=y[1],w=Object(r.useState)(!1),k=J()(w,2),P=k[0],T=k[1],C=Object(r.useState)(void 0),I=J()(C,2),S=I[0],L=I[1],U=Object(r.useState)(void 0),W=J()(U,2),B=W[0],V=W[1],Y=Object(r.useState)(void 0),Q=J()(Y,2),F=Q[0],q=Q[1],H=Object(r.useState)(null),G=J()(H,2),Z=G[0],X=G[1],$=Object(r.useState)(""),ee=J()($,2),re=ee[0],ne=ee[1],ie=Object(r.useState)(!1),ce=J()(ie,2),se=ce[0],oe=ce[1],le=e.match.params.name,ue=e.group,me=e.id,de=e.title,pe=e.addview,_e=e.location,Ee=e.history,fe=new z.a;function ge(){L(!S)}function he(){return(he=u()(o.a.mark((function e(){var t,a,r,n,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pe){e.next=24;break}return e.next=3,fe.changeObject("/api/v2/internal/".concat(ue,"group/"),{name:re,items:m});case 3:if(!(t=e.sent).ok){e.next=8;break}Object(K.t)({msg:"Group of ".concat(de," successfully changed"),title:"Changed",callback:function(){return Ee.push("/ui/administration/".concat(me))}}),e.next=21;break;case 8:return a="",e.prev=9,e.next=12,t.json();case 12:r=e.sent,a=r.detail,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),a="Error changing group of ".concat(de);case 19:Object(K.r)({title:"Error: ".concat(t.status," ").concat(t.statusText),msg:a});case 21:e.next=45;break;case 24:return e.next=26,fe.addObject("/api/v2/internal/".concat(ue,"group/"),{name:re,items:m});case 26:if(!(n=e.sent).ok){e.next=31;break}Object(K.t)({msg:"Group of ".concat(de," successfully added"),title:"Added",callback:function(){return Ee.push("/ui/administration/".concat(me))}}),e.next=44;break;case 31:return i="",e.prev=32,e.next=35,n.json();case 35:c=e.sent,i=c.detail,e.next=42;break;case 39:e.prev=39,e.t1=e.catch(32),i="Error adding group of ".concat(de);case 42:Object(K.r)({title:"Error: ".concat(n.status," ").concat(n.statusText),msg:i});case 44:case 45:case 46:case"end":return e.stop()}}),e,null,[[9,16],[32,39]])})))).apply(this,arguments)}function be(){return(be=u()(o.a.mark((function e(){var t,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.deleteObject("/api/v2/internal/".concat(ue,"group/").concat(i));case 2:if(!(t=e.sent).ok){e.next=7;break}Object(K.t)({msg:"Group of ".concat(de," successfully deleted"),title:"Deleted",callback:function(){return Ee.push("/ui/administration/".concat(me))}}),e.next=20;break;case 7:return a="",e.prev=8,e.next=11,t.json();case 11:r=e.sent,a=r.detail,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),a="Error deleting group of ".concat(de);case 18:Object(K.r)({title:"Error: ".concat(t.status," ").concat(t.statusText),msg:a});case 20:case 21:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}Object(r.useEffect)((function(){function e(){return(e=u()(o.a.mark((function e(){var t,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fe.fetchResult("/api/v2/internal/".concat(ue,"group"));case 3:if(t=e.sent,a=[],t.forEach((function(e){return a.push({value:e,label:e})})),pe){e.next=12;break}return e.next=9,fe.fetchResult("/api/v2/internal/".concat(ue,"group/").concat(le));case 9:r=e.sent,c(le),d(r);case 12:v(a),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),X(e.t0);case 19:T(!1);case 21:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}T(!0),function(){e.apply(this,arguments)}()}),[]);var ve=m;return E&&(ve=ve.filter((function(e){return e.toLowerCase().includes(E)}))),P?n.a.createElement(K.m,null):Z?n.a.createElement(K.h,{error:Z}):P?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(K.n,{isOpen:S,toggle:ge,title:B,msg:F,onYes:se?function(){return be.apply(this,arguments)}:function(){return he.apply(this,arguments)}}),n.a.createElement(K.b,{resourcename:"group of ".concat(de),location:_e,addview:pe,history:!1,modal:!1},n.a.createElement(R.d,{initialValues:{name:i,items:m},onSubmit:function(e,t){return function(e,t){q("Are you sure you want to ".concat(pe?"add":"change"," group of ").concat(de,"?")),V("".concat(pe?"Add":"Change"," group of ").concat(de)),ne(e.name),ge()}(e)},render:function(e){return n.a.createElement(R.c,null,n.a.createElement(N.a,null,n.a.createElement(x.a,null,n.a.createElement(A.a,{md:6},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"Name"),n.a.createElement(R.a,{type:"text",name:"name",required:!0,className:"form-control",id:"groupname",disabled:!pe}))))),n.a.createElement(N.a,null,n.a.createElement(K.v,{title:de}),n.a.createElement(x.a,{className:"mb-2"},n.a.createElement(A.a,{md:8},n.a.createElement(Mt.a,{closeMenuOnSelect:!1,placeholder:"Search available ".concat(de),noOptionsMessage:function(){return"No available ".concat(de)},isMulti:!0,onChange:function(e){return D(e)},openMenuOnClick:!0,value:O,options:b})),n.a.createElement(A.a,{md:2},n.a.createElement(j.a,{color:"success",onClick:function(){for(var e=m,t=b,a=0;a<t.length;a++)O.includes(t[a])&&(t.splice(a,1),a--);O.forEach((function(t){return e.push(t.value)})),d(e.sort()),v(t),D([])}},"Add new ".concat(de," to group")))),n.a.createElement("table",{className:"table table-bordered table-sm table-hover",style:{width:"85%"}},n.a.createElement("thead",{className:"table-active"},n.a.createElement("tr",null,n.a.createElement("th",{className:"align-middle text-center",style:{width:"5%"}},"#"),n.a.createElement("th",{style:{width:"90%"}},n.a.createElement(K.l,{i:"aggregations"===ue?"aggregationprofiles":ue})," ","".concat(de.charAt(0).toUpperCase()+de.slice(1)," in group")),n.a.createElement("th",{style:{width:"5%"}},"Remove"))),n.a.createElement("tbody",null,n.a.createElement("tr",{style:{background:"#ECECEC"}},n.a.createElement("td",{className:"align-middle text-center"},n.a.createElement(te.a,{icon:ae.v})),n.a.createElement("td",null,n.a.createElement(R.a,{type:"text",name:"search_items",className:"form-control",onChange:function(e){return f(e.target.value)},component:K.z})),n.a.createElement("td",null,"")),ve.map((function(e,t){return n.a.createElement(n.a.Fragment,{key:t},n.a.createElement("tr",{key:t},n.a.createElement("td",{className:"align-middle text-center"},t+1),n.a.createElement("td",null,e),n.a.createElement("td",{className:"align-middle pl-3"},n.a.createElement(j.a,{size:"sm",color:"light",type:"button",onClick:function(){var t=m.filter((function(t){return t!==e})),a=b;a.push({value:e,label:e});var r=a.sort((function(e,t){var a=0;return e.value.toLowerCase()>t.value.toLowerCase()?a=1:e.value.toLowerCase()<t.value.toLowerCase()&&(a=-1),a}));d(t),v(r)}},n.a.createElement(te.a,{icon:ae.B})))))}))))),n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},pe?n.a.createElement("div",null):n.a.createElement(j.a,{color:"danger",onClick:function(){return q("Are you sure you want to delete group of ".concat(de,"?")),V("Delete group of ".concat(de)),ge(),void oe(!0)}},"Delete"),n.a.createElement(j.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})))},Dt=function(e){var t=e.location,a=new z.a,i=Object(r.useState)(!1),c=J()(i,2),s=c[0],l=c[1],m=Object(r.useState)(void 0),d=J()(m,2),p=d[0],_=d[1],E=Object(r.useState)(null),f=J()(E,2),g=f[0],h=f[1];Object(r.useEffect)((function(){l(!0);try{(function(){var e=u()(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchData("/api/v2/internal/apikeys");case 2:t=e.sent,h(t),l(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}catch(e){_(e),l(!1)}}),[]);var b=[{Header:"Name",id:"name",accessor:function(e){return n.a.createElement(X.b,{to:"/ui/administration/apikey/"+e.name},e.name)}},{Header:"Created",accessor:"created"},{Header:"Revoked",id:"revoked",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)},accessor:function(e){return e.revoked?n.a.createElement(te.a,{icon:ae.e,style:{color:"#339900"}}):n.a.createElement(te.a,{icon:ae.C,style:{color:"#CC0000"}})}}];return s?n.a.createElement(K.m,null):p?n.a.createElement(K.h,{error:p}):!s&&g?n.a.createElement(K.b,{resourcename:"API key",location:t,listview:!0},n.a.createElement(ke.a,{data:g,columns:b,className:"-highlight",defaultPageSize:5,rowsText:"keys",getTheadThProps:function(){return{className:"table-active font-weight-bold p-2"}}})):null},wt=function(e){var t=e.match.params.name,a=e.location,i=e.addview,c=e.history,s=new z.a,l=Object(r.useState)({name:"",revoked:!1,token:""}),m=J()(l,2),d=m[0],p=m[1],_=Object(r.useState)(!1),E=J()(_,2),f=E[0],g=E[1],h=Object(r.useState)(!1),b=J()(h,2),v=b[0],M=b[1],y=Object(r.useState)(void 0),O=J()(y,2),D=O[0],w=O[1],k=Object(r.useState)(void 0),P=J()(k,2),T=(P[0],P[1],Object(r.useState)(void 0)),C=J()(T,2),I=C[0],U=C[1],W=Object(r.useState)(null),B=J()(W,2),V=B[0],Y=B[1],Q=Object(r.useState)(""),F=J()(Q,2),q=F[0],H=F[1],G=Object(r.useState)({}),Z=J()(G,2),X=Z[0],$=Z[1],ee=Object(r.useRef)(null),re=function(){var e=u()(o.a.mark((function e(t,a){var r,n,l,u,m,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=23;break}return e.next=3,s.changeObject("/api/v2/internal/apikeys/",{id:d.id,revoked:t.revoked,name:t.name});case 3:if(!(r=e.sent).ok){e.next=8;break}Object(K.t)({msg:"API key successfully changed",title:"Changed",callback:function(){return c.push("/ui/administration/apikey")}}),e.next=20;break;case 8:return n="",e.prev=9,e.next=12,r.json();case 12:l=e.sent,n="".concat(l.detail?l.detail:"Error changing API key"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),n="Error changing API key";case 19:Object(K.r)({title:"Error: ".concat(r.status," ").concat(r.statusText),msg:n});case 20:e.next=43;break;case 23:return e.next=25,s.addObject("/api/v2/internal/apikeys/",{name:t.name,token:t.token});case 25:if(!(u=e.sent).ok){e.next=30;break}Object(K.t)({msg:"API key successfully added",title:"Added",callback:function(){return c.push("/ui/administration/apikey")}}),e.next=42;break;case 30:return m="",e.prev=31,e.next=34,u.json();case 34:p=e.sent,m="".concat(p.detail?p.detail:"Error adding API key"),e.next=41;break;case 38:e.prev=38,e.t1=e.catch(31),m="Error adding API key";case 41:Object(K.r)({title:"Error: ".concat(u.status," ").concat(u.statusText),msg:m});case 42:case 43:case 44:case"end":return e.stop()}}),e,null,[[9,16],[31,38]])})));return function(t,a){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){g(!0);try{if(i)p({name:"",revoked:!1,token:""}),g(!1);else(function(){var e=u()(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.fetchData("/api/v2/internal/apikeys/".concat(t));case 2:a=e.sent,p(a),g(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}catch(e){Y(e),g(!1)}}),[]);var ne=function(){var e=u()(o.a.mark((function e(){var a,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.deleteObject("/api/v2/internal/apikeys/".concat(t));case 2:if(!(a=e.sent).ok){e.next=7;break}Object(K.t)({msg:"API key successfully deleted",title:"Deleted",callback:function(){return c.push("/ui/administration/apikey")}}),e.next=19;break;case 7:return r="",e.prev=8,e.next=11,a.json();case 11:n=e.sent,r="".concat(n.detail?n.detail:"Error deleting API key"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),r="Error deleting API key";case 18:Object(K.r)({title:"Error: ".concat(a.status," ").concat(a.statusText),msg:r});case 19:case 20:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(){return e.apply(this,arguments)}}();return f?n.a.createElement(K.m,null):V?n.a.createElement(K.h,{error:V}):!f&&d?n.a.createElement(K.b,{resourcename:"API key",location:a,addview:i,history:!1,modal:!0,state:{areYouSureModal:v,modalFunc:function(){"delete"===q?ne(t):"change"===q&&re(X)},modalTitle:D,modalMsg:I},toggle:function(){return M(!v)}},n.a.createElement(R.d,{initialValues:{name:d.name,revoked:d.revoked,token:d.token},onSubmit:function(e,t){return function(e,t){var a=void 0,r=void 0;i?(a="Are you sure you want to add API key?",r="Add API key"):(a="Are you sure you want to change API key?",r="Change API key"),M(!v),U(a),w(r),H("change"),$(e)}(e)},render:function(e){return n.a.createElement(R.c,null,n.a.createElement(N.a,null,n.a.createElement(x.a,null,n.a.createElement(A.a,{md:6},n.a.createElement(S.a,{for:"name"},"Name"),n.a.createElement(R.a,{type:"text",name:"name",id:"name",required:!0,className:"form-control"}),n.a.createElement(Ae.a,{color:"muted"},"A free-form unique identifier of the client. 50 characters max."))),n.a.createElement(x.a,{className:"mt-2"},n.a.createElement(A.a,{md:6},n.a.createElement(R.a,{component:K.c,name:"revoked",className:"form-control",id:"checkbox",label:"Revoked"}),n.a.createElement(Ae.a,{color:"muted"},"If the API key is revoked, clients cannot use it any more. (This cannot be undone.)")))),n.a.createElement(N.a,null,n.a.createElement(K.v,{title:"Credentials"}),i&&n.a.createElement(L.a,{color:"info",className:"text-center"},"If token field is ",n.a.createElement("b",null,"left empty"),", value will be automatically generated on save."),n.a.createElement(x.a,{className:"no-gutters"},n.a.createElement(A.a,{sm:6},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"Token"),n.a.createElement(R.a,{type:"text",name:"token",id:"token",disabled:!i,className:"form-control",innerRef:ee})),n.a.createElement(Ae.a,{color:"muted"},"A public, unique identifier for this API key.")),!i&&n.a.createElement(A.a,{sm:2},n.a.createElement(j.a,{className:"btn",color:"success",onClick:function(e){return function(e){navigator.clipboard.writeText(ee.current.value),e.target.focus(),Object(K.t)({msg:"API token copied to clipboard",title:"Copied"})}(e)}},n.a.createElement(te.a,{icon:ae.f,size:"lg",color:"white"}))))),n.a.createElement("div",{className:i?"submit-row d-flex align-items-center justify-content-end bg-light p-3 mt-5":"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},!i&&n.a.createElement(j.a,{color:"danger",onClick:function(){U("Are you sure you want to delete API key?"),w("Delete API key"),M(!v),H("delete")}},"Delete"),n.a.createElement(j.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):void 0},kt=function(e){return n.a.createElement("div",null,n.a.createElement("h1",null,"Not found"))},Pt=a("Ty5D"),xt=a("of9s");function At(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=y()(e);if(t()){var n=y()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return v()(this,a)}}var Tt=St(),Ct=St(!0),It=Te.object().shape({name:Te.string().matches(/^\S*$/,"Name cannot contain white spaces").required("Required"),content:Te.string().required("Required"),description:Te.string().required("Required")}),Nt=function(e){h()(r,e);var t,a=At(r);function r(e){var t;return d()(this,r),(t=a.call(this,e)).location=e.location,t.state={loading:!1,list_repos:null,list_tags:null,isTenantSchema:null,search_name:"",search_description:"",search_tag:"",error:null},t.backend=new z.a,t}return _()(r,[{key:"componentDidMount",value:(t=u()(o.a.mark((function e(){var t,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.prev=1,e.next=4,this.backend.fetchData("/api/v2/internal/yumrepos");case 4:return t=e.sent,e.next=7,this.backend.fetchData("/api/v2/internal/ostags");case 7:return a=e.sent,e.next=10,this.backend.isTenantSchema();case 10:r=e.sent,this.setState({list_repos:t,list_tags:a,isTenantSchema:r,loading:!1}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),this.setState({error:e.t0,loading:!1});case 17:case 18:case"end":return e.stop()}}),e,this,[[1,14]])}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state,a=t.list_repos,r=t.isTenantSchema,i=t.loading,c=t.error,s=void 0;s=r?"/ui/administration/yumrepos/":"/ui/yumrepos/";var o=[{Header:"#",id:"row",minWidth:12,Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.index+1)}},{Header:"Name",id:"name",minWidth:80,accessor:function(e){return n.a.createElement(X.b,{to:s+e.name+"-"+e.tag.replace(/\s/g,"").toLowerCase()},e.name)},filterable:!0,Filter:n.a.createElement("input",{value:this.state.search_name,onChange:function(t){return e.setState({search_name:t.target.value})},placeholder:"Search by name",style:{width:"100%"}})},{Header:"Description",accessor:"description",filterable:!0,Filter:n.a.createElement("input",{type:"text",placeholder:"Search by description",value:this.state.search_description,onChange:function(t){return e.setState({search_description:t.target.value})},style:{width:"100%"}})},{Header:"Tag",accessor:"tag",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)},filterable:!0,Filter:n.a.createElement(K.g,{value:this.state.tag,onChange:function(t){return e.setState({search_tag:t.target.value})},data:this.state.list_tags})}];return this.state.search_name&&(a=a.filter((function(t){return t.name.toLowerCase().includes(e.state.search_name.toLowerCase())}))),this.state.search_description&&(a=a.filter((function(t){return t.description.toLowerCase().includes(e.state.search_description.toLowerCase())}))),this.state.search_tag&&(a=a.filter((function(t){return t.tag.toLowerCase().includes(e.state.search_tag.toLowerCase())}))),i?n.a.createElement(K.m,null):c?n.a.createElement(K.h,{error:c}):!i&&a?n.a.createElement(K.b,{resourcename:"YUM repo",location:this.location,listview:!0,addnew:!r},n.a.createElement(ke.a,{data:a,columns:o,className:"-highlight",defaultPageSize:20,rowsText:"repos",getTheadThProps:function(){return{className:"table-active font-weight-bold p-2"}}})):null}}]),r}(r.Component);function St(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){h()(s,t);var a,r,i,c=At(s);function s(e){var t;return d()(this,s),t=c.call(this,e),e.match.params.name&&(t.tag=e.match.params.name.split("-")[e.match.params.name.split("-").length-1],t.name=e.match.params.name.replace("-"+t.tag,"")),t.addview=e.addview,t.disabled=e.disabled,t.location=e.location,t.history=e.history,t.backend=new z.a,t.state={repo:{id:"",name:"",tag:"CentOS 6",content:"",description:""},tagslist:[],loading:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0,error:null},t.toggleAreYouSure=t.toggleAreYouSure.bind(f()(t)),t.toggleAreYouSureSetModal=t.toggleAreYouSureSetModal.bind(f()(t)),t.onSubmitHandle=t.onSubmitHandle.bind(f()(t)),t.doChange=t.doChange.bind(f()(t)),t.doDelete=t.doDelete.bind(f()(t)),t}return _()(s,[{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSubmitHandle",value:function(t,a){var r=this,n=void 0,i=void 0;!this.addview||e?(n="Are you sure you want to change YUM repo?",i="Change YUM repo"):(n="Are you sure you want to add YUM repo?",i="Add YUM repo"),this.toggleAreYouSureSetModal(n,i,(function(){return r.doChange(t,a)}))}},{key:"doChange",value:(i=u()(o.a.mark((function t(a,r){var n,i,c,s,l,u,m=this;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.addview&&!e){t.next=24;break}return t.next=3,this.backend.addObject("/api/v2/internal/yumrepos/",{name:a.name,tag:a.tag,content:a.content,description:a.description});case 3:if((n=t.sent).ok){t.next=20;break}return i="",t.prev=6,t.next=9,n.json();case 9:c=t.sent,i=c.detail,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(6),i="Error adding YUM repo";case 16:Object(K.r)({title:"Error: ".concat(n.status," ").concat(n.statusText),msg:i}),t.next=21;break;case 20:Object(K.t)({msg:"YUM repo successfully added",title:"Added",callback:function(){return m.history.push("/ui/yumrepos")}});case 21:t.next=45;break;case 24:return t.next=26,this.backend.changeObject("/api/v2/internal/yumrepos/",{id:a.id,name:a.name,tag:a.tag,content:a.content,description:a.description});case 26:if((s=t.sent).ok){t.next=43;break}return l="",t.prev=29,t.next=32,s.json();case 32:u=t.sent,l=u.detail,t.next=39;break;case 36:t.prev=36,t.t1=t.catch(29),l="Error changing YUM repo";case 39:Object(K.r)({title:"Error: ".concat(s.status," ").concat(s.statusText),msg:l}),t.next=44;break;case 43:Object(K.t)({msg:"YUM repo successfully changed",title:"Changed",callback:function(){return m.history.push("/ui/yumrepos")}});case 44:case 45:case 46:case"end":return t.stop()}}),t,this,[[6,13],[29,36]])}))),function(e,t){return i.apply(this,arguments)})},{key:"doDelete",value:(r=u()(o.a.mark((function e(t,a){var r,n,i,c=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backend.deleteObject("/api/v2/internal/yumrepos/".concat(t,"/").concat(a));case 2:if((r=e.sent).ok){e.next=19;break}return n="",e.prev=5,e.next=8,r.json();case 8:i=e.sent,n=i.detail,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),n="Error deleting YUM repo";case 15:Object(K.r)({title:"Error: ".concat(r.status," ").concat(r.statusText),msg:n}),e.next=20;break;case 19:Object(K.t)({msg:"YUM repo successfully deleted",title:"Deleted",callback:function(){return c.history.push("/ui/yumrepos")}});case 20:case 21:case"end":return e.stop()}}),e,this,[[5,12]])}))),function(e,t){return r.apply(this,arguments)})},{key:"componentDidMount",value:(a=u()(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.prev=1,e.next=4,this.backend.fetchData("/api/v2/internal/ostags");case 4:if(t=e.sent,this.addview){e.next=12;break}return e.next=8,this.backend.fetchData("/api/v2/internal/yumrepos/".concat(this.name,"/").concat(this.tag));case 8:a=e.sent,this.setState({repo:a,tagslist:t,loading:!1}),e.next=13;break;case 12:this.setState({tagslist:t,loading:!1});case 13:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),this.setState({error:e.t0,loading:!1});case 19:case 20:case"end":return e.stop()}}),e,this,[[1,16]])}))),function(){return a.apply(this,arguments)})},{key:"render",value:function(){var t=this,a=this.state,r=a.repo,i=a.tagslist,c=a.loading,s=a.error;return c?n.a.createElement(K.m,null):s?n.a.createElement(K.h,{error:s}):!c&&r?n.a.createElement(K.b,{resourcename:"YUM repo",location:this.location,addview:this.addview,cloneview:e,clone:!0,modal:!0,state:this.state,toggle:this.toggleAreYouSure,history:!1},n.a.createElement(R.d,{initialValues:{id:r.id,name:r.name,tag:r.tag,content:r.content,description:r.description},onSubmit:function(e,a){return t.onSubmitHandle(e,a)},validationSchema:It,render:function(a){return n.a.createElement(R.c,null,n.a.createElement(N.a,null,n.a.createElement(x.a,null,n.a.createElement(A.a,{md:6},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"Name"),n.a.createElement(R.a,{type:"text",name:"name",className:"form-control ".concat(a.errors.name&&"border-danger"),id:"name",disabled:t.disabled})),a.errors.name&&Object(K.i)(a.errors.name),n.a.createElement(Ae.a,{color:"muted"},"Name of YUM repo file.")),n.a.createElement(A.a,{md:2},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"Tag"),t.disabled?n.a.createElement(R.a,{type:"text",name:"tag",className:"form-control",id:"tag",disabled:!0}):n.a.createElement(R.a,{component:"select",name:"tag",className:"form-control custom-select",id:"tag"},i.map((function(e,t){return n.a.createElement("option",{key:t,value:e},e)})))),n.a.createElement(Ae.a,{color:"muted"},"OS tag.")))),n.a.createElement(N.a,null,n.a.createElement(x.a,null,n.a.createElement(A.a,{md:8},n.a.createElement(S.a,{for:"content"},"File content"),n.a.createElement(R.a,{component:"textarea",name:"content",rows:"20",className:"form-control ".concat(a.errors.content&&"border-danger"),id:"content",disabled:t.disabled}),a.errors.content&&Object(K.i)(a.errors.content),n.a.createElement(Ae.a,{color:"muted"},"Content of the repo file.")))),n.a.createElement(N.a,null,n.a.createElement(x.a,null,n.a.createElement(A.a,{md:8},n.a.createElement(S.a,{for:"description"},"Description"),n.a.createElement(R.a,{component:"textarea",name:"description",rows:"5",className:"form-control ".concat(a.errors.description&&"border-danger"),id:"description",disabled:t.disabled}),a.errors.description&&Object(K.i)(a.errors.description),n.a.createElement(Ae.a,{color:"muted"},"Short free text description.")))),!t.disabled&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},t.addview||e?n.a.createElement("div",null):n.a.createElement(j.a,{color:"danger",onClick:function(){t.toggleAreYouSureSetModal("Are you sure you want to delete YUM repo?","Delete YUM repo",(function(){return t.doDelete(t.name,t.tag)}))}},"Delete"),n.a.createElement(j.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):null}}]),s}(r.Component)}var Lt=a("iqOp"),jt=a("glTy"),Ut=a("YGfb");function Rt(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=y()(e);if(t()){var n=y()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return v()(this,a)}}var Wt=Te.object().shape({name:Te.string().required("Required"),groupname:Te.string().required("Required"),rules:Te.array().of(Te.object().shape({metric:Te.string().required("Required"),thresholds:Te.array().of(Te.object().shape({label:Te.string().matches(/^[a-zA-Z][A-Za-z0-9]*$/,"Label can contain alphanumeric characters, but must always begin with a letter.").required("Required"),value:Te.string().matches(/^([-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").required("Required"),warn1:Te.string().matches(/^[@]?(~|[-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").required("Required"),warn2:Te.string().matches(/^([-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").test("greater-than","Should be greater than lower warning limit",(function(e){var t="@"===this.parent.warn1.charAt(0)?this.parent.warn1.substr(1):this.parent.warn1;return!t||!e||("~"===t||(!(!isNaN(Number(t))&&!isNaN(Number(e)))||Number(t)<=Number(e)))})),crit1:Te.string().matches(/^[@]?(~|[-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").required("Required"),crit2:Te.string().matches(/^([-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").test("greater-than","Should be greater than lower critical limit",(function(e){var t="@"===this.parent.crit1.charAt(0)?this.parent.crit1.substr(1):this.parent.crit1;return!t||!e||("~"===t||(!(!isNaN(Number(t))&&!isNaN(Number(e)))||Number(t)<=Number(e)))})),min:Te.string().matches(/^([-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number."),max:Te.string().matches(/^([-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").test("greater-than-min","Should be greater than min value.",(function(e){var t=this.parent.min;return!t||(!(!isNaN(Number(t))&&!isNaN(Number(e)))||Number(t)<Number(e))}))}))}))});function Bt(e){return e.forEach((function(e){var t=e.thresholds.split(" "),a=[];t.forEach((function(e){var t="",r="",n="",i="",c="",s="",o="",l="",u="",m=e.split("=");if(2===m.length){t=m[0];var d=m[1].split(";");if(d.length>0&&(n=function(e){return isNaN(e.charAt(e.length-1))?e.endsWith("us")?"us":e.endsWith("ms")?"ms":e.endsWith("s")?"s":e.endsWith("%")?"%":e.endsWith("KB")?"KB":e.endsWith("MB")?"MB":e.endsWith("TB")?"TB":e.endsWith("B")?"B":e.endsWith("c")?"c":void 0:""}(d[0]),r=d[0].replace(n,""),d.length>1))for(var p=1;p<d.length;p++)if(1===p){var _=d[p].split(":");_.length>1?(i=_[0],c=_[1]):(i="0",c=d[p])}else if(2===p){var E=d[p].split(":");E.length>1?(s=E[0],o=E[1]):(s="0",o=d[p])}else 3===p?l=d[p]:4===p&&(u=d[p])}a.push({label:t,value:r,uom:n,warn1:i,warn2:c,crit1:s,crit2:o,min:l,max:u})})),e.thresholds=a})),e}var Kt=function(e){var t=e.values,a=e.errors,r=e.setFieldValue,i=e.historyview,c=void 0!==i&&i,s=e.groups_list,o=void 0===s?void 0:s,l=e.metrics_list,u=void 0===l?void 0:l,m=e.write_perm,d=void 0!==m&&m,p=e.onSelect,_=e.state,E=e.toggleWarningPopOver,f=e.toggleCriticalPopOver;return n.a.createElement(n.a.Fragment,null,n.a.createElement(K.w,{values:t,errors:a,grouplist:d?o:[t.groupname],fieldsdisable:c,profiletype:"thresholds"}),n.a.createElement(N.a,null,n.a.createElement(K.v,{title:"Thresholds rules"}),n.a.createElement(x.a,null,n.a.createElement(A.a,{md:12},n.a.createElement(R.b,{name:"rules",render:function(e){return n.a.createElement("div",null,t.rules&&t.rules.length>0?t.rules.map((function(i,s){return n.a.createElement(n.a.Fragment,{key:"fragment.rules.".concat(s)},n.a.createElement(T.a,{className:"mt-".concat(0===s?"1":"4")},n.a.createElement(C.a,{className:"p-1 font-weight-bold text-uppercase"},n.a.createElement("div",{className:"d-flex align-items-center justify-content-between no-gutters"},"Rule ",s+1,!c&&n.a.createElement(j.a,{size:"sm",color:"danger",type:"button",onClick:function(){return d&&e.remove(s)}},n.a.createElement(te.a,{icon:ae.B})))),n.a.createElement(I.a,{className:"p-1"},n.a.createElement(x.a,{className:"d-flex align-items-center no-gutters"},n.a.createElement(A.a,{md:12},c?n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"Metric"),n.a.createElement(R.a,{name:"rules.".concat(s,".metric"),className:"form-control",disabled:!0})):n.a.createElement(K.a,{req:a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].metric,setFieldValue:r,lists:u,icon:"metrics",field:"rules[".concat(s,"].metric"),val:t.rules[s].metric,onselect_handler:p,label:"Metric"}),a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].metric&&Object(K.i)(a.rules[s].metric))),n.a.createElement(x.a,{className:"mt-2"},n.a.createElement(A.a,{md:12},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"Host"),n.a.createElement(R.a,{name:"rules.".concat(s,".host"),className:"form-control",disabled:c})))),n.a.createElement(x.a,{className:"mt-2"},n.a.createElement(A.a,{md:12},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"Endpoint group"),n.a.createElement(R.a,{name:"rules.".concat(s,".endpoint_group"),className:"form-control",disabled:c}))))),n.a.createElement(U.a,null,n.a.createElement(x.a,{className:"mt-2"},n.a.createElement(A.a,{md:12},n.a.createElement("h6",{className:"text-uppercase rounded"},"Thresholds"),n.a.createElement(R.b,{name:"rules.".concat(s,".thresholds"),render:function(e){return n.a.createElement("div",null,n.a.createElement("table",{className:"table table-bordered table-sm"},n.a.createElement("thead",{className:"table-active"},n.a.createElement("tr",{className:"align-middle text-center"},n.a.createElement("th",{style:{width:"4%"}},"#"),n.a.createElement("th",{style:{width:"13%"}},"Label"),n.a.createElement("th",{colSpan:2,style:{width:"13%"}},"Value"),c?n.a.createElement("th",{colSpan:3,style:{width:"13%"}},"Warning"):n.a.createElement("th",{colSpan:3,style:{width:"13%"}},"Warning ",n.a.createElement(te.a,{id:"warning-popover",icon:ae.p,style:{color:"#416090"}}),n.a.createElement(Lt.a,{placement:"bottom",isOpen:_.popoverWarningOpen,target:"warning-popover",toggle:E,trigger:"hover"},n.a.createElement(jt.a,null,"Warning range"),n.a.createElement(Ut.a,null,n.a.createElement("p",null,"Defined in format: ",n.a.createElement("code",null,"@{floor}:{ceil}")),n.a.createElement("p",null,n.a.createElement("code",null,"@")," - optional - negates the range (value should belong outside limits)"),n.a.createElement("p",null,n.a.createElement("code",null,"{floor}"),": integer/float or ",n.a.createElement("code",null,"~")," that defines negative infinity"),n.a.createElement("p",null,n.a.createElement("code",null,"{ceil}"),": integer/float or empty (defines positive infinity)")))),c?n.a.createElement("th",{colSpan:3,style:{width:"13%"}},"Critical"):n.a.createElement("th",{colSpan:3,style:{width:"13%"}},"Critical ",n.a.createElement(te.a,{id:"critical-popover",icon:ae.p,style:{color:"#416090"}}),n.a.createElement(Lt.a,{placement:"bottom",isOpen:_.popoverCriticalOpen,target:"critical-popover",toggle:f,trigger:"hover"},n.a.createElement(jt.a,null,"Critical range"),n.a.createElement(Ut.a,null,n.a.createElement("p",null,"Defined in format: ",n.a.createElement("code",null,"@{floor}:{ceil}")),n.a.createElement("p",null,n.a.createElement("code",null,"@")," - optional - negates the range (value should belong outside limits)"),n.a.createElement("p",null,n.a.createElement("code",null,"{floor}"),": integer/float or ",n.a.createElement("code",null,"~")," that defines negative infinity"),n.a.createElement("p",null,n.a.createElement("code",null,"{ceil}"),": integer/float or empty (defines positive infinity)")))),n.a.createElement("th",{style:{width:"12%"}},"min"),n.a.createElement("th",{style:{width:"12%"}},"max"),!c&&n.a.createElement("th",{style:{width:"8%"}},"Action"))),n.a.createElement("tbody",null,t.rules&&t.rules.length>s&&t.rules[s]&&t.rules[s].thresholds&&t.rules[s].thresholds.length>0?t.rules[s].thresholds.map((function(r,i){return n.a.createElement("tr",{key:"rule-".concat(s,"-threshold-").concat(i)},n.a.createElement("td",{className:"align-middle text-center"},i+1),n.a.createElement("td",null,c?t.rules[s].thresholds[i].label:n.a.createElement(R.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].label&&"border-danger"),name:"rules[".concat(s,"].thresholds[").concat(i,"].label"),id:"values.rules.".concat(s,".thresholds.").concat(i,".label")}),a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].label&&Object(K.i)(a.rules[s].thresholds[i].label)),n.a.createElement("td",null,c?t.rules[s].thresholds[i].value:n.a.createElement(R.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].value&&"border-danger"),name:"rules.".concat(s,".thresholds.").concat(i,".value"),id:"values.rules.".concat(s,".thresholds.").concat(i,".value")}),a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].value&&Object(K.i)(a.rules[s].thresholds[i].value)),n.a.createElement("td",{style:{width:"6%"}},c?t.rules[s].thresholds[i].uom:n.a.createElement(R.a,{component:"select",className:"form-control custom-select",name:"rules.".concat(s,".thresholds.").concat(i,".uom"),id:"values.rules.".concat(s,".thresholds.").concat(i,".uom")},n.a.createElement("option",{key:"option-0",value:""}),n.a.createElement("option",{key:"option-1",value:"s"},"s"),n.a.createElement("option",{key:"option-2",value:"us"},"us"),n.a.createElement("option",{key:"option-3",value:"ms"},"ms"),n.a.createElement("option",{key:"option-4",value:"B"},"B"),n.a.createElement("option",{key:"option-5",value:"KB"},"KB"),n.a.createElement("option",{key:"option-6",value:"MB"},"MB"),n.a.createElement("option",{key:"option-7",value:"TB"},"TB"),n.a.createElement("option",{key:"option-8",value:"%"},"%"),n.a.createElement("option",{key:"option-9",value:"c"},"c"))),n.a.createElement("td",null,c?t.rules[s].thresholds[i].warn1:n.a.createElement(R.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].warn1&&"border-danger"),name:"rules.".concat(s,".thresholds.").concat(i,".warn1"),id:"values.rules.".concat(s,".thresholds.").concat(i,".warn1")}),a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].warn1&&Object(K.i)(a.rules[s].thresholds[i].warn1)),n.a.createElement("td",null,":"),n.a.createElement("td",null,c?t.rules[s].thresholds[i].warn2:n.a.createElement(R.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].warn2&&"border-danger"),name:"rules.".concat(s,".thresholds.").concat(i,".warn2"),id:"values.rules.".concat(s,".thresholds.").concat(i,".warn2")}),a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].warn2&&Object(K.i)(a.rules[s].thresholds[i].warn2)),n.a.createElement("td",null,c?t.rules[s].thresholds[i].crit1:n.a.createElement(R.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].crit1&&"border-danger"),name:"rules.".concat(s,".thresholds.").concat(i,".crit1"),id:"values.rules.".concat(s,".thresholds.").concat(i,".crit1")}),a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].crit1&&Object(K.i)(a.rules[s].thresholds[i].crit1)),n.a.createElement("td",null,":"),n.a.createElement("td",null,c?t.rules[s].thresholds[i].crit2:n.a.createElement(R.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].crit2&&"border-danger"),name:"rules.".concat(s,".thresholds.").concat(i,".crit2"),id:"values.rules.".concat(s,".thresholds.").concat(i,".crit2")}),a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].crit2&&Object(K.i)(a.rules[s].thresholds[i].crit2)),n.a.createElement("td",null,c?t.rules[s].thresholds[i].min:n.a.createElement(R.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].min&&"border-danger"),name:"rules.".concat(s,".thresholds.").concat(i,".min"),id:"values.rules.".concat(s,".thresholds.").concat(i,".min")}),a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].min&&Object(K.i)(a.rules[s].thresholds[i].min)),n.a.createElement("td",null,c?t.rules[s].thresholds[i].max:n.a.createElement(R.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].max&&"border-danger"),name:"rules.".concat(s,".thresholds.").concat(i,".max"),id:"values.rules.".concat(s,".thresholds.").concat(i,".max")}),a.rules&&a.rules.length>s&&a.rules[s]&&a.rules[s].thresholds&&a.rules[s].thresholds.length>i&&a.rules[s].thresholds[i]&&a.rules[s].thresholds[i].max&&Object(K.i)(a.rules[s].thresholds[i].max)),!c&&n.a.createElement("td",{className:"align-middle d-flex justify-content-center align-items-center"},n.a.createElement(j.a,{size:"sm",color:"light",type:"button",onClick:function(){e.remove(i),1===t.rules[s].thresholds.length&&e.push({label:"",value:"",uom:"",warn1:"",warn2:"",crit1:"",crit2:"",min:"",max:""})}},n.a.createElement(te.a,{icon:ae.B})),n.a.createElement(j.a,{size:"sm",color:"light",type:"button",onClick:function(){return e.push({label:"",value:"",uom:"",warn1:"",warn2:"",crit1:"",crit2:"",min:"",max:""})}},n.a.createElement(te.a,{icon:ae.u}))))})):null)))}}))))),s+1===t.rules.length&&!c&&n.a.createElement(j.a,{color:"success",className:"mt-4",onClick:function(){return e.push({metric:"",thresholds:[{label:"",value:"",uom:"",warn1:"",warn2:"",crit1:"",crit2:"",min:"",max:""}],host:"",endpoint_group:""})}},"Add new rule"))})):!c&&n.a.createElement(j.a,{color:"success",onClick:function(){return e.push({metric:"",thresholds:[{label:"",value:"",uom:"",warn1:"",warn2:"",crit1:"",crit2:"",min:"",max:""}],host:"",endpoint_group:""})}},"Add a rule"))}})))))},zt=function(e){var t=e.location,a=new z.a,r=e.publicView,i="/api/v2/internal/".concat(r?"public_":"","thresholdsprofiles"),c=Object(ie.b)("session_userdetails",u()(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.isActiveSession();case 2:if(!(t=e.sent).active){e.next=5;break}return e.abrupt("return",t.userdetails);case 5:case"end":return e.stop()}}),e)})))),s=c.data,l=c.error,m=c.isLoading,d=Object(ie.b)("thresholdsprofiles_listview",u()(o.a.mark((function e(){var t,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchData(i);case 2:for(t=e.sent,r=10-t.length%10,n=0;n<r;n++)t.push({description:"",groupname:"",name:""});return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))),p=d.data,_=d.error,E=d.isLoading,f=n.a.useMemo((function(){return[{Header:"#",accessor:null},{Header:"Name",id:"name",maxWidth:350,accessor:function(e){return n.a.createElement(X.b,{to:"/ui/".concat(r?"public_":"","thresholdsprofiles/").concat(e.name)},e.name)}},{Header:"Description",accessor:"description"},{Header:"Group",accessor:"groupname",className:"text-center",maxWidth:150}]}));return m||E?n.a.createElement(K.m,null):_?n.a.createElement(K.h,{error:_}):l?n.a.createElement(K.h,{error:l}):m||E||!p?null:n.a.createElement(K.b,{resourcename:"thresholds profile",location:t,listview:!0,addnew:!r,addperm:!r&&(s.is_superuser||s.groups.thresholdsprofiles.length>0),publicview:r},n.a.createElement(K.x,{data:p,columns:f,type:"thresholds"}))},Vt=function(e){h()(c,e);var t,a,r,i=Rt(c);function c(e){var t;return d()(this,c),(t=i.call(this,e)).name=e.match.params.name,t.addview=e.addview,t.history=e.history,t.location=e.location,t.tenant_name=e.tenantname,t.webapithresholds=e.webapithresholds,t.token=e.webapitoken,t.backend=new z.a,t.webapi=new z.b({token:t.token,thresholdsProfiles:t.webapithresholds}),t.publicView=e.publicView,t.state={thresholds_profile:{apiid:"",name:"",groupname:""},thresholds_rules:[],groups_list:[],metrics_list:[],write_perm:!1,areYouSureModal:!1,loading:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0,popoverWarningOpen:!1,popoverCriticalOpen:!1,error:null},t.toggleAreYouSure=t.toggleAreYouSure.bind(f()(t)),t.toggleAreYouSureSetModal=t.toggleAreYouSureSetModal.bind(f()(t)),t.onSelect=t.onSelect.bind(f()(t)),t.toggleWarningPopOver=t.toggleWarningPopOver.bind(f()(t)),t.toggleCriticalPopOver=t.toggleCriticalPopOver.bind(f()(t)),t.thresholdsToString=t.thresholdsToString.bind(f()(t)),t.onSubmitHandle=t.onSubmitHandle.bind(f()(t)),t.doChange=t.doChange.bind(f()(t)),t.doDelete=t.doDelete.bind(f()(t)),t}return _()(c,[{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleWarningPopOver",value:function(){this.setState({popoverWarningOpen:!this.state.popoverWarningOpen})}},{key:"toggleCriticalPopOver",value:function(){this.setState({popoverCriticalOpen:!this.state.popoverCriticalOpen})}},{key:"onSelect",value:function(e,t){var a=this.state.thresholds_rules,r=e.split("[")[1].split("]")[0];a.length==r&&a.push({metric:"",thresholds:[],host:"",endpoint_group:""}),a[r].metric=t,this.setState({thresholds_rules:a})}},{key:"thresholdsToString",value:function(e){return e.forEach((function(e){var t=[];e.host||delete e.host,e.endpoint_group||delete e.endpoint_group,e.thresholds.forEach((function(e){var a=void 0;a=e.label+"="+e.value+e.uom+";"+e.warn1+":"+e.warn2+";"+e.crit1+":"+e.crit2,e.min&&e.max&&(a=a+";"+e.min+";"+e.max),t.push(a)}));var a=t.join(" ");e.thresholds=a})),e}},{key:"onSubmitHandle",value:function(e,t){var a=this,r=void 0,n=void 0;this.addview?(r="Are you sure you want to add thresholds profile?",n="Add thresholds profile"):(r="Are you sure you want to change thresholds profile?",n="Change thresholds profile"),this.toggleAreYouSureSetModal(r,n,(function(){return a.doChange(e,t)}))}},{key:"doChange",value:(r=u()(o.a.mark((function e(t,a){var r,n,i,c,s,l,u,m,d,p,_,E,f,g,h,b,v=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=JSON.parse(JSON.stringify(t)),!this.addview){e.next=50;break}return e.next=4,this.webapi.addThresholdsProfile({name:r.name,rules:this.thresholdsToString(r.rules)});case 4:if((n=e.sent).ok){e.next=23;break}return i="",e.prev=7,e.next=10,n.json();case 10:c=e.sent,s=[],c.errors.forEach((function(e){return s.push(e.details)})),i=s.join(" "),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(7),i="Web API error adding thresholds profile";case 19:Object(K.r)({title:"Web API error: ".concat(n.status," ").concat(n.statusText),msg:i}),e.next=47;break;case 23:return e.next=25,n.json();case 25:return l=e.sent,e.next=28,this.backend.addObject("/api/v2/internal/thresholdsprofiles/",{apiid:l.data.id,name:r.name,groupname:t.groupname,rules:r.rules});case 28:if(!(u=e.sent).ok){e.next=33;break}Object(K.t)({msg:"Thresholds profile successfully added",title:"Added",callback:function(){return v.history.push("/ui/thresholdsprofiles")}}),e.next=46;break;case 33:return m="",e.prev=34,e.next=37,u.json();case 37:d=e.sent,m=d.detail,e.next=44;break;case 41:e.prev=41,e.t1=e.catch(34),m="Internal API error adding thresholds profile";case 44:Object(K.r)({title:"Internal API error: ".concat(u.status," ").concat(u.statusText),msg:m});case 46:case 47:e.next=85;break;case 50:return e.next=52,this.webapi.changeThresholdsProfile({id:r.id,name:r.name,rules:this.thresholdsToString(r.rules)});case 52:if((p=e.sent).ok){e.next=60;break}_="";try{E=p.json(),f=[],E.errors.forEach((function(e){return f.push(e.details)})),_=f.join(" ")}catch(e){_="Web API error changing thresholds profile"}Object(K.r)({title:"Web API error: ".concat(p.status," ").concat(p.statusText),msg:_}),e.next=84;break;case 60:return e.next=62,p.json();case 62:return e.sent,e.next=65,this.backend.changeObject("/api/v2/internal/thresholdsprofiles/",{apiid:r.id,name:r.name,groupname:t.groupname,rules:r.rules});case 65:if(!(g=e.sent).ok){e.next=70;break}Object(K.t)({msg:"Thresholds profile successfully changed",title:"Changed",callback:function(){return v.history.push("/ui/thresholdsprofiles")}}),e.next=83;break;case 70:return h="",e.prev=71,e.next=74,g.json();case 74:b=e.sent,h=b.detail,e.next=81;break;case 78:e.prev=78,e.t2=e.catch(71),h="Internal API error changing thresholds profile";case 81:Object(K.r)({title:"Internal API error: ".concat(g.status," ").concat(g.statusText),msg:h});case 83:case 84:case 85:case"end":return e.stop()}}),e,this,[[7,16],[34,41],[71,78]])}))),function(e,t){return r.apply(this,arguments)})},{key:"doDelete",value:(a=u()(o.a.mark((function e(t){var a,r,n,i,c,s,l,u=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.webapi.deleteThresholdsProfile(t);case 2:if((a=e.sent).ok){e.next=21;break}return r="",e.prev=5,e.next=8,a.json();case 8:n=e.sent,i=[],n.errors.forEach((function(e){return i.push(e.details)})),r=i.join(" "),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),r="Web API error deleting thresholds profile";case 17:Object(K.r)({title:"Web API error: ".concat(a.status," ").concat(a.statusText),msg:r}),e.next=42;break;case 21:return e.next=23,this.backend.deleteObject("/api/v2/internal/thresholdsprofiles/".concat(t));case 23:if(!(c=e.sent)){e.next=28;break}Object(K.t)({msg:"Thresholds profile successfully deleted",title:"Deleted",callback:function(){return u.history.push("/ui/thresholdsprofiles")}}),e.next=41;break;case 28:return s="",e.prev=29,e.next=32,c.json();case 32:l=e.sent,s=l.detail,e.next=39;break;case 36:e.prev=36,e.t1=e.catch(29),s="Internal API error deleting thresholds profile";case 39:Object(K.r)({title:"Internal API error: ".concat(c.status," ").concat(c.statusText),msg:s});case 41:case 42:case 43:case"end":return e.stop()}}),e,this,[[5,14],[29,36]])}))),function(e){return a.apply(this,arguments)})},{key:"componentDidMount",value:(t=u()(o.a.mark((function e(){var t,a,r,n,i,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),e.prev=1,!this.publicView){e.next=15;break}return e.next=5,this.backend.fetchData("/api/v2/internal/public_thresholdsprofiles/".concat(this.name));case 5:return t=e.sent,e.next=8,this.webapi.fetchThresholdsProfile(t.apiid);case 8:return a=e.sent,e.next=11,this.backend.fetchListOfNames("/api/v2/internal/public_metricsall");case 11:r=e.sent,this.setState({thresholds_profile:{apiid:a.id,name:a.name,groupname:t.groupname},thresholds_rules:Bt(a.rules),groups_list:[],metrics_list:r,write_perm:!1,loading:!1}),e.next=33;break;case 15:return e.next=17,this.backend.isActiveSession();case 17:return n=e.sent,e.next=20,this.backend.fetchListOfNames("/api/v2/internal/metricsall");case 20:if(i=e.sent,!this.addview){e.next=25;break}this.setState({loading:!1,groups_list:n.userdetails.groups.thresholdsprofiles,metrics_list:i,write_perm:n.userdetails.is_superuser||n.userdetails.groups.thresholdsprofiles.length>0}),e.next=32;break;case 25:return e.next=27,this.backend.fetchData("/api/v2/internal/thresholdsprofiles/".concat(this.name));case 27:return c=e.sent,e.next=30,this.webapi.fetchThresholdsProfile(c.apiid);case 30:s=e.sent,this.setState({thresholds_profile:{apiid:s.id,name:s.name,groupname:c.groupname},thresholds_rules:Bt(s.rules),groups_list:n.userdetails.groups.thresholdsprofiles,metrics_list:i,write_perm:n.userdetails.is_superuser||n.userdetails.groups.thresholdsprofiles.indexOf(c.groupname)>=0,loading:!1});case 32:case 33:e.next=38;break;case 35:e.prev=35,e.t0=e.catch(1),this.setState({error:e.t0,loading:!1});case 38:case 39:case"end":return e.stop()}}),e,this,[[1,35]])}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state,a=t.thresholds_profile,r=t.thresholds_rules,i=t.metrics_list,c=t.groups_list,s=t.loading,o=t.write_perm,l=t.error;return s?n.a.createElement(K.m,null):l?n.a.createElement(K.h,{error:l}):!s&&a?n.a.createElement(K.b,{resourcename:this.publicView?"Thresholds profile details":"thresholds profile",location:this.location,modal:!0,history:!this.publicView,state:this.state,toggle:this.toggleAreYouSure,submitperm:o,addview:this.publicView?!this.publicView:this.addview,publicview:this.publicView},n.a.createElement(R.d,{initialValues:{id:a.apiid,name:a.name,groupname:a.groupname,rules:r},validationSchema:Wt,onSubmit:function(t,a){return e.onSubmitHandle(t,a)},render:function(t){return n.a.createElement(R.c,null,n.a.createElement(Kt,D()({},t,{groups_list:c,metrics_list:i,write_perm:o,onSelect:e.onSelect,state:e.state,toggleWarningPopOver:e.toggleWarningPopOver,toggleCriticalPopOver:e.toggleCriticalPopOver,historyview:e.publicView})),o&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},e.addview?n.a.createElement("div",null):n.a.createElement(j.a,{color:"danger",onClick:function(){e.toggleAreYouSureSetModal("Are you sure you want to delete thresholds profile?","Delete thresholds profile",(function(){return e.doDelete(t.values.id)}))}},"Delete"),n.a.createElement(j.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):null}}]),c}(r.Component),Yt=function(e){for(var t=e.title,a=e.item1,r=e.item2,i=[],c=[],s=0;s<a.length;s++){var o="metric: ".concat(a[s].metric,",\n");"host"in a[s]&&(o+="host: ".concat(a[s].host,",\n")),"endpoint_group"in a[s]&&(o+="endpoint_group: ".concat(a[s].endpoint_group,",\n")),o+="thresholds: ".concat(a[s].thresholds),i.push(o)}for(var l=0;l<r.length;l++){var u="metric: ".concat(r[l].metric,",\n");"host"in r[l]&&(u+="host: ".concat(r[l].host,",\n")),"endpoint_group"in r[l]&&(u+="endpoint_group: ".concat(r[l].endpoint_group,",\n")),u+="thresholds: ".concat(r[l].thresholds),c.push(u)}return n.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},n.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},t),n.a.createElement(ne.a,{oldValue:c.join("\n"),newValue:i.join("\n"),showDiffOnly:!0,splitView:!0,hideLineNumbers:!0}))};var Qt=function(e){h()(r,e);var t,a=Rt(r);function r(e){var t;return d()(this,r),(t=a.call(this,e)).version1=e.match.params.id1,t.version2=e.match.params.id2,t.name=e.match.params.name,t.state={loading:!1,name1:"",groupname1:"",rules1:[],name2:"",groupname2:"",rules2:[],error:null},t.backend=new z.a,t}return _()(r,[{key:"componentDidMount",value:(t=u()(o.a.mark((function e(){var t,a,r,n,i,c,s,l=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.backend.fetchData("/api/v2/internal/tenantversion/thresholdsprofile/".concat(this.name));case 3:t=e.sent,a="",r="",n=[],i="",c="",s=[],t.forEach((function(e){e.version==l.version1?(a=e.fields.name,r=e.fields.groupname,n=e.fields.rules):e.version==l.version2&&(i=e.fields.name,c=e.fields.groupname,s=e.fields.rules)})),this.setState({name1:a,groupname1:r,rules1:n,name2:i,groupname2:c,rules2:s,loading:!1}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),this.setState({error:e.t0,loading:!1});case 17:case 18:case"end":return e.stop()}}),e,this,[[0,14]])}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.name1,a=e.name2,r=e.groupname1,i=e.groupname2,c=e.rules1,s=e.rules2,o=e.loading,l=e.error;return o?n.a.createElement(K.m,null):l?n.a.createElement(K.h,{error:l}):!o&&t&&a?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Compare ".concat(this.name," versions"))),t!==a&&n.a.createElement(K.e,{title:"name",item1:t,item2:a}),r!==i&&n.a.createElement(K.e,{title:"group name",item1:r,item2:i}),!function(e,t){if(e.length!==t.length)return!1;for(var a=e.length;a--;)if(e[a].metric!==t[a].metric||e[a].thresholds!==t[a].thresholds||e[a].host!==t[a].host||e[a].endpoint_group!==t[a].endpoint_group)return!1;return!0}(c,s)&&n.a.createElement(Yt,{title:"rules",item1:c,item2:s})):null}}]),r}(r.Component),Ft=function(e){h()(r,e);var t,a=Rt(r);function r(e){var t;return d()(this,r),(t=a.call(this,e)).name=e.match.params.name,t.version=e.match.params.version,t.backend=new z.a,t.state={name:"",groupname:"",rules:[],date_created:"",loading:!1,error:null},t}return _()(r,[{key:"componentDidMount",value:(t=u()(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.prev=1,e.next=4,this.backend.fetchData("/api/v2/internal/tenantversion/thresholdsprofile/".concat(this.name));case 4:e.sent.forEach((function(e){e.version==t.version&&t.setState({name:e.fields.name,groupname:e.fields.groupname,rules:Bt(e.fields.rules),date_created:e.date_created,loading:!1})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.setState({error:e.t0,loading:!1});case 11:case 12:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.name,a=e.groupname,r=e.rules,i=e.date_created,c=e.loading,s=e.error;return c?n.a.createElement(K.m,null):s?n.a.createElement(K.h,{error:s}):!c&&t?n.a.createElement(K.b,{resourcename:"".concat(t," (").concat(i,")"),infoview:!0},n.a.createElement(R.d,{initialValues:{name:t,groupname:a,rules:r},render:function(e){return n.a.createElement(R.c,null,n.a.createElement(Kt,D()({},e,{historyview:!0})))}})):null}}]),r}(r.Component),qt=a("9ONQ");a("/WES");function Ht(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=y()(e);if(t()){var n=y()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return v()(this,a)}}var Gt=$t(),Zt=$t(!0),Jt=Te.object().shape({name:Te.string().matches(/^\S*$/,"Name cannot contain white spaces").required("Required"),present_version:Te.boolean(),version:Te.string().matches(/^\S*$/,"Version cannot contain white spaces").when("present_version",{is:!1,then:Te.string().required("Required")}),repo_6:Te.string(),repo_7:Te.string()}).test("undefined","You must provide at least one repo!",(function(e){return!(!e.repo_6&&!e.repo_7)})),Xt=function(e){h()(r,e);var t,a=Ht(r);function r(e){var t;return d()(this,r),(t=a.call(this,e)).location=e.location,t.backend=new z.a,t.state={loading:!1,list_packages:null,list_repos:null,search_name:"",search_repo:"",error:null,isTenantSchema:null},t}return _()(r,[{key:"componentDidMount",value:(t=u()(o.a.mark((function e(){var t,a,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.prev=1,e.next=4,this.backend.fetchData("/api/v2/internal/packages");case 4:return t=e.sent,e.next=7,this.backend.fetchData("/api/v2/internal/yumrepos");case 7:return a=e.sent,e.next=10,this.backend.isTenantSchema();case 10:r=e.sent,n=[],a.forEach((function(e){return n.push(e.name+" ("+e.tag+")")})),this.setState({list_packages:t,list_repos:n,loading:!1,isTenantSchema:r}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),this.setState({error:e.t0,loading:!1});case 19:case 20:case"end":return e.stop()}}),e,this,[[1,16]])}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state,a=t.list_packages,r=t.isTenantSchema,i=t.loading,c=t.error,s=void 0;s=r?"/ui/administration/packages/":"/ui/packages/";var o=[{Header:"#",id:"row",minWidth:12,Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.index+1)}},{Header:"Name",id:"name",minWidth:80,accessor:function(e){return n.a.createElement(X.b,{to:s+e.name+"-"+e.version},e.name)},filterable:!0,Filter:n.a.createElement("input",{value:this.state.search_name,onChange:function(t){return e.setState({search_name:t.target.value})},placeholder:"Search by name",style:{width:"100%"}})},{Header:"Version",id:"version",accessor:"version",minWidth:12,Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)}},{Header:"Repo",id:"repo",accessor:"repos",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value.join(", "))},filterable:!0,Filter:n.a.createElement(K.g,{value:this.state.repo,onChange:function(t){return e.setState({search_repo:t.target.value})},data:this.state.list_repos})}];return this.state.search_name&&(a=a.filter((function(t){return t.name.toLowerCase().includes(e.state.search_name.toLowerCase())}))),this.state.search_repo&&(a=a.filter((function(t){return"".concat(t.repos.join(", ")).toLowerCase().includes(e.state.search_repo.toLowerCase())}))),i?n.a.createElement(K.m,null):c?n.a.createElement(K.h,{error:c}):!i&&a?n.a.createElement(K.b,{resourcename:"package",location:this.location,listview:!0},n.a.createElement(ke.a,{data:a,columns:o,className:"-highlight",defaultPageSize:50,rowsText:"packages",getTheadThProps:function(){return{className:"table-active font-weight-bold p-2"}}})):null}}]),r}(r.Component);function $t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){h()(m,t);var a,r,i,c,s,l=Ht(m);function m(e){var t;return d()(this,m),(t=l.call(this,e)).nameversion=e.match.params.nameversion,t.addview=e.addview,t.disabled=e.disabled,t.location=e.location,t.history=e.history,t.backend=new z.a,t.state={pkg:{id:"",name:"",version:""},initial_version:"",repo_6:"",repo_7:"",list_repos_6:[],list_repos_7:[],all_probes:[],list_probes:[],pkg_versions:[],present_version:!1,loading:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0,error:null,disabled_button:!0},t.toggleAreYouSure=t.toggleAreYouSure.bind(f()(t)),t.toggleAreYouSureSetModal=t.toggleAreYouSureSetModal.bind(f()(t)),t.onSelect=t.onSelect.bind(f()(t)),t.onSubmitHandle=t.onSubmitHandle.bind(f()(t)),t.doChange=t.doChange.bind(f()(t)),t.doDelete=t.doDelete.bind(f()(t)),t.toggleCheckbox=t.toggleCheckbox.bind(f()(t)),t.onVersionSelect=t.onVersionSelect.bind(f()(t)),t.onTenantSubmitHandle=t.onTenantSubmitHandle.bind(f()(t)),t.updateMetrics=t.updateMetrics.bind(f()(t)),t}return _()(m,[{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSelect",value:function(e,t){var a=this.state.pkg;a[e]=t,this.setState({pkg:a})}},{key:"onVersionSelect",value:function(e){var t=this,a=this.state,r=a.pkg_versions,n=a.all_probes,i=a.initial_version;r.forEach((function(a){if(a.version===e){for(var r={id:a.id,name:a.name,version:a.version,use_present_version:a.use_present_version,repos:a.repos},c="",s="",o=0;o<a.repos.length;o++)"CentOS 6"===a.repos[o].split("(")[1].slice(0,-1)&&(c=a.repos[o]),"CentOS 7"===a.repos[o].split("(")[1].slice(0,-1)&&(s=a.repos[o]);var l=[];n.forEach((function(e){e.fields.package==="".concat(r.name," (").concat(r.version,")")&&l.push(e.fields.name)})),t.setState({pkg:r,repo_6:c,repo_7:s,list_probes:l,disabled_button:e===i})}}))}},{key:"onSubmitHandle",value:function(t,a){var r=this,n=void 0,i=void 0;this.addview||e?(n="Are you sure you want to add package?",i="Add package"):(n="Are you sure you want to change package?",i="Change package"),this.toggleAreYouSureSetModal(n,i,(function(){return r.doChange(t,a)}))}},{key:"onTenantSubmitHandle",value:(s=u()(o.a.mark((function e(t,a){var r,i,c,s,l,u=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v2/internal/updatemetricsversions/".concat(t.name,"-").concat(t.version));case 3:if(!(r=e.sent).ok){e.next=17;break}return e.next=7,r.json();case 7:i=e.sent,c=[],"updated"in i&&c.push(i.updated),"deleted"in i&&c.push(i.deleted),"warning"in i&&c.push(i.warning),c.push("ARE YOU SURE you want to update metrics?"),this.toggleAreYouSureSetModal(n.a.createElement("div",null,c.map((function(e,t){return n.a.createElement("p",{key:t},e)}))),"Update metrics",(function(){return u.updateMetrics(t,a)})),e.next=29;break;case 17:return s="",e.prev=18,e.next=21,r.json();case 21:l=e.sent,s="".concat(r.status," ").concat(r.statusText," ").concat(l.detail),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(18),s="".concat(r.status," ").concat(r.statusText);case 28:Object(K.r)({title:"Error",msg:s});case 29:e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),Object(K.r)({title:"Error",msg:"Error fetching metrics data: ".concat(e.t1)});case 35:case 36:case"end":return e.stop()}}),e,this,[[0,32],[18,25]])}))),function(e,t){return s.apply(this,arguments)})},{key:"updateMetrics",value:(c=u()(o.a.mark((function e(t,a){var r,n,i,c,s=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backend.changeObject("/api/v2/internal/updatemetricsversions/",{name:t.name,version:t.version});case 2:if((r=e.sent).ok){e.next=19;break}return n="",e.prev=5,e.next=8,r.json();case 8:i=e.sent,n=i.detail,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),n="Error updating metrics";case 15:Object(K.r)({title:"Error: ".concat(r.status," ").concat(r.statusText),msg:n}),e.next=25;break;case 19:return e.next=21,r.json();case 21:"updated"in(c=e.sent)&&Object(K.t)({msg:c.updated,title:"Updated",callback:function(){return s.history.push("/ui/administration/packages")}}),"warning"in c&&Object(K.u)({msg:c.warning,title:"Warning"}),"deleted"in c&&Object(K.u)({msg:c.deleted,title:"Deleted"});case 25:case 26:case"end":return e.stop()}}),e,this,[[5,12]])}))),function(e,t){return c.apply(this,arguments)})},{key:"doChange",value:(i=u()(o.a.mark((function t(a,r){var n,i,c,s,l,u,m,d=this;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=[],a.repo_6&&n.push(a.repo_6),a.repo_7&&n.push(a.repo_7),!this.addview&&!e){t.next=26;break}return t.next=6,this.backend.addObject("/api/v2/internal/packages/",{name:a.name,version:a.version,use_present_version:a.present_version,repos:n});case 6:if((i=t.sent).ok){t.next=22;break}return c="",t.prev=9,t.next=12,i.json();case 12:s=t.sent,c=s.detail,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(9),c="Error adding package";case 19:Object(K.r)({title:"Error: ".concat(i.status," ").concat(i.statusText),msg:c}),t.next=23;break;case 22:Object(K.t)({msg:"Package successfully added",title:"Added",callback:function(){return d.history.push("/ui/packages")}});case 23:t.next=46;break;case 26:return t.next=28,this.backend.changeObject("/api/v2/internal/packages/",{id:a.id,name:a.name,version:a.version,use_present_version:a.present_version,repos:n});case 28:if((l=t.sent).ok){t.next=44;break}return u="",t.prev=31,t.next=34,l.json();case 34:m=t.sent,u=m.detail,t.next=41;break;case 38:t.prev=38,t.t1=t.catch(31),u="Error changing package";case 41:Object(K.r)({title:"Error: ".concat(l.status," ").concat(l.statusText),msg:u}),t.next=45;break;case 44:Object(K.t)({msg:"Package successfully changed",title:"Changed",callback:function(){return d.history.push("/ui/packages")}});case 45:case 46:case 47:case"end":return t.stop()}}),t,this,[[9,16],[31,38]])}))),function(e,t){return i.apply(this,arguments)})},{key:"doDelete",value:(r=u()(o.a.mark((function e(t){var a,r,n,i=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backend.deleteObject("/api/v2/internal/packages/".concat(t));case 2:if((a=e.sent).ok){e.next=19;break}return r="",e.prev=5,e.next=8,a.json();case 8:n=e.sent,r=n.detail,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),r="Error deleting package";case 15:Object(K.r)({title:"Error: ".concat(a.status," ").concat(a.statusText),msg:r}),e.next=20;break;case 19:Object(K.t)({msg:"Package successfully deleted",title:"Deleted",callback:function(){return i.history.push("/ui/packages")}});case 20:case 21:case"end":return e.stop()}}),e,this,[[5,12]])}))),function(e){return r.apply(this,arguments)})},{key:"toggleCheckbox",value:function(){this.setState({present_version:!present_version})}},{key:"componentDidMount",value:(a=u()(o.a.mark((function e(){var t,a,r,n,i,c,s,l,u,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.prev=1,e.next=4,this.backend.fetchData("/api/v2/internal/yumrepos");case 4:if(t=e.sent,a=[],r=[],t.forEach((function(e){"CentOS 6"===e.tag?a.push(e.name+" ("+e.tag+")"):"CentOS 7"===e.tag&&r.push(e.name+" ("+e.tag+")")})),!this.addview){e.next=12;break}this.setState({list_repos_6:a,list_repos_7:r,loading:!1}),e.next=27;break;case 12:return e.next=14,this.backend.fetchData("/api/v2/internal/packages/".concat(this.nameversion));case 14:return n=e.sent,e.next=17,this.backend.fetchData("/api/v2/internal/version/probe");case 17:return i=e.sent,e.next=20,this.backend.fetchData("/api/v2/internal/packageversions/".concat(n.name));case 20:for(c=e.sent,s=[],l="",u="",m=0;m<n.repos.length;m++)"CentOS 6"===n.repos[m].split("(")[1].slice(0,-1)&&(l=n.repos[m]),"CentOS 7"===n.repos[m].split("(")[1].slice(0,-1)&&(u=n.repos[m]);i.forEach((function(e){e.fields.package==="".concat(n.name," (").concat(n.version,")")&&s.push(e.fields.name)})),this.setState({pkg:n,initial_version:n.version,list_repos_6:a,list_repos_7:r,repo_6:l,repo_7:u,all_probes:i,list_probes:s,pkg_versions:c,loading:!1});case 27:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(1),this.setState({error:e.t0,loading:!1});case 33:case 34:case"end":return e.stop()}}),e,this,[[1,30]])}))),function(){return a.apply(this,arguments)})},{key:"render",value:function(){var t=this,a=this.state,r=a.pkg,i=a.repo_6,c=a.repo_7,s=a.list_repos_6,o=a.list_repos_7,l=a.list_probes,u=a.pkg_versions,m=a.loading,d=a.present_version,p=a.error;return m?n.a.createElement(K.m,null):p?n.a.createElement(K.h,{error:p}):!m&&s?n.a.createElement(K.b,{resourcename:this.disabled?"Package details":"package",infoview:this.disabled,location:this.location,addview:this.addview,cloneview:e,clone:!0,modal:!0,state:this.state,toggle:this.toggleAreYouSure,history:!1},n.a.createElement(R.d,{initialValues:{id:r.id,name:r.name,version:r.version,repo_6:i,repo_7:c,present_version:d},onSubmit:function(e,a){return t.onSubmitHandle(e,a)},validationSchema:Jt,enableReinitialize:!0,render:function(a){return n.a.createElement(R.c,null,n.a.createElement(N.a,null,n.a.createElement(x.a,{className:"align-items-center"},n.a.createElement(A.a,{md:6},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"Name"),n.a.createElement(R.a,{type:"text",name:"name",className:"form-control ".concat(a.errors.name&&"border-danger"),id:"name",disabled:t.disabled})),a.errors.name&&Object(K.i)(a.errors.name),n.a.createElement(Ae.a,{color:"muted"},"Package name.")),n.a.createElement(A.a,{md:2},n.a.createElement(x.a,null,n.a.createElement(A.a,{md:12},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"Version"),t.disabled?n.a.createElement(R.a,{component:"select",name:"version",className:"form-control custom-select",id:"version",onChange:function(e){return t.onVersionSelect(e.target.value)}},u.map((function(e,t){return n.a.createElement("option",{key:t,value:e.version},e.version)}))):n.a.createElement(R.a,{type:"text",name:"version",value:a.values.present_version?"present":a.values.version,disabled:a.values.present_version,className:"form-control ".concat(a.errors.version&&"border-danger"),id:"version"})),a.errors.version&&Object(K.i)(a.errors.version),n.a.createElement(Ae.a,{color:"muted"},"Package version.")))),!t.disabled&&n.a.createElement(A.a,{md:3},n.a.createElement(R.a,{component:K.c,name:"present_version",className:"form-control",id:"checkbox",label:"Use version which is present in repo",onChange:t.toggleCheckbox})))),n.a.createElement(N.a,null,n.a.createElement(K.v,{title:"YUM repo"}),n.a.createElement(x.a,null,n.a.createElement(A.a,{md:8},t.disabled?n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"CentOS 6 repo"),n.a.createElement(R.a,{type:"text",className:"form-control",name:"repo_6",id:"repo_6",disabled:!0})):n.a.createElement(K.a,D()({},a,{lists:s,icon:"yumrepos",field:"repo_6",val:a.values.repo_6,onselect_handler:t.onSelect,req:a.errors.undefined,label:"CentOS 6 repo"})),a.errors.undefined&&Object(K.i)(a.errors.undefined),n.a.createElement(Ae.a,{color:"muted"},"Package is part of selected CentOS 6 repo."))),n.a.createElement(x.a,{className:"mt-4"},n.a.createElement(A.a,{md:8},t.disabled?n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"CentOS 7 repo"),n.a.createElement(R.a,{type:"text",className:"form-control",name:"repo_7",id:"repo_7",disabled:!0})):n.a.createElement(K.a,D()({},a,{lists:o,icon:"yumrepos",field:"repo_7",val:a.values.repo_7,onselect_handler:t.onSelect,req:a.errors.undefined,label:"CentOS 7 repo"})),a.errors.undefined&&Object(K.i)(a.errors.undefined),n.a.createElement(Ae.a,{color:"muted"},"Package is part of selected CentOS 7 repo."))),!t.addview&&!e&&l.length>0&&n.a.createElement(x.a,{className:"mt-3"},n.a.createElement(A.a,{md:8},"Probes:",n.a.createElement("div",null,l.map((function(e,t){return n.a.createElement(X.b,{key:t,to:"/ui/probes/".concat(e,"/history/").concat(a.values.version)},e)})).reduce((function(e,t){return[e,", ",t]})))))),n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},t.addview||e||t.disabled?n.a.createElement("div",null):n.a.createElement(j.a,{color:"danger",onClick:function(){t.toggleAreYouSureSetModal("Are you sure you want to delete package?","Delete package",(function(){return t.doDelete(t.nameversion)}))}},"Delete"),t.disabled?n.a.createElement(j.a,{color:"success",id:"import-metrics-button",disabled:t.disabled&&t.state.disabled_button,onClick:function(){return t.onTenantSubmitHandle(a.values)}},"Update metrics"):n.a.createElement(j.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):null}}]),m}(r.Component)}var ea=function(e){var t=e.column,a=t.filterValue,r=t.setFilter;return n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{className:"form-control",type:"text",placeholder:"Search",value:a||"",onChange:function(e){r(e.target.value||void 0)}}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("span",{className:"input-group-text",id:"basic-addon"},n.a.createElement(te.a,{icon:ae.v}))))};function ta(e){var t=e.columns,a=e.data,r=n.a.useMemo((function(){return{Filter:ea}}),[]),i=Object(ot.useTable)({columns:t,data:a,initialState:{pageIndex:0,pageSize:15},defaultColumn:r},ot.useFilters,ot.usePagination),c=i.headerGroups,s=i.prepareRow,o=i.page,l=i.canPreviousPage,u=i.canNextPage,m=(i.pageOptions,i.pageCount),d=i.gotoPage,p=i.nextPage,_=i.previousPage,E=i.setPageSize,f=i.state,g=f.pageIndex,h=f.pageSize;return n.a.createElement(n.a.Fragment,null,n.a.createElement(x.a,null,n.a.createElement(A.a,null,n.a.createElement("table",{className:"table table-bordered table-hover"},n.a.createElement("thead",{className:"table-active align-middle text-center"},c.map((function(e,t){return n.a.createElement(n.a.Fragment,{key:t},n.a.createElement("tr",null,e.headers.map((function(e,t){return 1===t?n.a.createElement("th",{className:"p-1 m-1",key:t},n.a.createElement(K.l,{i:"servicetypes"})," ",e.render("Header")):n.a.createElement("th",{className:"p-1 m-1",key:t},e.render("Header"))}))),n.a.createElement("tr",{className:"p-0 m-0"},e.headers.map((function(e,t){return 0===t?n.a.createElement("th",{className:"p-1 m-1 align-middle",key:t+11},n.a.createElement(te.a,{icon:ae.v})):n.a.createElement("th",{className:"p-1 m-1",key:t+11},e.canFilter?e.render("Filter"):null)}))))}))),n.a.createElement("tbody",null,o.map((function(e,t){return s(e),n.a.createElement("tr",{key:t},e.cells.map((function(e,a){return 0===a?n.a.createElement("td",{key:a,className:"align-middle text-center"},t+1+g*h):n.a.createElement("td",{key:a,className:"align-middle"},e.render("Cell"))})))})))))),n.a.createElement(x.a,null,n.a.createElement(A.a,{className:"d-flex justify-content-center"},n.a.createElement(nt.a,null,n.a.createElement(it.a,{disabled:!l},n.a.createElement(ct.a,{first:!0,onClick:function(){return d(0)}})),n.a.createElement(it.a,{disabled:!l},n.a.createElement(ct.a,{previous:!0,onClick:function(){return _()}})),G()(Array(m)).map((function(e,t){return n.a.createElement(it.a,q()({key:t,active:g===t},"key",t),n.a.createElement(ct.a,{onClick:function(){return d(t)}},t+1))})),n.a.createElement(it.a,{disabled:!u},n.a.createElement(ct.a,{next:!0,onClick:function(){return p()}})),n.a.createElement(it.a,{disabled:!u},n.a.createElement(ct.a,{last:!0,onClick:function(){return d(m-1)}})),n.a.createElement(it.a,{className:"pl-2"},n.a.createElement("select",{style:{width:"180px"},className:"custom-select text-primary",value:h,onChange:function(e){E(Number(e.target.value))}},[15,30,50,100].map((function(e){return n.a.createElement("option",{key:e,value:e},e," service types")}))))))))}var aa=function(e){var t=e.publicView,a=new z.a,i=Object(r.useState)(!1),c=J()(i,2),s=c[0],l=c[1],m=Object(r.useState)([]),d=J()(m,2),p=d[0],_=d[1],E=Object(r.useState)(null),f=J()(E,2),g=f[0],h=f[1];Object(r.useEffect)((function(){try{(function(){var e=u()(o.a.mark((function e(){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,a.fetchData("/api/v2/internal/".concat(t?"public_":"","servicetypesdesc"));case 3:r=e.sent,_(r),l(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}catch(e){h(e),l(!1)}}),[]);var b=n.a.useMemo((function(){return[{Header:"#",accessor:null},{Header:"Service type",accessor:"name"},{Header:"Description",accessor:"description"}]}));return s?n.a.createElement(K.m,null):g?n.a.createElement(K.h,{error:g}):!s&&p?n.a.createElement(K.b,{resourcename:"Services types",infoview:!0},n.a.createElement(ta,{columns:b,data:p})):void 0},ra=a("ezmu"),na=a("2Te1"),ia=function(e){var t=Object(r.useState)(null),a=J()(t,2),i=a[0],c=a[1],s=Object(r.useState)(!1),l=J()(s,2),m=l[0],d=l[1],p=Object(r.useState)(null),_=J()(p,2),E=_[0],f=_[1],g=e.location,h=e.history,b=new z.a;if(Object(r.useEffect)((function(){function e(){return(e=u()(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.fetchData("/api/v2/internal/tenants");case 3:t=e.sent,c(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),f(e.t0);case 10:d(!1);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}d(!0),function(){e.apply(this,arguments)}()}),[]),m)return n.a.createElement(K.m,null);if(E)return n.a.createElement(K.h,{error:E});if(!m&&i){for(var v=[],M=function(e){for(var t=[],a=function(a){e+a<i.length&&t.push(n.a.createElement(T.a,{className:"mr-3",key:a+1,tag:"a",onClick:function(){return h.push("/ui/tenants/".concat(i[e+a].name))},style:{cursor:"pointer"}},n.a.createElement(he.a,{className:"text-center"},n.a.createElement("h3",null,i[e+a].name)),n.a.createElement(be.a,{className:"mb-4 mt-3 text-center"},n.a.createElement(te.a,{icon:ae.o,size:"5x"})),n.a.createElement(U.a,null,n.a.createElement(ra.a,{className:"mb-1"},n.a.createElement("b",null,"Schema name:")," ",i[e+a].schema_name),n.a.createElement(ra.a,null,n.a.createElement("b",null,"POEM url:")," ",i[e+a].domain_url),n.a.createElement("div",{className:"mb-1"},n.a.createElement(na.a,{color:"info",className:"mr-2"},"Metric".concat("public"==i[e+a].schema_name?" templates ":"s "),n.a.createElement(na.a,{style:{fontSize:"10pt"},color:"light"},i[e+a].nr_metrics))),n.a.createElement("div",null,n.a.createElement(na.a,{color:"success"},"Probes ",n.a.createElement(na.a,{style:{fontSize:"10pt"},color:"light"},i[e+a].nr_probes))))))},r=0;r<3;r++)a(r);var c="100%";1==t.length&&(c="33.3333%"),2==t.length&&(c="66.6666%"),v.push(n.a.createElement(ve.a,{key:e,className:"mb-3",style:{width:c}},t.map((function(e,t){return e}))))},y=0;y<i.length;y+=3)M(y);return n.a.createElement(K.b,{resourcename:"tenant",location:g,listview:!0,addnew:!1},v.map((function(e,t){return e})))}return null},ca=function(e){var t=Object(r.useState)({}),a=J()(t,2),i=a[0],c=a[1],s=Object(r.useState)(!1),l=J()(s,2),m=l[0],d=l[1],p=Object(r.useState)(null),_=J()(p,2),E=_[0],f=_[1],g=e.match.params.name,h=e.location,b=new z.a;return Object(r.useEffect)((function(){function e(){return(e=u()(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.fetchData("/api/v2/internal/tenants/".concat(g.trim().split(" ").join("_")));case 3:t=e.sent,c(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),f(e.t0);case 10:d(!1);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}d(!0),function(){e.apply(this,arguments)}()}),[]),m?n.a.createElement(K.m,null):E?n.a.createElement(K.h,{error:E}):!m&&i?n.a.createElement(K.b,{resourcename:"Tenant details",location:h,history:!1,infoview:!0},n.a.createElement(R.d,{initialValues:{name:i.name,schema:i.schema_name,url:i.domain_url,created_on:i.created_on,nr_metrics:i.nr_metrics,nr_probes:i.nr_probes},render:function(e){return n.a.createElement(R.c,null,n.a.createElement(N.a,null,n.a.createElement(x.a,null,n.a.createElement(A.a,{md:6},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"Name"),n.a.createElement(R.a,{type:"text",name:"name",id:"name",readOnly:!0,className:"form-control form-control-lg"}))))),n.a.createElement(N.a,null,n.a.createElement(K.v,{title:"basic info"}),n.a.createElement(x.a,null,n.a.createElement(A.a,{md:6},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"Schema"),n.a.createElement(R.a,{type:"text",name:"schema",id:"schema",readOnly:!0,className:"form-control"})))),n.a.createElement(x.a,null,n.a.createElement(A.a,{md:6},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"POEM URL"),n.a.createElement(R.a,{type:"text",name:"url",id:"url",readOnly:!0,className:"form-control"})))),n.a.createElement(x.a,null,n.a.createElement(A.a,{md:6},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"Created on"),n.a.createElement(R.a,{type:"text",name:"created_on",id:"created_on",readOnly:!0,className:"form-control"}))))))}})):null},sa=a("XAkp");function oa(e){var t=e.columns,a=e.data,r=Object(ot.useTable)({columns:t,data:a,initialState:{pageIndex:0,pageSize:10}},ot.usePagination),i=r.headerGroups,c=r.prepareRow,s=r.page,o=r.canPreviousPage,l=r.canNextPage,u=r.pageCount,m=r.gotoPage,d=r.nextPage,p=r.previousPage,_=r.setPageSize,E=r.state,f=E.pageIndex,g=E.pageSize;return n.a.createElement(n.a.Fragment,null,n.a.createElement(x.a,null,n.a.createElement(A.a,null,n.a.createElement(sa.a,{className:"table table-bordered table-hover"},n.a.createElement("thead",{className:"table-active align-middle text-center"},i.map((function(e,t){return n.a.createElement(n.a.Fragment,{key:t},n.a.createElement("tr",null,e.headers.map((function(e,t){var a=void 0;return 0===t&&(a="2%"),1===t?a="20%":2===t&&(a="78%"),n.a.createElement("th",{style:{width:a},className:"p-1 m-1",key:t},e.render("Header"))}))))}))),n.a.createElement("tbody",null,s.map((function(e,t){return c(e),n.a.createElement("tr",{key:t,style:{height:"49px"}},e.cells.map((function(a,r){return 0===r?n.a.createElement("td",{key:r,className:"align-middle text-center"},t+1+f*g):r===e.cells.length-1?n.a.createElement("td",{key:r,className:"align-middle text-center"},a.render("Cell")):n.a.createElement("td",{key:r,className:"align-middle"},a.render("Cell"))})))})))))),n.a.createElement(x.a,null,n.a.createElement(A.a,{className:"d-flex justify-content-center"},n.a.createElement(nt.a,null,n.a.createElement(it.a,{disabled:!o},n.a.createElement(ct.a,{first:!0,onClick:function(){return m(0)}})),n.a.createElement(it.a,{disabled:!o},n.a.createElement(ct.a,{previous:!0,onClick:function(){return p()}})),G()(Array(u)).map((function(e,t){return n.a.createElement(it.a,{key:t,active:f===t},n.a.createElement(ct.a,{onClick:function(){return m(t)}},t+1))})),n.a.createElement(it.a,{disabled:!l},n.a.createElement(ct.a,{next:!0,onClick:function(){return d()}})),n.a.createElement(it.a,{disabled:!l},n.a.createElement(ct.a,{last:!0,onClick:function(){return m(u+1)}})),n.a.createElement(it.a,{className:"pl-2"},n.a.createElement("select",{style:{width:"180px"},className:"custom-select text-primary",value:g,onChange:function(e){return _(Number(e.target.value))}},[10,20,50].map((function(e){return n.a.createElement("option",{key:e,value:e},e," operations profiles")}))))))))}var la=function(e){var t=e.location,a=e.publicView,r=new z.b({token:e.webapitoken,operationsProfiles:e.webapioperations}),i=Object(ie.b)("operationsprofiles_listview",u()(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.fetchOperationsProfiles();case 2:for(t=e.sent,a=10-t.length%10,n=0;n<a;n++)t.push({name:"",description:""});return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))),c=i.data,s=i.error,l=i.isLoading,m=n.a.useMemo((function(){return[{Header:"#",accessor:null},{Header:"Name",id:"name",accessor:function(e){return n.a.createElement(X.b,{to:"/ui/".concat(a?"public_":"","operationsprofiles/").concat(e.name)},e.name)}},{Header:"Description",accessor:"description"}]}));return l?n.a.createElement(K.m,null):s?n.a.createElement(K.h,{error:s}):!l&&c?n.a.createElement(K.b,{resourcename:"operations profile",location:t,listview:!0,addnew:!1},n.a.createElement(oa,{data:c,columns:m})):null},ua=function(e){var t=Object(r.useState)(null),a=J()(t,2),i=a[0],c=a[1],s=Object(r.useState)(!1),l=J()(s,2),m=l[0],d=l[1],p=Object(r.useState)(null),_=J()(p,2),E=_[0],f=_[1],g=e.match.params.name,h=new z.b({token:e.webapitoken,operationsProfiles:e.webapioperations});return Object(r.useEffect)((function(){function e(){return(e=u()(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.fetchOperationProfile(g);case 3:t=e.sent,c(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),f(e.t0);case 10:d(!1);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}d(!0),function(){e.apply(this,arguments)}()}),[]),m?n.a.createElement(K.m,null):E?n.a.createElement(K.h,{error:E}):!m&&i?n.a.createElement(K.b,{resourcename:"Operations profile details",infoview:!0},n.a.createElement(R.d,{initialValues:{name:i.name},render:function(e){return n.a.createElement(R.c,null,n.a.createElement(N.a,null,n.a.createElement(x.a,null,n.a.createElement(A.a,{md:6},n.a.createElement(Pe.a,null,n.a.createElement(xe.a,{addonType:"prepend"},"Name"),n.a.createElement(R.a,{type:"text",name:"name",className:"form-control form-control-lg",readOnly:!0})),n.a.createElement(Ae.a,{color:"text-muted"},"Name of operations profile.")))),n.a.createElement(K.v,{title:"States"}),n.a.createElement(x.a,null,n.a.createElement(A.a,{md:4},n.a.createElement(sa.a,{bordered:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{style:{backgroundColor:"#ececec"}},"#"),n.a.createElement("th",{style:{backgroundColor:"#ececec"}},"Available states"))),n.a.createElement("tbody",null,i.available_states.map((function(e,t){return n.a.createElement("tr",{key:t},n.a.createElement("th",{scope:"row"},t+1),n.a.createElement("td",null,e))}))))),n.a.createElement(A.a,{md:5},n.a.createElement(sa.a,{bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{style:{backgroundColor:"#ececec"}},"Default"),n.a.createElement("th",{style:{backgroundColor:"#ececec"}},"State to be used"))),n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,"default_downtime"),n.a.createElement("td",null,i.defaults.down)),n.a.createElement("tr",null,n.a.createElement("td",null,"default_missing"),n.a.createElement("td",null,i.defaults.missing)),n.a.createElement("tr",null,n.a.createElement("td",null,"default_unknown"),n.a.createElement("td",null,i.defaults.unknown)))))),n.a.createElement(K.v,{title:"Operations"}),n.a.createElement(x.a,null,i.operations.map((function(e,t){return n.a.createElement(A.a,{md:5,key:t},n.a.createElement("h3",{className:"text-center"},e.name),n.a.createElement(sa.a,{bordered:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{style:{backgroundColor:"#ececec"}},"State A"),n.a.createElement("th",{style:{backgroundColor:"#ececec"}},"State B"),n.a.createElement("th",{style:{backgroundColor:"#c1e3ca"}},"Result"))),n.a.createElement("tbody",null,e.truth_table.map((function(e,t){return n.a.createElement("tr",{key:t},n.a.createElement("td",null,e.a),n.a.createElement("td",null,e.b),n.a.createElement("td",null,e.x))})))))}))))}})):null},ma=a("4tXu");var da=Object(Pt.g)(K.p),pa=Object(Pt.g)(K.q),_a=Object(Pt.g)(K.o),Ea=Object(Pt.g)(K.d),fa=function(e){var t=e.isSuperUser,a=k()(e,["isSuperUser"]);return t?n.a.createElement(Pt.b,a):n.a.createElement(Pt.b,{component:kt})},ga=function(e){var t=e.usergroups,a=k()(e,["usergroups"]);return t.length>0?n.a.createElement(Pt.b,a):n.a.createElement(Pt.b,{component:kt})},ha=function(e){var t=e.isSuperUser,a=(k()(e,["isSuperUser"]),""),r="",i="",c=localStorage.getItem("referrer");if(i=t?"/ui/administration":"/ui/metricprofiles",c){var s=JSON.parse(c);1===s.length?r=a=s.pop():(a=s.pop(),r=s.pop())}return a!==r&&(i=r),localStorage.removeItem("referrer"),n.a.createElement(Pt.a,{to:i})},ba=function(e){var t=e.webApiAggregation,a=e.webApiMetric,r=e.webApiThresholds,i=e.webApiOperations,c=e.webApiReports,s=e.token,o=e.tenantName,l=e.isSuperUser,u=e.userGroups;return n.a.createElement(Pt.d,null,n.a.createElement(Pt.b,{exact:!0,path:"/ui/login",render:function(e){return n.a.createElement(ha,D()({isSuperUser:l},e))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/home",component:De}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/probes",component:Se}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/probes/:name/history",render:function(e){return n.a.createElement(K.k,D()({object:"probe"},e))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/probes/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(je,e)}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/probes/:name/history/:version",render:function(e){return n.a.createElement(Ue,e)}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/probes/:name/:metrictemplatename",render:function(e){return n.a.createElement(Be,D()({},e,{tenantview:!0,probeview:!0}))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/probes/:name",render:function(e){return n.a.createElement(Le,e)}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/metrics",render:function(e){return n.a.createElement(Re.b,D()({},e,{type:"metrics"}))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/metrics/:name/history",render:function(e){return n.a.createElement(K.k,D()({},e,{object:"metric"}))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/metrics/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(Re.a,D()({},e,{type:"metric"}))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/metrics/:name/history/:version",render:function(e){return n.a.createElement(Re.e,e)}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/metrics/:name",render:function(e){return n.a.createElement(Re.c,e)}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/metricprofiles",component:_e}),n.a.createElement(ga,{usergroups:u.metricprofiles,exact:!0,path:"/ui/metricprofiles/add",render:function(e){return n.a.createElement(oe,D()({},e,{webapimetric:a,webapitoken:s,tenantname:o,addview:!0}))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/metricprofiles/:name",render:function(e){return n.a.createElement(oe,D()({},e,{webapimetric:a,webapitoken:s,tenantname:o}))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/metricprofiles/:name/clone",render:function(e){return n.a.createElement(se,D()({},e,{webapimetric:a,webapitoken:s,tenantname:o}))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/metricprofiles/:name/history",render:function(e){return n.a.createElement(K.k,D()({object:"metricprofile"},e))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/metricprofiles/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(fe,e)}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/metricprofiles/:name/history/:version",render:function(e){return n.a.createElement(ge,e)}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/aggregationprofiles",component:et}),n.a.createElement(ga,{usergroups:u.aggregations,exact:!0,path:"/ui/aggregationprofiles/add",render:function(e){return n.a.createElement($e,D()({},e,{webapiaggregation:t,webapimetric:a,webapitoken:s,tenantname:o,addview:!0}))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/aggregationprofiles/:name",render:function(e){return n.a.createElement($e,D()({},e,{webapiaggregation:t,webapimetric:a,webapitoken:s,tenantname:o}))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/aggregationprofiles/:name/history",render:function(e){return n.a.createElement(K.k,D()({object:"aggregationprofile"},e))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/aggregationprofiles/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(at,e)}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/aggregationprofiles/:name/history/:version",render:function(e){return n.a.createElement(rt,e)}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/thresholdsprofiles",component:zt}),n.a.createElement(ga,{usergroups:u.thresholdsprofiles,exact:!0,path:"/ui/thresholdsprofiles/add",render:function(e){return n.a.createElement(Vt,D()({},e,{webapithresholds:r,webapitoken:s,tenantname:o,addview:!0}))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/thresholdsprofiles/:name",render:function(e){return n.a.createElement(Vt,D()({},e,{webapithresholds:r,webapitoken:s,tenantname:o}))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/thresholdsprofiles/:name/history",render:function(e){return n.a.createElement(ThresholdsProfilesHistory,e)}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/thresholdsprofiles/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(Qt,e)}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/thresholdsprofiles/:name/history/:version",render:function(e){return n.a.createElement(Ft,e)}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/operationsprofiles",render:function(e){return n.a.createElement(la,D()({},e,{webapioperations:i,webapitoken:s}))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/operationsprofiles/:name",render:function(e){return n.a.createElement(ua,D()({},e,{webapioperations:i,webapitoken:s}))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/cookiepolicies/",component:ma.a}),n.a.createElement(fa,{isSuperUser:l,exact:!0,path:"/ui/administration",component:ye}),n.a.createElement(fa,{isSuperUser:l,exact:!0,path:"/ui/administration/users",component:ht}),n.a.createElement(fa,{isSuperUser:l,exact:!0,path:"/ui/administration/users/add",render:function(e){return n.a.createElement(Et,D()({},e,{addview:!0}))}}),n.a.createElement(fa,{isSuperUser:l,exact:!0,path:"/ui/administration/users/:user_name",render:function(e){return n.a.createElement(Et,e)}}),n.a.createElement(fa,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofmetrics",render:function(e){return n.a.createElement(yt,D()({},e,{group:"metrics",id:"groupofmetrics",name:"group of metrics"}))}}),n.a.createElement(fa,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofmetrics/add",render:function(e){return n.a.createElement(Ot,D()({},e,{group:"metrics",id:"groupofmetrics",title:"metrics",addview:!0}))}}),n.a.createElement(fa,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofmetrics/:name",render:function(e){return n.a.createElement(Ot,D()({},e,{group:"metrics",id:"groupofmetrics",title:"metrics"}))}}),n.a.createElement(fa,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofaggregations",render:function(e){return n.a.createElement(yt,D()({},e,{group:"aggregations",id:"groupofaggregations",name:"group of aggregations"}))}}),n.a.createElement(fa,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofaggregations/add",render:function(e){return n.a.createElement(Ot,D()({},e,{group:"aggregations",id:"groupofaggregations",title:"aggregations",addview:!0}))}}),n.a.createElement(fa,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofaggregations/:name",render:function(e){return n.a.createElement(Ot,D()({},e,{group:"aggregations",id:"groupofaggregations",title:"aggregations"}))}}),n.a.createElement(fa,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofmetricprofiles",render:function(e){return n.a.createElement(yt,D()({},e,{group:"metricprofiles",id:"groupofmetricprofiles",name:"group of metric profiles"}))}}),n.a.createElement(fa,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofmetricprofiles/add",render:function(e){return n.a.createElement(Ot,D()({},e,{group:"metricprofiles",id:"groupofmetricprofiles",title:"metric profiles",addview:!0}))}}),n.a.createElement(fa,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofmetricprofiles/:name",render:function(e){return n.a.createElement(Ot,D()({},e,{group:"metricprofiles",id:"groupofmetricprofiles",title:"metric profiles"}))}}),n.a.createElement(fa,{isSuperUser:l,exact:!0,path:"/ui/administration/apikey",component:Dt}),n.a.createElement(fa,{isSuperUser:l,exact:!0,path:"/ui/administration/apikey/add",render:function(e){return n.a.createElement(wt,D()({},e,{addview:!0}))}}),n.a.createElement(fa,{isSuperUser:l,exact:!0,path:"/ui/administration/metrictemplates/",render:function(e){return n.a.createElement(Re.b,D()({type:"metrictemplates"},e))}}),n.a.createElement(fa,{isSuperUser:l,exact:!0,path:"/ui/administration/metrictemplates/:name",render:function(e){return n.a.createElement(Be,D()({},e,{tenantview:!0}))}}),n.a.createElement(fa,{isSuperUser:l,exact:!0,path:"/ui/administration/metrictemplates/:name/history",render:function(e){return n.a.createElement(K.k,D()({object:"metrictemplate",tenantView:!0},e))}}),n.a.createElement(fa,{isSuperUser:l,exact:!0,path:"/ui/administration/metrictemplates/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(Re.a,D()({},e,{type:"metrictemplate"}))}}),n.a.createElement(fa,{isSuperUser:l,exact:!0,path:"/ui/administration/metrictemplates/:name/history/:version",render:function(e){return n.a.createElement(Ke,e)}}),n.a.createElement(fa,{isSuperUser:l,exact:!0,path:"/ui/administration/apikey/:name",render:function(e){return n.a.createElement(wt,e)}}),n.a.createElement(fa,{isSuperUser:l,exact:!0,path:"/ui/administration/yumrepos/",component:Nt}),n.a.createElement(fa,{isSuperUser:l,exact:!0,path:"/ui/administration/yumrepos/:name",render:function(e){return n.a.createElement(Tt,D()({},e,{disabled:!0}))}}),n.a.createElement(fa,{isSuperUser:l,exact:!0,path:"/ui/administration/packages/",component:Xt}),n.a.createElement(fa,{isSuperUser:l,exact:!0,path:"/ui/administration/packages/:nameversion",render:function(e){return n.a.createElement(Gt,D()({},e,{disabled:!0}))}}),n.a.createElement(fa,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofthresholdsprofiles",render:function(e){return n.a.createElement(yt,D()({},e,{group:"thresholdsprofiles",id:"groupofthresholdsprofiles",name:"group of thresholds profiles"}))}}),n.a.createElement(fa,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofthresholdsprofiles/add",render:function(e){return n.a.createElement(Ot,D()({},e,{group:"thresholdsprofiles",id:"groupofthresholdsprofiles",title:"thresholds profiles",addview:!0}))}}),n.a.createElement(fa,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofthresholdsprofiles/:name",render:function(e){return n.a.createElement(Ot,D()({},e,{group:"thresholdsprofiles",id:"groupofthresholdsprofiles",title:"thresholds profiles"}))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/thresholdsprofiles",component:zt}),n.a.createElement(ga,{usergroups:u.thresholdsprofiles,exact:!0,path:"/ui/thresholdsprofiles/add",render:function(e){return n.a.createElement(Vt,D()({},e,{webapithresholds:r,webapitoken:s,tenantname:o,addview:!0}))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/thresholdsprofiles/:name",render:function(e){return n.a.createElement(Vt,D()({},e,{webapithresholds:r,webapitoken:s,tenantname:o}))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/thresholdsprofiles/:name/history",render:function(e){return n.a.createElement(K.k,D()({object:"thresholdsprofile"},e))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/thresholdsprofiles/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(Qt,e)}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/thresholdsprofiles/:name/history/:version",render:function(e){return n.a.createElement(Ft,e)}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/operationsprofiles",render:function(e){return n.a.createElement(la,D()({},e,{webapioperations:i,webapitoken:s}))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/operationsprofiles/:name",render:function(e){return n.a.createElement(ua,D()({},e,{webapioperations:i,webapitoken:s}))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/reports",render:function(e){return n.a.createElement(ut,D()({},e,{webapitoken:s,webapireports:c}))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/reports/:name",render:function(e){return n.a.createElement(mt,D()({},e,{webapitoken:s,webapireports:c,webapimetric:a,webapiaggregation:t,webapioperations:i}))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/servicetypes/",component:aa}),n.a.createElement(Pt.b,{component:kt}))},va=function(e){e.props;return n.a.createElement(Pt.d,null,n.a.createElement(Pt.b,{exact:!0,path:"/ui/login",render:function(){return n.a.createElement(Pt.a,{to:"/ui/administration"})}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/home",component:De}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/probes",component:Se}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/probes/add",render:function(e){return n.a.createElement(Le,D()({},e,{addview:!0}))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/probes/:name/clone",render:function(e){return n.a.createElement(Le,D()({},e,{cloneview:!0}))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/probes/:name/history",render:function(e){return n.a.createElement(K.k,D()({object:"probe"},e))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/probes/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(je,e)}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/probes/:name/history/:version",render:function(e){return n.a.createElement(Ue,e)}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/probes/:name",render:function(e){return n.a.createElement(Le,e)}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/metrictemplates",render:function(e){return n.a.createElement(Re.b,D()({type:"metrictemplates"},e))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/metrictemplates/add",render:function(e){return n.a.createElement(Be,D()({},e,{addview:!0}))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/metrictemplates/:name/clone",render:function(e){return n.a.createElement(Be,D()({},e,{cloneview:!0}))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/metrictemplates/:name/history",render:function(e){return n.a.createElement(K.k,D()({},e,{object:"metrictemplate"}))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/metrictemplates/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(Re.a,D()({},e,{type:"metrictemplate"}))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/metrictemplates/:name/history/:version",render:function(e){return n.a.createElement(Ke,e)}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/metrictemplates/:name",render:function(e){return n.a.createElement(Be,e)}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/yumrepos/",render:function(e){return n.a.createElement(Nt,e)}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/yumrepos/add",render:function(e){return n.a.createElement(Tt,D()({addview:!0},e))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/yumrepos/:name/clone",render:function(e){return n.a.createElement(Ct,e)}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/yumrepos/:name",render:function(e){return n.a.createElement(Tt,e)}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/packages/",render:function(e){return n.a.createElement(Xt,e)}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/packages/add",render:function(e){return n.a.createElement(Gt,D()({addview:!0},e))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/packages/:nameversion",render:function(e){return n.a.createElement(Gt,e)}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/packages/:nameversion/clone",render:function(e){return n.a.createElement(Zt,e)}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/administration",component:Oe}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/administration/users",component:ht}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/administration/users/add",render:function(e){return n.a.createElement(ft,D()({},e,{addview:!0}))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/administration/users/:user_name/change_password",render:function(e){return n.a.createElement(vt,e)}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/administration/users/:user_name",render:function(e){return n.a.createElement(ft,e)}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/administration/apikey",component:Dt}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/administration/apikey/add",render:function(e){return n.a.createElement(wt,D()({},e,{addview:!0}))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/administration/apikey/:name",render:function(e){return n.a.createElement(wt,e)}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/tenants",component:ia}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/tenants/:name",render:function(e){return n.a.createElement(ca,e)}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/cookiepolicies/",component:ma.a}),n.a.createElement(Pt.b,{component:kt}))},Ma=function(e){h()(s,e);var t,a,r,i,c=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,r=y()(e);if(t()){var n=y()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return v()(this,a)}}(s);function s(e){var t;return d()(this,s),(t=c.call(this,e)).cookies=new qt.a,t.backend=new z.a,t.state={isSessionActive:void 0,areYouSureModal:!1,userDetails:void 0,webApiAggregation:void 0,webApiMetric:void 0,webApiThresholds:void 0,webApiOperations:void 0,webApiReports:void 0,publicView:void 0,tenantName:void 0,token:void 0,version:void 0,isTenantSchema:null},t.onLogin=t.onLogin.bind(f()(t)),t.onLogout=t.onLogout.bind(f()(t)),t.toggleAreYouSure=t.toggleAreYouSure.bind(f()(t)),t}return _()(s,[{key:"onLogin",value:(i=u()(o.a.mark((function e(t){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Object({active:!0,userdetails:t}),e.next=3,this.backend.isTenantSchema();case 3:return r=e.sent,e.next=6,this.initalizeState(r,a);case 6:e.sent;case 7:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"onLogout",value:function(){this.setState({isSessionActive:!1}),localStorage.removeItem("referrer")}},{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"initalizeState",value:(r=u()(o.a.mark((function e(t,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backend.fetchConfigOptions();case 2:r=e.sent,t?this.setState({isTenantSchema:t,isSessionActive:a.active,userDetails:a.userdetails,token:a.userdetails.token,webApiMetric:r&&r.result.webapimetric,webApiAggregation:r&&r.result.webapiaggregation,webApiThresholds:r&&r.result.webapithresholds,webApiOperations:r&&r.result.webapioperations,version:r&&r.result.version,webApiReports:r&&r.result.webapireports,tenantName:r&&r.result.tenant_name,publicView:!1}):this.setState({isTenantSchema:t,isSessionActive:a.active,userDetails:a.userdetails,version:r&&r.result.version,publicView:!1});case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"initalizePublicState",value:(a=u()(o.a.mark((function e(){var t,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.backend.fetchPublicToken();case 2:return t=e.sent,e.next=5,this.backend.fetchConfigOptions();case 5:return a=e.sent,e.next=8,this.backend.isTenantSchema();case 8:r=e.sent,this.setState({isTenantSchema:r,isSessionActive:!1,userDetails:{username:"Anonymous"},token:t,webApiMetric:a&&a.result.webapimetric,webApiAggregation:a&&a.result.webapiaggregation,webApiThresholds:a&&a.result.webapithresholds,webApiOperations:a&&a.result.webapioperations,webApiReports:a&&a.result.webapireports,tenantName:a&&a.result.tenant_name,publicView:!0});case 10:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"isPublicUrl",value:function(){return window.location.pathname.includes("public_")}},{key:"getAndSetReferrer",value:function(){var e=localStorage.getItem("referrer"),t=void 0;(t=e?JSON.parse(e):new Array).push(window.location.pathname),localStorage.setItem("referrer",JSON.stringify(t))}},{key:"componentDidMount",value:(t=u()(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPublicUrl()){e.next=4;break}this.initalizePublicState(),e.next=11;break;case 4:return e.next=6,this.backend.isTenantSchema();case 6:return t=e.sent,e.next=9,this.backend.isActiveSession(t);case 9:(a=e.sent).active&&this.initalizeState(t,a);case 11:this.getAndSetReferrer();case 12:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state,a=t.isSessionActive,r=t.isTenantSchema,i=t.userDetails,c=t.publicView;return c&&void 0!==r?r?n.a.createElement(X.a,null,n.a.createElement(Pt.d,null,n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_home",render:function(t){return n.a.createElement(K.y,{tenantName:e.state.tenantName},n.a.createElement(we,null))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_probes",render:function(t){return n.a.createElement(K.y,{tenantName:e.state.tenantName},n.a.createElement(Se,D()({publicView:!0},t)))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_probes/:name",render:function(t){return n.a.createElement(K.y,{tenantName:e.state.tenantName},n.a.createElement(Le,D()({publicView:!0},t)))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_probes/:name/history",render:function(t){return n.a.createElement(K.y,{tenantName:e.state.tenantName},n.a.createElement(K.k,D()({object:"probe",publicView:!0},t)))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_probes/:name/history/compare/:id1/:id2",render:function(t){return n.a.createElement(K.y,{tenantName:e.state.tenantName},n.a.createElement(je,D()({publicView:!0},t)))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_probes/:name/history/:version",render:function(t){return n.a.createElement(K.y,{tenantName:e.state.tenantName},n.a.createElement(Ue,D()({publicView:!0},t)))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_metrictemplates",render:function(t){return n.a.createElement(K.y,{tenantName:e.state.tenantName},n.a.createElement(Re.b,D()({type:"metrictemplates",publicView:!0},t)))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_metrictemplates/:name",render:function(t){return n.a.createElement(K.y,{tenantName:e.state.tenantName},n.a.createElement(Be,D()({publicView:!0,tenantView:!0},t)))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_metrictemplates/:name/history",render:function(t){return n.a.createElement(K.y,{tenantName:e.state.tenantName},n.a.createElement(K.k,D()({publicView:!0,object:"metrictemplate"},t)))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_metrictemplates/:name/history/compare/:id1/:id2",render:function(t){return n.a.createElement(K.y,{tenantName:e.state.tenantName},n.a.createElement(Re.a,D()({publicView:!0},t,{type:"metrictemplate"})))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_metrictemplates/:name/history/:version",render:function(t){return n.a.createElement(K.y,{tenantName:e.state.tenantName},n.a.createElement(Ke,D()({publicView:!0},t)))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_metrics",render:function(t){return n.a.createElement(K.y,{tenantName:e.state.tenantName},n.a.createElement(Re.b,D()({type:"metrics",publicView:!0},t)))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_metrics/:name",render:function(t){return n.a.createElement(K.y,{tenantName:e.state.tenantName},n.a.createElement(Re.c,D()({publicView:!0},t)))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_metricprofiles",render:function(t){return n.a.createElement(K.y,{tenantName:e.state.tenantName},n.a.createElement(_e,D()({publicView:!0},t)))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_metricprofiles/:name",render:function(t){return n.a.createElement(K.y,{tenantName:e.state.tenantName},n.a.createElement(oe,D()({},t,{webapimetric:e.state.webApiMetric,webapitoken:e.state.token,tenantname:e.state.tenantName,publicView:!0})))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_aggregationprofiles",render:function(t){return n.a.createElement(K.y,{tenantName:e.state.tenantName},n.a.createElement(et,D()({publicView:!0},t)))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_aggregationprofiles/:name",render:function(t){return n.a.createElement(K.y,{tenantName:e.state.tenantName},n.a.createElement($e,D()({},t,{webapimetric:e.state.webApiMetric,webapiaggregation:e.state.webApiAggregation,webapitoken:e.state.token,tenantname:e.state.tenantName,publicView:!0})))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_thresholdsprofiles",render:function(t){return n.a.createElement(K.y,{tenantName:e.state.tenantName},n.a.createElement(zt,D()({publicView:!0},t)))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_thresholdsprofiles/:name",render:function(t){return n.a.createElement(K.y,{tenantName:e.state.tenantName},n.a.createElement(Vt,D()({},t,{webapithresholds:e.state.webApiThresholds,webapiaggregation:e.state.webApiAggregation,webapitoken:e.state.token,tenantname:e.state.tenantName,publicView:!0})))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_operationsprofiles",render:function(t){return n.a.createElement(K.y,{tenantName:e.state.tenantName},n.a.createElement(la,D()({},t,{publicView:!0,webapitoken:e.state.token,webapioperations:e.state.webApiOperations})))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_operationsprofiles/:name",render:function(t){return n.a.createElement(K.y,{tenantName:e.state.tenantName},n.a.createElement(ua,D()({},t,{publicView:!0,webapitoken:e.state.token,webapioperations:e.state.webApiOperations})))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_servicetypes",render:function(e){return n.a.createElement(K.y,null,n.a.createElement(aa,D()({},e,{publicView:!0})))}}),n.a.createElement(Pt.b,{component:kt}))):n.a.createElement(X.a,null,n.a.createElement(Pt.d,null,n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_home",render:function(e){return n.a.createElement(K.y,null,n.a.createElement(we,D()({isSuperAdmin:!0},e)))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_probes",render:function(e){return n.a.createElement(K.y,null,n.a.createElement(Se,D()({publicView:!0},e)))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_probes/:name",render:function(e){return n.a.createElement(K.y,null,n.a.createElement(Le,D()({publicView:!0},e)))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_probes/:name/history",render:function(e){return n.a.createElement(K.y,null,n.a.createElement(K.k,D()({object:"probe",publicView:!0},e)))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_probes/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(K.y,null,n.a.createElement(je,D()({publicView:!0},e)))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_probes/:name/history/:version",render:function(e){return n.a.createElement(K.y,null,n.a.createElement(Ue,D()({publicView:!0},e)))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_metrictemplates",render:function(e){return n.a.createElement(K.y,null,n.a.createElement(Re.b,D()({type:"metrictemplates",publicView:!0},e)))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_metrictemplates/:name",render:function(e){return n.a.createElement(K.y,null,n.a.createElement(Be,D()({publicView:!0},e)))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_metrictemplates/:name/history",render:function(e){return n.a.createElement(K.y,null,n.a.createElement(K.k,D()({publicView:!0,object:"metrictemplate"},e)))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_metrictemplates/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(K.y,null,n.a.createElement(Re.a,D()({publicView:!0},e,{type:"metrictemplate"})))}}),n.a.createElement(Pt.b,{exact:!0,path:"/ui/public_metrictemplates/:name/history/:version",render:function(e){return n.a.createElement(K.y,null,n.a.createElement(Ke,D()({publicView:!0},e)))}}),n.a.createElement(Pt.b,{component:kt}))):c||a?a&&i&&null!==this.state.isTenantSchema?n.a.createElement(X.a,null,n.a.createElement(P.a,{fluid:!0},n.a.createElement(x.a,null,n.a.createElement(xt.NotificationContainer,null),n.a.createElement(A.a,null,n.a.createElement(da,{onLogout:this.onLogout,isOpenModal:this.state.areYouSureModal,toggle:this.toggleAreYouSure,titleModal:"Log out",msgModal:"Are you sure you want to log out?",userDetails:i,isTenantSchema:this.state.isTenantSchema,publicView:c}))),n.a.createElement(x.a,{className:"no-gutters"},n.a.createElement(A.a,{sm:{size:2},md:{size:2},id:"sidebar-col",className:"d-flex flex-column"},n.a.createElement(pa,{isTenantSchema:this.state.isTenantSchema,userDetails:i}),n.a.createElement("div",{id:"sidebar-grow",className:"flex-grow-1 border-left border-right mb-0 pb-5"}),n.a.createElement(_a,{poemVersion:this.state.version,tenantName:this.state.tenantName})),n.a.createElement(A.a,null,n.a.createElement(Ea,null),this.state.isTenantSchema?n.a.createElement(ba,{webApiMetric:this.state.webApiMetric,webApiAggregation:this.state.webApiAggregation,webApiThresholds:this.state.webApiThresholds,webApiOperations:this.state.webApiOperations,webApiReports:this.state.webApiReports,token:this.state.token,tenantName:this.state.tenantName,isSuperUser:i.is_superuser,userGroups:i.groups}):n.a.createElement(va,null))),n.a.createElement(x.a,null,n.a.createElement(A.a,null,n.a.createElement(K.j,{loginPage:!1,tenantName:this.state.tenantName}))))):null===this.state.isTenantSchema&&a?n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Something went wrong"),n.a.createElement("p",null,"Cannot obtain schema.")):null:n.a.createElement(X.a,null,n.a.createElement(Pt.d,null,n.a.createElement(Pt.b,{path:"/ui/",render:function(t){return n.a.createElement(V,D()({onLogin:e.onLogin},t))}}),n.a.createElement(Pt.b,{component:kt})))}}]),s}(r.Component),ya=a("dLgX");a("q4sD");c.a.render(n.a.createElement(Ma,null),document.getElementById("react")),ya.a()},hQ4L:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAdCAYAAAC9pNwMAAAABmJLR0QAngCeAJ53Twm3AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH4wQcDRUGZUVdGQAABRJJREFUSMell2tsFFUUx393drcv+oIWKpZFSrFuSmo24oMQSCSGogVtDOERWEHUGA2SILZUDCImBMFVCBLAmGIhKdEgJgSs0AEaNBKw8phS0LYqpQylAmH7Jt3HzPjBWVjKbLuN/y+7M/ee87/nzHldgQWc7kJURQ7/twEpQB7wEjAZyAEygB7gKnAOOAKcArpVRQ7019MfYhDSScALwDtAFoNDA74CDqiKLA9ELgYgXQ28Z1o2VGhABbBWVeQ2K3IRSQoIVZENp7vwAjARkPh/aAWmqYrcbGlxP0v9QFyMigOAH9DNZwmIt5DPUBXZF8kjwg9Od6EEnAceH4xN17WaUMB/ZVhaxtEla8prJ7gzxbA0gif21xnfeJdPEUK8bHfEO4UQU0yRPiBPVWQ1zBfp6jXAx4O497SuhfbMW7mlJTk9c27Q78/SQsEnwUgFeoQQf9sdcbX2uIT2czXf7zx58OvnktMztwNpwK+qIk/u7+pngGpzQzT8iOb3TL9wouPaCVJTe0hNCmHL7LuVHq/5NgIz+31F1Wa3bdi4YEKFGTN5QKmqyJ853YUIp7vQDnwIrB2AtE5VZDdA1aaCOebeEUAHGOuLNl/cV/b5H1MNxAHzfSS2ej2uFSZ5F1CsKvJt4XQXDgeaB7D2T1WR8w5/WjBLN9gVJZ97E0Nts445j/iCUvIh4BHzvWF6dafX41rpdBfeAF5RFfmgcLoLpwM10Uw1DHJ3L76e7w+J74CEgWIuKdQ6+4dxZzolI3AyUgUgJJv93R0lxVfSR2bnAF9IQHE0TQI2XKuTL8dACiDdsWcfKDs3vtEsn/fFka6FyhaW7WjUdW0SkCoBT0fTdLXdsa9qU8G6GEjDiDszauKzmohbYLH20MgxufO1YKArnPC5UZRcoSWzBXhzKKXKQFq2edH4zoiicq/a9N2ZINkdm0JBf5cEjIyaPuzpAGxDLJMTMQyA9gcOpetTF67antZ26SdNstpg4pb5Gxoi8WXaEECyxVq2EP8ZKgGXB1F0cIjE2188D2bN7g8bCClMfMZKOhjoY9XehiWzyurfHgKpnttZf9zV3lgRZb0d6A4TH7LMDck25Xab6iipbFqQoN1cGgtrvObzlOc3ZQGLo2w5DzSEiWvNxn2/T+yOGbtKZh8T6Dtl5/HGYUF1jtkCLeHQu+b+Mnp3rcDYazXZmGj0elwdYeJOYJvVrtQxj+YA+3Vhr6kad9pRdLY+BVgO3DS3+ICSdP/FtKPO6rpeh7MajPwopN1mI6K0suFud5oGHLMaAFRFFqWVDV3mwPdzr2Ps678PT7zdlE4gpxvHY+3EZ/Q1bQDjtUG+xGGvx1VUWtmA1+O6rx9vAVZYCGxbXVFd3nyp8beIg2mmp5JirGoNwFNej6vnbgyZsxbAGkC1EFr+ydKZRVlj8+ZF5LTNbH+xkF4Air0eV09pZcO94DXHHlRF7gXGRhH+aMuyGaMyRudMNuesWFEFzPB6XE1hFw82ZbYCDz+QpJq2rrX++PpVext3AM8bhjECSDSD1DA/QbcQ4nooGNi6+dWC8gE6n+VNIsWM9PkR7gw39ZYu340P4uITmxe9/+WoxJS0fJvNHmcYBoaut7f+VX+qcuNbCQlJKb7M7PFdWiioXqs7OuSbxDSzGLxhcT6fFgqd0rVQNxgaiGQhSelCko7YbPazQL2qyP9Eu02IGO5O8WbBfwLYDORbTKI+c277Fgioitwz2N3pX3OCCLv6PHumAAAAAElFTkSuQmCC"},kWNB:function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,"#argo-contentwrap {\n  background-color: white;\n}\n#sidebar-grow {\n  background-color: white;\n  margin-bottom: 1px;\n}\n#argo-nav {\n  background-color: #416090;\n}\n\n#argo-breadcrumb {\n  background-color: #ecf0f5;\n}\n\n#sidebar-col {\n  max-width: 215px;\n}\n\n#argo-breadcrumb > ol {\n  background-color: #ecf0f5;\n}\n",""])},lrsP:function(e,t,a){var r=a("eVqg");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},"p3/T":function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,"#argo-footer {\n  background-color: #ffffff;\n}\n\n#argo-loginfooter {\n  background-color: #ffffff;\n  max-height: 155px;\n}\n\n#argo-navbar-logout {\n  color: #ffffff;\n  border-color: #ffffff;\n  background-color: #416090;\n}\n#argo-navbar-logout:hover {\n  color: #ffffff;\n  background-color: #31496d;\n}\n\n#argo-navlinks {\n  background-color: #ffffff;\n}\n\n.argo-autocomplete-menu {\n  display: block;\n  width: 94%;\n  color: #495057;\n  position: absolute;\n  background-color: white;\n  z-index: 1000;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n  overflow-y: auto;\n  max-height: 400px;\n}\n\n.argo-autocomplete-list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n}\n\n.argo-autocomplete-entries {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #495057;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n.argo-autocomplete-entries-highlighted {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  background-color: #4A90D9;\n  color: white;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n.ReactTable .rt-thead.-filters select {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  background: transparent;\n  background-image: url(\"data:image/svg+xml;utf8,<svg fill='black' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/><path d='M0 0h24v24H0z' fill='none'/></svg>\");\n  background-repeat: no-repeat;\n  background-position-x: 100%;\n  background-position-y: 5px;\n  border: 1px solid #dfdfdf;\n  border-radius: 2px;\n  margin-right: 2rem;\n  padding: 1rem;\n  padding-right: 2rem;\n}\n",""])},"tYV+":function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,"#select-field{\n    width: 150px;\n}\n\n.grouplabel {\n    width: 180px;\n}\n\n.col-md-6 {\n    padding: 5px;\n}\n\n#checkbox {\n    margin-right: 5px;\n}",""])},uU5Y:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAZCAIAAAA5RHCCAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAA6cAAAOdQGIKBt4AAAGqklEQVRIiY1WSYxdVxGtuve++f3/e/jt73Y7aRts05A2ih0jAxEICGKIQBAEG6JYEUhIWbDIgh0LiAQBNiyQEOsIkAIRyhZEcIiwE4eEJHZIHCKP6W735D+/6Q5VLH73l91xSym9xbuqUp1X51TderjnyD+JyDnngAGAEQCAmQMrpQiK3CbNm+UwBQhl8j/dWyhqa1NuUpQeT1br3XIiIagsu1iF0845Y6vQUwhkjPaUQESQiogQUSmFiALeZ8wMAE6VhbhaCTvM5jBxWtl2e5HClHRM1Cax1rkpvNRUIHIbUzCZVTcNDwjLyuVOOKHQMhly45yjtHfAG1nORLAQTwUFXhnoNgQ9r96z/rVQBopD1g09rKc1r+zNBbG0VkofpY8qUE6QEwSeNEAWeYw0QhXjgnY4HCqQusi15KSuZvVG6A2SeDhHWdRqDX70m98vnnixc1XKzA8K6VUbTKGupDZgndAGDCMoH7xgnHlkYgx2K5kA4Cuo9IagoqHq0BXH771w6gd/rfFFkkt3Lbx99OS1u+dKlcvFe1555LFnDzY3JYVgPEGxr2rAvrEA6DmW44QjU7vpx1olooHct8MSivQzX1158LuvX3xhz/W3Tlx4ufzxdw6trc3VauXsofPfeuz5bOnI2890fN9nRoUeIBhHoICdA7wtuUymH72N4223Yut7OMhXAFnJxtpG+cpL8ZU37y8nsLsSZAOoZFxh2t70Lry4eO7MdD9fbu6JjO1bm6FwjpzvhQzobycUQiCiTKYfJSJmJmZEhPE8RMv9jenDJ5aPf/F6pxteuriwdP3unESleoGcCsJgwOTSYQVw+fynq6A6eKA6evRDTEWpc9/znQMpfSb2EJgZEcXIAC0KRsFCAm6ZBBBF2Yrr8sRC/uQTv1ts/dtH8lRrImxHJkGZ5Ww8QX7py2oynHpPoFqoZz/97fdPHnvXtT/SH86WdkZBv1YYQ44QWKADNuRkMn2KGbb5HNWHzMyYurJsrwzfef3gy2c/Bw3GdCMbRqjuPEKDdvTq2QNvvjbfKRyng7CmbRYGMrLCbZeBAIAzR/5OBETkgIEFIzAjEVmv63emIpB97dt6KdObhnLmicgmd8RzOuUM09iWZMVEXlkJmqeCWLMbkTnC23XecagOH3rj/gefN+EmpH3PzdfoY1L4u8VDeDWaeueTXzl9YH5FlFEcUlLXeZHuiNoVry6mvvHI+R/+7MzisY4buGwzU9RVhdkVrth3YK94/OenH3r4Xezt0d3Iahumgx1hu+oHubZl78rFyf+c/qhQM0nSAFdSriDA94MBQCM0VReydXHhpenlpVimOQBJ22TUH0i/JMwGm3VVNVS4xmmVsU+2aAXNLtk74lXVZqsWDa7u9+uZmlAF+cydAKVD8YH0G5RNO1mKvZuzH+44PU1hREmZDXeNh0YYtBJ/H9PEalu3yc/JSYSdHyfICXJADpgkMzIJJgBGK3tprr737af/+Ocn7jt4kbpNhXeTKjQweZuI6wGIokKTdNhTOKh97ciVp5558usPPctr85M+SFN5SdDHumCQgIJh9MikeWprySIgChAwutNEtG67s2l9WJnk1TP3asdkurFUGYYpTcWQFEUY1HMa1sQwDvx26IFRwzfO7e9s7McAjfOdyIVyyonb9Gsefo6ZyYEDBhBb+53AgEmkNGWhlNI9O7e3J/xqdXVf3tLiejjTyNezubDZl4P+gbu6q8vzuRkme97LB3WmOYDIoSJvQwWkyvoITAixpR8zMzhmBqDtI/myrm00lF4vqEPQeODL13/11F8WPj7UN1upp2thT6mSLR77xFu/+NOvP/vN/xpv/+qN+6zYL2NJQiolFCSst7cAbnW1YHbMjpkBiZnHR1eR4QxjzQG4oLO6rK9dNks3ViBqf+pLl37y9B+Ofv5s/4bNO7Ov/eP40qWAPPCSQARsSYComDPhasrVd/TLeP8RgACk7Y4la0p/ouPMpG3PRFOrZ144ee5fXxjKEqpyfQNLg0ASE3v56uwvH39YRKKUa77nysqArQUeaFPFsiFVal02Lm40f38bzx+iZABmZOYw6PUHrTDuRKispUHeMEAzTWdKGUPHdGYqKdTejWwQ+sJglUKUo2CgCAiVZ4uiSoIGkQUQt+mHiELAaDdt9xEjYpVHQUSQq1grKBs86anZYSfLWfctJVZMxPXNfq+wQUJpYtRQkHO5r+ykRCcYAhnJKNfc28Enzt/z3K3/M2OH4zvfW4C09cIj5sf7G29tjTGHihEARsUBwP8BoRsQdzWv4kYAAAAASUVORK5CYII="}},[["f1jT",1,2]]]);