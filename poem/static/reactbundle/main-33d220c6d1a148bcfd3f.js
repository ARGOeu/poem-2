(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"/WES":function(e,t,a){var r=a("kWNB");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},"29KK":function(e,t,a){"use strict";a.d(t,"k",(function(){return oe})),a.d(t,"f",(function(){return ie})),a.d(t,"q",(function(){return le})),a.d(t,"d",(function(){return se})),a.d(t,"m",(function(){return ue})),a.d(t,"n",(function(){return me})),a.d(t,"i",(function(){return pe})),a.d(t,"l",(function(){return fe})),a.d(t,"o",(function(){return _e})),a.d(t,"b",(function(){return he})),a.d(t,"c",(function(){return ge})),a.d(t,"h",(function(){return Ee})),a.d(t,"a",(function(){return be})),a.d(t,"g",(function(){return ye})),a.d(t,"j",(function(){return Me})),a.d(t,"e",(function(){return Oe})),a.d(t,"p",(function(){return De}));var r=a("q1tI"),n=a.n(r),o=a("9ONQ"),i=a("DCcX"),l=a("vkoW"),c=a("CaDr"),s=a("OBzv"),u=a("sOKU"),m=a("XI7o"),d=a("EvW+"),p=a("tiWs"),f=a("374E"),_=a("a5/R"),h=a("nsn4"),g=a("9a8N"),E=a("F66N"),v=a("arvA"),b=a("BLzl"),y=a("afej"),M=a("/kxI"),O=a("xdlx"),D=a("aLZG"),w=a("jrRI"),S=a("ok1R"),A=a("rhny"),k=a("q7Gj"),P=a("re1l"),I=a("0E8A"),C=a("55Ip"),N=a("5tO7"),T=a.n(N),j=a("RYGk"),L=a.n(j),x=a("uU5Y"),U=a.n(x),R=a("hQ4L"),W=a.n(R),B=(a("Pn3v"),a("IP2g")),K=a("wHSu"),z=a("of9s"),Y=a("KYPV"),Q=a("/8CB"),F=a.n(Q),V=a("a/x8"),H=a("XNy0"),q=a.n(H);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function te(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var ae=["administration","services","reports","probes","metrics","metricprofiles","aggregationprofiles","thresholdsprofiles"],re=["administration","probes","yumrepos","packages","metrictemplates"],ne=new Map;ne.set("administration","Administration"),ne.set("services","Services"),ne.set("reports","Reports"),ne.set("probes","Probes"),ne.set("metrics","Metrics"),ne.set("metricprofiles","Metric profiles"),ne.set("aggregationprofiles","Aggregation profiles"),ne.set("groupofaggregations","Groups of aggregations"),ne.set("groupofmetrics","Groups of metrics"),ne.set("groupofmetricprofiles","Groups of metric profiles"),ne.set("users","Users"),ne.set("apikey","API key"),ne.set("metrictemplates","Metric templates"),ne.set("yumrepos","YUM repos"),ne.set("groupofthresholdsprofiles","Groups of thresholds profiles"),ne.set("thresholdsprofiles","Thresholds profiles"),ne.set("packages","Packages");var oe=function(e){var t=new Map;return t.set("administration",K.v),t.set("services",K.p),t.set("serviceflavour",K.h),t.set("reports",K.g),t.set("probes",K.n),t.set("metrics",K.d),t.set("metrictemplates",K.d),t.set("metricprofiles",K.e),t.set("aggregationprofiles",K.r),t.set("apikey",K.j),t.set("yumrepos",K.b),t.set("thresholdsprofiles",K.f),t.set("users",K.u),t.set("packages",K.a),e.i.startsWith("groupof")?n.a.createElement("span",{className:"fa-layers fa-fw"},n.a.createElement(B.a,{icon:K.q,color:"white",fixedWidth:!0}),n.a.createElement(B.a,{icon:t.get(e.i.replace("groupof","")),transform:"shrink-".concat("groupofmetricprofiles"===e.i?9:8," up-3")}),n.a.createElement(B.a,{icon:t.get(e.i.replace("groupof","")),transform:"shrink-".concat("groupofmetricprofiles"===e.i?9:8," down-4.2 left-5")}),n.a.createElement(B.a,{icon:t.get(e.i.replace("groupof","")),transform:"shrink-".concat("groupofmetricprofiles"===e.i?9:8," down-4.2 right-5")})):n.a.createElement(B.a,{icon:t.get(e.i),size:"yumrepos"===e.i||"metricprofiles"===e.i?"sm":"1x",fixedWidth:!0})},ie=function(e){var t=e.field,a=e.data,r=void 0===a?[]:a,o=e.prefix,i=void 0===o?"":o,l=e.class_name,c=void 0===l?"":l,s=e.isnew,u=void 0!==s&&s;return n.a.createElement(Y.a,{component:"select",name:i?"".concat(i,".").concat(t.name):t.name,required:!0,className:"form-control ".concat(c," ").concat(u?"border-success":"")},r.map((function(e,t){return 0===t?n.a.createElement("option",{key:t,hidden:!0},e):n.a.createElement("option",{key:t,value:e},e)})))},le=function(e){e.form;var t=e.field,a=te(e,["form","field"]);return n.a.createElement("div",{className:"input-group"},n.a.createElement("input",ee({type:"text",placeholder:"Search"},t,a)),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("span",{className:"input-group-text",id:"basic-addon"},n.a.createElement(B.a,{icon:K.m}))))},ce=function(e){var t=e.isOpen,a=e.toggle,r=e.title,o=e.msg,m=e.onYes;return n.a.createElement(i.a,{isOpen:t,toggle:a},n.a.createElement(l.a,{toggle:a},r),n.a.createElement(c.a,null,o),n.a.createElement(s.a,null,n.a.createElement(u.a,{color:"primary",onClick:function(){m(),a()}},"Yes")," ",n.a.createElement(u.a,{color:"secondary",onClick:a},"No")))},se=function(e){var t=e.location,a=(e.history,t.pathname.split("/")),r=new Array;r.push({url:"/ui/home",title:"Home"});var o=new Object({url:"/ui/"+a[2]});if(o.title=ne.get(a[2]),r.push(o),a.length>3){var i=new Object({url:o.url+"/"+a[3]});i.title="Administration"===o.title?ne.get(a[3]):a[3],r.push(i)}if(a.length>4){var l=new Object({url:i.url+"/"+a[4]});l.title=a[4],r.push(l)}if(a.length>5){var c=new Object({url:l.url+"/"+a[5]});c.title=a[5],r.push(c)}if(a.length>6&&"history"===c.title){var s=new Object({url:c.url+"/"+a[6]});s.title=a[6],r.push(s)}return n.a.createElement(m.a,{id:"argo-breadcrumb",className:"border-top rounded"},r.map((function(e,t){return t!==r.length-1?n.a.createElement(d.a,{key:t},n.a.createElement(C.b,{to:e.url},e.title)):n.a.createElement(d.a,{key:t,active:!0},e.title)})))},ue=function(e){var t=e.history,a=e.onLogout,r=e.isOpenModal,i=e.toggle,l=e.titleModal,c=e.msgModal;return n.a.createElement(n.a.Fragment,null,n.a.createElement(ce,{isOpen:r,toggle:i,title:l,msg:c,onYes:function(){return function(e,t){var a=new o.a;return t(),fetch("/rest-auth/logout/",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":a.get("csrftoken"),Referer:"same-origin"}}).then((function(t){return e.push("/ui/login")}))}(t,a)}}),n.a.createElement(p.a,{expand:"md",id:"argo-nav",className:"border rounded"},n.a.createElement(f.a,{className:"text-light"},n.a.createElement("img",{src:T.a,alt:"ARGO logo",className:"img-responsive"}),n.a.createElement("span",{className:"pl-3"},n.a.createElement("strong",null,"ARGO")," POEM")),n.a.createElement(_.a,null),n.a.createElement(h.a,{navbar:!0,className:"justify-content-end"},n.a.createElement(g.a,{navbar:!0},n.a.createElement(E.a,{className:"m-2 text-light"},"Welcome, ",localStorage.getItem("authUsername")),n.a.createElement(E.a,{className:"m-2"},n.a.createElement(u.a,{id:"argo-navbar-logout",size:"sm",onClick:function(){return i()}},n.a.createElement(B.a,{icon:K.o})))))))},me=function(e){var t=e.location,a=void 0;return a=e.isTenantSchema?ae:re,n.a.createElement(g.a,{vertical:!0,pills:!0,id:"argo-navlinks",className:"border-left border-right border-top rounded-top sticky-top"},a.map((function(e,a){return"administration"===e?"true"===localStorage.getItem("authIsSuperuser")?n.a.createElement(E.a,{key:a},n.a.createElement(v.a,{tag:C.b,active:!!t.pathname.includes(e),className:t.pathname.includes(e)?"text-white bg-info":"text-dark",to:"/ui/"+e},n.a.createElement(oe,{i:e})," ",ne.get(e))):null:n.a.createElement(E.a,{key:a},n.a.createElement(v.a,{tag:C.b,active:t.pathname.split("/")[2]===e,className:t.pathname.split("/")[2]===e?"text-white bg-info":"text-dark",to:"/ui/"+e},n.a.createElement(oe,{i:e})," ",ne.get(e)))})))},de=function(e){var t=e.border,a=void 0!==t&&t;return n.a.createElement(n.a.Fragment,null,a&&n.a.createElement("div",{className:"pt-1"}),n.a.createElement("div",{className:"text-center pt-1"},n.a.createElement("img",{src:U.a,id:"eulogo",alt:"EU logo"}),n.a.createElement("img",{src:W.a,id:"eosclogo",alt:"EOSC logo",className:"pl-1"})),n.a.createElement("p",{className:"text-center"},n.a.createElement("small",null,n.a.createElement("strong",null,"ARGO POEM")," is a service jointly developed and maintained by  ",n.a.createElement("a",{href:"http://www.cnrs.fr/",title:"Centre national de la recherche scientifique"},"CNRS"),",  ",n.a.createElement("a",{href:"https://grnet.gr/",title:"Greek Research and Technology Network"},"GRNET")," and  ",n.a.createElement("a",{href:"http://www.srce.unizg.hr/",title:"University computing centre"},"SRCE"),"  co-funded by ",n.a.createElement("a",{href:"https://www.eosc-hub.eu",title:"EOSC-Hub"},"EOSC-Hub")," and  ",n.a.createElement("a",{href:"http://www.egi.eu/",title:"EGI.eu"},"EGI.eu"),n.a.createElement("br",null),n.a.createElement("a",{href:"http://argo.egi.eu/lavoisier/TermsofUse",title:"Terms of use"},"Terms of use"),", ",n.a.createElement("a",{href:"http://www.apache.org/licenses/LICENSE-2.0",title:"License"},"License"))))},pe=function(e){var t=e.loginPage;return void 0!==t&&t?n.a.createElement("div",{id:"argo-loginfooter"},n.a.createElement(de,null)):n.a.createElement("div",{id:"argo-footer",className:"border rounded"},n.a.createElement(de,{border:!0}))},fe=function(){return n.a.createElement(b.a,{className:"text-center"},n.a.createElement(y.a,{className:"bg-light"},n.a.createElement("h4",{className:"text-dark"},"Loading data...")),n.a.createElement(M.a,null,n.a.createElement("img",{src:L.a,alt:"ARGO logo anim",className:"img-responsive",height:"300px"})))},_e=function(e){var t=e.msg,a=void 0===t?"":t,r=e.title,n=void 0===r?"":r,o=e.callback,i=void 0===o?void 0:o;z.NotificationManager.success(a,n,2e3),setTimeout(i,2e3)},he=function(e){var t=e.resourcename,a=void 0===t?"":t,r=e.location,o=void 0===r?void 0:r,i=e.infoview,l=void 0!==i&&i,c=e.addview,s=void 0!==c&&c,u=e.listview,m=void 0!==u&&u,d=e.modal,p=void 0!==d&&d,f=e.state,_=void 0===f?void 0:f,h=e.toggle,g=void 0===h?void 0:h,E=e.submitperm,v=void 0===E||E,b=e.history,y=void 0===b||b,M=e.addnew,w=void 0===M||M,S=e.clone,A=void 0!==S&&S,k=e.cloneview,P=void 0!==k&&k,I=e.tenantview,N=void 0!==I&&I,T=e.children;return n.a.createElement(n.a.Fragment,null,p&&n.a.createElement(ce,{isOpen:_.areYouSureModal,toggle:g,title:_.modalTitle,msg:_.modalMsg,onYes:_.modalFunc}),n.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},l?n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},a):s?n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Add ".concat(a)):m?n.a.createElement(n.a.Fragment,null,w?n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Select ".concat(a," to change")):n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Select ".concat(a," for details")),w&&n.a.createElement(C.b,{className:"btn btn-secondary",to:o.pathname+"/add",role:"button"},"Add")):P?n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Clone ".concat(a))):N?n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},a),y&&n.a.createElement(C.b,{className:"btn btn-secondary",to:o.pathname+"/history",role:"button"},"History")):n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Change ".concat(a)),n.a.createElement(O.a,null,A&&n.a.createElement(C.b,{className:"btn btn-secondary mr-2",to:o.pathname+"/clone",role:"button"},"Clone"),y&&n.a.createElement(C.b,{className:"btn btn-secondary",to:o.pathname+"/history",role:"button"},"History")))),n.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},!v&&!l&&!m&&n.a.createElement(D.a,{color:"danger"},n.a.createElement("center",null,"This is a read-only instance, please request the corresponding permissions to perform any changes in this form.")),T))},ge=function(e){var t=e.field,a=t.name,r=t.value,o=t.onChange,i=t.onBlur,l=e.form,c=l.errors,s=l.touched,u=e.id,m=e.label;te(e,["field","form","id","label"]);return n.a.createElement("div",null,n.a.createElement("input",{name:a,id:u,type:"checkbox",value:r,checked:r,onChange:o,onBlur:i}),n.a.createElement("label",{htmlFor:u},m),s[a]&&c[a]&&n.a.createElement("div",{className:"error"},c[a]))},Ee=function(e){return n.a.createElement("div",{style:{color:"#FF0000",fontSize:"small"}},e)};function ve(e,t){if(t)return-1!==e.toLowerCase().indexOf(t.toLowerCase())}var be=function(e){var t=e.lists,a=e.onselect_handler,r=e.field,o=e.val,i=e.icon,l=e.setFieldValue,c=e.req,s=e.label,u=(e.values,"form-control ".concat(c&&"border-danger"));return n.a.createElement(F.a,{inputProps:{className:u},getItemValue:function(e){return e},items:t,value:o,renderItem:function(e,a){return n.a.createElement("div",{key:t.indexOf(e),className:"argo-autocomplete-entries ".concat(a?"argo-autocomplete-entries-highlighted":"")},e?n.a.createElement(oe,{i:i}):""," ",e)},renderInput:function(e){return s?n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},s)),n.a.createElement("input",ee({},e,{type:"text",className:u,"aria-label":"label"}))):n.a.createElement("input",e)},onChange:function(e){l(r,e.target.value)},onSelect:function(e){l(r,e),a(r,e)},wrapperStyle:{},shouldItemRender:ve,renderMenu:function(e){return n.a.createElement("div",{className:"argo-autocomplete-menu",children:e})}})},ye=function(e){var t=e.value,a=e.onChange,r=e.data;return n.a.createElement("select",{onChange:a,style:{width:"100%"},value:t},n.a.createElement("option",{key:0,value:""},"Show all"),r.map((function(e,t){return n.a.createElement("option",{key:t+1,value:e},e)})))};function Me(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(function(a){function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=J(this,X(r).call(this,e))).name=e.match.params.name,t.history=e.history,t.state={loading:!1,list_versions:null,compare1:"",compare2:""},t.backend=new V.a,t}var o,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(r,a),o=r,(i=[{key:"componentDidMount",value:function(){var t=this;this.setState({loading:!0});var a=void 0;a=["metric","metricprofile","aggregationprofile","thresholdsprofile"].includes(e)?"/api/v2/internal/tenantversion/":"/api/v2/internal/version/",this.backend.fetchData("".concat(a,"/").concat(e,"/").concat(this.name)).then((function(e){e.length>1?t.setState({list_versions:e,loading:!1,compare1:e[0].version,compare2:e[1].version}):t.setState({list_versions:e,loading:!1})}))}},{key:"render",value:function(){var a=this,r=this.state,o=r.loading,i=r.list_versions,l=void 0;return l=t?"/ui/administration/".concat(e,"s/").concat(this.name,"/history"):"/ui/".concat(e,"s/").concat(this.name,"/history"),o?n.a.createElement(fe,null):!o&&i?n.a.createElement(he,{resourcename:"Version history",infoview:!0},n.a.createElement("table",{className:"table table-sm"},n.a.createElement("thead",{className:"table-active"},n.a.createElement("tr",null,1===i.length?n.a.createElement("th",{scope:"col"},"Compare"):n.a.createElement("th",{scope:"col"},n.a.createElement(u.a,{color:"info",onClick:function(){return a.history.push("".concat(l,"/compare/").concat(a.state.compare1,"/").concat(a.state.compare2))}},"Compare")),n.a.createElement("th",{scope:"col"},"Version"),n.a.createElement("th",{scope:"col"},"Date/time"),n.a.createElement("th",{scope:"col"},"User"),n.a.createElement("th",{scope:"col"},"Comment"))),n.a.createElement("tbody",null,i.map((function(e,t){return n.a.createElement("tr",{key:t},1===i.length?n.a.createElement("td",null,"-"):0===t?n.a.createElement("td",null,n.a.createElement("input",{type:"radio",name:"radio-1",value:e.version,defaultChecked:!0,onChange:function(e){return a.setState({compare1:e.target.value})}})):n.a.createElement("td",null,n.a.createElement("input",{type:"radio",name:"radio-1",value:e.version,onChange:function(e){return a.setState({compare1:e.target.value})}})," ",n.a.createElement("input",{type:"radio",name:"radio-2",value:e.version,defaultChecked:1===t,onChange:function(e){return a.setState({compare2:e.target.value})}})),n.a.createElement("td",null,e.version?n.a.createElement(C.b,{to:"".concat(l,"/").concat(e.version)},e.version):""),n.a.createElement("td",null,e.date_created?e.date_created:""),n.a.createElement("td",null,e.user?e.user:""),n.a.createElement("td",{className:"col-md-6"},e.comment?e.comment:""))}))))):null}}])&&Z(o.prototype,i),l&&Z(o,l),r}(r.Component))}var Oe=function(e){var t=e.title,a=e.item1,r=e.item2;a=a.split("\r\n"),r=r.split("\r\n");var o=Math.max(a.length,r.length);if(a.length>r.length)for(var i=r.length;i<a.length;i++)r.push(" ");else if(r.length>a.length)for(var l=a.length;l<r.length;l++)a.push(" ");for(var c=[],s=0;s<o;s++)c.push(n.a.createElement(q.a,{oldValue:r[s],newValue:a[s],showDiffOnly:!0,splitView:!1,hideLineNumbers:!0,disableWordDiff:!0,key:"diff-"+s}));return n.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},n.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},t),c)},De=function(e){var t=e.errors,a=e.grouplist,r=void 0===a?void 0:a,o=e.fieldsdisable,i=void 0!==o&&o,l=e.profiletype,c=void 0===l?void 0:l;return n.a.createElement(w.a,null,n.a.createElement(S.a,null,n.a.createElement(A.a,{md:6},n.a.createElement(k.a,null,n.a.createElement(P.a,{addonType:"prepend"},"Name"),n.a.createElement(Y.a,{type:"text",name:"name",className:"form-control form-control-lg ".concat(t.name&&"border-danger"),disabled:i})),t.name&&Ee(t.name),n.a.createElement(I.a,{color:"muted"},"Name of ".concat(c," profile")))),n.a.createElement(S.a,{className:"mt-4"},n.a.createElement(A.a,{md:3},n.a.createElement(k.a,null,n.a.createElement(P.a,{addonType:"prepend"},"Group"),i?n.a.createElement(Y.a,{type:"text",name:"groupname",className:"form-control",disabled:!0}):n.a.createElement(Y.a,{name:"groupname",component:"select",className:"form-control custom-select ".concat(t.groupname&&"border-danger")},n.a.createElement("option",{key:0,value:"",hidden:!0,color:"muted"},"Select group"),r.map((function(e,t){return n.a.createElement("option",{key:t+1,value:e},e)})))),t.groupname&&Ee(t.groupname),n.a.createElement(I.a,{color:"muted"},"".concat(c.charAt(0).toUpperCase()+c.slice(1)," profile is member of given group.")))))}},"5tO7":function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgdmVyc2lvbj0iMS4xIiAKICAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgCiAgICB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQgbWVldCIgdmlld0JveD0iNC45MTc4NjU2NTY3NTI0NCA0LjY0MjkwMjM3NzQwOTk2OCAxMDIuMjMzMjE1NTQ3NzAzMiA1MCIgd2lkdGg9Ijk4LjIzIiBoZWlnaHQ9IjQ2Ij4KICAgIDxkZWZzPgogICAgICAgIDxwYXRoIGQ9Ik0xMDMuMTkgMjkuMDFMMTAyLjIyIDMwLjE2TDEwMS4yMyAzMS4yOUwxMDAuMjMgMzIuMzhMOTkuMjEgMzMuNDVMOTguMTggMzQuNDhMOTcuMTQgMzUuNDlMOTYuMDggMzYuNDZMOTUuMDEgMzcuNDFMOTMuOTMgMzguMzJMOTIuODMgMzkuMkw5MS43MiA0MC4wNkw5MC42IDQwLjg4TDg5LjQ2IDQxLjY3TDg4LjMxIDQyLjQzTDg3LjE0IDQzLjE2TDg1Ljk2IDQzLjg3TDg0Ljc3IDQ0LjU0TDgzLjU3IDQ1LjE4TDgyLjM1IDQ1Ljc5TDgxLjExIDQ2LjM3TDc5Ljg3IDQ2LjkyTDc4LjYxIDQ3LjQ0TDc3LjMzIDQ3LjkzTDc2LjA0IDQ4LjM5TDc0Ljc0IDQ4LjgyTDczLjQzIDQ5LjIyTDcyLjEgNDkuNThMNzAuNzYgNDkuOTJMNjkuNCA1MC4yM0w2OC4wMyA1MC41MUw2Ni42NSA1MC43Nkw2NS4yNSA1MC45N0w2My44NCA1MS4xNkw2Mi40MiA1MS4zMkw2MC45OCA1MS40NEw1OS41MyA1MS41NEw1OC4wNiA1MS42TDU2LjU4IDUxLjY0TDU1LjA5IDUxLjY0TDUzLjYgNTEuNjJMNTIuMTIgNTEuNTdMNTAuNjYgNTEuNDlMNDkuMjEgNTEuMzhMNDcuNzcgNTEuMjRMNDYuMzQgNTEuMDdMNDQuOTMgNTAuODhMNDMuNTMgNTAuNjZMNDIuMTUgNTAuNDFMNDAuNzggNTAuMTNMMzkuNDIgNDkuODJMMzguMDggNDkuNDlMMzYuNzUgNDkuMTJMMzUuNDMgNDguNzNMMzQuMTMgNDguMzFMMzIuODQgNDcuODZMMzEuNTYgNDcuMzlMMzAuMyA0Ni44OEwyOS4wNSA0Ni4zNUwyNy44MSA0NS43OUwyNi41OSA0NS4yTDI1LjM4IDQ0LjU4TDI0LjE4IDQzLjk0TDIzIDQzLjI2TDIxLjgzIDQyLjU2TDIwLjY4IDQxLjgzTDE5LjU0IDQxLjA3TDE4LjQxIDQwLjI5TDE3LjI5IDM5LjQ3TDE2LjE5IDM4LjYzTDE1LjEgMzcuNzZMMTQuMDMgMzYuODZMMTIuOTcgMzUuOTNMMTEuOTIgMzQuOTdMMTAuODkgMzMuOTlMOS44NyAzMi45OEw4Ljg2IDMxLjk0TDcuODYgMzAuODdMNi44OCAyOS43N0w1LjkyIDI4LjY0TDU1LjA5IDUuNjRMMTA0LjE1IDI3LjgyTDEwMy4xOSAyOS4wMVpNNTEuNzkgMTMuNjFMNTAuNTQgMTMuODhMNDkuMzMgMTQuMjVMNDguMTcgMTQuNzJMNDcuMDUgMTUuMjdMNDUuOTkgMTUuOTFMNDQuOTkgMTYuNjNMNDQuMDUgMTcuNDNMNDMuMTggMTguMzFMNDIuMzggMTkuMjRMNDEuNjUgMjAuMjVMNDEuMDEgMjEuMzFMNDAuNDYgMjIuNDJMMzkuOTkgMjMuNTlMMzkuNjIgMjQuOEwzOS4zNSAyNi4wNEwzOS4xOSAyNy4zM0wzOS4xMyAyOC42NEwzOS4xOSAyOS45NkwzOS4zNSAzMS4yNEwzOS42MiAzMi40OUwzOS45OSAzMy43TDQwLjQ2IDM0Ljg3TDQxLjAxIDM1Ljk4TDQxLjY1IDM3LjA0TDQyLjM4IDM4LjA0TDQzLjE4IDM4Ljk4TDQ0LjA1IDM5Ljg2TDQ0Ljk5IDQwLjY1TDQ1Ljk5IDQxLjM4TDQ3LjA1IDQyLjAyTDQ4LjE3IDQyLjU3TDQ5LjMzIDQzLjA0TDUwLjU0IDQzLjQxTDUxLjc5IDQzLjY4TDUzLjA3IDQzLjg0TDU0LjM5IDQzLjlMNTUuNyA0My44NEw1Ni45OSA0My42OEw1OC4yNCA0My40MUw1OS40NCA0My4wNEw2MC42MSA0Mi41N0w2MS43MiA0Mi4wMkw2Mi43OCA0MS4zOEw2My43OSA0MC42NUw2NC43MyAzOS44Nkw2NS42IDM4Ljk4TDY2LjQgMzguMDRMNjcuMTIgMzcuMDRMNjcuNzYgMzUuOThMNjguMzIgMzQuODdMNjguNzggMzMuN0w2OS4xNSAzMi40OUw2OS40MiAzMS4yNEw2OS41OCAyOS45Nkw2OS42NCAyOC42NEw2OS41OCAyNy4zM0w2OS40MiAyNi4wNEw2OS4xNSAyNC44TDY4Ljc4IDIzLjU5TDY4LjMyIDIyLjQyTDY3Ljc2IDIxLjMxTDY3LjEyIDIwLjI1TDY2LjQgMTkuMjRMNjUuNiAxOC4zMUw2NC43MyAxNy40M0w2My43OSAxNi42M0w2Mi43OCAxNS45MUw2MS43MiAxNS4yN0w2MC42MSAxNC43Mkw1OS40NCAxNC4yNUw1OC4yNCAxMy44OEw1Ni45OSAxMy42MUw1NS43IDEzLjQ1TDU0LjM5IDEzLjM5TDUzLjA3IDEzLjQ1TDUxLjc5IDEzLjYxWiIgaWQ9ImIzZHhnVUpTTFciPjwvcGF0aD4KICAgICAgICA8cGF0aCBkPSJNNjYuMTEgMjguODJDNjYuMTEgMzUuMzUgNjAuOCA0MC42NiA1NC4yNyA0MC42NkM0Ny43NCA0MC42NiA0Mi40MyAzNS4zNSA0Mi40MyAyOC44MkM0Mi40MyAyMi4yOSA0Ny43NCAxNi45OCA1NC4yNyAxNi45OEM2MC44IDE2Ljk4IDY2LjExIDIyLjI5IDY2LjExIDI4LjgyWiIgaWQ9ImU0ZXBvZkxQV0wiPjwvcGF0aD4KICAgIDwvZGVmcz4KICAgIDxnPgogICAgICAgIDxnPgogICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9IiNiM2R4Z1VKU0xXIiBvcGFjaXR5PSIxIiBmaWxsPSIjNzViM2Q5IiAgZmlsbC1vcGFjaXR5PSIxIj48L3VzZT4KICAgICAgICA8L2c+CiAgICAgICAgPGc+CiAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI2U0ZXBvZkxQV0wiIG9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlPSJ3aGl0ZSIgZmlsbD0iIzZmOGRjNCIgZmlsbC1vcGFjaXR5PSIxIj48L3VzZT4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},ML16:function(e,t,a){var r=a("dtk8");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},Pn3v:function(e,t,a){var r=a("p3/T");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},QjdQ:function(e,t,a){var r=a("tYV+");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},RYGk:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgdmVyc2lvbj0iMS4xIiAKICAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgCiAgICB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQgbWVldCIgdmlld0JveD0iNC45MTc4NjU2NTY3NTI0NCA0LjY0MjkwMjM3NzQwOTk2OCAxMDIuMjMzMjE1NTQ3NzAzMiA1MCIgd2lkdGg9Ijk4LjIzIiBoZWlnaHQ9IjQ2Ij4KICAgIDxkZWZzPgogICAgICAgIDxwYXRoIGQ9Ik0xMDMuMTkgMjkuMDFMMTAyLjIyIDMwLjE2TDEwMS4yMyAzMS4yOUwxMDAuMjMgMzIuMzhMOTkuMjEgMzMuNDVMOTguMTggMzQuNDhMOTcuMTQgMzUuNDlMOTYuMDggMzYuNDZMOTUuMDEgMzcuNDFMOTMuOTMgMzguMzJMOTIuODMgMzkuMkw5MS43MiA0MC4wNkw5MC42IDQwLjg4TDg5LjQ2IDQxLjY3TDg4LjMxIDQyLjQzTDg3LjE0IDQzLjE2TDg1Ljk2IDQzLjg3TDg0Ljc3IDQ0LjU0TDgzLjU3IDQ1LjE4TDgyLjM1IDQ1Ljc5TDgxLjExIDQ2LjM3TDc5Ljg3IDQ2LjkyTDc4LjYxIDQ3LjQ0TDc3LjMzIDQ3LjkzTDc2LjA0IDQ4LjM5TDc0Ljc0IDQ4LjgyTDczLjQzIDQ5LjIyTDcyLjEgNDkuNThMNzAuNzYgNDkuOTJMNjkuNCA1MC4yM0w2OC4wMyA1MC41MUw2Ni42NSA1MC43Nkw2NS4yNSA1MC45N0w2My44NCA1MS4xNkw2Mi40MiA1MS4zMkw2MC45OCA1MS40NEw1OS41MyA1MS41NEw1OC4wNiA1MS42TDU2LjU4IDUxLjY0TDU1LjA5IDUxLjY0TDUzLjYgNTEuNjJMNTIuMTIgNTEuNTdMNTAuNjYgNTEuNDlMNDkuMjEgNTEuMzhMNDcuNzcgNTEuMjRMNDYuMzQgNTEuMDdMNDQuOTMgNTAuODhMNDMuNTMgNTAuNjZMNDIuMTUgNTAuNDFMNDAuNzggNTAuMTNMMzkuNDIgNDkuODJMMzguMDggNDkuNDlMMzYuNzUgNDkuMTJMMzUuNDMgNDguNzNMMzQuMTMgNDguMzFMMzIuODQgNDcuODZMMzEuNTYgNDcuMzlMMzAuMyA0Ni44OEwyOS4wNSA0Ni4zNUwyNy44MSA0NS43OUwyNi41OSA0NS4yTDI1LjM4IDQ0LjU4TDI0LjE4IDQzLjk0TDIzIDQzLjI2TDIxLjgzIDQyLjU2TDIwLjY4IDQxLjgzTDE5LjU0IDQxLjA3TDE4LjQxIDQwLjI5TDE3LjI5IDM5LjQ3TDE2LjE5IDM4LjYzTDE1LjEgMzcuNzZMMTQuMDMgMzYuODZMMTIuOTcgMzUuOTNMMTEuOTIgMzQuOTdMMTAuODkgMzMuOTlMOS44NyAzMi45OEw4Ljg2IDMxLjk0TDcuODYgMzAuODdMNi44OCAyOS43N0w1LjkyIDI4LjY0TDU1LjA5IDUuNjRMMTA0LjE1IDI3LjgyTDEwMy4xOSAyOS4wMVpNNTEuNzkgMTMuNjFMNTAuNTQgMTMuODhMNDkuMzMgMTQuMjVMNDguMTcgMTQuNzJMNDcuMDUgMTUuMjdMNDUuOTkgMTUuOTFMNDQuOTkgMTYuNjNMNDQuMDUgMTcuNDNMNDMuMTggMTguMzFMNDIuMzggMTkuMjRMNDEuNjUgMjAuMjVMNDEuMDEgMjEuMzFMNDAuNDYgMjIuNDJMMzkuOTkgMjMuNTlMMzkuNjIgMjQuOEwzOS4zNSAyNi4wNEwzOS4xOSAyNy4zM0wzOS4xMyAyOC42NEwzOS4xOSAyOS45NkwzOS4zNSAzMS4yNEwzOS42MiAzMi40OUwzOS45OSAzMy43TDQwLjQ2IDM0Ljg3TDQxLjAxIDM1Ljk4TDQxLjY1IDM3LjA0TDQyLjM4IDM4LjA0TDQzLjE4IDM4Ljk4TDQ0LjA1IDM5Ljg2TDQ0Ljk5IDQwLjY1TDQ1Ljk5IDQxLjM4TDQ3LjA1IDQyLjAyTDQ4LjE3IDQyLjU3TDQ5LjMzIDQzLjA0TDUwLjU0IDQzLjQxTDUxLjc5IDQzLjY4TDUzLjA3IDQzLjg0TDU0LjM5IDQzLjlMNTUuNyA0My44NEw1Ni45OSA0My42OEw1OC4yNCA0My40MUw1OS40NCA0My4wNEw2MC42MSA0Mi41N0w2MS43MiA0Mi4wMkw2Mi43OCA0MS4zOEw2My43OSA0MC42NUw2NC43MyAzOS44Nkw2NS42IDM4Ljk4TDY2LjQgMzguMDRMNjcuMTIgMzcuMDRMNjcuNzYgMzUuOThMNjguMzIgMzQuODdMNjguNzggMzMuN0w2OS4xNSAzMi40OUw2OS40MiAzMS4yNEw2OS41OCAyOS45Nkw2OS42NCAyOC42NEw2OS41OCAyNy4zM0w2OS40MiAyNi4wNEw2OS4xNSAyNC44TDY4Ljc4IDIzLjU5TDY4LjMyIDIyLjQyTDY3Ljc2IDIxLjMxTDY3LjEyIDIwLjI1TDY2LjQgMTkuMjRMNjUuNiAxOC4zMUw2NC43MyAxNy40M0w2My43OSAxNi42M0w2Mi43OCAxNS45MUw2MS43MiAxNS4yN0w2MC42MSAxNC43Mkw1OS40NCAxNC4yNUw1OC4yNCAxMy44OEw1Ni45OSAxMy42MUw1NS43IDEzLjQ1TDU0LjM5IDEzLjM5TDUzLjA3IDEzLjQ1TDUxLjc5IDEzLjYxWiIgaWQ9ImExcGtjZVVMNDQiPjwvcGF0aD4KICAgICAgICA8cGF0aCBkPSJNNjYuMTEgMjguODJDNjYuMTEgMzUuMzUgNjAuOCA0MC42NiA1NC4yNyA0MC42NkM0Ny43NCA0MC42NiA0Mi40MyAzNS4zNSA0Mi40MyAyOC44MkM0Mi40MyAyMi4yOSA0Ny43NCAxNi45OCA1NC4yNyAxNi45OEM2MC44IDE2Ljk4IDY2LjExIDIyLjI5IDY2LjExIDI4LjgyWiIgaWQ9ImRqWGR6bnhlSSI+PC9wYXRoPgogICAgPC9kZWZzPgogICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCw0MCkiPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsLTQwKSI+CiAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI2ExcGtjZVVMNDQiIG9wYWNpdHk9IjEiIGZpbGw9IiNkMmQyZDIiIGZpbGwtb3BhY2l0eT0iMSI+PC91c2U+CiAgICAgICAgPC9nPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsLTQwKSI+CiAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI2RqWGR6bnhlSSIgb3BhY2l0eT0iMSIgZmlsbD0iI2JmYmZiZiIgZmlsbC1vcGFjaXR5PSIxIj48L3VzZT4KICAgICAgICA8L2c+CiAgICAgICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIgogICAgICAgICAgICAgdHlwZT0ic2NhbGUiCiAgICAgICAgICAgICBhZGRpdGl2ZT0ic3VtIiAKICAgICAgICAgICAgIGZyb209IjEgMSIKICAgICAgICAgICAgIHRvPSIxIDEiCiAgICAgICAgICAgICBiZWdpbj0iMHMiCiAgICAgICAgICAgICBkdXI9IjFzIgogICAgICAgICAgICAgdmFsdWVzPSIxIDE7IDEgMTsgMSAwOyAxIDE7IDEgMTsgMSAwOyAxIDE7IDEgMDsgMSAxIgogICAgICAgICAgICAga2V5VGltZXM9IjA7IDAuMzsgMC40OyAwLjU7IDAuNzsgMC43NjsgMC44OyAwLjk7IDEiCiAgICAgICAgICAgICByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIKICAgICAgICAvPgogICAgPC9nPgo8L3N2Zz4="},SKq3:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",(function(){return MetricList})),__webpack_require__.d(__webpack_exports__,"e",(function(){return MetricHistory})),__webpack_require__.d(__webpack_exports__,"h",(function(){return MetricVersonCompare})),__webpack_require__.d(__webpack_exports__,"i",(function(){return ProbeVersionLink})),__webpack_require__.d(__webpack_exports__,"b",(function(){return ListOfMetrics})),__webpack_require__.d(__webpack_exports__,"d",(function(){return MetricForm})),__webpack_require__.d(__webpack_exports__,"a",(function(){return CompareMetrics})),__webpack_require__.d(__webpack_exports__,"c",(function(){return MetricChange})),__webpack_require__.d(__webpack_exports__,"g",(function(){return MetricVersionDetails}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("q1tI"),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_DataManager__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("a/x8"),react_router_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("55Ip"),_UIElements__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("29KK"),react_table__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("0enf"),formik__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("KYPV"),reactstrap__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("ok1R"),reactstrap__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("rhny"),reactstrap__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("3OM0"),reactstrap__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("sOKU"),reactstrap__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("aLZG"),reactstrap__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("jrRI"),reactstrap__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("q7Gj"),reactstrap__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("re1l"),reactstrap__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("0E8A"),reactstrap__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("iqOp"),reactstrap__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("glTy"),reactstrap__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("YGfb"),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("IP2g"),_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("wHSu"),react_notifications__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("of9s"),react_notifications__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(react_notifications__WEBPACK_IMPORTED_MODULE_20__),react_diff_viewer__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("XNy0"),react_diff_viewer__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(react_diff_viewer__WEBPACK_IMPORTED_MODULE_21__);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){var a=[],r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return a}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var MetricList=ListOfMetrics("metric"),MetricHistory=Object(_UIElements__WEBPACK_IMPORTED_MODULE_3__.j)("metric"),MetricVersonCompare=CompareMetrics("metric"),DefaultFilterComponent=function(e){var t=e.value,a=e.onChange,r=e.field;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{type:"text",placeholder:"Search by "+r,value:t,onChange:a,style:{width:"100%"}})};function validateConfig(e){var t;return e||(t="Required"),t}var InlineDiffElement=function(e){for(var t=e.title,a=e.item1,r=e.item2,n=Math.max(a.length,r.length),o=[],i=0;i<a.length;i++)o.push("key: "+a[i].key+", value: "+a[i].value);for(var l=[],c=0;c<r.length;c++)l.push("key: "+r[c].key+", value: "+r[c].value);if(a.length>r.length)for(var s=r.length;s<a.length;s++)l.push(" ");else if(r.length>a.length)for(var u=a.length;u<r.length;u++)o.push(" ");for(var m=[],d=0;d<n;d++)m.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_diff_viewer__WEBPACK_IMPORTED_MODULE_21___default.a,{oldValue:l[d],newValue:o[d],showDiffOnly:!0,splitView:!1,hideLineNumbers:!0,disableWordDiff:!0,key:"diff-"+d}));return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},t),m)};function arraysEqual(e,t){if(e.length!==t.length)return!1;for(var a=e.length;a--;)if(e[a].key!==t[a].key||e[a].value!==t[a].value)return!1;return!0}var InlineFields=function(e){var t=e.values,a=e.errors,r=e.field,n=e.addnew,o=void 0!==n&&n,i=e.readonly,l=void 0!==i&&i;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase",hidden:"Passive"===t.type&&"flags"!==r},r.replace("_"," ")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.b,{name:r,render:function(e){return t[r]&&t[r].length>0?t[r].map((function(n,i){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,{key:"fragment.".concat(r,".").concat(i)},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_6__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:5},0===i&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_8__.a,{hidden:"Passive"===t.type&&"flags"!==r,for:"".concat(r,".0.key")},"Key")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:5},0===i&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_8__.a,{hidden:"Passive"===t.type&&"flags"!==r,for:"".concat(r,".0.value")},"Value"))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_6__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:5},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",name:"".concat(r,".").concat(i,".key"),id:"".concat(r,".").concat(i,".key"),className:"form-control ".concat(t[r][i].isNew&&"border-success"),disabled:!o||"config"===r||"Passive"===t.type&&"PASSIVE"===n.key,hidden:"Passive"===t.type&&"flags"!==r})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:5},"Active"===t.type&&"config"===r?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",name:"".concat(r,".").concat(i,".value"),id:"".concat(r,".").concat(i,".value"),className:"form-control ".concat(a.config&&a.config[i]&&"border-danger"),disabled:l||!o&&"config"===r&&"path"===n.key,validate:validateConfig}):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",name:"".concat(r,".").concat(i,".value"),id:"".concat(r,".").concat(i,".value"),className:"form-control ".concat(t[r][i].isNew&&"border-success"),disabled:l||!o&&("config"!==r||"config"===r&&"path"===n.key)||"Passive"===t.type&&"PASSIVE"===n.key,hidden:"Passive"===t.type&&"flags"!==r}),a.config&&"config"===r&&a.config[i]&&Object(_UIElements__WEBPACK_IMPORTED_MODULE_3__.h)(a.config[i].value)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:2},o&&"config"!==r&&(""!==t[r][0].key||""!==t[r][0].value||t[r].length>1)&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_9__.a,{hidden:"Passive"===t.type&&"flags"!==r||"flags"===r&&"Passive"===t.type&&("PASSIVE"===t[r][i].key||""===t[r][i].key&&""===t[r][i].value),size:"sm",color:"danger",type:"button",onClick:function(){e.remove(i),1===t[r].length&&e.push({key:"",value:""})}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_18__.a,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_19__.k})))),o&&"config"!==r&&i===t[r].length-1&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_6__.a,{className:"Passive"===t.type?"mt-0":"mt-2"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:2},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_9__.a,{hidden:"Passive"===t.type&&"flags"!==r,size:"sm",color:"success",type:"button",onClick:function(){return e.push({key:"",value:"",isNew:!0})}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_18__.a,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_19__.l})," Add another ","s"===r.slice(-1)?r.slice(0,-1).replace("_"," "):r.replace("_"," ")))))})):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,{key:"fragment.".concat(r)},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_6__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:5},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_8__.a,{to:"empty-key",hidden:"Passive"===t.type&&"flags"!==r},"Key"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",className:"form-control",value:"",id:"empty-key",disabled:!o,hidden:"Passive"===t.type&&"flags"!==r})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:5},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_8__.a,{to:"empty-value",hidden:"Passive"===t.type&&"flags"!==r},"Value"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",value:"",className:"form-control",id:"empty-value",disabled:!o,hidden:"Passive"===t.type&&"flags"!==r}))),o&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_6__.a,{className:"Passive"===t.type?"mt-0":"mt-2"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:2},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_9__.a,{hidden:"Passive"===t.type&&"flags"!==r,size:"sm",color:"success",type:"button",onClick:function(){return e.push({key:"",value:""})}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_18__.a,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_19__.l})," Add another ","s"===r.slice(-1)?r.slice(0,-1).replace("_"," "):r.replace("_"," ")))))}}))},ProbeVersionLink=function(e){var t=e.probeversion;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.b,{to:"/ui/probes/"+t.split(" ")[0]+"/history/"+t.split(" ")[1].substring(1,t.split(" ")[1].length-1)},t)};function ListOfMetrics(type){var imp=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(function(_Component){function _class(e){var t;return _classCallCheck(this,_class),(t=_possibleConstructorReturn(this,_getPrototypeOf(_class).call(this,e))).location=e.location,t.state="metric"===type?{loading:!1,list_metric:null,list_tags:null,list_groups:null,list_types:null,search_name:"",search_probeversion:"",search_type:"",search_group:""}:{loading:!1,list_metric:null,list_types:null,list_ostags:null,search_name:"",search_probeversion:"",search_ostag:"",search_type:"",selected:{},selectAll:0},t.backend=new _DataManager__WEBPACK_IMPORTED_MODULE_1__.a,t.doFilter=t.doFilter.bind(_assertThisInitialized(t)),t.toggleRow=t.toggleRow.bind(_assertThisInitialized(t)),t.importMetrics=t.importMetrics.bind(_assertThisInitialized(t)),t}return _inherits(_class,_Component),_createClass(_class,[{key:"doFilter",value:function doFilter(list_metric,field,filter){return list_metric.filter((function(row){return eval("row.".concat(field)).toLowerCase().includes(filter.toLowerCase())}))}},{key:"toggleRow",value:function(e){var t=Object.assign({},this.state.selected);t[e]=!this.state.selected[e],this.setState({selected:t,selectAll:2})}},{key:"toggleSelectAll",value:function(){var e=this,t=this.state.list_metric;this.state.search_name&&(t=this.doFilter(t,"name",this.state.search_name)),this.state.search_probeversion&&(t=this.doFilter(t,"probeversion",this.state.search_probeversion)),this.state.search_type&&(t=this.doFilter(t,"mtype",this.state.search_type)),this.state.search_ostag&&(t=t.filter((function(t){return"".concat(t.ostag.join(", ")).includes(e.state.search_ostag)})));var a={};0===this.state.selectAll&&t.forEach((function(e){a[e.name]=!0})),this.setState({selected:a,selectAll:0===this.state.selectAll?1:0})}},{key:"importMetrics",value:function(){var e=this.state.selected;Object.keys(e).length>0?this.backend.importMetrics({metrictemplates:Object.keys(e)}).then((function(e){return e.json()})).then((function(e){e.imported&&react_notifications__WEBPACK_IMPORTED_MODULE_20__.NotificationManager.success(e.imported,"Imported"),e.err&&react_notifications__WEBPACK_IMPORTED_MODULE_20__.NotificationManager.warning(e.err,"Not imported")})):react_notifications__WEBPACK_IMPORTED_MODULE_20__.NotificationManager.error("No metric templates were selected!","Error")}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),"metric"===type?Promise.all([this.backend.fetchData("/api/v2/internal/metric"),this.backend.fetchResult("/api/v2/internal/usergroups"),this.backend.fetchData("/api/v2/internal/mtypes")]).then((function(t){var a=_slicedToArray(t,3),r=a[0],n=a[1],o=a[2];return e.setState({list_metric:r,list_groups:n.metrics,list_types:o,loading:!1,search_name:"",search_probeversion:"",search_group:"",search_type:""})})):Promise.all([this.backend.fetchData("/api/v2/internal/metrictemplates".concat(imp?"-import":"")),this.backend.fetchData("/api/v2/internal/mttypes"),this.backend.fetchData("/api/v2/internal/ostags")]).then((function(t){var a=_slicedToArray(t,3),r=a[0],n=a[1],o=a[2];return e.setState({list_metric:r,list_types:n,list_ostags:o,loading:!1,search_name:"",search_probeversion:"",search_type:"",search_ostag:""})}))}},{key:"render",value:function(){var e=this,t=void 0;t="metric"===type?"/ui/metrics/":imp?"/ui/administration/metrictemplates/":"/ui/metrictemplates/";var a=[{Header:"Name",id:"name",minWidth:100,accessor:function(a){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.b,{to:imp?"CentOS 6"===e.state.search_ostag&&a.centos6_probeversion?"".concat(t).concat(a.name,"/history/").concat(a.centos6_probeversion.split(" ")[1].substring(1,a.centos6_probeversion.split(" ")[1].length-1)):"CentOS 7"===e.state.search_ostag&&a.centos7_probeversion?"".concat(t).concat(a.name,"/history/").concat(a.centos7_probeversion.split(" ")[1].substring(1,a.centos7_probeversion.split(" ")[1].length-1)):"".concat(t).concat(a.name):"".concat(t).concat(a.name)},a.name)},filterable:!0,Filter:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DefaultFilterComponent,{field:"name",value:this.state.search_name,onChange:function(t){return e.setState({search_name:t.target.value})}})},{Header:"Probe version",id:"probeversion",minWidth:80,accessor:function(t){return t.probeversion?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ProbeVersionLink,{probeversion:imp?"CentOS 6"===e.state.search_ostag&&t.centos6_probeversion?t.centos6_probeversion:"CentOS 7"===e.state.search_ostag&&t.centos7_probeversion?t.centos7_probeversion:t.probeversion:t.probeversion}):""},Cell:function(e){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{textAlign:"center"}},e.value)},filterable:!0,Filter:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DefaultFilterComponent,{field:"probe version",value:this.state.search_probeversion,onChange:function(t){return e.setState({search_probeversion:t.target.value})}})},{Header:"Type",minWidth:30,accessor:"mtype",Cell:function(e){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{textAlign:"center"}},e.value)},filterable:!0,Filter:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.g,{value:this.state.mtype,onChange:function(t){return e.setState({search_type:t.target.value})},data:this.state.list_types})}];imp&&"true"===localStorage.getItem("authIsSuperuser")?a.splice(0,0,{id:"checkbox",accessor:"",Cell:function(t){var a=t.original;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{type:"checkbox",className:"checkbox",checked:!0===e.state.selected[a.name],onChange:function(){return e.toggleRow(a.name)}}))},Header:"Select all",Filter:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{type:"checkbox",className:"checkbox",checked:1===this.state.selectAll,ref:function(t){t&&(t.indeterminate=2===e.state.selectAll)},onChange:function(){return e.toggleSelectAll()}})),filterable:!0,sortable:!1,minWidth:12}):a.splice(0,0,{Header:"#",id:"row",minWidth:12,Cell:function(e){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{textAlign:"center"}},e.index+1)}}),"metric"===type&&a.splice(3,0,{Header:"Group",minWidth:30,accessor:"group",Cell:function(e){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{textAlign:"center"}},e.value)},filterable:!0,Filter:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.g,{value:this.state.search_group,onChange:function(t){return e.setState({search_group:t.target.value})},data:this.state.list_groups})}),imp&&a.splice(4,0,{Header:"OS",minWidth:30,accessor:"ostag",Cell:function(e){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{textAlign:"center"}},e.value.join(", "))},filterable:!0,Filter:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.g,{value:this.state.ostag,onChange:function(t){return e.setState({search_ostag:t.target.value})},data:this.state.list_ostags})});var r=this.state,n=r.loading,o=r.list_metric;return this.state.search_name&&(o=this.doFilter(o,"name",this.state.search_name)),this.state.search_probeversion&&(o=this.doFilter(o,"probeversion",this.state.search_probeversion)),this.state.search_type&&(o=this.doFilter(o,"mtype",this.state.search_type)),this.state.search_ostag&&(o=o.filter((function(t){return"".concat(t.ostag.join(", ")).toLowerCase().includes(e.state.search_ostag.toLowerCase())}))),"metric"===type&&this.state.search_group&&(o=this.doFilter(o,"group",this.state.search_group)),n?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.l,null):!n&&o?"metric"===type?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.b,{resourcename:"metric",location:this.location,listview:!0,addnew:!1},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_table__WEBPACK_IMPORTED_MODULE_4__.a,{data:o,columns:a,className:"-striped -highlight",defaultPageSize:50})):imp?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Select metric template".concat("true"===localStorage.getItem("authIsSuperuser")?"(s) to import":" for details")),"true"===localStorage.getItem("authIsSuperuser")&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_9__.a,{className:"btn btn-secondary",disabled:!this.state.search_ostag,onClick:function(){return e.importMetrics()}},"Import")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},!this.state.search_ostag&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_10__.a,{color:"danger"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("center",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_18__.a,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_19__.i,size:"lg",color:"black"}),"   You should choose OS for import.")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_table__WEBPACK_IMPORTED_MODULE_4__.a,{data:o,columns:a,className:"-striped -highlight",defaultPageSize:50}))):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.b,{resourcename:"metric template",location:this.location,listview:!imp,importlistview:imp,addnew:!0},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_table__WEBPACK_IMPORTED_MODULE_4__.a,{data:o,columns:a,className:"-striped -highlight",defaultPageSize:50})):null}}]),_class}(react__WEBPACK_IMPORTED_MODULE_0__.Component))}var MetricForm=function(e){var t=e.values,a=void 0===t?void 0:t,r=e.errors,n=void 0===r?{name:void 0,probeversion:void 0,probeexecutable:void 0}:r,o=e.setFieldValue,i=void 0===o?void 0:o,l=e.handleChange,c=e.obj,s=void 0===c?"":c,u=e.state,m=void 0===u?void 0:u,d=e.togglePopOver,p=void 0===d?void 0:d,f=e.onSelect,_=void 0===f?void 0:f,h=e.isHistory,g=void 0!==h&&h,E=e.isTenantSchema,v=void 0!==E&&E,b=e.addview,y=void 0!==b&&b,M=e.probeversions,O=void 0===M?[]:M,D=e.groups,w=void 0===D?[]:D,S=e.metrictemplatelist,A=void 0===S?[]:S,k=e.types,P=void 0===k?[]:k;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_11__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_6__.a,{className:"mb-3"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:4},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{addonType:"prepend"},"Name"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",name:"name",className:"form-control ".concat(n.name&&"border-danger"),id:"name",disabled:g||v})),n.name&&Object(_UIElements__WEBPACK_IMPORTED_MODULE_3__.h)(n.name),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_14__.a,{color:"muted"},"Metric name.")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:4},"Passive"===a.type?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{addonType:"prepend"},"Probe"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{type:"text",className:"form-control",disabled:!0,id:"passive-probeversion"})):g||v&&"metrictemplate"===s?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{addonType:"prepend"},"Probe"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",name:"probeversion",className:"form-control",id:"probeversion",disabled:!0})):v&&"metric"===s?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{addonType:"prepend"},"Probe"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{component:"select",name:"probeversion",className:"form-control custom-select",id:"probeversion",onChange:function(e){return _("probeversion",e.target.value)}},O.map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option",{key:t,value:e},e)})))):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.a,{setFieldValue:i,lists:O,icon:"probes",field:"probeversion",val:a.probeversion,onselect_handler:_,req:n.probeversion,label:"Probe"}),n.probeversion&&Object(_UIElements__WEBPACK_IMPORTED_MODULE_3__.h)(n.probeversion),"Active"===a.type&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_14__.a,{color:"muted"},"Probe name and version",!g&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_18__.a,{id:"probe-popover",hidden:"Passive"==="state.".concat(s,".mtype")||y,icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_19__.i,style:{color:"#416090"}}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_15__.a,{placement:"bottom",isOpen:m.popoverOpen,target:"probe-popover",toggle:p,trigger:"click"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_16__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ProbeVersionLink,{probeversion:"metric"===s?m.metric.probeversion:m.metrictemplate.probeversion})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_17__.a,null,m.probe.description))))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:2},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{addonType:"prepend"},"Type"),v||g?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",name:"type",className:"form-control",id:"mtype",disabled:!0}):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{component:"select",name:"type",className:"form-control custom-select",id:"mtype",onChange:function(e){if(l(e),"Passive"===e.target.value){var t=a.flags.length;1===t&&""===a.flags[0].key?(i("flags[0].key","PASSIVE"),i("flags[0].value","1")):(i("flags[".concat(t,"].key"),"PASSIVE"),i("flags[".concat(t,"].value"),"1"))}else if("Active"===e.target.value){var r=void 0;a.flags.forEach((function(e,t){"PASSIVE"===e.key&&(r=t)})),1===a.flags.length?a.flags.splice(r,1,{key:"",value:""}):a.flags.splice(r,1)}}},P.map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option",{key:t,value:e},e)})))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_14__.a,{color:"muted"},"Metric is of given type."))),"metric"===s&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_6__.a,{className:"mb-4"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:2},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{addonType:"prepend"},"Group"),g?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",name:"group",className:"form-control",disabled:!0,id:"group"}):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{component:"select",name:"group",className:"form-control custom-select",id:"group"},w.map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option",{key:t,value:e},e)})))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_14__.a,{color:"muted"},"Metric is member of selected group.")))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_11__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Metric configuration"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase",hidden:"Passive"===a.type},"probe executable"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_6__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:5},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",name:"probeexecutable",id:"probeexecutable",className:"form-control ".concat(n.probeexecutable&&"border-danger"),hidden:"Passive"===a.type,disabled:v||g}),n.probeexecutable&&Object(_UIElements__WEBPACK_IMPORTED_MODULE_3__.h)(n.probeexecutable))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineFields,{values:a,errors:n,field:"config",addnew:!v&&!g,readonly:"metrictemplate"===s&&v||g}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineFields,{values:a,errors:n,field:"attributes",addnew:!v&&!g}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineFields,{values:a,errors:n,field:"dependency",addnew:!v&&!g}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineFields,{values:a,errors:n,field:"parameter",addnew:!v&&!g}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineFields,{values:a,errors:n,field:"flags",addnew:!v&&!g}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineFields,{values:a,errors:n,field:"file_attributes",addnew:!v&&!g}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineFields,{values:a,errors:n,field:"file_parameters",addnew:!v&&!g}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},"parent"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_6__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:5},v||g?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",name:"parent",id:"parent",className:"form-control",disabled:!0}):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.a,{setFieldValue:i,lists:A,field:"parent",val:a.parent,icon:"metrics",className:"form-control ".concat(n.parent&&"border-danger"),onselect_handler:_,req:n.parent}),n.parent&&Object(_UIElements__WEBPACK_IMPORTED_MODULE_3__.h)(n.parent))))))};function CompareMetrics(e){return function(t){function a(e){var t;return _classCallCheck(this,a),(t=_possibleConstructorReturn(this,_getPrototypeOf(a).call(this,e))).version1=e.match.params.id1,t.version2=e.match.params.id2,t.name=e.match.params.name,t.state={loading:!1,name1:"",probeversion1:"",type1:"",group1:"",probeexecutable1:"",parent1:"",config1:"",attribute1:"",dependency1:"",parameter1:"",flags1:"",files1:"",fileparameter1:"",name2:"",probeversion2:"",type2:"",group2:"",probeexecutable2:"",parent2:"",config2:"",attribute2:"",dependency2:"",parameter2:"",flags2:"",files2:"",fileparameter2:""},t.backend=new _DataManager__WEBPACK_IMPORTED_MODULE_1__.a,t}return _inherits(a,t),_createClass(a,[{key:"componentDidMount",value:function(){var t=this;this.setState({loading:!0});var a=void 0;a="metric"===e?"/api/v2/internal/tenantversion/metric/".concat(this.name):"/api/v2/internal/version/metrictemplate/".concat(this.name),this.backend.fetchData(a).then((function(a){var r="",n="",o="",i="",l="",c="",s="",u="",m="",d="",p="",f="",_="",h="",g="",E="",v="",b="",y="",M="",O="",D="",w="",S="",A="",k="";a.forEach((function(a){a.version==t.version1?(r=a.fields.name,n=a.fields.probeversion,o=a.fields.mtype,"metric"===e?(i=a.fields.group,m=a.fields.dependancy):m=a.fields.dependency,l=a.fields.probeexecutable,c=a.fields.parent,s=a.fields.config,u=a.fields.attribute,f=a.fields.parameter,d=a.fields.flags,p=a.fields.files,_=a.fields.fileparameter):a.version==t.version2&&(h=a.fields.name,g=a.fields.probeversion,E=a.fields.mtype,"metric"===e?(v=a.fields.group,D=a.fields.dependancy):D=a.fields.dependency,b=a.fields.probeexecutable,y=a.fields.parent,M=a.fields.config,O=a.fields.attribute,w=a.fields.flags,S=a.fields.files,A=a.fields.parameter,k=a.fields.fileparameter)})),t.setState({name1:r,probeversion1:n,type1:o,group1:i,probeexecutable1:l,parent1:c,config1:s,attribute1:u,dependency1:m,parameter1:f,flags1:d,files1:p,fileparameter1:_,name2:h,probeversion2:g,type2:E,group2:v,probeexecutable2:b,parent2:y,config2:M,attribute2:O,dependency2:D,parameter2:A,flags2:w,files2:S,fileparameter2:k,loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.name1,a=e.name2,r=e.probeversion1,n=e.probeversion2,o=e.type1,i=e.type2,l=e.probeexecutable1,c=e.probeexecutable2,s=e.parent1,u=e.parent2,m=e.config1,d=e.config2,p=e.attribute1,f=e.attribute2,_=e.dependency1,h=e.dependency2,g=e.parameter1,E=e.parameter2,v=e.flags1,b=e.flags2,y=e.files1,M=e.files2,O=e.fileparameter1,D=e.fileparameter2,w=e.group1,S=e.group2,A=e.loading;return A?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.l,null):!A&&t&&a?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Compare ".concat(this.name))),t!==a&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.e,{title:"name",item1:t,item2:a}),r!==n&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.e,{title:"probe version",item1:r,item2:n}),o!==i&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.e,{title:"type",item1:o,item2:i}),w&&S&&w!==S&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.e,{title:"group",item1:w,item2:S}),l!==c&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.e,{title:"probe executable",item1:l,item2:c}),s!==u&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.e,{title:"parent",item1:s,item2:u}),!arraysEqual(m,d)&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineDiffElement,{title:"config",item1:m,item2:d}),!arraysEqual(p,f)&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineDiffElement,{title:"attribute",item1:p,item2:f}),!arraysEqual(_,h)&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineDiffElement,{title:"dependency",item1:_,item2:h}),!arraysEqual(g,E)&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineDiffElement,{title:"parameter",item1:g,item2:E}),!arraysEqual(v,b)&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineDiffElement,{title:"flags",item1:v,item2:b}),!arraysEqual(y,M)&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineDiffElement,{title:"file attributes",item1:y,item2:M}),!arraysEqual(O,D)&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineDiffElement,{title:"file parameters",item1:O,item2:D})):null}}]),a}(react__WEBPACK_IMPORTED_MODULE_0__.Component)}var MetricChange=function(e){function t(e){var a;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).name=e.match.params.name,a.addview=e.addview,a.location=e.location,a.history=e.history,a.backend=new _DataManager__WEBPACK_IMPORTED_MODULE_1__.a,a.state={metric:{},probe:{},groups:[],probeversions:[],metrictemplateversions:[],loading:!1,popoverOpen:!1,write_perm:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},a.toggleAreYouSure=a.toggleAreYouSure.bind(_assertThisInitialized(a)),a.toggleAreYouSureSetModal=a.toggleAreYouSureSetModal.bind(_assertThisInitialized(a)),a.onSubmitHandle=a.onSubmitHandle.bind(_assertThisInitialized(a)),a.doChange=a.doChange.bind(_assertThisInitialized(a)),a.doDelete=a.doDelete.bind(_assertThisInitialized(a)),a.togglePopOver=a.togglePopOver.bind(_assertThisInitialized(a)),a.onSelect=a.onSelect.bind(_assertThisInitialized(a)),a}return _inherits(t,e),_createClass(t,[{key:"togglePopOver",value:function(){this.setState({popoverOpen:!this.state.popoverOpen})}},{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSelect",value:function(e,t){var a=this,r=this.state.metric;this.state.metrictemplateversions.forEach((function(e){if(e.fields.probeversion===t){var n,o=(_defineProperty(n={name:e.fields.name,probeversion:e.fields.probeversion,group:r.group,mtype:e.fields.mtype,probeexecutable:e.fields.probeexecutable,parent:e.fields.parent,config:e.fields.config,attribute:e.fields.attribute,dependancy:e.fields.dependency,parameter:e.fields.parameter,flags:e.fields.flags,files:e.fields.flags},"files",e.fields.files),_defineProperty(n,"fileparameter",e.fields.fileparameter),n);a.setState({metric:o})}}))}},{key:"onSubmitHandle",value:function(e,t){var a=this;this.toggleAreYouSureSetModal("Are you sure you want to change metric?","Change metric",(function(){return a.doChange(e,t)}))}},{key:"doChange",value:function(e,t){var a=this;this.backend.changeObject("/api/v2/internal/metric/",{name:e.name,mtype:e.type,group:e.group,parent:e.parent,probeversion:e.probeversion,probeexecutable:e.probeexecutable,config:e.config,attribute:e.attributes,dependancy:e.dependency,flags:e.flags,files:e.file_attributes,parameter:e.parameter,fileparameter:e.file_parameters}).then((function(){return Object(_UIElements__WEBPACK_IMPORTED_MODULE_3__.o)({msg:"Metric successfully changed",title:"Changed",callback:function(){return a.history.push("/ui/metrics")}})})).catch((function(e){return alert("Something went wrong: "+e)}))}},{key:"doDelete",value:function(e){var t=this;this.backend.deleteObject("/api/v2/internal/metric/".concat(e)).then((function(){return Object(_UIElements__WEBPACK_IMPORTED_MODULE_3__.o)({msg:"Metric successfully deleted",title:"Deleted",callback:function(){return t.history.push("/ui/metrics")}})})).catch((function(e){return alert("Something went wrong: "+e)}))}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.addview||Promise.all([this.backend.fetchData("/api/v2/internal/metric/".concat(this.name)),this.backend.fetchData("/api/v2/internal/version/metrictemplate/".concat(this.name)),this.backend.fetchData("/api/v2/internal/groups/metrics")]).then((function(t){var a=_slicedToArray(t,3),r=a[0],n=a[1],o=a[2];r.probeversion?e.backend.fetchData("/api/v2/internal/version/probe/".concat(r.probeversion.split(" ")[0])).then((function(t){var a={},i=[];t.forEach((function(e){i.push(e.object_repr),e.object_repr===r.probeversion&&(a=e.fields)})),e.setState({metric:r,probe:a,probeversions:i,metrictemplateversions:n,groups:o,loading:!1,write_perm:"true"===localStorage.getItem("authIsSuperuser")||o.indexOf(r.group)>=0})})):e.setState({metric:r,groups:o,loading:!1,write_perm:"true"===localStorage.getItem("authIsSuperuser")||o.indexOf(r.group)>=0})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.metric,r=t.probeversions,n=t.groups,o=t.loading,i=t.write_perm;return n.includes(a.group)||n.push(a.group),o?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.l,null):o?void 0:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.b,{resourcename:"metric",location:this.location,addview:this.addview,modal:!0,state:this.state,toggle:this.toggleAreYouSure,submitperm:i},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.d,{enableReinitialize:!0,initialValues:{name:a.name,probeversion:a.probeversion,type:a.mtype,group:a.group,probeexecutable:a.probeexecutable,parent:a.parent,config:a.config,attributes:a.attribute,dependency:a.dependancy,parameter:a.parameter,flags:a.flags,file_attributes:a.files,file_parameters:a.fileparameter},onSubmit:function(t,a){return e.onSubmitHandle(t,a)},render:function(t){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.c,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(MetricForm,_extends({},t,{obj:"metric",isTenantSchema:!0,state:e.state,onSelect:e.onSelect,togglePopOver:e.togglePopOver,probeversions:r,groups:n})),i&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_9__.a,{color:"danger",onClick:function(){e.toggleAreYouSureSetModal("Are you sure you want to delete Metric?","Delete metric",(function(){return e.doDelete(t.values.name)}))}},"Delete"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_9__.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}}))}}]),t}(react__WEBPACK_IMPORTED_MODULE_0__.Component),MetricVersionDetails=function(e){function t(e){var a;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).name=e.match.params.name,a.version=e.match.params.version,a.backend=new _DataManager__WEBPACK_IMPORTED_MODULE_1__.a,a.state={name:"",probeversion:"",mtype:"",group:"",probeexecutable:"",parent:"",config:[],attribute:[],dependancy:[],parameter:[],flags:[],files:[],fileparameter:[],loading:!1},a}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/tenantversion/metric/".concat(this.name)).then((function(t){t.forEach((function(t){t.version==e.version&&e.setState({name:t.fields.name,probeversion:t.fields.probeversion,type:t.fields.mtype,group:t.fields.group,probeexecutable:t.fields.probeexecutable,parent:t.fields.parent,config:t.fields.config,attribute:t.fields.attribute,dependancy:t.fields.dependancy,parameter:t.fields.parameter,flags:t.fields.flags,files:t.fields.files,fileparameter:t.fields.fileparameter,date_created:t.date_created,loading:!1})}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,r=t.probeversion,n=t.type,o=t.group,i=t.probeexecutable,l=t.parent,c=t.config,s=t.attribute,u=t.dependancy,m=t.parameter,d=t.flags,p=t.files,f=t.fileparameter,_=t.date_created,h=t.loading;return h?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.l,null):!h&&a?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.b,{resourcename:"".concat(a," (").concat(_,")"),infoview:!0},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.d,{initialValues:{name:a,probeversion:r,type:n,group:o,probeexecutable:i,parent:l,config:c,attributes:s,dependency:u,parameter:m,flags:d,files:p,fileparameter:f},render:function(t){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.c,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(MetricForm,_extends({},t,{obj:"metric",state:e.state,isHistory:!0})))}})):null}}]),t}(react__WEBPACK_IMPORTED_MODULE_0__.Component)},ZnWx:function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,".metricprofiles-autocomplete-menu {\n  display: block;\n  width: 40%;\n  color: #495057;\n  position: absolute;\n  background-color: white;\n  z-index: 1000;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n  overflow-y: auto;\n  max-height: 400px;\n}\n\n.metricprofiles-autocomplete-entries {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #495057;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n.metricprofiles-autocomplete-entries-highlighted {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  background-color: #4A90D9;\n  color: white;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n",""])},"a/x8":function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return c}));var r=a("9ONQ");function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,a){return t&&o(e.prototype,t),a&&o(e,a),e}var l=function(){function e(){n(this,e)}return i(e,[{key:"isActiveSession",value:function(){return fetch("/api/v2/internal/sessionactive").then((function(e){return!!e.ok})).catch((function(){return!1}))}},{key:"isTenantSchema",value:function(){return fetch("/api/v2/internal/istenantschema").then((function(e){return e.ok?e.json():null})).then((function(e){return e.isTenantSchema})).catch((function(e){return alert("Something went wrong: ".concat(e))}))}},{key:"fetchData",value:function(e){return fetch(e).then((function(e){return e.json()})).catch((function(e){return alert("Something went wrong: ".concat(e))}))}},{key:"fetchListOfNames",value:function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){var t=[];return e.forEach((function(e){return t.push(e.name)})),t})).catch((function(e){return alert("Something went wrong: ".concat(e))}))}},{key:"fetchResult",value:function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){return e.result})).catch((function(e){return alert("Something went wrong: ".concat(e))}))}},{key:"changeObject",value:function(e,t){return this.send(e,"PUT",t)}},{key:"addObject",value:function(e,t){return this.send(e,"POST",t)}},{key:"deleteObject",value:function(e){return this.send(e,"DELETE")}},{key:"importMetrics",value:function(e){return this.send("/api/v2/internal/importmetrics/","POST",e)}},{key:"send",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=new r.a;return fetch(e,{method:t,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":n.get("csrftoken"),Referer:"same-origin"},body:a&&JSON.stringify(a)})}}]),e}(),c=function(){function e(t){var a=t.token,r=void 0===a?void 0:a,o=t.metricProfiles,i=void 0===o?void 0:o,l=t.aggregationProfiles,c=void 0===l?void 0:l,s=t.thresholdsProfiles,u=void 0===s?void 0:s;t.reportsConfigurations;n(this,e),this.token=r,this.metricprofiles=i,this.aggregationprofiles=c,this.thresholdsprofiles=u}return i(e,[{key:"fetchMetricProfiles",value:function(){return fetch(this.metricprofiles,{headers:{Accept:"application/json","x-api-key":this.token}}).then((function(e){return e.json()})).then((function(e){return e.data})).catch((function(e){return alert("Something went wrong: ".concat(e))}))}},{key:"fetchMetricProfile",value:function(e){return this.fetchProfile("".concat(this.metricprofiles,"/").concat(e))}},{key:"fetchAggregationProfile",value:function(e){return this.fetchProfile("".concat(this.aggregationprofiles,"/").concat(e))}},{key:"fetchThresholdsProfile",value:function(e){return this.fetchProfile("".concat(this.thresholdsprofiles,"/").concat(e))}},{key:"changeAggregation",value:function(e){return this.changeProfile(this.aggregationprofiles,e)}},{key:"changeMetricProfile",value:function(e){return this.changeProfile(this.metricprofiles,e)}},{key:"changeThresholdsProfile",value:function(e){return this.changeProfile(this.thresholdsprofiles,e)}},{key:"addMetricProfile",value:function(e){return this.addProfile(this.metricprofiles,e)}},{key:"addAggregation",value:function(e){return this.addProfile(this.aggregationprofiles,e)}},{key:"addThresholdsProfile",value:function(e){return this.addProfile(this.thresholdsprofiles,e)}},{key:"deleteMetricProfile",value:function(e){return this.deleteProfile("".concat(this.metricprofiles,"/").concat(e))}},{key:"deleteAggregation",value:function(e){return this.deleteProfile("".concat(this.aggregationprofiles,"/").concat(e))}},{key:"deleteThresholdsProfile",value:function(e){return this.deleteProfile("".concat(this.thresholdsprofiles,"/").concat(e))}},{key:"fetchProfile",value:function(e){return fetch(e,{headers:{Accept:"application/json","x-api-key":this.token}}).then((function(e){return e.json()})).then((function(e){return e.data})).then((function(e){return e[0]})).catch((function(e){return alert("Something went wrong: ".concat(e))}))}},{key:"changeProfile",value:function(e,t){return this.send("".concat(e,"/").concat(t.id),"PUT",t)}},{key:"addProfile",value:function(e,t){return this.send(e,"POST",t)}},{key:"deleteProfile",value:function(e){return this.send(e,"DELETE")}},{key:"send",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return fetch(e,{method:t,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","x-api-key":this.token},body:a&&JSON.stringify(a)})}}]),e}()},acgP:function(e,t,a){var r=a("ZnWx");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},b4bE:function(e,t,a){var r=a("s1Uj");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},dLgX:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return r}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function r(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}}).call(this,a("8oxB"))},dtk8:function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,".bodyreact {\n  background-color: #ecf0f5;\n}\n.login-first-row {\n  margin-top: 10%;\n}\n#argo-loginheader {\n  background-color:#416090;\n}\n#argo-loginfooter {\n  background-color:#ffffff;\n}\n",""])},eVqg:function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,".group-operation {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n       appearance: none;\n  text-align: center;\n}\n\n.group-operation > select {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n       appearance: none;\n  text-align: center;\n}\n\n.aggregation-autocomplete-menu {\n  display: block;\n  width: 100%;\n  color: #495057;\n  position: absolute;\n  background-color: white;\n  z-index: 1000;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n  overflow-y: auto;\n  max-height: 400px;\n}\n\n.aggregation-autocomplete-entries {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #495057;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n.aggregation-autocomplete-entries-highlighted {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  background-color: #4A90D9;\n  color: white;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n",""])},f1jT:function(e,t,a){"use strict";a.r(t);var r=a("q1tI"),n=a.n(r),o=a("i8i4"),i=a.n(o),l=a("1Yj4"),c=a("ok1R"),s=a("rhny"),u=a("BLzl"),m=a("afej"),d=a("/kxI"),p=a("jrRI"),f=a("3OM0"),_=a("aLZG"),h=a("sOKU"),g=a("cZcL"),E=a("KYPV"),v=a("5tO7"),b=a.n(v),y=(a("ML16"),a("29KK")),M=a("9ONQ");function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=function(e){function t(e){var a,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(a=!(n=w(t).call(this,e))||"object"!==O(n)&&"function"!=typeof n?S(r):n)._isMounted=!1,a.state={samlIdpString:null,loginFailedVisible:!1,isTenantSchema:null},a.dismissLoginAlert=a.dismissLoginAlert.bind(S(a)),a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,e),a=t,(r=[{key:"isSaml2Logged",value:function(){return fetch("/api/v2/internal/saml2login",{headers:{Accept:"application/json","Content-Type":"application/json"}})}},{key:"flushSaml2Cache",value:function(){var e=new M.a;return fetch("/api/v2/internal/saml2login",{method:"DELETE",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":e.get("csrftoken"),Referer:"same-origin"}})}},{key:"fetchSamlButtonString",value:function(){var e=this;return fetch("/api/v2/internal/config_options").then((function(e){return e.json()})).then((function(t){return e._isMounted&&e.setState({samlIdpString:t.result.saml_login_string})})).catch((function(e){return console.log("Something went wrong: "+e)}))}},{key:"fetchIsTenantSchema",value:function(){return fetch("/api/v2/internal/istenantschema").then((function(e){return e.ok?e.json():null})).then((function(e){return e.isTenantSchema})).catch((function(e){return console.log("Something went wrong: "+e)}))}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.fetchIsTenantSchema().then((function(t){null!==t&&e._isMounted&&e.setState({isTenantSchema:t}),t&&e.fetchSamlButtonString().then(e.isSaml2Logged().then((function(t){t.ok&&t.json().then((function(t){Object.keys(t).length>0&&e.flushSaml2Cache().then((function(a){return a.ok&&e.props.onLogin(t,e.props.history)}))}))})))})).catch((function(e){return console.log("Something went wrong: "+e)}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"fetchUserDetails",value:function(e){return fetch("/api/v2/internal/users/"+e,{headers:{Accept:"application/json","Content-Type":"application/json"}})}},{key:"doUserPassLogin",value:function(e,t){var a=this;return fetch("/rest-auth/login/",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json",Referer:"same-origin"},body:JSON.stringify({username:e,password:t})}).then((function(t){return a.fetchUserDetails(e)}))}},{key:"dismissLoginAlert",value:function(){this._isMounted&&this.setState({loginFailedVisible:!1})}},{key:"render",value:function(){var e=this;return null!==this.state.isTenantSchema?n.a.createElement(l.a,null,n.a.createElement(c.a,{className:"login-first-row"},n.a.createElement(s.a,{sm:{size:4,offset:4}},n.a.createElement(u.a,null,n.a.createElement(m.a,{id:"argo-loginheader",className:"d-sm-inline-flex align-items-center justify-content-around"},n.a.createElement("img",{src:b.a,id:"argologo",alt:"ARGO logo"}),n.a.createElement("h4",{className:"text-light"},n.a.createElement("strong",null,"ARGO")," POEM")),n.a.createElement(d.a,null,n.a.createElement(E.d,{initialValues:{username:"",password:""},onSubmit:function(t){return e.doUserPassLogin(t.username,t.password).then((function(t){t.ok?t.json().then((function(t){return e.props.onLogin(t,e.props.history)})):e.setState({loginFailedVisible:!0})}))}},n.a.createElement(E.c,null,n.a.createElement(p.a,null,n.a.createElement(f.a,{for:"username"},"Username: "),n.a.createElement(E.a,{name:"username",className:"form-control"})),n.a.createElement(p.a,null,n.a.createElement(f.a,{for:"password"},"Password: "),n.a.createElement(E.a,{name:"password",className:"form-control",type:"password"})),n.a.createElement(p.a,null,n.a.createElement(_.a,{color:"danger",isOpen:this.state.loginFailedVisible,toggle:this.dismissLoginAlert,fade:!1},n.a.createElement("p",{className:"text-center"},"Login failed, invalid username and password provided"))),n.a.createElement("div",{className:"pt-3"}),n.a.createElement(p.a,null,n.a.createElement(h.a,{color:"success",type:"submit",block:!0},"Log in using username and password"),this.state.isTenantSchema&&n.a.createElement("a",{className:"btn btn-success btn-block",role:"button",href:"/saml2/login"},this.state.samlIdpString))))),n.a.createElement(g.a,{id:"argo-loginfooter"},n.a.createElement(y.i,{loginPage:!0})))))):null}}])&&D(a.prototype,r),o&&D(a,o),t}(r.Component),P=a("55Ip"),I=a("a/x8"),C=a("/8CB"),N=a.n(C),T=a("0enf"),j=(a("qBGJ"),a("IP2g")),L=a("wHSu"),x=a("XNy0"),U=a.n(x);a("acgP");function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),r.forEach((function(t){K(e,t,a[t])}))}return e}function K(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function z(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t,a){return t&&F(e.prototype,t),a&&F(e,a),e}function H(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?G(e):t}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var X=Object(y.j)("metricprofile");function $(e,t){return-1!==e.toLowerCase().indexOf(t.toLowerCase())}var ee=function(e){var t=e.serviceflavours_all,a=e.metrics_all,r=e.search_handler,o=e.remove_handler,i=e.insert_handler,l=e.onselect_handler,c=e.form,s=e.remove,u=e.insert;return n.a.createElement("table",{className:"table table-bordered table-sm"},n.a.createElement("thead",{className:"table-active"},n.a.createElement("tr",null,n.a.createElement("th",{className:"align-middle text-center",style:{width:"5%"}},"#"),n.a.createElement("th",{style:{width:"42.5%"}},n.a.createElement(y.k,{i:"serviceflavour"})," Service flavour"),n.a.createElement("th",{style:{width:"42.5%"}},n.a.createElement(y.k,{i:"metrics"})," Metric"),n.a.createElement("th",{style:{width:"10%"}},"Actions"))),n.a.createElement("tbody",null,n.a.createElement("tr",{style:{background:"#ECECEC"}},n.a.createElement("td",{className:"align-middle text-center"},n.a.createElement(j.a,{icon:L.m})),n.a.createElement("td",null,n.a.createElement(E.a,{type:"text",name:"search_serviceflavour",required:!1,className:"form-control",id:"searchServiceFlavour",onChange:function(e){return r(e,"view_services","searchServiceFlavour","service","searchMetric","metric")},component:y.q})),n.a.createElement("td",null,n.a.createElement(E.a,{type:"text",name:"search_metric",required:!1,className:"form-control",id:"searchMetric",onChange:function(e){return r(e,"view_services","searchMetric","metric","searchServiceFlavour","service")},component:y.q})),n.a.createElement("td",null,"")),c.values.view_services.map((function(e,r){return n.a.createElement("tr",null,n.a.createElement("td",{className:e.isNew?"bg-light align-middle text-center":"align-middle text-center"},r+1),n.a.createElement("td",{className:e.isNew?"bg-light":""},n.a.createElement(N.a,{inputProps:{className:'"form-control custom-select " '.concat(e.isNew?"border border-success":"")},getItemValue:function(e){return e},items:t,value:e.service,renderItem:function(e,a){return n.a.createElement("div",{key:t.indexOf(e),className:"metricprofiles-autocomplete-entries ".concat(a?"metricprofiles-autocomplete-entries-highlighted":"")},e?n.a.createElement(y.k,{i:"serviceflavour"}):""," ",e)},onChange:function(e){return c.setFieldValue("view_services.".concat(r,".service"),e.target.value)},onSelect:function(e){c.setFieldValue("view_services.".concat(r,".service"),e),l(c.values.view_services[r],"service",e)},wrapperStyle:{},shouldItemRender:$,renderMenu:function(e){return n.a.createElement("div",{className:"metricprofiles-autocomplete-menu",children:e})}})),n.a.createElement("td",{className:e.isNew?"bg-light":""},n.a.createElement(N.a,{inputProps:{className:'"form-control custom-select " '.concat(e.isNew?"border border-success":"")},getItemValue:function(e){return e},items:a,value:e.metric,renderItem:function(e,t){return n.a.createElement("div",{key:a.indexOf(e),className:"metricprofiles-autocomplete-entries ".concat(t?"metricprofiles-autocomplete-entries-highlighted":"")},e?n.a.createElement(y.k,{i:"metrics"}):""," ",e)},onChange:function(e){return c.setFieldValue("view_services.".concat(r,".metric"),e.target.value)},onSelect:function(e){c.setFieldValue("view_services.".concat(r,".metric"),e),l(c.values.view_services[r],"metric",e)},wrapperStyle:{},shouldItemRender:$,renderMenu:function(e){return n.a.createElement("div",{className:"metricprofiles-autocomplete-menu",children:e})}})),n.a.createElement("td",{className:"align-middle pl-3"},n.a.createElement(h.a,{size:"sm",color:"light",type:"button",onClick:function(){return o(c.values.view_services[r]),s(r)}},n.a.createElement(j.a,{icon:L.s})),n.a.createElement(h.a,{size:"sm",color:"light",type:"button",onClick:function(){var e={index:r+1,service:"",metric:"",isNew:!0};return i(e,r+1,c.values.groupname,c.values.name),u(r+1,e)}},n.a.createElement(j.a,{icon:L.l}))))}))))},te=function(e){function t(e){var a;return Q(this,t),(a=H(this,q(t).call(this,e))).tenant_name=e.tenant_name,a.token=e.webapitoken,a.webapimetric=e.webapimetric,a.profile_name=e.match.params.name,a.addview=e.addview,a.history=e.history,a.location=e.location,a.state={metric_profile:{},metric_profile_name:void 0,groupname:void 0,list_user_groups:void 0,view_services:void 0,list_services:void 0,write_perm:!1,serviceflavours_all:void 0,metrics_all:void 0,areYouSureModal:!1,loading:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0,searchServiceFlavour:"",searchMetric:""},a.backend=new I.a,a.webapi=new I.b({token:e.webapitoken,metricProfiles:e.webapimetric}),a.toggleAreYouSure=a.toggleAreYouSure.bind(G(a)),a.toggleAreYouSureSetModal=a.toggleAreYouSureSetModal.bind(G(a)),a.handleSearch=a.handleSearch.bind(G(a)),a.onRemove=a.onRemove.bind(G(a)),a.onInsert=a.onInsert.bind(G(a)),a.onSelect=a.onSelect.bind(G(a)),a}return Z(t,e),V(t,[{key:"flattenServices",value:function(e){var t=[],a=0;return e.forEach((function(e){var r=e.service;e.metrics.forEach((function(e){t.push({index:a,service:r,metric:e}),a+=1}))})),t}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),Promise.all([this.backend.fetchData("/api/v2/internal/groups/metricprofiles"),this.backend.fetchListOfNames("/api/v2/internal/serviceflavoursall"),this.backend.fetchListOfNames("/api/v2/internal/metricsall")]).then((function(t){var a=Y(t,3),r=a[0],n=a[1],o=a[2];if(e.addview){e.setState({metric_profile:{id:"",name:"",services:[]},metric_profile_name:"",groupname:"",list_user_groups:r,write_perm:"true"===localStorage.getItem("authIsSuperuser")||r.length>0,view_services:[{service:"",metric:"",index:0,isNew:!0}],serviceflavours_all:n,metrics_all:o,list_services:[{service:"",metric:"",index:0,isNew:!0}],loading:!1})}else e.backend.fetchData("/api/v2/internal/metricprofiles/".concat(e.profile_name)).then((function(t){return e.webapi.fetchMetricProfile(t.apiid).then((function(t){return e.backend.fetchData("/api/v2/internal/metricprofiles/".concat(t.name)).then((function(a){return e.setState({metric_profile:t,metric_profile_name:t.name,groupname:a.groupname,list_user_groups:r,write_perm:"true"===localStorage.getItem("authIsSuperuser")||r.indexOf(group)>=0,view_services:e.flattenServices(t.services).sort(e.sortServices),serviceflavours_all:n,metrics_all:o,list_services:e.flattenServices(t.services).sort(e.sortServices),loading:!1})}))}))}))}))}},{key:"insertSelectPlaceholder",value:function(e,t){return e?[t].concat(z(e)):[t]}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"sortServices",value:function(e,t){if(e.service.toLowerCase()<t.service.toLowerCase())return-1;if(e.service.toLowerCase()>t.service.toLowerCase())return 1;if(e.service.toLowerCase()===t.service.toLowerCase()){if(e.metric.toLowerCase()<t.metric.toLowerCase())return-1;if(e.metric.toLowerCase()>t.metric.toLowerCase())return 1;if(e.metric.toLowerCase()===t.metric.toLowerCase())return 0}}},{key:"handleSearch",value:function(e,t,a,r,n,o){var i,l=this,c=this.state[t.replace("view_","list_")],s=z(this.state.list_services);if(this.state[a].length>e.target.value.length){c=this.state[t.replace("view_","list_")].filter((function(t){return $(t[r],e.target.value)}));var u=0;s.forEach((function(e){e.index=u,u+=1})),s.sort(this.sortServices)}else""!==e.target.value&&(c=this.state[t].filter((function(t){return $(t[r],e.target.value)})));this.state[n].length&&(c=c.filter((function(e){return $(e[o],l.state[n])}))),c.sort(this.sortServices),this.setState((K(i={},"".concat(a),e.target.value),K(i,"".concat(t),c),K(i,"list_services",s),i))}},{key:"onInsert",value:function(e,t,a,r){if(""===this.state.searchServiceFlavour&&""===this.state.searchMetric){var n=e.service,o=e.metric,i=z(this.state.list_services),l=z(i).slice(0,t),c=z(i).slice(t);l.push({index:t,service:n,metric:o,isNew:!0});var s=0;l.forEach((function(e){e.index=s,s+=1})),s=l.length,c.forEach((function(e){e.index=s,s+=1})),i=[].concat(z(l),z(c)),this.setState({list_services:i,view_services:i,groupname:a,metric_profile_name:r})}else{var u=z(this.state.view_services),m=z(this.state.list_services),d=z(u).slice(0,t),p=z(u).slice(t);d.push(B({},e,{isNew:!0}));var f=0;d.forEach((function(e){e.index=f,f+=1})),f=t+1,p.forEach((function(e){e.index=f,f+=1})),m.push(B({},e,{isNew:!0})),this.setState({view_services:[].concat(z(d),z(p)),list_services:m})}}},{key:"onSubmitHandle",value:function(e,t){var a=this,r=e.formValues,n=e.servicesList,o=void 0,i=void 0;this.addview?(o="Are you sure you want to add Metric profile?",i="Add metric profile"):(o="Are you sure you want to change Metric profile?",i="Change metric profile"),this.toggleAreYouSureSetModal(o,i,(function(){return a.doChange({formValues:r,servicesList:n},t)}))}},{key:"groupMetricsByServices",value:function(e){var t=[];return e.forEach((function(e){var a=t.filter((function(t){return t.service===e.service}));a.length?a[0].metrics.push(e.metric):t.push({service:e.service,metrics:[e.metric]})})),t}},{key:"doChange",value:function(e,t){var a=this,r=e.formValues,n=e.servicesList,o=[],i=[];if(this.addview)o=this.groupMetricsByServices(n),i={name:r.name,services:o},this.webapi.addMetricProfile(i).then((function(e){e.ok?e.json().then((function(e){a.backend.addObject("/api/v2/internal/metricprofiles/",{apiid:e.data.id,name:i.name,groupname:r.groupname,services:r.view_services}).then((function(){return Object(y.o)({msg:"Metric profile successfully added",title:"Added",callback:function(){return a.history.push("/ui/metricprofiles")}})})).catch((function(e){return alert("Something went wrong: "+e)}))})).catch((function(e){return alert("Something went wrong: "+e)})):a.toggleAreYouSureSetModal("Error: ".concat(e.status,", ").concat(e.statusText),"Error adding metric profile",void 0)})).catch((function(e){return alert("Something went wrong: "+e)}));else{var l=this.state.metric_profile,c=l.id,s=l.name;o=this.groupMetricsByServices(n),i={id:c,name:s,services:o},this.webapi.changeMetricProfile(i).then((function(e){e.ok?e.json().then((function(e){a.backend.changeObject("/api/v2/internal/metricprofiles/",{apiid:i.id,name:i.name,groupname:r.groupname,services:r.view_services}).then((function(){return Object(y.o)({msg:"Metric profile succesfully changed",title:"Changed",callback:function(){return a.history.push("/ui/metricprofiles")}})})).catch((function(e){return alert("Something went wrong: "+e)}))})).catch((function(e){return alert("Something went wrong: "+e)})):a.toggleAreYouSureSetModal("Error: ".concat(e.status,", ").concat(e.statusText),"Error changing metric profile",void 0)})).catch((function(e){return alert("Something went wrong: "+e)}))}}},{key:"doDelete",value:function(e){var t=this;this.webapi.deleteMetricProfile(e).then((function(a){a.ok?a.json().then(t.backend.deleteObject("/api/v2/internal/metricprofiles/".concat(e))).then((function(){return Object(y.o)({msg:"Metric profile sucessfully deleted",title:"Deleted",callback:function(){return t.history.push("/ui/metricprofiles")}})})):alert("Error: ".concat(a.status,", ").concat(a.statusText))})).catch((function(e){return alert("Something went wrong: "+e)}))}},{key:"onSelect",value:function(e,t,a){var r=e.index,n=z(this.state.list_services),o=z(this.state.view_services),i=n.findIndex((function(e){return e.index===r&&!0===e.isNew}));i>=0?n[i][t]=a:n[r][t]=a;for(var l=0;l<o.length;l++)o[l].index===r&&(o[l][t]=a);this.setState({list_services:n,view_services:o})}},{key:"onRemove",value:function(e){var t=this.state.list_services.findIndex((function(t){return e.index===t.index&&e.service===t.service&&e.metric===t.metric})),a=this.state.view_services.findIndex((function(t){return e.index===t.index&&e.service===t.service&&e.metric===t.metric}));if(t>=0&&a>=0){var r=z(this.state.list_services),n=z(this.state.view_services);r.splice(t,1),n.splice(a,1);for(var o=t;o<r.length;o++){var i=r[o].index;r[o].index=i-1}for(o=a;o<n.length;o++){var l=n[o].index;n[o].index=l-1}this.setState({list_services:r,view_services:n})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.write_perm,r=t.loading,o=t.metric_profile,i=t.metric_profile_name,l=t.view_services,c=t.groupname,s=t.list_user_groups,u=t.serviceflavours_all,m=t.metrics_all,d=t.searchMetric,p=t.searchServiceFlavour;return r?n.a.createElement(y.l,null):!r&&o&&l?n.a.createElement(y.b,{resourcename:"Metric profile",location:this.location,addview:this.addview,modal:!0,state:this.state,toggle:this.toggleAreYouSure,submitperm:a},n.a.createElement(E.d,{initialValues:{id:o.id,name:i,groupname:c,view_services:l,search_metric:d,search_serviceflavour:p},onSubmit:function(t,a){return e.onSubmitHandle({formValues:t,servicesList:e.state.list_services},a)},enableReinitialize:!0,render:function(t){return n.a.createElement(E.c,null,n.a.createElement(y.p,W({},t,{grouplist:a?s:[c].concat(z(s)),profiletype:"metric"})),n.a.createElement("h4",{className:"mt-4 alert-info p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Metric instances"),n.a.createElement(E.b,{name:"view_services",render:function(t){return n.a.createElement(ee,W({},t,{serviceflavours_all:e.insertSelectPlaceholder(u,""),metrics_all:e.insertSelectPlaceholder(m,""),search_handler:e.handleSearch,remove_handler:e.onRemove,insert_handler:e.onInsert,onselect_handler:e.onSelect}))}}),a&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},n.a.createElement(h.a,{color:"danger",onClick:function(){e.toggleAreYouSureSetModal("Are you sure you want to delete Metric profile?","Delete metric profile",(function(){return e.doDelete(t.values.id)}))}},"Delete"),n.a.createElement(h.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):null}}]),t}(r.Component),ae=function(e){function t(e){var a;return Q(this,t),(a=H(this,q(t).call(this,e))).state={loading:!1,list_metricprofiles:null},a.location=e.location,a.backend=new I.a,a}return Z(t,e),V(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/metricprofiles").then((function(t){return e.setState({list_metricprofiles:t,loading:!1})}))}},{key:"render",value:function(){var e=[{Header:"Name",id:"name",accessor:function(e){return n.a.createElement(P.b,{to:"/ui/metricprofiles/"+e.name},e.name)}},{Header:"Group",accessor:"groupname",maxWidth:150}],t=this.state,a=t.loading,r=t.list_metricprofiles;return a?n.a.createElement(y.l,null):!a&&r?n.a.createElement(y.b,{resourcename:"metric profile",location:this.location,listview:!0},n.a.createElement(T.a,{data:r,columns:e,className:"-striped -highlight",defaultPageSize:12})):null}}]),t}(r.Component),re=function(e){for(var t=e.title,a=e.item1,r=e.item2,o=[],i=[],l=0;l<a.length;l++)o.push("service: ".concat(a[l].service,", metric: ").concat(a[l].metric));for(var c=0;c<r.length;c++)i.push("service: ".concat(r[c].service,", metric: ").concat(r[c].metric));return n.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},n.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},t),n.a.createElement(U.a,{oldValue:i.join("\n"),newValue:o.join("\n"),showDiffOnly:!1,splitView:!0,hideLineNumbers:!0}))},ne=function(e){function t(e){var a;return Q(this,t),(a=H(this,q(t).call(this,e))).version1=e.match.params.id1,a.version2=e.match.params.id2,a.name=e.match.params.name,a.state={loading:!1,name1:"",groupname1:"",metricinstances1:[],name2:"",groupname2:"",metricinstances2:[]},a.backend=new I.a,a}return Z(t,e),V(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/tenantversion/metricprofile/".concat(this.name)).then((function(t){var a="",r="",n=[],o="",i="",l=[];t.forEach((function(t){t.version==e.version1?(a=t.fields.name,r=t.fields.groupname,n=t.fields.metricinstances):t.version==e.version2&&(o=t.fields.name,i=t.fields.groupname,l=t.fields.metricinstances)})),e.setState({name1:a,groupname1:r,metricinstances1:n,name2:o,groupname2:i,metricinstances2:l,loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.name1,a=e.name2,r=e.groupname1,o=e.groupname2,i=e.metricinstances1,l=e.metricinstances2,c=e.loading;return c?n.a.createElement(y.l,null):!c&&t&&a?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Compare ".concat(this.name," versions"))),t!==a&&n.a.createElement(y.e,{title:"name",item1:t,item2:a}),r!==o&&n.a.createElement(y.e,{title:"groupname",item1:r,item2:o}),i!==l&&n.a.createElement(re,{title:"metric instances",item1:i,item2:l})):null}}]),t}(r.Component),oe=function(e){function t(e){var a;return Q(this,t),(a=H(this,q(t).call(this,e))).name=e.match.params.name,a.version=e.match.params.version,a.backend=new I.a,a.state={name:"",groupname:"",date_created:"",metricinstances:[],loading:!1},a}return Z(t,e),V(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/tenantversion/metricprofile/".concat(this.name)).then((function(t){t.forEach((function(t){t.version==e.version&&e.setState({name:t.fields.name,groupname:t.fields.groupname,date_created:t.date_created,metricinstances:t.fields.metricinstances,loading:!1})}))}))}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.groupname,r=e.date_created,o=e.metricinstances,i=e.loading;return i?n.a.createElement(y.l,null):!i&&t?n.a.createElement(y.b,{resourcename:"".concat(t," (").concat(r,")"),infoview:!0},n.a.createElement(E.d,{initialValues:{name:t,groupname:a,metricinstances:o},render:function(e){return n.a.createElement(E.c,null,n.a.createElement(y.p,W({},e,{fieldsdisable:!0,profiletype:"metric"})),n.a.createElement("h4",{className:"mt-4 alert-info p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Metric instances"),n.a.createElement(E.b,{name:"metricinstances",render:function(t){return n.a.createElement("table",{className:"table table-bordered table-sm"},n.a.createElement("thead",{className:"table-active"},n.a.createElement("tr",null,n.a.createElement("th",{className:"align-middle text-center",style:{width:"5%"}},"#"),n.a.createElement("th",{style:{width:"47.5%"}},n.a.createElement(y.k,{i:"serviceflavour"}),"Service flavour"),n.a.createElement("th",{style:{width:"47.5%"}},n.a.createElement(y.k,{i:"metrics"}),"Metric"))),n.a.createElement("tbody",null,e.values.metricinstances.map((function(e,t){return n.a.createElement("tr",{key:t},n.a.createElement("td",{className:"align-middle text-center"},t+1),n.a.createElement("td",null,e.service),n.a.createElement("td",null,e.metric))}))))}}))}})):null}}]),t}(r.Component),ie=function(e){return n.a.createElement("div",null,'"I\'m Home"')},le=a("q7Gj"),ce=a("re1l"),se=a("0E8A"),ue=a("of9s"),me=a("lCZi");function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function he(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t,a){return t&&he(e.prototype,t),a&&he(e,a),e}function Ee(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?ve(e):t}function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ye(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oe(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var De=Object(y.j)("probe"),we=Ce(),Se=Ce(!0),Ae=me.object().shape({name:me.string().matches(/^\S*$/,"Name cannot contain white spaces").required("Required"),package:me.string().required("Required"),repository:me.string().url("Invalid url").required("Required"),docurl:me.string().url("Invalid url").required("Required"),description:me.string().required("Required"),comment:me.string().required("Required")}),ke=function(e){var t=e.field.value;Oe(e,["field"]);return n.a.createElement("div",{className:"form-control",style:{backgroundColor:"#e9ecef"}},n.a.createElement("a",{href:t},t))},Pe=function(e){var t=e.isTenantSchema,a=void 0!==t&&t,r=e.isHistory,o=void 0!==r&&r,i=e.errors,l=void 0===i?{name:void 0,package:void 0,repository:void 0,docurl:void 0,comment:void 0}:i,u=e.state,m=void 0===u?void 0:u,d=e.addview,_=void 0!==d&&d,h=e.cloneview,g=void 0!==h&&h,v=e.list_packages,b=void 0===v?[]:v,M=e.setFieldValue,O=void 0===M?void 0:M,D=e.values,w=void 0===D?void 0:D,S=e.onSelect,A=void 0===S?void 0:S,k=e.metrictemplatelist,I=void 0===k?[]:k;return n.a.createElement(n.a.Fragment,null,n.a.createElement(p.a,null,n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(le.a,null,n.a.createElement(ce.a,{addonType:"prepend"},"Name"),n.a.createElement(E.a,{type:"text",name:"name",className:"form-control ".concat(l.name&&"border-danger"),id:"name",disabled:a||o})),l.name&&Object(y.h)(l.name),n.a.createElement(se.a,{color:"muted"},"Name of this probe.")),n.a.createElement(s.a,{md:2},n.a.createElement(le.a,null,n.a.createElement(ce.a,{addonType:"prepend"},"Version"),n.a.createElement(E.a,{type:"text",name:"version",className:"form-control",value:o?m.version:m.probe.version,id:"version",disabled:!0})),n.a.createElement(se.a,{color:"muted"},"Version of the probe.")),!_&&!g&&!a&&!o&&n.a.createElement(s.a,{md:2},n.a.createElement(E.a,{component:y.c,name:"update_metrics",className:"form-control",id:"checkbox",label:"Update metric templates"}),n.a.createElement(se.a,{color:"muted"},"Update all associated metric templates."))),n.a.createElement(c.a,{className:"mt-3"},n.a.createElement(s.a,{md:8},a||o?n.a.createElement(le.a,null,n.a.createElement(ce.a,{addonType:"prepend"},"Package"),n.a.createElement(E.a,{type:"text",name:"package",className:"form-control",id:"package",disabled:!0})):n.a.createElement(n.a.Fragment,null,n.a.createElement(y.a,{setFieldValue:O,lists:b,icon:"packages",field:"package",val:w.package,onselect_handler:A,req:l.package,label:"Package"}),l.package&&Object(y.h)(l.package)),n.a.createElement(se.a,{color:"muted"},"Probe is part of selected package.")))),n.a.createElement(p.a,null,n.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Probe metadata"),n.a.createElement(c.a,{className:"mt-4 mb-3 align-items-top"},n.a.createElement(s.a,{md:8},n.a.createElement(le.a,null,n.a.createElement(ce.a,{addonType:"prepend"},"Repository"),a||o?n.a.createElement(E.a,{component:ke,name:"repository",className:"form-control",id:"repository",disabled:!0}):n.a.createElement(E.a,{type:"text",name:"repository",className:"form-control ".concat(l.repository&&"border-danger"),id:"repository"})),l.repository&&Object(y.h)(l.repository),n.a.createElement(se.a,{color:"muted"},"Probe repository URL."))),n.a.createElement(c.a,{className:"mb-3 align-items-top"},n.a.createElement(s.a,{md:8},n.a.createElement(le.a,null,n.a.createElement(ce.a,{addonType:"prepend"},"Documentation"),a||o?n.a.createElement(E.a,{component:ke,name:"docurl",className:"form-control",id:"docurl",disabled:!0}):n.a.createElement(E.a,{type:"text",name:"docurl",className:"form-control ".concat(l.docurl&&"border-danger"),id:"docurl"})),l.docurl&&Object(y.h)(l.docurl),n.a.createElement(se.a,{color:"muted"},"Documentation URL."))),n.a.createElement(c.a,{className:"mb-3 align-items-top"},n.a.createElement(s.a,{md:8},n.a.createElement(f.a,{for:"description"},"Description"),n.a.createElement(E.a,{component:"textarea",name:"description",rows:"15",className:"form-control ".concat(l.description&&"border-danger"),id:"description",disabled:a||o}),l.description&&Object(y.h)(l.description),n.a.createElement(se.a,{color:"muted"},"Free text description outlining the purpose of this probe."))),n.a.createElement(c.a,{className:"mb-3 align-items-top"},n.a.createElement(s.a,{md:8},n.a.createElement(f.a,{for:"comment"},"Comment"),n.a.createElement(E.a,{component:"textarea",name:"comment",rows:"5",className:"form-control ".concat(l.comment&&"border-danger"),id:"comment",disabled:a||o}),l.comment&&Object(y.h)(l.comment),n.a.createElement(se.a,{color:"muted"},"Short comment about this version."))),!a&&!o&&!_&&!g&&n.a.createElement(c.a,null,n.a.createElement(s.a,{md:8},n.a.createElement("div",null,"Metric templates:",I.length>0&&n.a.createElement("div",null,I.map((function(e,t){return n.a.createElement(P.b,{key:t,to:"/ui/metrictemplates/".concat(e)},e)})).reduce((function(e,t){return[e,", ",t]}))))))))},Ie=function(e){function t(e){var a;return _e(this,t),(a=Ee(this,be(t).call(this,e))).location=e.location,a.state={loading:!1,list_probe:null,isTenantSchema:null,search_name:"",search_description:""},a.backend=new I.a,a}return ye(t,e),ge(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),Promise.all([this.backend.fetchData("/api/v2/internal/probes"),this.backend.isTenantSchema()]).then((function(t){var a=fe(t,2),r=a[0],n=a[1];return e.setState({list_probe:r,isTenantSchema:n,loading:!1,search_name:""})}))}},{key:"render",value:function(){var e=this,t=[{Header:"#",id:"row",minWidth:12,Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.index+1)}},{Header:"Name",id:"name",minWidth:80,accessor:function(e){return n.a.createElement(P.b,{to:"/ui/probes/".concat(e.name)},e.name)},filterable:!0,Filter:n.a.createElement("input",{value:this.state.search_name,onChange:function(t){return e.setState({search_name:t.target.value})},placeholder:"Search by name",style:{width:"100%"}})},{Header:"#versions",id:"nv",minWidth:25,accessor:function(e){return n.a.createElement(P.b,{to:"/ui/probes/".concat(e.name,"/history")},e.nv)},Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)}},{Header:"Description",minWidth:300,accessor:"description",filterable:!0,Filter:n.a.createElement("input",{type:"text",placeholder:"Search by description",value:this.state.search_description,onChange:function(t){return e.setState({search_description:t.target.value})},style:{width:"100%"}}),filterMethod:function(e,t){return void 0===t[e.id]||String(t[e.id]).toLowerCase().includes(e.value.toLowerCase())}}],a=this.state,r=a.isTenantSchema,o=a.list_probe,i=a.loading;return this.state.search_name&&(o=o.filter((function(t){return t.name.toLowerCase().includes(e.state.search_name.toLowerCase())}))),this.state.search_description&&(o=o.filter((function(t){return t.description.toLowerCase().includes(e.state.search_description.toLowerCase())}))),i?n.a.createElement(y.l,null):!i&&o?n.a.createElement(y.b,{resourcename:"probe",location:this.location,listview:!0,addnew:!r},n.a.createElement(T.a,{data:o,columns:t,className:"-striped -highlight",defaultPageSize:50})):null}}]),t}(r.Component);function Ce(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(function(t){function a(e){var t;return _e(this,a),(t=Ee(this,be(a).call(this,e))).name=e.match.params.name,t.addview=e.addview,t.location=e.location,t.history=e.history,t.backend=new I.a,t.state={probe:{id:"",name:"",version:"",package:"",repository:"",docurl:"",description:"",comment:""},isTenantSchema:null,metrictemplatelist:[],list_packages:[],validationVisible:!0,update_metrics:!1,loading:!1,write_perm:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},t.toggleAreYouSure=t.toggleAreYouSure.bind(ve(t)),t.toggleAreYouSureSetModal=t.toggleAreYouSureSetModal.bind(ve(t)),t.onSubmitHandle=t.onSubmitHandle.bind(ve(t)),t.doDelete=t.doDelete.bind(ve(t)),t.onDismiss=t.onDismiss.bind(ve(t)),t.onSelect=t.onSelect.bind(ve(t)),t}return ye(a,t),ge(a,[{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSubmitHandle",value:function(t,a){var r=this,n=void 0,o=void 0;this.addview||e?(n="Are you sure you want to add probe?",o="Add probe"):(n="Are you sure you want to change probe?",o="Change probe"),this.toggleAreYouSureSetModal(n,o,(function(){return r.doChange(t,a)}))}},{key:"doChange",value:function(t,a){var r=this;if(this.addview||e){var n=void 0;n=e?t.id:"",this.backend.addObject("/api/v2/internal/probes/",{name:t.name,package:t.package,repository:t.repository,docurl:t.docurl,description:t.description,comment:t.comment,cloned_from:n}).then((function(e){e.ok?Object(y.o)({msg:"Probe successfully added",title:"Added",callback:function(){return r.history.push("/ui/probes")}}):e.json().then((function(e){ue.NotificationManager.error(e.detail,"Error")}))}))}else this.backend.changeObject("/api/v2/internal/probes/",{id:t.id,name:t.name,package:t.package,repository:t.repository,docurl:t.docurl,description:t.description,comment:t.comment,update_metrics:t.update_metrics}).then((function(e){e.ok?Object(y.o)({msg:"Probe successfully changed",title:"Changed",callback:function(){return r.history.push("/ui/probes")}}):e.json().then((function(e){ue.NotificationManager.error(e.detail,"Error")}))}))}},{key:"doDelete",value:function(e){var t=this;this.backend.deleteObject("/api/v2/internal/probes/".concat(e)).then((function(e){e.ok?Object(y.o)({msg:"Probe successfully deleted",title:"Deleted",callback:function(){return t.history.push("/ui/probes")}}):e.json().then((function(e){ue.NotificationManager.error(e.detail,"Error")}))}))}},{key:"onDismiss",value:function(){this.setState({validationVisible:!1})}},{key:"onSelect",value:function(e,t){var a=this.state.probe;a[e]=t,a.version=t.split(" ")[1].slice(1,-1),this.setState({probe:a})}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),Promise.all([this.backend.isTenantSchema(),this.backend.fetchData("/api/v2/internal/packages")]).then((function(t){var a=fe(t,2),r=a[0],n=a[1],o=[];n.forEach((function(e){return o.push("".concat(e.name," (").concat(e.version,")"))})),e.addview?e.setState({list_packages:o,isTenantSchema:r,write_perm:"true"===localStorage.getItem("authIsSuperuser"),loading:!1}):e.backend.fetchData("/api/v2/internal/probes/".concat(e.name)).then((function(t){e.backend.fetchData("/api/v2/internal/metricsforprobes/".concat(t.name,"(").concat(t.version,")")).then((function(a){e.setState({probe:t,list_packages:o,isTenantSchema:r,metrictemplatelist:a,write_perm:"true"===localStorage.getItem("authIsSuperuser"),loading:!1})}))}))}))}},{key:"render",value:function(){var t=this,a=this.state,r=a.probe,o=a.update_metrics,i=a.isTenantSchema,l=a.metrictemplatelist,c=a.list_packages,s=a.write_perm,u=a.loading;return u?n.a.createElement(y.l,null):u?void 0:i?n.a.createElement(y.b,{resourcename:"Probe details",location:this.location,tenantview:!0,history:!0},n.a.createElement(E.d,{initialValues:{id:r.id,name:r.name,version:r.version,package:r.package,repository:r.repository,docurl:r.docurl,description:r.description,comment:r.comment},render:function(e){return n.a.createElement(Pe,pe({},e,{isTenantSchema:!0,state:t.state}))}})):n.a.createElement(y.b,{resourcename:"probe",location:this.location,addview:this.addview,cloneview:e,clone:!0,modal:!0,state:this.state,toggle:this.toggleAreYouSure,submitperm:s},n.a.createElement(E.d,{initialValues:{id:r.id,name:r.name,version:r.version,package:r.package,repository:r.repository,docurl:r.docurl,description:r.description,comment:r.comment,update_metrics:o},validationSchema:Ae,onSubmit:function(e,a){return t.onSubmitHandle(e,a)}},(function(a){return n.a.createElement(E.c,null,n.a.createElement(Pe,pe({},a,{state:t.state,addview:t.addview,cloneview:e,list_packages:c,onSelect:t.onSelect,metrictemplatelist:l})),s&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},t.addview||e?n.a.createElement("div",null):n.a.createElement(h.a,{color:"danger",onClick:function(){t.toggleAreYouSureSetModal("Are you sure you want to delete probe?","Delete probe",(function(){return t.doDelete(a.values.name)}))}},"Delete"),n.a.createElement(h.a,{color:"success",id:"submit-button",type:"submit"},"Save")))})))}}]),a}(r.Component))}var Ne=function(e){function t(e){var a;return _e(this,t),(a=Ee(this,be(t).call(this,e))).version1=e.match.params.id1,a.version2=e.match.params.id2,a.name=e.match.params.name,a.state={loading:!1,name1:"",version1:"",package1:"",description1:"",repository1:"",docurl1:"",comment1:"",name2:"",version2:"",package2:"",description2:"",repository2:"",docurl2:"",comment2:""},a.backend=new I.a,a}return ye(t,e),ge(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/version/probe/".concat(this.name)).then((function(t){var a="",r="",n="",o="",i="",l="",c="",s="",u="",m="",d="",p="",f="",_="";t.forEach((function(t){t.version==e.version1?(a=t.fields.name,r=t.fields.version,n=t.fields.package,o=t.fields.description,i=t.fields.repository,l=t.fields.docurl,c=t.fields.comment):t.version===e.version2&&(s=t.fields.name,u=t.fields.version,m=t.fields.package,d=t.fields.description,p=t.fields.repository,f=t.fields.docurl,_=t.fields.comment)})),e.setState({name1:a,version1:r,package1:n,description1:o,repository1:i,docurl1:l,comment1:c,name2:s,version2:u,package2:m,description2:d,repository2:p,docurl2:f,comment2:_,loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.name1,a=e.name2,r=e.version1,o=e.version2,i=e.package1,l=e.package2,c=e.description1,s=e.description2,u=e.repository1,m=e.repository2,d=e.docurl1,p=e.docurl2,f=e.comment1,_=e.comment2,h=e.loading;return h?n.a.createElement(y.l,null):!h&&t&&a?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Compare "+this.name)),t!==a&&n.a.createElement(y.e,{title:"name",item1:t,item2:a}),r!==o&&n.a.createElement(y.e,{title:"version",item1:r,item2:o}),i!==l&&n.a.createElement(y.e,{title:"package",item1:i,item2:l}),c!==s&&n.a.createElement(y.e,{title:"description",item1:c,item2:s}),u!==m&&n.a.createElement(y.e,{title:"repository",item1:u,item2:m}),d!==p&&n.a.createElement(y.e,{title:"documentation",item1:d,item2:p}),f!==_&&n.a.createElement(y.e,{title:"comment",item1:f,item2:_})):null}}]),t}(r.Component),Te=function(e){function t(e){var a;return _e(this,t),(a=Ee(this,be(t).call(this,e))).name=e.match.params.name,a.version=e.match.params.version,a.backend=new I.a,a.state={name:"",version:"",pkg:"",description:"",repository:"",docurl:"",comment:"",loading:!1},a}return ye(t,e),ge(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/version/probe/".concat(this.name)).then((function(t){t.forEach((function(t){t.version===e.version&&e.setState({name:t.fields.name,version:t.fields.version,pkg:t.fields.package,description:t.fields.description,repository:t.fields.repository,docurl:t.fields.docurl,comment:t.fields.comment,loading:!1})}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,r=t.version,o=t.pkg,i=t.description,l=t.repository,c=t.docurl,s=t.comment,u=t.loading;return u?n.a.createElement(y.l,null):!u&&a?n.a.createElement(y.b,{resourcename:"".concat(a," (").concat(r,")"),infoview:!0},n.a.createElement(E.d,{initialValues:{name:a,version:r,package:o,repository:l,docurl:c,description:i,comment:s},render:function(t){return n.a.createElement(Pe,pe({},t,{state:e.state,isHistory:!0}))}})):null}}]),t}(r.Component),je=a("SKq3");function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function We(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Be(e,t,a){return t&&We(e.prototype,t),a&&We(e,a),e}function Ke(e,t){return!t||"object"!==Le(t)&&"function"!=typeof t?Ye(e):t}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ve=Object(je.b)("metrictemplate"),He=Object(je.b)("metrictemplate",!0),qe=et(),Ge=et(!0),Ze=Object(y.j)("metrictemplate"),Je=Object(y.j)("metrictemplate",!0),Xe=Object(je.a)("metrictemplate"),$e=me.object().shape({name:me.string().matches(/^\S*$/,"Name cannot contain white spaces").required("Required"),type:me.string(),probeversion:me.string().when("type",{is:function(e){return"Active"===e},then:me.string().required("Required")}),probeexecutable:me.string().when("type",{is:function(e){return"Active"===e},then:me.string().required("Required")})});function et(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(function(t){function a(e){var t;return Re(this,a),(t=Ke(this,ze(a).call(this,e))).name=e.match.params.name,t.location=e.location,t.addview=e.addview,t.tenantview=e.tenantview,t.history=e.history,t.backend=new I.a,t.state={metrictemplate:{},probe:{},types:[],probeversions:[],metrictemplatelist:[],loading:!1,popoverOpen:!1,write_perm:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},t.toggleAreYouSure=t.toggleAreYouSure.bind(Ye(t)),t.toggleAreYouSureSetModal=t.toggleAreYouSureSetModal.bind(Ye(t)),t.togglePopOver=t.togglePopOver.bind(Ye(t)),t.onSelect=t.onSelect.bind(Ye(t)),t.onSubmitHandle=t.onSubmitHandle.bind(Ye(t)),t.doChange=t.doChange.bind(Ye(t)),t.doDelete=t.doDelete.bind(Ye(t)),t}return Qe(a,t),Be(a,[{key:"togglePopOver",value:function(){this.setState({popoverOpen:!this.state.popoverOpen})}},{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSelect",value:function(e,t){var a=this.state.metrictemplate;a[e]=t,this.setState({metrictemplate:a})}},{key:"onSubmitHandle",value:function(t,a){var r=this,n=void 0,o=void 0;this.addview||e?(n="Are you sure you want to add metric template?",o="Add metric template"):(n="Are you sure you want to change metric template?",o="Change metric template"),this.toggleAreYouSureSetModal(n,o,(function(){return r.doChange(t,a)}))}},{key:"doChange",value:function(t,a){var r=this;if(this.addview||e){var n=void 0;n=e?t.id:"",this.backend.addObject("/api/v2/internal/metrictemplates/",{cloned_from:n,name:t.name,probeversion:t.probeversion,mtype:t.type,probeexecutable:t.probeexecutable,parent:t.parent,config:t.config,attribute:t.attributes,dependency:t.dependency,parameter:t.parameter,flags:t.flags,files:t.file_attributes,fileparameter:t.file_parameters}).then((function(e){e.ok?Object(y.o)({msg:"Metric template successfully added",title:"Added",callback:function(){return r.history.push("/ui/metrictemplates")}}):e.json().then((function(e){ue.NotificationManager.error(e.detail,"Error")}))})).catch((function(e){return alert("Something went wrong: "+e)}))}else this.backend.changeObject("/api/v2/internal/metrictemplates/",{id:t.id,name:t.name,probeversion:t.probeversion,mtype:t.type,probeexecutable:t.probeexecutable,parent:t.parent,config:t.config,attribute:t.attributes,dependency:t.dependency,parameter:t.parameter,flags:t.flags,files:t.file_attributes,fileparameter:t.file_parameters}).then((function(e){e.ok?Object(y.o)({msg:"Metric template successfully changed",title:"Changed",callback:function(){return r.history.push("/ui/metrictemplates")}}):e.json().then((function(e){ue.NotificationManager.error(e.detail,"Error")}))})).catch((function(e){return alert("Something went wrong: "+e)}))}},{key:"doDelete",value:function(e){var t=this;this.backend.deleteObject("/api/v2/internal/metrictemplates/".concat(e)).then((function(){return Object(y.o)({msg:"Metric template successfully deleted",title:"Deleted",callback:function(){return t.history.push("/ui/metrictemplates")}})})).catch((function(e){return alert("Something went wrong: "+e)}))}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),Promise.all([this.backend.fetchData("/api/v2/internal/mttypes"),this.backend.fetchData("/api/v2/internal/version/probe"),this.backend.fetchData("/api/v2/internal/metrictemplates")]).then((function(t){var a=Ue(t,3),r=a[0],n=a[1],o=a[2],i=[];o.forEach((function(e){return i.push(e.name)})),e.addview?e.setState({metrictemplate:{id:"",name:"",probeversion:"",mtype:"Active",probeexecutable:"",parent:"",config:[{key:"maxCheckAttempts",value:""},{key:"timeout",value:""},{key:"path",value:""},{key:"interval",value:""},{key:"retryInterval",value:""}],attribute:[{key:"",value:""}],dependency:[{key:"",value:""}],parameter:[{key:"",value:""}],flags:[{key:"",value:""}],files:[{key:"",value:""}],fileparameter:[{key:"",value:""}]},metrictemplatelist:i,probeversions:n,types:r,loading:!1,write_perm:"true"===localStorage.getItem("authIsSuperuser")}):e.backend.fetchData("/api/v2/internal/metrictemplates/".concat(e.name)).then((function(t){0===t.attribute.length&&(t.attribute=[{key:"",value:""}]),0===t.dependency.length&&(t.dependency=[{key:"",value:""}]),0===t.parameter.length&&(t.parameter=[{key:"",value:""}]),0===t.flags.length&&(t.flags=[{key:"",value:""}]),0===t.files.length&&(t.files=[{key:"",value:""}]),0===t.fileparameter.length&&(t.fileparameter=[{key:"",value:""}]),t.probeversion?e.backend.fetchData("/api/v2/internal/version/probe/".concat(t.probeversion.split(" ")[0])).then((function(a){var o={};a.forEach((function(e){e.object_repr===t.probeversion&&(o=e.fields)})),e.setState({metrictemplate:t,probe:o,probeversions:n,metrictemplatelist:i,types:r,loading:!1,write_perm:"true"===localStorage.getItem("authIsSuperuser")})})):e.setState({metrictemplate:t,metrictemplatelist:i,types:r,loading:!1,write_perm:"true"===localStorage.getItem("authIsSuperuser")})}))}))}},{key:"render",value:function(){var t=this,a=this.state,r=a.metrictemplate,o=a.types,i=a.probeversions,l=a.metrictemplatelist,c=a.loading,s=a.write_perm;return c?n.a.createElement(y.l,null):!c&&r?n.a.createElement(y.b,{resourcename:this.tenantview?"".concat(r.name):"metric template",location:this.location,addview:this.addview,tenantview:this.tenantview,cloneview:e,clone:!0,modal:!0,state:this.state,toggle:this.toggleAreYouSure,submitperm:s},n.a.createElement(E.d,{initialValues:{id:r.id,name:r.name,probeversion:r.probeversion,type:r.mtype,probeexecutable:r.probeexecutable,parent:r.parent,config:r.config,attributes:r.attribute,dependency:r.dependency,parameter:r.parameter,flags:r.flags,file_attributes:r.files,file_parameters:r.fileparameter},onSubmit:function(e,a){return t.onSubmitHandle(e,a)},validationSchema:$e,render:function(a){return n.a.createElement(E.c,null,n.a.createElement(je.d,xe({},a,{obj:"metrictemplate",isTenantSchema:t.tenantview,addview:t.addview,state:t.state,onSelect:t.onSelect,togglePopOver:t.togglePopOver,types:o,probeversions:i,metrictemplatelist:l})),s&&!t.tenantview&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},t.addview||e?n.a.createElement("div",null):n.a.createElement(h.a,{color:"danger",onClick:function(){t.toggleAreYouSureSetModal("Are you sure you want to delete Metric template?","Delete metric template",(function(){return t.doDelete(a.values.name)}))}},"Delete"),n.a.createElement(h.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):null}}]),a}(r.Component))}var tt=function(e){function t(e){var a;return Re(this,t),(a=Ke(this,ze(t).call(this,e))).name=e.match.params.name,a.version=e.match.params.version,a.backend=new I.a,a.state={name:"",probeversion:"",mtype:"",probeexecutable:"",parent:"",config:[],attribute:[],dependency:[],parameter:[],flags:[],files:[],fileparameter:[],loading:!1},a}return Qe(t,e),Be(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/version/metrictemplate/".concat(this.name)).then((function(t){t.forEach((function(t){t.version==e.version&&e.setState({name:t.fields.name,probeversion:t.fields.probeversion,type:t.fields.mtype,probeexecutable:t.fields.probeexecutable,parent:t.fields.parent,config:t.fields.config,attribute:t.fields.attribute,dependency:t.fields.dependency,parameter:t.fields.parameter,flags:t.fields.flags,files:t.fields.files,fileparameter:t.fields.fileparameter,date_created:t.date_created,loading:!1})}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,r=t.probeversion,o=t.type,i=t.probeexecutable,l=t.parent,c=t.config,s=t.attribute,u=t.dependency,m=t.parameter,d=t.flags,p=t.files,f=t.fileparameter,_=t.loading;return _?n.a.createElement(y.l,null):!_&&a?n.a.createElement(y.b,{resourcename:"".concat(a," ").concat(r&&"[".concat(r,"]")),infoview:!0},n.a.createElement(E.d,{initialValues:{name:a,probeversion:r,type:o,probeexecutable:i,parent:l,config:c,attributes:s,dependency:u,parameter:m,flags:d,file_attributes:p,file_parameters:f},render:function(t){return n.a.createElement(E.c,null,n.a.createElement(je.d,xe({},t,{obj:"metrictemplate",state:e.state,isHistory:!0})))}})):null}}]),t}(r.Component),at=function(e){return n.a.createElement(E.c,{className:"ml-2 mb-2 mt-2"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Administration"),n.a.createElement(u.a,{className:"mb-2 pb-1 pt-1"},n.a.createElement(m.a,{className:"sm-5 p-2 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Poem"),n.a.createElement(d.a,null,n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"reports"})," ",n.a.createElement(P.b,{className:"pl-1",to:"/ui/reports"},"Reports")),n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"metrics"})," ",n.a.createElement(P.b,{className:"pl-1",to:"/ui/metrics"},"Metrics")),n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"metricprofiles"})," ",n.a.createElement(P.b,{className:"pl-1",to:"/ui/metricprofiles"},"Metric profiles")),n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"aggregationprofiles"})," ",n.a.createElement(P.b,{className:"pl-1",to:"/ui/aggregationprofiles"},"Aggregation profiles")))),n.a.createElement(u.a,{className:"mb-2"},n.a.createElement(m.a,{className:"mt-2 p-2 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Authentication and authorization"),n.a.createElement(d.a,null,n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"groupofaggregationprofiles"})," ",n.a.createElement(P.b,{to:"/ui/administration/groupofaggregations"},"Groups of aggregations")),n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"groupofmetrics"})," ",n.a.createElement(P.b,{to:"/ui/administration/groupofmetrics"},"Groups of metrics")),n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"groupofmetricprofiles"})," ",n.a.createElement(P.b,{to:"/ui/administration/groupofmetricprofiles"},"Groups of metric profiles")),n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"groupofthresholdsprofiles"})," ",n.a.createElement(P.b,{to:"/ui/administration/groupofthresholdsprofiles"},"Groups of thresholds profiles")),n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"users"})," ",n.a.createElement(P.b,{to:"/ui/administration/users"},"Users")))),n.a.createElement(u.a,null,n.a.createElement(m.a,{className:"mt-2 p-2 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Available data"),n.a.createElement(d.a,null,n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"metrics"})," ",n.a.createElement(P.b,{to:"/ui/administration/metrictemplates"},"Metric templates")),n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"yumrepos"})," ",n.a.createElement(P.b,{to:"/ui/administration/yumrepos"},"YUM repos")))),n.a.createElement(u.a,null,n.a.createElement(m.a,{className:"mt-2 p-2 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"API key permissions"),n.a.createElement(d.a,null,n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"apikey"})," ",n.a.createElement(P.b,{to:"/ui/administration/apikey"},"API keys")))))},rt=function(e){return n.a.createElement(E.c,{className:"ml-2 mb-2 mt-2"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Administration"),n.a.createElement(u.a,{className:"mb-2 pb-1 pt-1"},n.a.createElement(m.a,{className:"sm-5 p-2 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Poem"),n.a.createElement(d.a,null,n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"probes"})," ",n.a.createElement(P.b,{className:"pl-1",to:"/ui/probes"},"Probes")),n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"metrictemplates"})," ",n.a.createElement(P.b,{className:"pl-1",to:"/ui/metrictemplates"},"Metric templates")),n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"yumrepos"})," ",n.a.createElement(P.b,{className:"pl-1",to:"/ui/yumrepos"},"YUM repos")),n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"packages"})," ",n.a.createElement(P.b,{className:"pl-1",to:"/ui/packages"},"Packages")))),n.a.createElement(u.a,{className:"mb-2"},n.a.createElement(m.a,{className:"mt-2 p-2 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Authentication and authorization"),n.a.createElement(d.a,null,n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"users"})," ",n.a.createElement(P.b,{to:"/ui/administration/users"},"Users")))))};function nt(e){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ot(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function it(e,t){return!t||"object"!==nt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lt(e){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ct(e,t){return(ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var st=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),it(this,lt(t).apply(this,arguments))}var a,r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ct(e,t)}(t,e),a=t,(r=[{key:"componentDidUpdate",value:function(e){e.formik!==this.props.formik&&this.props.onChange(this.props.formik,e.formik)}},{key:"render",value:function(){return null}}])&&ot(a.prototype,r),n&&ot(a,n),t}(r.Component),ut=Object(E.e)(st);a("R9sY"),a("lrsP");function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ft(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _t(e,t,a){return t&&ft(e.prototype,t),a&&ft(e,a),e}function ht(e,t){return!t||"object"!==mt(t)&&"function"!=typeof t?Et(e):t}function gt(e){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Et(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bt(e,t)}function bt(e,t){return(bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yt(){return(yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Mt(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Ot=Object(y.j)("aggregationprofile");function Dt(e,t){return-1!==e.toLowerCase().indexOf(t.toLowerCase())}function wt(e,t){return e?[t].concat(Mt(e)):[t]}var St=function(e){var t=e.name,a=e.form,r=e.list_services,o=e.list_operations,i=e.last_service_operation,l=e.write_perm;return n.a.createElement(c.a,{className:"groups"},a.values[t].map((function(e,c){return n.a.createElement(E.b,{key:c,name:"groups",render:function(s){return n.a.createElement(At,yt({},s,{key:c,operation:e.operation,services:e.services,list_services:r,list_operations:o,last_service_operation:i,write_perm:l,groupindex:c,isnew:e.isNew,last:c===a.values[t].length-1}))}})})))},At=function(e){var t=e.operation,a=e.services,r=e.list_operations,o=e.list_services,i=e.last_service_operation,l=e.write_perm,p=e.form,f=e.groupindex,_=e.remove,v=e.insert,b=e.isnew;return e.last?n.a.createElement(s.a,{sm:{size:12},md:{size:6},className:"mt-4 mb-2 d-flex justify-content-center align-items-center"},n.a.createElement(h.a,{outline:!0,color:"secondary",size:"lg",disabled:!l,onClick:function(){return l&&v(f,{name:"",operation:"",isNew:!0,services:[{name:"",operation:""}]})}},"Add new group")):n.a.createElement(n.a.Fragment,{key:f},n.a.createElement(s.a,{sm:{size:8},md:{size:5},className:"mt-4 mb-2"},n.a.createElement(u.a,{className:b?"border-success":""},n.a.createElement(m.a,{className:"p-1",color:"primary"},n.a.createElement(c.a,{className:"d-flex align-items-center no-gutters"},n.a.createElement(s.a,{sm:{size:10},md:{size:11}},n.a.createElement(E.a,{name:"groups.".concat(f,".name"),placeholder:"Name of service group",required:!0,className:"form-control"})),n.a.createElement(s.a,{sm:{size:2},md:{size:1},className:"pl-1"},n.a.createElement(h.a,{size:"sm",color:"danger",type:"button",onClick:function(){return l&&_(f)}},n.a.createElement(j.a,{icon:L.s}))))),n.a.createElement(d.a,{className:"p-1"},n.a.createElement(E.b,{name:"groups.".concat(f),render:function(e){return n.a.createElement(kt,{list_services:o,list_operations:r,last_service_operation:i,services:a,groupindex:f,groupoperation:t,groupnew:b,form:p})}})),n.a.createElement(g.a,{className:"p-1 d-flex justify-content-center"},n.a.createElement(y.f,{field:{name:"operation",value:t},data:r,prefix:"groups.".concat(f),class_name:"custom-select col-2"})))),n.a.createElement(s.a,{sm:{size:4},md:{size:1},className:"mt-5"},n.a.createElement("div",{className:"group-operation",key:f},n.a.createElement(y.f,{field:{name:"profile_operation",value:p.values.profile_operation},data:r}))))},kt=function(e){var t=e.services,a=e.list_services,r=void 0===a?[]:a,o=e.list_operations,i=void 0===o?[]:o,l=e.last_service_operation,c=e.groupindex,s=e.groupnew,u=void 0!==s&&s,m=e.form;return t.map((function(e,a){return n.a.createElement(E.b,{key:a,name:"groups.".concat(c,".services"),render:function(o){return n.a.createElement(Pt,yt({},o,{key:a,service:e,operation:e.operation,list_services:r,list_operations:i,last_service_operation:l,groupindex:c,groupnew:u,index:a,last:a===t.length-1,form:m,isnew:e.isnew,ismissing:-1===r.indexOf(e.name)}))}})}))},Pt=function(e){e.name;var t=e.service,a=e.operation,r=e.list_services,o=e.list_operations,i=e.last_service_operation,l=e.groupindex,u=e.groupnew,m=e.index,d=e.remove,p=e.insert,f=e.form,_=e.isnew,g=e.ismissing;return n.a.createElement(c.a,{className:"d-flex align-items-center service pt-1 pb-1 no-gutters",key:m},n.a.createElement(s.a,{md:8},n.a.createElement(N.a,{inputProps:{className:'"form-control custom-select " '.concat(_&&!u?"border-success":""," ").concat(g?"border-danger":"")},getItemValue:function(e){return e},items:r,value:t.name,renderItem:function(e,t){return n.a.createElement("div",{key:r.indexOf(e),className:"aggregation-autocomplete-entries ".concat(t?"aggregation-autocomplete-entries-highlighted":"")},e?n.a.createElement(y.k,{i:"serviceflavour"}):""," ",e)},onChange:function(e){return f.setFieldValue("groups.".concat(l,".services.").concat(m,".name"),e.target.value)},onSelect:function(e){f.setFieldValue("groups.".concat(l,".services.").concat(m,".name"),e)},wrapperStyle:{},shouldItemRender:Dt,renderMenu:function(e){return n.a.createElement("div",{className:"aggregation-autocomplete-menu",children:e})}})),n.a.createElement(s.a,{md:2},n.a.createElement("div",{className:"input-group"},n.a.createElement(y.f,{field:{name:"operation",value:a},data:o,prefix:"groups.".concat(l,".services.").concat(m),class_name:"custom-select service-operation",isnew:_&&!u}))),n.a.createElement(s.a,{md:2,className:"pl-2"},n.a.createElement(h.a,{size:"sm",color:"light",type:"button",onClick:function(){return d(m)}},n.a.createElement(j.a,{icon:L.s})),n.a.createElement(h.a,{size:"sm",color:"light",type:"button",onClick:function(){return p(m+1,{name:"",operation:i(m,f.values.groups[l].services),isnew:!0})}},n.a.createElement(j.a,{icon:L.l}))))},It=function(e){var t=e.values,a=e.errors,r=e.historyview,o=void 0!==r&&r,i=e.write_perm,l=void 0!==i&&i,u=e.list_user_groups,m=e.logic_operations,d=e.endpoint_groups,f=e.list_id_metric_profiles;return n.a.createElement(n.a.Fragment,null,n.a.createElement(y.p,{values:t,errors:a,fieldsdisable:o,grouplist:o?void 0:l?u:[t.groupname].concat(Mt(u)),profiletype:"aggregation"}),n.a.createElement("h4",{className:"mt-4 alert-info p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Operations and group"),n.a.createElement(c.a,{className:"mt-4"},n.a.createElement(s.a,{md:4},n.a.createElement(p.a,null,n.a.createElement(c.a,null,n.a.createElement(s.a,{md:8},n.a.createElement(le.a,null,n.a.createElement(ce.a,{addonType:"prepend"},"Metric operation"),o?n.a.createElement(E.a,{name:"metric_operation",className:"form-control",disabled:!0}):n.a.createElement(E.a,{name:"metric_operation",component:y.f,data:wt(m,""),required:!0,class_name:"custom-select"})))),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:12},n.a.createElement(se.a,null,"Logical operation that will be applied between metrics of each service flavour"))))),n.a.createElement(s.a,{md:4},n.a.createElement(p.a,null,n.a.createElement(c.a,null,n.a.createElement(s.a,{md:8},n.a.createElement(le.a,null,n.a.createElement(ce.a,{addonType:"prepend"},"Aggregation operation"),o?n.a.createElement(E.a,{name:"profile_operation",className:"form-control",disabled:!0}):n.a.createElement(E.a,{name:"profile_operation",component:y.f,data:wt(m,""),required:!0,class_name:"custom-select"})))),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:12},n.a.createElement(se.a,null,"Logical operation that will be applied between defined service flavour groups"))))),n.a.createElement(s.a,{md:4},n.a.createElement(p.a,null,n.a.createElement(c.a,null,n.a.createElement(s.a,{md:8},n.a.createElement(le.a,null,n.a.createElement(ce.a,{addonType:"prepend"},"Endpoint group"),o?n.a.createElement(E.a,{name:"endpoint_group",className:"form-control",disabled:!0}):n.a.createElement(E.a,{name:"endpoint_group",component:y.f,data:wt(d,""),required:!0,class_name:"custom-select"}))))))),n.a.createElement("h4",{className:"mt-4 alert-info p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Metric profile"),n.a.createElement(c.a,{className:"mt-4"},n.a.createElement(s.a,{md:6},n.a.createElement(p.a,null,n.a.createElement(le.a,null,n.a.createElement(ce.a,{addonType:"prepend"},"Metric profile"),o?n.a.createElement(E.a,{name:"metric_profile",className:"form-control",disabled:!0}):n.a.createElement(E.a,{name:"metric_profile",component:y.f,data:wt(f.map((function(e){return e.name})),""),required:!0,class_name:"custom-select"})),n.a.createElement(se.a,null,"Metric profile associated to Aggregation profile. Service flavours defined in service flavour groups originate from selected metric profile.")))),n.a.createElement("h4",{className:"mt-2 alert-info p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Service flavour groups"))},Ct=function(e){function t(e){var a;return pt(this,t),(a=ht(this,gt(t).call(this,e))).tenant_name=e.tenant_name,a.token=e.webapitoken,a.webapiaggregation=e.webapiaggregation,a.webapimetric=e.webapimetric,a.profile_name=e.match.params.name,a.addview=e.addview,a.history=e.history,a.location=e.location,a.state={aggregation_profile:{},groupname:void 0,list_user_groups:[],write_perm:!1,list_id_metric_profiles:[],list_services:[],list_complete_metric_profiles:{},areYouSureModal:!1,loading:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},a.backend=new I.a,a.webapi=new I.b({token:e.webapitoken,metricProfiles:e.webapimetric,aggregationProfiles:e.webapiaggregation}),a.extractListOfMetricsProfiles=a.extractListOfMetricsProfiles.bind(Et(a)),a.toggleAreYouSure=a.toggleAreYouSure.bind(Et(a)),a.doChange=a.doChange.bind(Et(a)),a.doDelete=a.doDelete.bind(Et(a)),a.toggleAreYouSureSetModal=a.toggleAreYouSureSetModal.bind(Et(a)),a.onSubmitHandle=a.onSubmitHandle.bind(Et(a)),a.logic_operations=["OR","AND"],a.endpoint_groups=["servicegroups","sites"],a}return vt(t,e),_t(t,[{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"extractListOfServices",value:function(e,t){return t.filter((function(t){return t.name===e.name}))[0].services.map((function(e){return e.service}))}},{key:"extractListOfMetricsProfiles",value:function(e){var t=[];return e.forEach((function(e){var a=t.length,r=e.name,n=e.id;t[a]={name:r,id:n},a+=1})),t}},{key:"insertEmptyServiceForNoServices",value:function(e){return e.forEach((function(e){0===e.services.length&&e.services.push({name:"",operation:""})})),e}},{key:"insertOperationFromPrevious",value:function(e,t){return t.length?t[t.length-1].operation:""}},{key:"onSubmitHandle",value:function(e,t){var a=this,r=void 0,n=void 0;this.addview?(r="Are you sure you want to add Aggregation profile?",n="Add aggregation profile"):(r="Are you sure you want to change Aggregation profile?",n="Change aggregation profile"),this.toggleAreYouSureSetModal(r,n,(function(){return a.doChange(e,t)}))}},{key:"doChange",value:function(e,t){var a=this,r=JSON.parse(JSON.stringify(e));this.removeDummyGroup(r),r.namespace=this.tenant_name;var n=this.state.list_id_metric_profiles.filter((function(e){return r.metric_profile===e.name}));r.metric_profile=n[0],this.addview?this.webapi.addAggregation(r).then((function(t){t.ok?t.json().then((function(t){a.backend.addObject("/api/v2/internal/aggregations/",{apiid:t.data.id,name:r.name,groupname:r.groupname,endpoint_group:r.endpoint_group,metric_operation:r.metric_operation,profile_operation:r.profile_operation,metric_profile:e.metric_profile,groups:JSON.stringify(r.groups)}).then((function(){return Object(y.o)({msg:"Aggregation profile successfully added",title:"Added",callback:function(){return a.history.push("/ui/aggregationprofiles")}})})).catch((function(e){return alert("Something went wrong: "+e)}))})).catch((function(e){return alert("Something went wrong: "+e)})):a.toggleAreYouSureSetModal("Error: ".concat(t.status,", ").concat(t.statusText),"Error adding aggregation profile",void 0)})).catch((function(e){return alert("Something went wrong: "+e)})):this.webapi.changeAggregation(r).then((function(t){t.ok?t.json().then((function(t){a.backend.changeObject("/api/v2/internal/aggregations/",{apiid:r.id,name:r.name,groupname:r.groupname,endpoint_group:r.endpoint_group,metric_operation:r.metric_operation,profile_operation:r.profile_operation,metric_profile:e.metric_profile,groups:JSON.stringify(r.groups)}).then((function(){return Object(y.o)({msg:"Aggregation profile succesfully changed",title:"Changed",callback:function(){return a.history.push("/ui/aggregationprofiles")}})})).catch((function(e){return alert("Something went wrong: "+e)}))})).catch((function(e){return alert("Something went wrong: "+e)})):a.toggleAreYouSureSetModal("Error: ".concat(t.status,", ").concat(t.statusText),"Error changing aggregation profile",void 0)})).catch((function(e){return alert("Something went wrong: "+e)}))}},{key:"doDelete",value:function(e){var t=this;this.webapi.deleteAggregation(e).then((function(a){a.ok?a.json().then(t.backend.deleteObject("/api/v2/internal/aggregations/".concat(e))).then((function(){return Object(y.o)({msg:"Aggregation profile sucessfully deleted",title:"Deleted",callback:function(){return t.history.push("/ui/aggregationprofiles")}})})):alert("Error: ".concat(a.status,", ").concat(a.statusText))})).catch((function(e){return alert("Something went wrong: "+e)}))}},{key:"insertDummyGroup",value:function(e){return[].concat(Mt(e),[{name:"dummy",operation:"OR",services:[{name:"dummy",operation:"OR"}]}])}},{key:"removeDummyGroup",value:function(e){var t=e.groups[e.groups.length-1];"dummy"==t.name&&"dummy"==t.services[0].name&&e.groups.pop()}},{key:"checkIfServiceMissingInMetricProfile",value:function(e,t){var a=new Set(e),r=!1;return t.forEach((function(e){var t=!0,n=!1,o=void 0;try{for(var i,l=e.services[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){var c=i.value;if(!a.has(c.name)){r=!0;break}}}catch(e){n=!0,o=e}finally{try{t||null==l.return||l.return()}finally{if(n)throw o}}})),r}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),Promise.all([this.webapi.fetchMetricProfiles(),this.backend.fetchData("/api/v2/internal/groups/aggregations")]).then((function(t){var a=dt(t,2),r=a[0],n=a[1];if(e.addview){e.setState({aggregation_profile:{id:"",name:"",metric_operation:"",profile_operation:"",endpoint_group:"",metric_profile:{name:""},groups:[]},groupname:"",list_user_groups:n,write_perm:"true"===localStorage.getItem("authIsSuperuser")||n.length>0,list_id_metric_profiles:e.extractListOfMetricsProfiles(r),list_complete_metric_profiles:r,list_services:[],loading:!1})}else e.backend.fetchData("/api/v2/internal/aggregations/".concat(e.profile_name)).then((function(t){return e.webapi.fetchAggregationProfile(t.apiid).then((function(t){return e.backend.fetchData("/api/v2/internal/aggregations/".concat(t.name)).then((function(a){return e.setState({aggregation_profile:t,groupname:a.groupname,list_user_groups:n,write_perm:"true"===localStorage.getItem("authIsSuperuser")||n.indexOf(group)>=0,list_id_metric_profiles:e.extractListOfMetricsProfiles(r),list_services:e.extractListOfServices(t.metric_profile,r),list_complete_metric_profiles:r,loading:!1})}))}))}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.aggregation_profile,r=t.list_id_metric_profiles,o=t.list_complete_metric_profiles,i=t.list_user_groups,l=t.groupname,c=t.list_services,s=t.write_perm,u=t.loading;if(u)return n.a.createElement(y.l,null);if(!u&&a&&a.metric_profile&&i&&this.token){var m=this.checkIfServiceMissingInMetricProfile(c,a.groups);return n.a.createElement(y.b,{resourcename:"aggregation profile",location:this.location,addview:this.addview,modal:!0,state:this.state,toggle:this.toggleAreYouSure,submitperm:s},n.a.createElement(E.d,{initialValues:{id:a.id,name:a.name,groupname:l,metric_operation:a.metric_operation,profile_operation:a.profile_operation,metric_profile:a.metric_profile.name,endpoint_group:a.endpoint_group,groups:this.insertDummyGroup(this.insertEmptyServiceForNoServices(a.groups))},onSubmit:function(t,a){return e.onSubmitHandle(t,a)},render:function(t){return n.a.createElement(E.c,null,n.a.createElement(ut,{onChange:function(t,a){if(t.values.metric_profile!==a.values.metric_profile){var r={name:t.values.metric_profile};e.setState({list_services:e.extractListOfServices(r,o)})}}}),m&&n.a.createElement(_.a,{color:"danger"},n.a.createElement("center",null,n.a.createElement(j.a,{icon:L.i,size:"lg",color:"black"}),"   Some Service Flavours used in Aggregation profile are not presented in associated Metric profile meaning that two profiles are out of sync. Check below for Service Flavours in red borders.")),n.a.createElement(It,yt({},t,{list_user_groups:i,logic_operations:e.logic_operations,endpoint_groups:e.endpoint_groups,list_id_metric_profiles:r})),n.a.createElement(E.b,{name:"groups",render:function(t){return n.a.createElement(St,yt({},t,{list_services:wt(c,""),list_operations:wt(e.logic_operations,""),last_service_operation:e.insertOperationFromPrevious,write_perm:s}))}}),s&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},n.a.createElement(h.a,{color:"danger",onClick:function(){e.toggleAreYouSureSetModal("Are you sure you want to delete Aggregation profile?","Delete aggregation profile",(function(){return e.doDelete(t.values.id)}))}},"Delete"),n.a.createElement(h.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}}))}return null}}]),t}(r.Component),Nt=function(e){function t(e){var a;return pt(this,t),(a=ht(this,gt(t).call(this,e))).state={loading:!1,list_aggregations:null},a.location=e.location,a.backend=new I.a,a}return vt(t,e),_t(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/aggregations").then((function(t){return e.setState({list_aggregations:t,loading:!1})}))}},{key:"render",value:function(){var e=[{Header:"Name",id:"name",accessor:function(e){return n.a.createElement(P.b,{to:"/ui/aggregationprofiles/"+e.name},e.name)}},{Header:"Group",accessor:"groupname",maxWidth:150}],t=this.state,a=t.loading,r=t.list_aggregations;return a?n.a.createElement(y.l,null):!a&&r?n.a.createElement(y.b,{resourcename:"aggregation profile",location:this.location,listview:!0},n.a.createElement(T.a,{data:r,columns:e,className:"-striped -highlight",defaultPageSize:12})):null}}]),t}(r.Component),Tt=function(e){for(var t=e.title,a=e.item1,r=e.item2,o=[],i=[],l=0;l<a.length;l++){for(var c=[],s=0;s<a[l].services.length;s++)c.push("{name: ".concat(a[l].services[s].name,", operation: ").concat(a[l].services[s].operation,"}"));o.push("name: ".concat(a[l].name,",\noperation: ").concat(a[l].operation,",\nservices: [\n").concat(c.join("\n"),"\n]"))}for(var u=0;u<r.length;u++){for(var m=[],d=0;d<r[u].services.length;d++)m.push("{name: ".concat(r[u].services[d].name,", operation: ").concat(r[u].services[d].operation,"}"));i.push("name: ".concat(r[u].name,",\noperation: ").concat(r[u].operation,",\nservices: [\n").concat(m.join("\n"),"\n]"))}return n.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},n.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},t),n.a.createElement(U.a,{oldValue:i.join("\n"),newValue:o.join("\n"),showDiffOnly:!0,splitView:!0,hideLineNumbers:!0}))},jt=function(e){function t(e){var a;return pt(this,t),(a=ht(this,gt(t).call(this,e))).version1=e.match.params.id1,a.version2=e.match.params.id2,a.name=e.match.params.name,a.state={loading:!1,name1:"",groupname1:"",metric_operation1:"",profile_operation1:"",endpoint_group1:"",metric_profile1:"",groups1:[],name2:"",groupname2:"",metric_operation2:"",profile_operation2:"",endpoint_group2:"",metric_profile2:"",groups2:[]},a.backend=new I.a,a}return vt(t,e),_t(t,[{key:"componentDidMount",value:function(){var e=this;this.backend.fetchData("/api/v2/internal/tenantversion/aggregationprofile/".concat(this.name)).then((function(t){var a="",r="",n="",o="",i="",l="",c=[],s="",u="",m="",d="",p="",f="",_=[];t.forEach((function(t){t.version==e.version1?(a=t.fields.name,r=t.fields.groupname,n=t.fields.metric_operation,o=t.fields.profile_operation,i=t.fields.endpoint_group,l=t.fields.metric_profile,c=t.fields.groups):t.version==e.version2&&(s=t.fields.name,u=t.fields.groupname,m=t.fields.metric_operation,d=t.fields.profile_operation,p=t.fields.endpoint_group,f=t.fields.metric_profile,_=t.fields.groups)})),e.setState({name1:a,groupname1:r,metric_operation1:n,profile_operation1:o,endpoint_group1:i,metric_profile1:l,groups1:c,name2:s,groupname2:u,metric_operation2:m,profile_operation2:d,endpoint_group2:p,metric_profile2:f,groups2:_,loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.name1,a=e.name2,r=e.groupname1,o=e.groupname2,i=e.metric_operation1,l=e.metric_operation2,c=e.profile_operation1,s=e.profile_operation2,u=e.endpoint_group1,m=e.endpoint_group2,d=e.metric_profile1,p=e.metric_profile2,f=e.groups1,_=e.groups2,h=e.loading;return h?n.a.createElement(y.l,null):!h&&t&&a?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Compare ".concat(this.name," versions"))),t!==a&&n.a.createElement(y.e,{title:"name",item1:t,item2:a}),r!==o&&n.a.createElement(y.e,{title:"group name",item1:r,item2:o}),i!==l&&n.a.createElement(y.e,{title:"metric operation",item1:i,item2:l}),c!==s&&n.a.createElement(y.e,{title:"aggregation operation",item1:c,item2:s}),u!==m&&n.a.createElement(y.e,{title:"endpoint group",item1:u,item2:m}),d!==p&&n.a.createElement(y.e,{title:"metric profile",item1:d,item2:p}),f!==_&&n.a.createElement(Tt,{title:"groups",item1:f,item2:_})):null}}]),t}(r.Component),Lt=function(e){function t(e){var a;return pt(this,t),(a=ht(this,gt(t).call(this,e))).name=e.match.params.name,a.version=e.match.params.version,a.backend=new I.a,a.state={name:"",groupname:"",metric_operation:"",profile_operation:"",endpoint_group:"",metric_profile:"",groups:[],date_created:"",loading:!1},a}return vt(t,e),_t(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/tenantversion/aggregationprofile/".concat(this.name)).then((function(t){t.forEach((function(t){t.version==e.version&&e.setState({name:t.fields.name,groupname:t.fields.groupname,metric_operation:t.fields.metric_operation,profile_operation:t.fields.profile_operation,endpoint_group:t.fields.endpoint_group,metric_profile:t.fields.metric_profile,groups:t.fields.groups,date_created:t.date_created,loading:!1})}))}))}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.groupname,r=e.metric_operation,o=e.profile_operation,i=e.endpoint_group,l=e.metric_profile,p=e.groups,f=e.date_created,_=e.loading;return _?n.a.createElement(y.l,null):!_&&t?n.a.createElement(y.b,{resourcename:"".concat(t," (").concat(f,")"),infoview:!0},n.a.createElement(E.d,{initialValues:{name:t,groupname:a,metric_operation:r,profile_operation:o,endpoint_group:i,metric_profile:l,groups:p},render:function(e){return n.a.createElement(E.c,null,n.a.createElement(It,yt({},e,{historyview:!0})),n.a.createElement(E.b,{name:"groups",render:function(t){return n.a.createElement(c.a,{className:"groups"},e.values.groups.map((function(t,a){return n.a.createElement(E.b,{key:a,name:"groups",render:function(r){return n.a.createElement(n.a.Fragment,{key:a},n.a.createElement(s.a,{sm:{size:8},md:{size:5},className:"mt-4 mb-2"},n.a.createElement(u.a,null,n.a.createElement(m.a,{className:"p-1",color:"primary"},n.a.createElement(c.a,{className:"d-flex align-items-center no-gutters"},n.a.createElement(s.a,{sm:{size:10},md:{size:11}},p[a].name))),n.a.createElement(d.a,{className:"p-1"},t.services.map((function(e,t){return n.a.createElement(E.b,{key:t,name:"groups.".concat(a,".services"),render:function(e){return n.a.createElement(c.a,{className:"d-flex align-items-center service pt-1 pb-1 no-gutters",key:t},n.a.createElement(s.a,{md:8},p[a].services[t].name),n.a.createElement(s.a,{md:2},p[a].services[t].operation))}})}))),n.a.createElement(g.a,{className:"p-1 d-flex justify-content-center"},p[a].operation))),n.a.createElement(s.a,{sm:{size:4},md:{size:1},className:"mt-5"},n.a.createElement("div",{className:"group-operation",key:a},e.values.profile_operation)))}})})))}}))}})):null}}]),t}(r.Component),xt=function(e){return n.a.createElement("div",null,'"I\'m Reports"')};a("b4bE");function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wt(e,t){return!t||"object"!==Ut(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bt(e){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kt(e,t){return(Kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var zt=function(e){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=Wt(this,Bt(t).call(this,e))).state={loading:!1,rows:null,rowspan:null},a.backend=new I.a,a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kt(e,t)}(t,e),a=t,(r=[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/services").then((function(t){return e.setState({rows:t.result.rows,rowspan:t.result.rowspan,loading:!1})}))}},{key:"getRowSpan",value:function(e,t){var a=e.filter((function(e){return e[0]===t}));return a.length?a[0][1]:1}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,r=t.rows,o=t.rowspan;return a?n.a.createElement(y.l,null):!a&&r?n.a.createElement(y.b,{resourcename:"Services and probes",infoview:!0},n.a.createElement("table",{className:"table table-bordered table-sm"},n.a.createElement("thead",{className:"table-active"},n.a.createElement("tr",null,n.a.createElement("th",{id:"argo-th",scope:"col"},"Service category"),n.a.createElement("th",{id:"argo-th",scope:"col"},"Service name"),n.a.createElement("th",{id:"argo-th",scope:"col"},n.a.createElement(y.k,{i:"serviceflavour"})," Service type"),n.a.createElement("th",{id:"argo-th",scope:"col"},n.a.createElement(y.k,{i:"metrics"})," Metric"),n.a.createElement("th",{id:"argo-th",scope:"col"},n.a.createElement(y.k,{i:"probes"})," Probe"))),n.a.createElement("tbody",null,r.map((function(t,a){return n.a.createElement("tr",{key:a},t.service_category&&n.a.createElement("td",{id:"argo-td",className:"table-light",rowSpan:e.getRowSpan(o.service_category,t.service_category)},t.service_category),t.service_name&&n.a.createElement("td",{id:"argo-td",className:"table-light",rowSpan:e.getRowSpan(o.service_name,t.service_name)},t.service_name),t.service_type&&n.a.createElement("td",{id:"argo-td",className:"table-light",rowSpan:e.getRowSpan(o.service_type,t.service_type)},n.a.createElement(y.k,{i:"serviceflavour"})," ",t.service_type),t.metric&&n.a.createElement("td",{id:"argo-td",className:"table-light",rowSpan:e.getRowSpan(o.metric,t.metric)},n.a.createElement(y.k,{i:"metrics"})," ",n.a.createElement(P.b,{to:"/ui/metrics/"+t.metric},t.metric)),t.probe&&n.a.createElement("td",{id:"argo-td",className:"table-light",rowSpan:e.getRowSpan(o.probe,t.probe)},n.a.createElement(y.k,{i:"probes"})," ",n.a.createElement(je.i,{probeversion:t.probe})))}))))):null}}])&&Rt(a.prototype,r),o&&Rt(a,o),t}(r.Component);a("QjdQ");function Yt(e){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qt(){return(Qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ht(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qt(e,t,a){return t&&Ht(e.prototype,t),a&&Ht(e,a),e}function Gt(e,t){return!t||"object"!==Yt(t)&&"function"!=typeof t?Zt(e):t}function Zt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jt(e){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$t(e,t)}function $t(e,t){return($t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ea=me.object().shape({username:me.string().max(30,"Username must be 30 characters or fewer.").matches(/^[A-Za-z0-9@.+\-_]*$/,"Letters, numbers and @/./+/-/_ characters").required("Required"),addview:me.boolean(),password:me.string().when("addview",{is:!0,then:me.string().required("Required").min(8,"Your password must contain at least 8 characters.").matches(/^\d*[a-zA-Z][a-zA-Z\d]*$/,"Your password cannot be entirely numeric.")}),confirm_password:me.string().when("addview",{is:!0,then:me.string().required("Required").oneOf([me.ref("password"),null],"Passwords do not match!")}),email:me.string().email("Enter valid email.").required("Required")}),ta=oa(!0),aa=oa(),ra=function(e){var t=e.add,a=e.errors;return n.a.createElement(n.a.Fragment,null,t?n.a.createElement(p.a,null,n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(le.a,null,n.a.createElement(ce.a,{addonType:"prepend"},"Username"),n.a.createElement(E.a,{type:"text",name:"username",className:"form-control ".concat(a.username&&"border-danger"),id:"userUsername"})),a.username&&Object(y.h)(a.username))),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(le.a,null,n.a.createElement(ce.a,{addonType:"prepend"},"Password"),n.a.createElement(E.a,{type:"password",name:"password",className:"form-control ".concat(a.password&&"border-danger"),id:"password"})),a.password&&Object(y.h)(a.password))),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(le.a,null,n.a.createElement(ce.a,{addonType:"prepend"},"Confirm password"),n.a.createElement(E.a,{type:"password",name:"confirm_password",className:"form-control ".concat(a.confirm_password&&"border-danger"),id:"confirm_password"})),a.confirm_password&&Object(y.h)(a.confirm_password)))):n.a.createElement(p.a,null,n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(le.a,null,n.a.createElement(ce.a,{addonType:"prepend"},"Username"),n.a.createElement(E.a,{type:"text",name:"username",className:"form-control",id:"userUsername"})),a.username&&Object(y.h)(a.username)))),n.a.createElement(p.a,null,n.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Personal info"),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(le.a,null,n.a.createElement(ce.a,{addonType:"prepend"},"First name"),n.a.createElement(E.a,{type:"text",name:"first_name",className:"form-control",id:"userFirstName"})))),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(le.a,null,n.a.createElement(ce.a,{addonType:"prepend"},"Last name"),n.a.createElement(E.a,{type:"text",name:"last_name",className:"form-control",id:"userLastName"})))),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(le.a,null,n.a.createElement(ce.a,{addonType:"prepend"},"Email"),n.a.createElement(E.a,{type:"text",name:"email",className:"form-control ".concat(a.email&&"border-danger"),id:"userEmail"})),a.email&&Object(y.h)(a.email)))),n.a.createElement(p.a,null,n.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Permissions"),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(E.a,{component:y.c,name:"is_superuser",className:"form-control",id:"checkbox",label:"Superuser status"}),n.a.createElement(se.a,{color:"muted"},"Designates that this user has all permissions without explicitly assigning them."))),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(E.a,{component:y.c,name:"is_staff",className:"form-control",id:"checkbox",label:"Staff status"}),n.a.createElement(se.a,{color:"muted"},"Designates whether the user can log into this admin site."))),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(E.a,{component:y.c,name:"is_active",className:"form-control",id:"checkbox",label:"Active"}),n.a.createElement(se.a,{color:"muted"},"Designates whether this user should be treated as active. Unselect this instead of deleting accounts.")))))},na=function(e){function t(e){var a;return Vt(this,t),(a=Gt(this,Jt(t).call(this,e))).state={loading:!1,list_users:null},a.location=e.location,a.backend=new I.a,a}return Xt(t,e),qt(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/users").then((function(t){return e.setState({list_users:t,loading:!1})}))}},{key:"render",value:function(){var e=[{Header:"Username",id:"username",accessor:function(e){return n.a.createElement(P.b,{to:"/ui/administration/users/"+e.username},e.username)}},{Header:"First name",accessor:"first_name",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)}},{Header:"Last name",accessor:"last_name",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)}},{Header:"Email address",accessor:"email",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)}},{id:"is_superuser",Header:"Superuser status",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)},accessor:function(e){return e.is_superuser?n.a.createElement(j.a,{icon:L.c,style:{color:"#339900"}}):n.a.createElement(j.a,{icon:L.t,style:{color:"#CC0000"}})}},{Header:"Staff status",id:"is_staff",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)},accessor:function(e){return e.is_staff?n.a.createElement(j.a,{icon:L.c,style:{color:"#339900"}}):n.a.createElement(j.a,{icon:L.t,style:{color:"#CC0000"}})}}],t=this.state,a=t.loading,r=t.list_users;return a?n.a.createElement(y.l,null):!a&&r?n.a.createElement(y.b,{resourcename:"users",location:this.location,listview:!0},n.a.createElement(T.a,{data:r,columns:e,className:"-striped -highlight",defaultPageSize:20})):null}}]),t}(r.Component);function oa(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(function(t){function a(e){var t;return Vt(this,a),(t=Gt(this,Jt(a).call(this,e))).user_name=e.match.params.user_name,t.addview=e.addview,t.location=e.location,t.history=e.history,t.state={custuser:{pk:"",first_name:"",last_name:"",username:"",is_active:!0,is_superuser:!1,is_staff:!0,email:""},password:"",userprofile:{displayname:"",subject:"",egiid:""},usergroups:{aggregations:[],metrics:[],metricprofiles:[],thresholdsprofiles:[]},allgroups:{metrics:[],aggregations:[],metricprofiles:[],thresholdsprofiles:[]},write_perm:!1,loading:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},t.backend=new I.a,t.toggleAreYouSure=t.toggleAreYouSure.bind(Zt(t)),t.toggleAreYouSureSetModal=t.toggleAreYouSureSetModal.bind(Zt(t)),t.onSubmitHandle=t.onSubmitHandle.bind(Zt(t)),t.doChange=t.doChange.bind(Zt(t)),t.doDelete=t.doDelete.bind(Zt(t)),t}return Xt(a,t),qt(a,[{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSubmitHandle",value:function(e,t){var a=this,r=void 0,n=void 0;this.addview?(r="Are you sure you want to add user?",n="Add user"):(r="Are you sure you want to change user?",n="Change user"),this.toggleAreYouSureSetModal(r,n,(function(){return a.doChange(e,t)}))}},{key:"doChange",value:function(t,a){var r=this;this.addview?this.backend.addObject("/api/v2/internal/users/",{username:t.username,password:t.password,first_name:t.first_name,last_name:t.last_name,email:t.email,is_superuser:t.is_superuser,is_staff:t.is_staff,is_active:t.is_active}).then((function(a){a.ok?e?r.backend.addObject("/api/v2/internal/userprofile/",{username:t.username,displayname:t.displayname,subject:t.subject,egiid:t.egiid,groupsofaggregations:t.groupsofaggregations,groupsofmetrics:t.groupsofmetrics,groupsofmetricprofiles:t.groupsofmetricprofiles,groupsofthresholdsprofiles:t.groupsofthresholdsprofiles}).then((function(){return Object(y.o)({msg:"User successfully added",title:"Added",callback:function(){return r.history.push("/ui/administration/users")}})})):Object(y.o)({msg:"User successfully added",title:"Added",callback:function(){return r.history.push("/ui/administration/users")}}):a.json().then((function(e){ue.NotificationManager.error(e.detail,"Error")}))})):this.backend.changeObject("/api/v2/internal/users/",{pk:t.pk,username:t.username,first_name:t.first_name,last_name:t.last_name,email:t.email,is_superuser:t.is_superuser,is_staff:t.is_staff,is_active:t.is_active}).then((function(a){a.ok?e?r.backend.changeObject("/api/v2/internal/userprofile/",{username:t.username,displayname:t.displayname,subject:t.subject,egiid:t.egiid,groupsofaggregations:t.groupsofaggregations,groupsofmetrics:t.groupsofmetrics,groupsofmetricprofiles:t.groupsofmetricprofiles,groupsofthresholdsprofiles:t.groupsofthresholdsprofiles}).then((function(){return Object(y.o)({msg:"User successfully changed",title:"Changed",callback:function(){return r.history.push("/ui/administration/users")}})})):Object(y.o)({msg:"User successfully changed",title:"Changed",callback:function(){return r.history.push("/ui/administration/users")}}):a.json().then((function(e){ue.NotificationManager.error(e.detail,"Error")}))}))}},{key:"doDelete",value:function(e){var t=this;this.backend.deleteObject("/api/v2/internal/users/".concat(e)).then((function(){return Object(y.o)({msg:"User successfully deleted",title:"Deleted",callback:function(){return t.history.push("/ui/administration/users")}})}))}},{key:"componentDidMount",value:function(){var t=this;this.setState({loading:!0}),this.addview?e?this.backend.fetchResult("/api/v2/internal/usergroups").then((function(e){return t.setState({allgroups:e,write_perm:"true"===localStorage.getItem("authIsSuperuser"),loading:!1})})):this.setState({write_perm:"true"===localStorage.getItem("authIsSuperuser"),loading:!1}):e?Promise.all([this.backend.fetchData("/api/v2/internal/users/".concat(this.user_name)),this.backend.fetchData("/api/v2/internal/userprofile/".concat(this.user_name)),this.backend.fetchResult("/api/v2/internal/usergroups/".concat(this.user_name)),this.backend.fetchResult("/api/v2/internal/usergroups")]).then((function(e){var a=Ft(e,4),r=a[0],n=a[1],o=a[2],i=a[3];t.setState({custuser:r,userprofile:n,usergroups:o,allgroups:i,write_perm:"true"===localStorage.getItem("authIsSuperuser"),loading:!1})})):this.backend.fetchData("/api/v2/internal/users/".concat(this.user_name)).then((function(e){t.setState({custuser:e,write_perm:"true"===localStorage.getItem("authIsSuperuser"),loading:!1})}))}},{key:"render",value:function(){var t=this,a=this.state,r=a.custuser,o=a.userprofile,i=a.usergroups,l=a.allgroups,u=a.loading,m=a.write_perm;return u?n.a.createElement(y.l,null):u?void 0:n.a.createElement(y.b,{resourcename:"users",location:this.location,addview:this.addview,history:!1,modal:!0,state:this.state,toggle:this.toggleAreYouSure,submitperm:m},n.a.createElement(E.d,{initialValues:{addview:this.addview,pk:r.pk,first_name:r.first_name,last_name:r.last_name,username:r.username,password:"",confirm_password:"",is_active:r.is_active,is_superuser:r.is_superuser,is_staff:r.is_staff,email:r.email,groupsofaggregations:i.aggregations,groupsofmetrics:i.metrics,groupsofmetricprofiles:i.metricprofiles,groupsofthresholdsprofiles:i.thresholdsprofiles,displayname:o.displayname,subject:o.subject,egiid:o.egiid},validationSchema:ea,onSubmit:function(e,a){return t.onSubmitHandle(e,a)},render:function(a){return n.a.createElement(E.c,null,n.a.createElement(ra,Qt({},a,{add:t.addview})),e&&n.a.createElement(n.a.Fragment,null,n.a.createElement(p.a,null,n.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"POEM user permissions"),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(f.a,{for:"groupsofmetrics",className:"grouplabel"},"Groups of metrics"),n.a.createElement(E.a,{component:"select",name:"groupsofmetrics",id:"select-field",onChange:function(e){return a.setFieldValue("groupsofmetrics",[].slice.call(e.target.selectedOptions).map((function(e){return e.value})))},multiple:!0},l.metrics.map((function(e){return n.a.createElement("option",{key:e,value:e},e)}))),n.a.createElement(se.a,{color:"muted"},'The groups of metrics that user will control. Hold down "Control" or "Command" on a Mac to select more than one.'))),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(f.a,{for:"groupsofmetricprofiles",className:"grouplabel"},"Groups of metric profiles"),n.a.createElement(E.a,{component:"select",name:"groupsofmetricprofiles",id:"select-field",onChange:function(e){return a.setFieldValue("groupsofmetricprofiles",[].slice.call(e.target.selectedOptions).map((function(e){return e.value})))},multiple:!0},l.metricprofiles.map((function(e){return n.a.createElement("option",{key:e,value:e},e)}))),n.a.createElement(se.a,{color:"muted"},'The groups of metric profiles that user will control. Hold down "Control" or "Command" on a Mac to select more than one.'))),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(f.a,{for:"groupsofaggregations",className:"grouplabel"},"Groups of aggregations"),n.a.createElement(E.a,{component:"select",name:"groupsofaggregations",id:"select-field",onChange:function(e){return a.setFieldValue("groupsofaggregations",[].slice.call(e.target.selectedOptions).map((function(e){return e.value})))},multiple:!0},l.aggregations.map((function(e){return n.a.createElement("option",{key:e,value:e},e)}))),n.a.createElement(se.a,{color:"muted"},'The groups of aggregations that user will control. Hold down "Control" or "Command" on a Mac to select more than one.'))),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(f.a,{for:"groupsofthresholdsprofiles",className:"grouplabel"},"Groups of thresholds profiles"),n.a.createElement(E.a,{component:"select",name:"groupsofthresholdsprofiles",id:"select-field",onChange:function(e){return a.setFieldValue("groupsofthresholdsprofiles",[].slice.call(e.target.selectedOptions).map((function(e){return e.value})))},multiple:!0},l.thresholdsprofiles.map((function(e){return n.a.createElement("option",{key:e,value:e},e)}))),n.a.createElement(se.a,{color:"muted"},'The groups of thresholds profiles that user will control. Hold down "Control" or "Command" on a Mac to select more than one.')))),n.a.createElement(p.a,null,n.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Additional information"),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:12},n.a.createElement(le.a,null,n.a.createElement(ce.a,{addonType:"prepend"},"distinguishedName"),n.a.createElement(E.a,{type:"text",name:"subject",required:!1,className:"form-control",id:"distinguishedname"}))))),n.a.createElement(p.a,null,n.a.createElement(c.a,null,n.a.createElement(s.a,{md:8},n.a.createElement(le.a,null,n.a.createElement(ce.a,{addonType:"prepend"},"eduPersonUniqueId"),n.a.createElement(E.a,{type:"text",name:"egiid",required:!1,className:"form-control",id:"eduid"}))))),n.a.createElement(p.a,null,n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(le.a,null,n.a.createElement(ce.a,{addonType:"prepend"},"displayName"),n.a.createElement(E.a,{type:"text",name:"displayname",required:!1,className:"form-control",id:"displayname"})))))),m&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},t.addview?n.a.createElement("div",null):n.a.createElement(h.a,{color:"danger",onClick:function(){t.toggleAreYouSureSetModal("Are you sure you want to delete User?","Delete user",(function(){return t.doDelete(a.values.username)}))}},"Delete"),n.a.createElement(h.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}}))}}]),a}(r.Component))}var ia=a("csno");function la(e){return(la="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ca(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sa(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ua(e,t,a){return t&&sa(e.prototype,t),a&&sa(e,a),e}function ma(e,t){return!t||"object"!==la(t)&&"function"!=typeof t?da(e):t}function da(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pa(e){return(pa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fa(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_a(e,t)}function _a(e,t){return(_a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ha=Da("metrics","groupofmetrics","group of metrics"),ga=wa("metrics","groupofmetrics","metrics"),Ea=Da("aggregations","groupofaggregations","group of aggregations"),va=wa("aggregations","groupofaggregations","aggregations"),ba=Da("metricprofiles","groupofmetricprofiles","group of metric profiles"),ya=wa("metricprofiles","groupofmetricprofiles","metric profiles"),Ma=Da("thresholdsprofiles","groupofthresholdsprofiles","group of thresholds profiles"),Oa=wa("thresholdsprofiles","groupofthresholdsprofiles","thresholds profiles");function Da(e,t,a){return function(r){function o(e){var t;return ca(this,o),(t=ma(this,pa(o).call(this,e))).state={loading:!1,list_groups:null},t.location=e.location,t.backend=new I.a,t}return fa(o,r),ua(o,[{key:"componentDidMount",value:function(){var t=this;this.setState({loading:!0}),this.backend.fetchResult("/api/v2/internal/usergroups").then((function(a){return t.setState({list_groups:a[e],loading:!1})}))}},{key:"render",value:function(){var e=[{Header:a.charAt(0).toUpperCase()+a.slice(1),id:t,accessor:function(e){return n.a.createElement(P.b,{to:"/ui/administration/".concat(t,"/").concat(e)},e)}}],r=this.state,o=r.loading,i=r.list_groups;return o?n.a.createElement(y.l,null):!o&&i?n.a.createElement(y.b,{resourcename:a,location:this.location,listview:!0},n.a.createElement(T.a,{data:i,columns:e,className:"-striped -highlight",defaultPageSize:20})):null}}]),o}(r.Component)}function wa(e,t,a){return function(r){function o(e){var t;return ca(this,o),(t=ma(this,pa(o).call(this,e))).group=e.match.params.group,t.addview=e.addview,t.location=e.location,t.history=e.history,t.state={name:"",items:[],nogroupitems:[],write_perm:!1,loading:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},t.backend=new I.a,t.handleDeselect=t.handleDeselect.bind(da(t)),t.handleSelect=t.handleSelect.bind(da(t)),t.toggleAreYouSure=t.toggleAreYouSure.bind(da(t)),t.toggleAreYouSureSetModal=t.toggleAreYouSureSetModal.bind(da(t)),t.onSubmitHandle=t.onSubmitHandle.bind(da(t)),t.doChange=t.doChange.bind(da(t)),t.doDelete=t.doDelete.bind(da(t)),t}return fa(o,r),ua(o,[{key:"handleDeselect",value:function(e){var t=this.state.items.slice(),a=this.state.nogroupitems.slice();e.forEach((function(e){t.splice(t.indexOf(e),1)})),e.forEach((function(e){-1===a.indexOf(e)&&a.push(e)})),this.setState({items:t,nogroupitems:a})}},{key:"handleSelect",value:function(e){e.sort((function(e,t){return e.id-t.id})),this.setState({items:e})}},{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSubmitHandle",value:function(e,t){var r=this,n=void 0,o=void 0;this.addview?(n="Are you sure you want to add group of ".concat(a,"?"),o="Add group of ".concat(a)):(n="Are you sure you want to change group of ".concat(a,"?"),o="Change group of ".concat(a)),this.toggleAreYouSureSetModal(n,o,(function(){return r.doChange(e,t)}))}},{key:"doChange",value:function(r,n){var o=this,i=[];this.state.items.forEach((function(e){return i.push(e.name)})),this.addview?this.backend.addObject("/api/v2/internal/".concat(e,"group/"),{name:r.name,items:i}).then((function(){return Object(y.o)({msg:"Group of ".concat(a," successfully added"),title:"Added",callback:function(){return o.history.push("/ui/administration/".concat(t))}})})).catch((function(e){return alert("Something went wrong: ".concat(e))})):this.backend.changeObject("/api/v2/internal/".concat(e,"group/"),{name:r.name,items:i}).then((function(){return Object(y.o)({msg:"Group of ".concat(a," successfully changed"),title:"Changed",callback:function(){return o.history.push("/ui/administration/".concat(t))}})})).catch((function(e){return alert("Something went wrong: ".concat(e))}))}},{key:"doDelete",value:function(r){var n=this;this.backend.deleteObject("/api/v2/internal/".concat(e,"group/").concat(r)).then((function(){return Object(y.o)({msg:"Group of ".concat(a," successfully deleted"),title:"Deleted",callback:function(){return n.history.push("/ui/administration/".concat(t))}})})).catch((function(e){return alert("Something went wrong: ".concat(e))}))}},{key:"componentDidMount",value:function(){var t=this;this.setState({loading:!0}),this.backend.fetchResult("/api/v2/internal/".concat(e,"group")).then((function(a){t.addview?t.setState({name:"",items:[],nogroupitems:a,write_perm:"true"===localStorage.getItem("authIsSuperuser"),loading:!1}):t.backend.fetchResult("/api/v2/internal/".concat(e,"group/").concat(t.group)).then((function(e){return t.setState({name:t.group,items:e,nogroupitems:a,write_perm:"true"===localStorage.getItem("authIsSuperuser"),loading:!1})}))}))}},{key:"render",value:function(){var t=this,r=this.state,o=r.name,i=r.items,l=r.write_perm,u=r.loading,m=this.state.nogroupitems,d={filter:"form-control",select:"form-control",button:"btn btn btn-block btn-primary",buttonActive:"btn btn btn-block btn-primary"};return u?n.a.createElement(y.l,null):u?void 0:n.a.createElement(y.b,{resourcename:"group of ".concat(a),location:this.location,addview:this.addview,history:!1,modal:!0,state:this.state,toggle:this.toggleAreYouSure,submitperm:l},n.a.createElement(E.d,{initialValues:{name:o,items:i},onSubmit:function(e,a){return t.onSubmitHandle(e,a)},render:function(r){return n.a.createElement(E.c,null,n.a.createElement(p.a,null,n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(f.a,{for:"groupname"},"Name"),n.a.createElement(E.a,{type:"text",name:"name",required:!0,className:"form-control",id:"groupname",disabled:!t.addview})))),n.a.createElement(p.a,null,n.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},a),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:5},n.a.createElement(ia.a,{buttonText:"Add",classNames:d,onChange:t.handleSelect,options:m,selectedOptions:i,size:15,textProp:"name",valueProp:"id"})),n.a.createElement(s.a,{md:5},n.a.createElement(ia.a,{buttonText:"Remove",classNames:{filter:"form-control",select:"form-control",button:"btn btn btn-block btn-danger",buttonActive:"btn btn btn-block btn-danger"},onChange:t.handleDeselect,options:i,size:15,textProp:"name",valueProp:"id"})))),l&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},t.addview?n.a.createElement("div",null):n.a.createElement(h.a,{color:"danger",onClick:function(){t.toggleAreYouSureSetModal("Are you sure you want to delete group of ".concat(e,"?"),"Delete group of ".concat(e),(function(){return t.doDelete(r.values.name)}))}},"Delete"),n.a.createElement(h.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}}))}}]),o}(r.Component)}var Sa=a("Q4bY"),Aa=a("VtcC"),ka=a("p2VU");function Pa(e){return(Pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ia(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ca(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Na(e,t,a){return t&&Ca(e.prototype,t),a&&Ca(e,a),e}function Ta(e,t){return!t||"object"!==Pa(t)&&"function"!=typeof t?ja(e):t}function ja(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function La(e){return(La=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xa(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ua(e,t)}function Ua(e,t){return(Ua=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ra=function(e){function t(e){var a;return Ia(this,t),(a=Ta(this,La(t).call(this,e))).location=e.location,a.state={list_keys:null,loading:!1},a.backend=new I.a,a}return xa(t,e),Na(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/apikeys").then((function(t){return e.setState({list_keys:t,loading:!1})}))}},{key:"render",value:function(){var e=[{Header:"Name",id:"name",accessor:function(e){return n.a.createElement(P.b,{to:"/ui/administration/apikey/"+e.name},e.name)}},{Header:"Created",accessor:"created"},{Header:"Revoked",id:"revoked",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)},accessor:function(e){return e.revoked?n.a.createElement(j.a,{icon:L.c,style:{color:"#339900"}}):n.a.createElement(j.a,{icon:L.t,style:{color:"#CC0000"}})}}],t=this.state,a=t.loading,r=t.list_keys;return a?n.a.createElement(y.l,null):!a&&r?n.a.createElement(y.b,{resourcename:"API key",location:this.location,listview:!0},n.a.createElement(T.a,{data:r,columns:e,className:"-striped -highlight",defaultPageSize:5})):null}}]),t}(r.Component),Wa=function(e){function t(e){var a;return Ia(this,t),(a=Ta(this,La(t).call(this,e))).name=e.match.params.name,a.location=e.location,a.addview=e.addview,a.history=e.history,a.state={key:{},loading:!1,write_perm:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},a.backend=new I.a,a.toggleAreYouSure=a.toggleAreYouSure.bind(ja(a)),a.toggleAreYouSureSetModal=a.toggleAreYouSureSetModal.bind(ja(a)),a.onSubmitHandle=a.onSubmitHandle.bind(ja(a)),a.doChange=a.doChange.bind(ja(a)),a.doDelete=a.doDelete.bind(ja(a)),a}return xa(t,e),Na(t,[{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSubmitHandle",value:function(e,t){var a=this,r=void 0,n=void 0;this.addview?(r="Are you sure you want to add API key?",n="Add API key"):(r="Are you sure you want to change API key?",n="Change API key"),this.toggleAreYouSureSetModal(r,n,(function(){return a.doChange(e,t)}))}},{key:"doChange",value:function(e,t){var a=this;this.addview?this.backend.addObject("/api/v2/internal/apikeys/",{name:e.name}).then((function(e){return e.ok?Object(y.o)({msg:"API key successfully added",title:"Added",callback:function(){return a.history.push("/ui/administration/apikey")}}):alert("Something went wrong: "+e.statusText)})):this.backend.changeObject("/api/v2/internal/apikeys/",{id:this.state.key.id,revoked:e.revoked,name:e.name}).then((function(e){return e.ok?Object(y.o)({msg:"API key successfully changed",title:"Changed",callback:function(){return a.history.push("/ui/administration/apikey")}}):alert("Something went wrong: "+e.statusText)}))}},{key:"doDelete",value:function(e){var t=this;this.backend.deleteObject("/api/v2/internal/apikeys/".concat(e)).then((function(e){return e.ok?Object(y.o)({msg:"API key successfully deleted",title:"Deleted",callback:function(){return t.history.push("/ui/administration/apikey")}}):alert("Something went wrong: "+e.statusText)}))}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.addview?this.setState({key:{name:"",revoked:!1,token:""},loading:!1,write_perm:"true"===localStorage.getItem("authIsSuperuser")}):this.backend.fetchData("/api/v2/internal/apikeys/".concat(this.name)).then((function(t){return e.setState({key:t,loading:!1,write_perm:"true"===localStorage.getItem("authIsSuperuser")})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.key,r=t.loading,o=t.write_perm;return r?n.a.createElement(y.l,null):!r&&a?n.a.createElement(y.b,{resourcename:"API key",location:this.location,addview:this.addview,history:!1,modal:!0,state:this.state,toggle:this.toggleAreYouSure,submitperm:o},n.a.createElement(E.d,{initialValues:{name:a.name,revoked:a.revoked,token:a.token},onSubmit:function(t,a){return e.onSubmitHandle(t,a)},render:function(t){return n.a.createElement(E.c,null,n.a.createElement(p.a,null,n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(f.a,{for:"name"},"Name"),n.a.createElement(E.a,{type:"text",name:"name",id:"name",required:!0,className:"form-control"}),n.a.createElement(se.a,{color:"muted"},"A free-form unique identifier of the client. 50 characters max."))),n.a.createElement(c.a,{className:"mt-2"},n.a.createElement(s.a,{md:6},n.a.createElement(E.a,{component:y.c,name:"revoked",className:"form-control",id:"checkbox",label:"Revoked"}),n.a.createElement(se.a,{color:"muted"},"If the API key is revoked, clients cannot use it any more. (This cannot be undone.)")))),n.a.createElement(p.a,null,n.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Credentials"),n.a.createElement(c.a,null,n.a.createElement(s.a,{sm:6},n.a.createElement(le.a,null,n.a.createElement(ce.a,{addonType:"prepend"},"Token"),n.a.createElement(E.a,{type:"text",name:"token",id:"token",readOnly:!0,className:"form-control"})),n.a.createElement(se.a,{color:"muted"},"A public, unique identifier for this API key."))),e.addview&&n.a.createElement(Sa.a,{className:"mt-3"},n.a.createElement(Aa.a,{icon:"info"},"Info"),n.a.createElement(ka.a,null,"Token will be generated when clicking save."))),o&&n.a.createElement("div",{className:e.addview?"submit-row d-flex align-items-center justify-content-end bg-light p-3 mt-5":"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},!e.addview&&n.a.createElement(h.a,{color:"danger",onClick:function(){e.toggleAreYouSureSetModal("Are you sure you want to delete API key?","Delete API key",(function(){return e.doDelete(t.values.name)}))}},"Delete"),n.a.createElement(h.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):void 0}}]),t}(r.Component),Ba=function(e){return n.a.createElement("div",null,n.a.createElement("h1",null,"Not found"))},Ka=a("Ty5D");function za(e){return(za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ya(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Qa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fa(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Va(e,t,a){return t&&Fa(e.prototype,t),a&&Fa(e,a),e}function Ha(e,t){return!t||"object"!==za(t)&&"function"!=typeof t?qa(e):t}function qa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ga(e){return(Ga=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Za(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ja(e,t)}function Ja(e,t){return(Ja=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xa=me.object().shape({name:me.string().matches(/^\S*$/,"Name cannot contain white spaces").required("Required"),content:me.string().required("Required"),description:me.string().required("Required")}),$a=function(e){function t(e){var a;return Qa(this,t),(a=Ha(this,Ga(t).call(this,e))).location=e.location,a.state={loading:!1,list_repos:null,list_tags:null,isTenantSchema:null,search_name:"",search_description:"",search_tag:""},a.backend=new I.a,a}return Za(t,e),Va(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),Promise.all([this.backend.fetchData("/api/v2/internal/yumrepos"),this.backend.fetchData("/api/v2/internal/ostags"),this.backend.isTenantSchema()]).then((function(t){var a=Ya(t,3),r=a[0],n=a[1],o=a[2];e.setState({list_repos:r,list_tags:n,isTenantSchema:o,loading:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.list_repos,r=t.isTenantSchema,o=t.loading,i=void 0;i=r?"/ui/administration/yumrepos/":"/ui/yumrepos/";var l=[{Header:"#",id:"row",minWidth:12,Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.index+1)}},{Header:"Name",id:"name",minWidth:80,accessor:function(e){return n.a.createElement(P.b,{to:i+e.name+"-"+e.tag.replace(/\s/g,"").toLowerCase()},"".concat(e.name," (").concat(e.tag,")"))},filterable:!0,Filter:n.a.createElement("input",{value:this.state.search_name,onChange:function(t){return e.setState({search_name:t.target.value})},placeholder:"Search by name",style:{width:"100%"}})},{Header:"Description",accessor:"description",filterable:!0,Filter:n.a.createElement("input",{type:"text",placeholder:"Search by description",value:this.state.search_description,onChange:function(t){return e.setState({search_description:t.target.value})},style:{width:"100%"}})},{Header:"Tag",accessor:"tag",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)},filterable:!0,Filter:n.a.createElement(y.g,{value:this.state.tag,onChange:function(t){return e.setState({search_tag:t.target.value})},data:this.state.list_tags})}];return this.state.search_name&&(a=a.filter((function(t){return t.name.toLowerCase().includes(e.state.search_name.toLowerCase())}))),this.state.search_description&&(a=a.filter((function(t){return t.description.toLowerCase().includes(e.state.search_description.toLowerCase())}))),this.state.search_tag&&(a=a.filter((function(t){return t.tag.toLowerCase().includes(e.state.search_tag.toLowerCase())}))),o?n.a.createElement(y.l,null):!o&&a?n.a.createElement(y.b,{resourcename:"YUM repo",location:this.location,listview:!0,addnew:!r},n.a.createElement(T.a,{data:a,columns:l,className:"-striped -highlight",defaultPageSize:20})):null}}]),t}(r.Component),er=function(e){function t(e){var a;return Qa(this,t),a=Ha(this,Ga(t).call(this,e)),e.match.params.name&&(a.tag=e.match.params.name.split("-")[e.match.params.name.split("-").length-1],a.name=e.match.params.name.replace("-"+a.tag,"")),a.addview=e.addview,a.disabled=e.disabled,a.location=e.location,a.history=e.history,a.backend=new I.a,a.state={repo:{id:"",name:"",tag:"CentOS 6",content:"",description:""},tagslist:[],loading:!1,write_perm:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},a.toggleAreYouSure=a.toggleAreYouSure.bind(qa(a)),a.toggleAreYouSureSetModal=a.toggleAreYouSureSetModal.bind(qa(a)),a.onSubmitHandle=a.onSubmitHandle.bind(qa(a)),a.doChange=a.doChange.bind(qa(a)),a.doDelete=a.doDelete.bind(qa(a)),a}return Za(t,e),Va(t,[{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSubmitHandle",value:function(e,t){var a=this,r=void 0,n=void 0;this.addview?(r="Are you sure you want to add YUM repo?",n="Add YUM repo"):(r="Are you sure you want to change YUM repo?",n="Change YUM repo"),this.toggleAreYouSureSetModal(r,n,(function(){return a.doChange(e,t)}))}},{key:"doChange",value:function(e,t){var a=this;this.addview?this.backend.addObject("/api/v2/internal/yumrepos/",{name:e.name,tag:e.tag,content:e.content,description:e.description}).then((function(e){e.ok?Object(y.o)({msg:"YUM repo successfully added",title:"Added",callback:function(){return a.history.push("/ui/yumrepos")}}):e.json().then((function(e){ue.NotificationManager.error(e.detail,"Error")}))})):this.backend.changeObject("/api/v2/internal/yumrepos/",{id:e.id,name:e.name,tag:e.tag,content:e.content,description:e.description}).then((function(e){e.ok?Object(y.o)({msg:"YUM repo successfully changed",title:"Changed",callback:function(){return a.history.push("/ui/yumrepos")}}):e.json().then((function(e){ue.NotificationManager.error(e.detail,"Error")}))}))}},{key:"doDelete",value:function(e,t){var a=this;this.backend.deleteObject("/api/v2/internal/yumrepos/".concat(e,"/").concat(t)).then((function(e){e.ok?Object(y.o)({msg:"YUM repo successfully deleted",title:"Deleted",callback:function(){return a.history.push("/ui/yumrepos")}}):e.json().then((function(e){ue.NotificationManager.error(e.detail,"Error")}))}))}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/ostags").then((function(t){e.addview?e.setState({tagslist:t,write_perm:"true"===localStorage.getItem("authIsSuperuser"),loading:!1}):e.backend.fetchData("/api/v2/internal/yumrepos/".concat(e.name,"/").concat(e.tag)).then((function(a){e.setState({repo:a,tagslist:t,write_perm:"true"===localStorage.getItem("authIsSuperuser"),loading:!1})}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.repo,r=t.tagslist,o=t.loading,i=t.write_perm;return o?n.a.createElement(y.l,null):!o&&a?n.a.createElement(y.b,{resourcename:"YUM repo",location:this.location,addview:this.addview,modal:!0,state:this.state,toggle:this.toggleAreYouSure,submitperm:i,history:!1},n.a.createElement(E.d,{initialValues:{id:a.id,name:a.name,tag:a.tag,content:a.content,description:a.description},onSubmit:function(t,a){return e.onSubmitHandle(t,a)},validationSchema:Xa,render:function(t){return n.a.createElement(E.c,null,n.a.createElement(p.a,null,n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(le.a,null,n.a.createElement(ce.a,{addonType:"prepend"},"Name"),n.a.createElement(E.a,{type:"text",name:"name",className:"form-control ".concat(t.errors.name&&"border-danger"),id:"name",disabled:e.disabled})),t.errors.name&&Object(y.h)(t.errors.name),n.a.createElement(se.a,{color:"muted"},"Name of YUM repo file.")),n.a.createElement(s.a,{md:2},n.a.createElement(le.a,null,n.a.createElement(ce.a,{addonType:"prepend"},"Tag"),e.disabled?n.a.createElement(E.a,{type:"text",name:"tag",className:"form-control",id:"tag",disabled:!0}):n.a.createElement(E.a,{component:"select",name:"tag",className:"form-control",id:"tag"},r.map((function(e,t){return n.a.createElement("option",{key:t,value:e},e)})))),n.a.createElement(se.a,{color:"muted"},"OS tag.")))),n.a.createElement(p.a,null,n.a.createElement(c.a,null,n.a.createElement(s.a,{md:8},n.a.createElement(f.a,{for:"content"},"File content"),n.a.createElement(E.a,{component:"textarea",name:"content",rows:"20",className:"form-control ".concat(t.errors.content&&"border-danger"),id:"content",disabled:e.disabled}),t.errors.content&&Object(y.h)(t.errors.content),n.a.createElement(se.a,{color:"muted"},"Content of the repo file.")))),n.a.createElement(p.a,null,n.a.createElement(c.a,null,n.a.createElement(s.a,{md:8},n.a.createElement(f.a,{for:"description"},"Description"),n.a.createElement(E.a,{component:"textarea",name:"description",rows:"5",className:"form-control ".concat(t.errors.description&&"border-danger"),id:"description",disabled:e.disabled}),t.errors.description&&Object(y.h)(t.errors.description),n.a.createElement(se.a,{color:"muted"},"Short free text description.")))),i&&!e.disabled&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},e.addview?n.a.createElement("div",null):n.a.createElement(h.a,{color:"danger",onClick:function(){e.toggleAreYouSureSetModal("Are you sure you want to delete YUM repo?","Delete YUM repo",(function(){return e.doDelete(e.name,e.tag)}))}},"Delete"),n.a.createElement(h.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):null}}]),t}(r.Component),tr=a("iqOp"),ar=a("glTy"),rr=a("YGfb");function nr(e){return(nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function or(){return(or=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function ir(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function lr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cr(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sr(e,t,a){return t&&cr(e.prototype,t),a&&cr(e,a),e}function ur(e,t){return!t||"object"!==nr(t)&&"function"!=typeof t?mr(e):t}function mr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dr(e){return(dr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fr(e,t)}function fr(e,t){return(fr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _r=Object(y.j)("thresholdsprofile"),hr=me.object().shape({name:me.string().required("Required"),groupname:me.string().required("Required"),rules:me.array().of(me.object().shape({metric:me.string().required("Required"),thresholds:me.array().of(me.object().shape({label:me.string().matches(/^[a-zA-Z][A-Za-z0-9]*$/,"Label can contain alphanumeric characters, but must always begin with a letter.").required("Required"),value:me.string().matches(/^([-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").required("Required"),warn1:me.string().matches(/^[@]?(~|[-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").required("Required"),warn2:me.string().matches(/^([-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").test("greater-than","Should be greater than lower warning limit",(function(e){var t="@"===this.parent.warn1.charAt(0)?this.parent.warn1.substr(1):this.parent.warn1;return!t||!e||("~"===t||(!(!isNaN(Number(t))&&!isNaN(Number(e)))||Number(t)<=Number(e)))})),crit1:me.string().matches(/^[@]?(~|[-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").required("Required"),crit2:me.string().matches(/^([-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").test("greater-than","Should be greater than lower critical limit",(function(e){var t="@"===this.parent.crit1.charAt(0)?this.parent.crit1.substr(1):this.parent.crit1;return!t||!e||("~"===t||(!(!isNaN(Number(t))&&!isNaN(Number(e)))||Number(t)<=Number(e)))})),min:me.string().matches(/^([-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number."),max:me.string().matches(/^([-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").test("greater-than-min","Should be greater than min value.",(function(e){var t=this.parent.min;return!t||(!(!isNaN(Number(t))&&!isNaN(Number(e)))||Number(t)<Number(e))}))}))}))});function gr(e){return e.forEach((function(e){var t=e.thresholds.split(" "),a=[];t.forEach((function(e){var t="",r="",n="",o="",i="",l="",c="",s="",u="",m=e.split("=");if(2===m.length){t=m[0];var d=m[1].split(";");if(d.length>0&&(n=function(e){return isNaN(e.charAt(e.length-1))?e.endsWith("us")?"us":e.endsWith("ms")?"ms":e.endsWith("s")?"s":e.endsWith("%")?"%":e.endsWith("KB")?"KB":e.endsWith("MB")?"MB":e.endsWith("TB")?"TB":e.endsWith("B")?"B":e.endsWith("c")?"c":void 0:""}(d[0]),r=d[0].replace(n,""),d.length>1))for(var p=1;p<d.length;p++)if(1===p){var f=d[p].split(":");f.length>1?(o=f[0],i=f[1]):(o="0",i=d[p])}else if(2===p){var _=d[p].split(":");_.length>1?(l=_[0],c=_[1]):(l="0",c=d[p])}else 3===p?s=d[p]:4===p&&(u=d[p])}a.push({label:t,value:r,uom:n,warn1:o,warn2:i,crit1:l,crit2:c,min:s,max:u})})),e.thresholds=a})),e}var Er=function(e){var t=e.values,a=e.errors,r=e.setFieldValue,o=e.historyview,i=void 0!==o&&o,l=e.groups_list,f=void 0===l?void 0:l,_=e.metrics_list,v=void 0===_?void 0:_,b=e.write_perm,M=void 0!==b&&b,O=e.onSelect,D=e.state,w=e.toggleWarningPopOver,S=e.toggleCriticalPopOver;return n.a.createElement(n.a.Fragment,null,n.a.createElement(y.p,{values:t,errors:a,grouplist:f,fieldsdisable:i,profiletype:"thresholds"}),n.a.createElement(p.a,null,n.a.createElement("h4",{className:"mt-4 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Thresholds rules"),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:12},n.a.createElement(E.b,{name:"rules",render:function(e){return n.a.createElement("div",null,t.rules&&t.rules.length>0?t.rules.map((function(o,l){return n.a.createElement(n.a.Fragment,{key:"fragment.rules.".concat(l)},n.a.createElement(u.a,{className:"mt-".concat(0===l?"1":"4")},n.a.createElement(m.a,{className:"p-1 font-weight-bold text-uppercase"},n.a.createElement("div",{className:"d-flex align-items-center justify-content-between no-gutters"},"Rule ",l+1,!i&&n.a.createElement(h.a,{size:"sm",color:"danger",type:"button",onClick:function(){return M&&e.remove(l)}},n.a.createElement(j.a,{icon:L.s})))),n.a.createElement(d.a,{className:"p-1"},n.a.createElement(c.a,{className:"d-flex align-items-center no-gutters"},n.a.createElement(s.a,{md:12},i?n.a.createElement(le.a,null,n.a.createElement(ce.a,{addonType:"prepend"},"Metric"),n.a.createElement(E.a,{name:"rules.".concat(l,".metric"),className:"form-control",disabled:!0})):n.a.createElement(y.a,{req:a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].metric,setFieldValue:r,lists:v,icon:"metrics",field:"rules[".concat(l,"].metric"),val:t.rules[l].metric,onselect_handler:O,label:"Metric"}),a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].metric&&Object(y.h)(a.rules[l].metric))),n.a.createElement(c.a,{className:"mt-2"},n.a.createElement(s.a,{md:12},n.a.createElement(le.a,null,n.a.createElement(ce.a,{addonType:"prepend"},"Host"),n.a.createElement(E.a,{name:"rules.".concat(l,".host"),className:"form-control",disabled:i})))),n.a.createElement(c.a,{className:"mt-2"},n.a.createElement(s.a,{md:12},n.a.createElement(le.a,null,n.a.createElement(ce.a,{addonType:"prepend"},"Endpoint group"),n.a.createElement(E.a,{name:"rules.".concat(l,".endpoint_group"),className:"form-control",disabled:i}))))),n.a.createElement(g.a,null,n.a.createElement(c.a,{className:"mt-2"},n.a.createElement(s.a,{md:12},n.a.createElement("h6",{className:"text-uppercase rounded"},"Thresholds"),n.a.createElement(E.b,{name:"rules.".concat(l,".thresholds"),render:function(e){return n.a.createElement("div",null,n.a.createElement("table",{className:"table table-bordered table-sm"},n.a.createElement("thead",{className:"table-active"},n.a.createElement("tr",{className:"align-middle text-center"},n.a.createElement("th",{style:{width:"4%"}},"#"),n.a.createElement("th",{style:{width:"13%"}},"Label"),n.a.createElement("th",{colSpan:2,style:{width:"13%"}},"Value"),i?n.a.createElement("th",{colSpan:3,style:{width:"13%"}},"Warning"):n.a.createElement("th",{colSpan:3,style:{width:"13%"}},"Warning ",n.a.createElement(j.a,{id:"warning-popover",icon:L.i,style:{color:"#416090"}}),n.a.createElement(tr.a,{placement:"bottom",isOpen:D.popoverWarningOpen,target:"warning-popover",toggle:w,trigger:"hover"},n.a.createElement(ar.a,null,"Warning range"),n.a.createElement(rr.a,null,n.a.createElement("p",null,"Defined in format: ",n.a.createElement("code",null,"@{floor}:{ceil}")),n.a.createElement("p",null,n.a.createElement("code",null,"@")," - optional - negates the range (value should belong outside limits)"),n.a.createElement("p",null,n.a.createElement("code",null,"{floor}"),": integer/float or ",n.a.createElement("code",null,"~")," that defines negative infinity"),n.a.createElement("p",null,n.a.createElement("code",null,"{ceil}"),": integer/float or empty (defines positive infinity)")))),i?n.a.createElement("th",{colSpan:3,style:{width:"13%"}},"Critical"):n.a.createElement("th",{colSpan:3,style:{width:"13%"}},"Critical ",n.a.createElement(j.a,{id:"critical-popover",icon:L.i,style:{color:"#416090"}}),n.a.createElement(tr.a,{placement:"bottom",isOpen:D.popoverCriticalOpen,target:"critical-popover",toggle:S,trigger:"hover"},n.a.createElement(ar.a,null,"Critical range"),n.a.createElement(rr.a,null,n.a.createElement("p",null,"Defined in format: ",n.a.createElement("code",null,"@{floor}:{ceil}")),n.a.createElement("p",null,n.a.createElement("code",null,"@")," - optional - negates the range (value should belong outside limits)"),n.a.createElement("p",null,n.a.createElement("code",null,"{floor}"),": integer/float or ",n.a.createElement("code",null,"~")," that defines negative infinity"),n.a.createElement("p",null,n.a.createElement("code",null,"{ceil}"),": integer/float or empty (defines positive infinity)")))),n.a.createElement("th",{style:{width:"12%"}},"min"),n.a.createElement("th",{style:{width:"12%"}},"max"),!i&&n.a.createElement("th",{style:{width:"8%"}},"Action"))),n.a.createElement("tbody",null,t.rules&&t.rules.length>l&&t.rules[l]&&t.rules[l].thresholds&&t.rules[l].thresholds.length>0?t.rules[l].thresholds.map((function(r,o){return n.a.createElement("tr",{key:"rule-".concat(l,"-threshold-").concat(o)},n.a.createElement("td",{className:"align-middle text-center"},o+1),n.a.createElement("td",null,i?t.rules[l].thresholds[o].label:n.a.createElement(E.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].label&&"border-danger"),name:"rules[".concat(l,"].thresholds[").concat(o,"].label"),id:"values.rules.".concat(l,".thresholds.").concat(o,".label")}),a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].label&&Object(y.h)(a.rules[l].thresholds[o].label)),n.a.createElement("td",null,i?t.rules[l].thresholds[o].value:n.a.createElement(E.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].value&&"border-danger"),name:"rules.".concat(l,".thresholds.").concat(o,".value"),id:"values.rules.".concat(l,".thresholds.").concat(o,".value")}),a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].value&&Object(y.h)(a.rules[l].thresholds[o].value)),n.a.createElement("td",{style:{width:"6%"}},i?t.rules[l].thresholds[o].uom:n.a.createElement(E.a,{component:"select",className:"form-control custom-select",name:"rules.".concat(l,".thresholds.").concat(o,".uom"),id:"values.rules.".concat(l,".thresholds.").concat(o,".uom")},n.a.createElement("option",{key:"option-0",value:""}),n.a.createElement("option",{key:"option-1",value:"s"},"s"),n.a.createElement("option",{key:"option-2",value:"us"},"us"),n.a.createElement("option",{key:"option-3",value:"ms"},"ms"),n.a.createElement("option",{key:"option-4",value:"B"},"B"),n.a.createElement("option",{key:"option-5",value:"KB"},"KB"),n.a.createElement("option",{key:"option-6",value:"MB"},"MB"),n.a.createElement("option",{key:"option-7",value:"TB"},"TB"),n.a.createElement("option",{key:"option-8",value:"%"},"%"),n.a.createElement("option",{key:"option-9",value:"c"},"c"))),n.a.createElement("td",null,i?t.rules[l].thresholds[o].warn1:n.a.createElement(E.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].warn1&&"border-danger"),name:"rules.".concat(l,".thresholds.").concat(o,".warn1"),id:"values.rules.".concat(l,".thresholds.").concat(o,".warn1")}),a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].warn1&&Object(y.h)(a.rules[l].thresholds[o].warn1)),n.a.createElement("td",null,":"),n.a.createElement("td",null,i?t.rules[l].thresholds[o].warn2:n.a.createElement(E.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].warn2&&"border-danger"),name:"rules.".concat(l,".thresholds.").concat(o,".warn2"),id:"values.rules.".concat(l,".thresholds.").concat(o,".warn2")}),a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].warn2&&Object(y.h)(a.rules[l].thresholds[o].warn2)),n.a.createElement("td",null,i?t.rules[l].thresholds[o].crit1:n.a.createElement(E.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].crit1&&"border-danger"),name:"rules.".concat(l,".thresholds.").concat(o,".crit1"),id:"values.rules.".concat(l,".thresholds.").concat(o,".crit1")}),a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].crit1&&Object(y.h)(a.rules[l].thresholds[o].crit1)),n.a.createElement("td",null,":"),n.a.createElement("td",null,i?t.rules[l].thresholds[o].crit2:n.a.createElement(E.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].crit2&&"border-danger"),name:"rules.".concat(l,".thresholds.").concat(o,".crit2"),id:"values.rules.".concat(l,".thresholds.").concat(o,".crit2")}),a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].crit2&&Object(y.h)(a.rules[l].thresholds[o].crit2)),n.a.createElement("td",null,i?t.rules[l].thresholds[o].min:n.a.createElement(E.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].min&&"border-danger"),name:"rules.".concat(l,".thresholds.").concat(o,".min"),id:"values.rules.".concat(l,".thresholds.").concat(o,".min")}),a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].min&&Object(y.h)(a.rules[l].thresholds[o].min)),n.a.createElement("td",null,i?t.rules[l].thresholds[o].max:n.a.createElement(E.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].max&&"border-danger"),name:"rules.".concat(l,".thresholds.").concat(o,".max"),id:"values.rules.".concat(l,".thresholds.").concat(o,".max")}),a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].max&&Object(y.h)(a.rules[l].thresholds[o].max)),!i&&n.a.createElement("td",{className:"align-middle d-flex justify-content-center align-items-center"},n.a.createElement(h.a,{size:"sm",color:"light",type:"button",onClick:function(){e.remove(o),1===t.rules[l].thresholds.length&&e.push({label:"",value:"",uom:"",warn1:"",warn2:"",crit1:"",crit2:"",min:"",max:""})}},n.a.createElement(j.a,{icon:L.s})),n.a.createElement(h.a,{size:"sm",color:"light",type:"button",onClick:function(){return e.push({label:"",value:"",uom:"",warn1:"",warn2:"",crit1:"",crit2:"",min:"",max:""})}},n.a.createElement(j.a,{icon:L.l}))))})):null)))}}))))),l+1===t.rules.length&&!i&&n.a.createElement(h.a,{color:"success",className:"mt-4",onClick:function(){return e.push({metric:"",thresholds:[{label:"",value:"",uom:"",warn1:"",warn2:"",crit1:"",crit2:"",min:"",max:""}],host:"",endpoint_group:""})}},"Add new rule"))})):!i&&n.a.createElement(h.a,{color:"success",onClick:function(){return e.push({metric:"",thresholds:[{label:"",value:"",uom:"",warn1:"",warn2:"",crit1:"",crit2:"",min:"",max:""}],host:"",endpoint_group:""})}},"Add a rule"))}})))))},vr=function(e){function t(e){var a;return lr(this,t),(a=ur(this,dr(t).call(this,e))).location=e.location,a.backend=new I.a,a.state={loading:!1,list_thresholdsprofiles:null},a}return pr(t,e),sr(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/thresholdsprofiles").then((function(t){return e.setState({list_thresholdsprofiles:t,loading:!1})}))}},{key:"render",value:function(){var e=[{Header:"Name",id:"name",accessor:function(e){return n.a.createElement(P.b,{to:"/ui/thresholdsprofiles/"+e.name},e.name)}},{Header:"Group",accessor:"groupname",maxWidth:150}],t=this.state,a=t.loading,r=t.list_thresholdsprofiles;return a?n.a.createElement(y.l,null):!a&&r?n.a.createElement(y.b,{resourcename:"thresholds profile",location:this.location,listview:!0},n.a.createElement(T.a,{data:r,columns:e,className:"-striped -highlight",defaultPageSize:12})):null}}]),t}(r.Component),br=function(e){function t(e){var a;return lr(this,t),(a=ur(this,dr(t).call(this,e))).name=e.match.params.name,a.addview=e.addview,a.history=e.history,a.location=e.location,a.tenant_name=e.tenantname,a.webapithresholds=e.webapithresholds,a.token=e.webapitoken,a.backend=new I.a,a.webapi=new I.b({token:a.token,thresholdsProfiles:a.webapithresholds}),a.state={thresholds_profile:{apiid:"",name:"",groupname:""},thresholds_rules:[],groups_list:[],metrics_list:[],write_perm:!1,areYouSureModal:!1,loading:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0,popoverWarningOpen:!1,popoverCriticalOpen:!1},a.toggleAreYouSure=a.toggleAreYouSure.bind(mr(a)),a.toggleAreYouSureSetModal=a.toggleAreYouSureSetModal.bind(mr(a)),a.onSelect=a.onSelect.bind(mr(a)),a.toggleWarningPopOver=a.toggleWarningPopOver.bind(mr(a)),a.toggleCriticalPopOver=a.toggleCriticalPopOver.bind(mr(a)),a.thresholdsToString=a.thresholdsToString.bind(mr(a)),a.onSubmitHandle=a.onSubmitHandle.bind(mr(a)),a.doChange=a.doChange.bind(mr(a)),a.doDelete=a.doDelete.bind(mr(a)),a}return pr(t,e),sr(t,[{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleWarningPopOver",value:function(){this.setState({popoverWarningOpen:!this.state.popoverWarningOpen})}},{key:"toggleCriticalPopOver",value:function(){this.setState({popoverCriticalOpen:!this.state.popoverCriticalOpen})}},{key:"onSelect",value:function(e,t){var a=this.state.thresholds_rules,r=e.split("[")[1].split("]")[0];a.length==r&&a.push({metric:"",thresholds:[],host:"",endpoint_group:""}),a[r].metric=t,this.setState({thresholds_rules:a})}},{key:"thresholdsToString",value:function(e){return e.forEach((function(e){var t=[];e.host||delete e.host,e.endpoint_group||delete e.endpoint_group,e.thresholds.forEach((function(e){var a=void 0;a=e.label+"="+e.value+e.uom+";"+e.warn1+":"+e.warn2+";"+e.crit1+":"+e.crit2,e.min&&e.max&&(a=a+";"+e.min+";"+e.max),t.push(a)}));var a=t.join(" ");e.thresholds=a})),e}},{key:"onSubmitHandle",value:function(e,t){var a=this,r=void 0,n=void 0;this.addview?(r="Are you sure you want to add thresholds profile?",n="Add thresholds profile"):(r="Are you sure you want to change thresholds profile?",n="Change thresholds profile"),this.toggleAreYouSureSetModal(r,n,(function(){return a.doChange(e,t)}))}},{key:"doChange",value:function(e,t){var a=this,r=JSON.parse(JSON.stringify(e));this.addview?this.webapi.addThresholdsProfile({name:r.name,rules:this.thresholdsToString(r.rules)}).then((function(t){t.ok?t.json().then((function(t){a.backend.addObject("/api/v2/internal/thresholdsprofiles/",{apiid:t.data.id,name:r.name,groupname:e.groupname,rules:r.rules}).then((function(){return Object(y.o)({msg:"Thresholds profile successfully added",title:"Added",callback:function(){return a.history.push("/ui/thresholdsprofiles")}})}))})):ue.NotificationManager.error("Error: ".concat(t.status," ").concat(t.statusText),"Error adding thresholds profile")})):this.webapi.changeThresholdsProfile({id:r.id,name:r.name,rules:this.thresholdsToString(r.rules)}).then((function(t){t.ok?t.json().then((function(t){a.backend.changeObject("/api/v2/internal/thresholdsprofiles/",{apiid:r.id,name:r.name,groupname:e.groupname,rules:r.rules}).then((function(){return Object(y.o)({msg:"Thresholds profile successfully changed",title:"Changed",callback:function(){return a.history.push("/ui/thresholdsprofiles")}})}))})):ue.NotificationManager.error("Error: ".concat(t.status," ").concat(t.statusText),"Error changing thresholds profile")}))}},{key:"doDelete",value:function(e){var t=this;this.webapi.deleteThresholdsProfile(e).then((function(a){a.ok?a.json().then(t.backend.deleteObject("/api/v2/internal/thresholdsprofiles/".concat(e))).then((function(){return Object(y.o)({msg:"Thresholds profile successfully deleted",title:"Deleted",callback:function(){return t.history.push("/ui/thresholdsprofiles")}})})):ue.NotificationManager.error("Error: ".concat(a.status," ").concat(a.statusText),"Error deleting thresholds profile")}))}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),Promise.all([this.backend.fetchData("/api/v2/internal/groups/thresholdsprofiles"),this.backend.fetchListOfNames("/api/v2/internal/metricsall")]).then((function(t){var a=ir(t,2),r=a[0],n=a[1];e.addview?e.setState({loading:!1,groups_list:r,metrics_list:n,write_perm:"true"===localStorage.getItem("authIsSuperuser")||groups.length>0}):e.backend.fetchData("/api/v2/internal/thresholdsprofiles/".concat(e.name)).then((function(t){return Promise.all([e.webapi.fetchThresholdsProfile(t.apiid),e.backend.fetchResult("/api/v2/internal/usergroups")]).then((function(a){var o=ir(a,2),i=o[0],l=o[1];return e.setState({thresholds_profile:{apiid:i.id,name:i.name,groupname:t.groupname},thresholds_rules:gr(i.rules),groups_list:l.thresholdsprofiles,metrics_list:n,write_perm:"true"===localStorage.getItem("authIsSuperuser")||r.indexOf(group)>=0,loading:!1})}))}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.thresholds_profile,r=t.thresholds_rules,o=t.metrics_list,i=t.groups_list,l=t.loading,c=t.write_perm;return l?n.a.createElement(y.l,null):!l&&a?n.a.createElement(y.b,{resourcename:"thresholds profile",location:this.location,addview:this.addview,modal:!0,state:this.state,toggle:this.toggleAreYouSure,submitperm:c},n.a.createElement(E.d,{initialValues:{id:a.apiid,name:a.name,groupname:a.groupname,rules:r},validationSchema:hr,onSubmit:function(t,a){return e.onSubmitHandle(t,a)},render:function(t){return n.a.createElement(E.c,null,n.a.createElement(Er,or({},t,{groups_list:i,metrics_list:o,write_perm:c,onSelect:e.onSelect,state:e.state,toggleWarningPopOver:e.toggleWarningPopOver,toggleCriticalPopOver:e.toggleCriticalPopOver})),c&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},e.addview?n.a.createElement("div",null):n.a.createElement(h.a,{color:"danger",onClick:function(){e.toggleAreYouSureSetModal("Are you sure you want to delete thresholds profile?","Delete thresholds profile",(function(){return e.doDelete(t.values.id)}))}},"Delete"),n.a.createElement(h.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):null}}]),t}(r.Component),yr=function(e){for(var t=e.title,a=e.item1,r=e.item2,o=[],i=[],l=0;l<a.length;l++){var c="metric: ".concat(a[l].metric,",\n");"host"in a[l]&&(c+="host: ".concat(a[l].host,",\n")),"endpoint_group"in a[l]&&(c+="endpoint_group: ".concat(a[l].endpoint_group,",\n")),c+="thresholds: ".concat(a[l].thresholds),o.push(c)}for(var s=0;s<r.length;s++){var u="metric: ".concat(r[s].metric,",\n");"host"in r[s]&&(u+="host: ".concat(r[s].host,",\n")),"endpoint_group"in r[s]&&(u+="endpoint_group: ".concat(r[s].endpoint_group,",\n")),u+="thresholds: ".concat(r[s].thresholds),i.push(u)}return n.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},n.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},t),n.a.createElement(U.a,{oldValue:i.join("\n"),newValue:o.join("\n"),showDiffOnly:!0,splitView:!0,hideLineNumbers:!0}))};var Mr=function(e){function t(e){var a;return lr(this,t),(a=ur(this,dr(t).call(this,e))).version1=e.match.params.id1,a.version2=e.match.params.id2,a.name=e.match.params.name,a.state={loading:!1,name1:"",groupname1:"",rules1:[],name2:"",groupname2:"",rules2:[]},a.backend=new I.a,a}return pr(t,e),sr(t,[{key:"componentDidMount",value:function(){var e=this;this.backend.fetchData("/api/v2/internal/tenantversion/thresholdsprofile/".concat(this.name)).then((function(t){var a="",r="",n=[],o="",i="",l=[];t.forEach((function(t){t.version==e.version1?(a=t.fields.name,r=t.fields.groupname,n=t.fields.rules):t.version==e.version2&&(o=t.fields.name,i=t.fields.groupname,l=t.fields.rules)})),e.setState({name1:a,groupname1:r,rules1:n,name2:o,groupname2:i,rules2:l,loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.name1,a=e.name2,r=e.groupname1,o=e.groupname2,i=e.rules1,l=e.rules2,c=e.loading;return c?n.a.createElement(y.l,null):!c&&t&&a?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Compare ".concat(this.name," versions"))),t!==a&&n.a.createElement(y.e,{title:"name",item1:t,item2:a}),r!==o&&n.a.createElement(y.e,{title:"group name",item1:r,item2:o}),!function(e,t){if(e.length!==t.length)return!1;for(var a=e.length;a--;)if(e[a].metric!==t[a].metric||e[a].thresholds!==t[a].thresholds||e[a].host!==t[a].host||e[a].endpoint_group!==t[a].endpoint_group)return!1;return!0}(i,l)&&n.a.createElement(yr,{title:"rules",item1:i,item2:l})):null}}]),t}(r.Component),Or=function(e){function t(e){var a;return lr(this,t),(a=ur(this,dr(t).call(this,e))).name=e.match.params.name,a.version=e.match.params.version,a.backend=new I.a,a.state={name:"",groupname:"",rules:[],date_created:"",loading:!1},a}return pr(t,e),sr(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/tenantversion/thresholdsprofile/".concat(this.name)).then((function(t){t.forEach((function(t){t.version==e.version&&e.setState({name:t.fields.name,groupname:t.fields.groupname,rules:gr(t.fields.rules),date_created:t.date_created,loading:!1})}))}))}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.groupname,r=e.rules,o=e.date_created,i=e.loading;return i?n.a.createElement(y.l,null):!i&&t?n.a.createElement(y.b,{resourcename:"".concat(t," (").concat(o,")"),infoview:!0},n.a.createElement(E.d,{initialValues:{name:t,groupname:a,rules:r},render:function(e){return n.a.createElement(E.c,null,n.a.createElement(Er,or({},e,{historyview:!0})))}})):null}}]),t}(r.Component);a("/WES");function Dr(e){return(Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wr(){return(wr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Sr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ar(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kr(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pr(e,t,a){return t&&kr(e.prototype,t),a&&kr(e,a),e}function Ir(e,t){return!t||"object"!==Dr(t)&&"function"!=typeof t?Cr(e):t}function Cr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nr(e){return(Nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jr(e,t)}function jr(e,t){return(jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Lr=me.object().shape({name:me.string().matches(/^\S*$/,"Name cannot contain white spaces").required("Required"),present_version:me.boolean(),version:me.string().matches(/^\S*$/,"Version cannot contain white spaces").when("present_version",{is:!1,then:me.string().required("Required")}),repo_6:me.string(),repo_7:me.string()}).test("undefined","You must provide at least one repo!",(function(e){return!(!e.repo_6&&!e.repo_7)})),xr=function(e){function t(e){var a;return Ar(this,t),(a=Ir(this,Nr(t).call(this,e))).location=e.location,a.backend=new I.a,a.state={loading:!1,list_packages:null,list_repos:null,search_name:"",search_repo:""},a}return Tr(t,e),Pr(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),Promise.all([this.backend.fetchData("/api/v2/internal/packages"),this.backend.fetchData("/api/v2/internal/yumrepos")]).then((function(t){var a=Sr(t,2),r=a[0],n=a[1],o=[];n.forEach((function(e){return o.push(e.name+" ("+e.tag+")")})),e.setState({list_packages:r,list_repos:o,loading:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.list_packages,r=t.loading,o=[{Header:"#",id:"row",minWidth:12,Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.index+1)}},{Header:"Name and version",id:"name",minWidth:80,accessor:function(e){return n.a.createElement(P.b,{to:"/ui/packages/"+e.name+"-"+e.version},e.name+" ("+e.version+")")},filterable:!0,Filter:n.a.createElement("input",{value:this.state.search_name,onChange:function(t){return e.setState({search_name:t.target.value})},placeholder:"Search by name and version",style:{width:"100%"}})},{Header:"Repo",id:"repo",accessor:"repos",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value.join(", "))},filterable:!0,Filter:n.a.createElement(y.g,{value:this.state.repo,onChange:function(t){return e.setState({search_repo:t.target.value})},data:this.state.list_repos})}];return this.state.search_name&&(a=a.filter((function(t){return"".concat(t.name," + ' (' + ").concat(t.version," + ')").toLowerCase().includes(e.state.search_name.toLowerCase())}))),this.state.search_repo&&(a=a.filter((function(t){return"".concat(t.repos.join(", ")).toLowerCase().includes(e.state.search_repo.toLowerCase())}))),r?n.a.createElement(y.l,null):!r&&a?n.a.createElement(y.b,{resourcename:"package",location:this.location,listview:!0},n.a.createElement(T.a,{data:a,columns:o,className:"-striped -highlight",defaultPageSize:50})):null}}]),t}(r.Component),Ur=function(e){function t(e){var a;return Ar(this,t),(a=Ir(this,Nr(t).call(this,e))).nameversion=e.match.params.nameversion,a.addview=e.addview,a.location=e.location,a.history=e.history,a.backend=new I.a,a.state={pkg:{id:"",name:"",version:""},repo_6:"",repo_7:"",list_repos_6:[],list_repos_7:[],list_probes:[],present_version:!1,loading:!1,write_perm:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},a.toggleAreYouSure=a.toggleAreYouSure.bind(Cr(a)),a.toggleAreYouSureSetModal=a.toggleAreYouSureSetModal.bind(Cr(a)),a.onSelect=a.onSelect.bind(Cr(a)),a.onSubmitHandle=a.onSubmitHandle.bind(Cr(a)),a.doChange=a.doChange.bind(Cr(a)),a.doDelete=a.doDelete.bind(Cr(a)),a.toggleCheckbox=a.toggleCheckbox.bind(Cr(a)),a}return Tr(t,e),Pr(t,[{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSelect",value:function(e,t){var a=this.state.pkg;a[e]=t,this.setState({pkg:a})}},{key:"onSubmitHandle",value:function(e,t){var a=this,r=void 0,n=void 0;this.addview?(r="Are you sure you want to add package?",n="Add package"):(r="Are you sure you want to change package?",n="Change package"),this.toggleAreYouSureSetModal(r,n,(function(){return a.doChange(e,t)}))}},{key:"doChange",value:function(e,t){var a=this,r=[];e.repo_6&&r.push(e.repo_6),e.repo_7&&r.push(e.repo_7),this.addview?this.backend.addObject("/api/v2/internal/packages/",{name:e.name,version:e.version,use_present_version:e.present_version,repos:r}).then((function(e){e.ok?Object(y.o)({msg:"Package successfully added",title:"Added",callback:function(){return a.history.push("/ui/packages")}}):e.json().then((function(e){ue.NotificationManager.error(e.detail,"Error")}))})):this.backend.changeObject("/api/v2/internal/packages/",{id:e.id,name:e.name,version:e.version,use_present_version:e.present_version,repos:r}).then((function(e){e.ok?Object(y.o)({msg:"Package successfully changed",title:"Changed",callback:function(){return a.history.push("/ui/packages")}}):e.json().then((function(e){ue.NotificationManager.error(e.detail,"Erro")}))}))}},{key:"doDelete",value:function(e){var t=this;this.backend.deleteObject("/api/v2/internal/packages/".concat(e)).then((function(e){e.ok?Object(y.o)({msg:"Package successfully deleted",title:"Deleted",callback:function(){return t.history.push("/ui/packages")}}):e.json().then((function(e){ue.NotificationManager.error(e.detail,"Error")}))}))}},{key:"toggleCheckbox",value:function(){this.setState({present_version:!present_version})}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/yumrepos").then((function(t){var a=[],r=[];t.forEach((function(e){"CentOS 6"===e.tag?a.push(e.name+" ("+e.tag+")"):"CentOS 7"===e.tag&&r.push(e.name+" ("+e.tag+")")})),e.addview?e.setState({list_repos_6:a,list_repos_7:r,write_perm:"true"===localStorage.getItem("authIsSuperuser"),loading:!1}):Promise.all([e.backend.fetchData("/api/v2/internal/packages/".concat(e.nameversion)),e.backend.fetchData("/api/v2/internal/probes")]).then((function(t){for(var n=Sr(t,2),o=n[0],i=n[1],l=[],c="",s="",u=0;u<o.repos.length;u++)"CentOS 6"===o.repos[u].split("(")[1].slice(0,-1)&&(c=o.repos[u]),"CentOS 7"===o.repos[u].split("(")[1].slice(0,-1)&&(s=o.repos[u]);i.forEach((function(e){e.package==="".concat(o.name," (").concat(o.version,")")&&l.push(e.name)})),e.setState({pkg:o,list_repos_6:a,list_repos_7:r,repo_6:c,repo_7:s,list_probes:l,write_perm:"true"===localStorage.getItem("authIsSuperuser"),loading:!1})}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.pkg,r=t.repo_6,o=t.repo_7,i=t.list_repos_6,l=t.list_repos_7,u=t.list_probes,m=t.write_perm,d=t.loading,f=t.present_version;return d?n.a.createElement(y.l,null):!d&&i?n.a.createElement(y.b,{resourcename:"package",location:this.location,addview:this.addview,modal:!0,state:this.state,toggle:this.toggleAreYouSure,submitperm:m,history:!1},n.a.createElement(E.d,{initialValues:{id:a.id,name:a.name,version:a.version,repo_6:r,repo_7:o,present_version:f},onSubmit:function(t,a){return e.onSubmitHandle(t,a)},validationSchema:Lr,enableReinitialize:!0,render:function(t){return n.a.createElement(E.c,null,n.a.createElement(p.a,null,n.a.createElement(c.a,{className:"align-items-center"},n.a.createElement(s.a,{md:6},n.a.createElement(le.a,null,n.a.createElement(ce.a,{addonType:"prepend"},"Name"),n.a.createElement(E.a,{type:"text",name:"name",className:"form-control ".concat(t.errors.name&&"border-danger"),id:"name"})),t.errors.name&&Object(y.h)(t.errors.name),n.a.createElement(se.a,{color:"muted"},"Package name.")),n.a.createElement(s.a,{md:2},n.a.createElement(c.a,null,n.a.createElement(s.a,{md:12},n.a.createElement(le.a,null,n.a.createElement(ce.a,{addonType:"prepend"},"Version"),n.a.createElement(E.a,{type:"text",name:"version",value:t.values.present_version?"present":t.values.version,disabled:t.values.present_version,className:"form-control ".concat(t.errors.version&&"border-danger"),id:"version"})),t.errors.version&&Object(y.h)(t.errors.version),n.a.createElement(se.a,{color:"muted"},"Package version.")))),n.a.createElement(s.a,{md:3},n.a.createElement(E.a,{component:y.c,name:"present_version",className:"form-control",id:"checkbox",label:"Use version which is present in repo",onChange:e.toggleCheckbox})))),n.a.createElement(p.a,null,n.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Yum repo"),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:8},n.a.createElement(y.a,wr({},t,{lists:i,icon:"yumrepos",field:"repo_6",val:t.values.repo_6,onselect_handler:e.onSelect,req:t.errors.undefined,label:"CentOS 6 repo"})),t.errors.undefined&&Object(y.h)(t.errors.undefined),n.a.createElement(se.a,{color:"muted"},"Package is part of selected CentOS 6 repo."))),n.a.createElement(c.a,{className:"mt-4"},n.a.createElement(s.a,{md:8},n.a.createElement(y.a,wr({},t,{lists:l,icon:"yumrepos",field:"repo_7",val:t.values.repo_7,onselect_handler:e.onSelect,req:t.errors.undefined,label:"CentOS 7 repo"})),t.errors.undefined&&Object(y.h)(t.errors.undefined),n.a.createElement(se.a,{color:"muted"},"Package is part of selected CentOS 7 repo."))),!e.addview&&n.a.createElement(c.a,{className:"mt-3"},n.a.createElement(s.a,{md:8},"Probes:",u.length>0&&n.a.createElement("div",null,u.map((function(e,t){return n.a.createElement(P.b,{key:t,to:"/ui/probes/"+e},e)})).reduce((function(e,t){return[e,", ",t]})))))),m&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},e.addview?n.a.createElement("div",null):n.a.createElement(h.a,{color:"danger",onClick:function(){e.toggleAreYouSureSetModal("Are you sure you want to delete package?","Delete package",(function(){return e.doDelete(e.nameversion)}))}},"Delete"),n.a.createElement(h.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):null}}]),t}(r.Component);function Rr(e){return(Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Br(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kr(e){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yr(e,t){return(Yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qr(){return(Qr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var Fr=Object(Ka.g)(y.m),Vr=Object(Ka.g)(y.n),Hr=Object(Ka.g)(y.d),qr=function(e){var t=e.webApiAggregation,a=e.webApiMetric,r=e.webApiThresholds,o=e.token,i=e.tenantName;return n.a.createElement(Ka.d,null,n.a.createElement(Ka.b,{exact:!0,path:"/ui/login",render:function(){return n.a.createElement(Ka.a,{to:"/ui/home"})}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/home",component:ie}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/services",component:zt}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/reports",component:xt}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/probes",component:Ie}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/probes/:name/history",render:function(e){return n.a.createElement(De,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/probes/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(Ne,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/probes/:name/history/:version",render:function(e){return n.a.createElement(Te,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/probes/:name",render:function(e){return n.a.createElement(we,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/metrics",component:je.f}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/metrics/:name/history",render:function(e){return n.a.createElement(je.e,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/metrics/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(je.h,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/metrics/:name/history/:version",render:function(e){return n.a.createElement(je.g,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/metrics/:name",render:function(e){return n.a.createElement(je.c,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/metricprofiles",component:ae}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/metricprofiles/add",render:function(e){return n.a.createElement(te,Qr({},e,{webapimetric:a,webapitoken:o,tenantname:i,addview:!0}))}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/metricprofiles/:name",render:function(e){return n.a.createElement(te,Qr({},e,{webapimetric:a,webapitoken:o,tenantname:i}))}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/metricprofiles/:name/history",render:function(e){return n.a.createElement(X,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/metricprofiles/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(ne,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/metricprofiles/:name/history/:version",render:function(e){return n.a.createElement(oe,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/aggregationprofiles",component:Nt}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/aggregationprofiles/add",render:function(e){return n.a.createElement(Ct,Qr({},e,{webapiaggregation:t,webapimetric:a,webapitoken:o,tenantname:i,addview:!0}))}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/aggregationprofiles/:name",render:function(e){return n.a.createElement(Ct,Qr({},e,{webapiaggregation:t,webapimetric:a,webapitoken:o,tenantname:i}))}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/aggregationprofiles/:name/history",render:function(e){return n.a.createElement(Ot,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/aggregationprofiles/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(jt,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/aggregationprofiles/:name/history/:version",render:function(e){return n.a.createElement(Lt,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/administration",component:at}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/administration/users",component:na}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/administration/users/add",render:function(e){return n.a.createElement(ta,Qr({},e,{addview:!0}))}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/administration/users/:user_name",render:function(e){return n.a.createElement(ta,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/administration/groupofmetrics",component:ha}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/administration/groupofmetrics/add",render:function(e){return n.a.createElement(ga,Qr({},e,{addview:!0}))}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/administration/groupofmetrics/:group",render:function(e){return n.a.createElement(ga,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/administration/groupofaggregations",component:Ea}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/administration/groupofaggregations/add",render:function(e){return n.a.createElement(va,Qr({},e,{addview:!0}))}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/administration/groupofaggregations/:group",render:function(e){return n.a.createElement(va,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/administration/groupofmetricprofiles",component:ba}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/administration/groupofmetricprofiles/add",render:function(e){return n.a.createElement(ya,Qr({},e,{addview:!0}))}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/administration/groupofmetricprofiles/:group",render:function(e){return n.a.createElement(ya,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/administration/apikey",component:Ra}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/administration/apikey/add",render:function(e){return n.a.createElement(Wa,Qr({},e,{addview:!0}))}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/administration/metrictemplates/",component:He}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/administration/metrictemplates/:name",render:function(e){return n.a.createElement(qe,Qr({},e,{tenantview:!0}))}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/administration/metrictemplates/:name/history",render:function(e){return n.a.createElement(Je,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/administration/metrictemplates/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(Xe,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/administration/metrictemplates/:name/history/:version",render:function(e){return n.a.createElement(tt,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/administration/apikey/:name",render:function(e){return n.a.createElement(Wa,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/administration/yumrepos/",component:$a}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/administration/yumrepos/:name",render:function(e){return n.a.createElement(er,Qr({},e,{disabled:!0}))}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/administration/groupofthresholdsprofiles",component:Ma}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/administration/groupofthresholdsprofiles/add",render:function(e){return n.a.createElement(Oa,Qr({},e,{addview:!0}))}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/administration/groupofthresholdsprofiles/:group",render:function(e){return n.a.createElement(Oa,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/thresholdsprofiles",component:vr}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/thresholdsprofiles/add",render:function(e){return n.a.createElement(br,Qr({},e,{webapithresholds:r,webapitoken:o,tenantname:i,addview:!0}))}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/thresholdsprofiles/:name",render:function(e){return n.a.createElement(br,Qr({},e,{webapithresholds:r,webapitoken:o,tenantname:i}))}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/thresholdsprofiles/:name/history",render:function(e){return n.a.createElement(_r,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/thresholdsprofiles/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(Mr,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/thresholdsprofiles/:name/history/:version",render:function(e){return n.a.createElement(Or,e)}}),n.a.createElement(Ka.b,{component:Ba}))},Gr=function(e){e.props;return n.a.createElement(Ka.d,null,n.a.createElement(Ka.b,{exact:!0,path:"/ui/login",render:function(){return n.a.createElement(Ka.a,{to:"/ui/home"})}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/home",component:ie}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/probes",component:Ie}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/probes/add",render:function(e){return n.a.createElement(we,Qr({},e,{addview:!0}))}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/probes/:name/clone",render:function(e){return n.a.createElement(Se,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/probes/:name/history",render:function(e){return n.a.createElement(De,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/probes/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(Ne,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/probes/:name/history/:version",render:function(e){return n.a.createElement(Te,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/probes/:name",render:function(e){return n.a.createElement(we,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/metrictemplates",component:Ve}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/metrictemplates/add",render:function(e){return n.a.createElement(qe,Qr({},e,{addview:!0}))}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/metrictemplates/:name/clone",render:function(e){return n.a.createElement(Ge,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/metrictemplates/:name/history",render:function(e){return n.a.createElement(Ze,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/metrictemplates/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(Xe,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/metrictemplates/:name/history/:version",render:function(e){return n.a.createElement(tt,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/metrictemplates/:name",render:function(e){return n.a.createElement(qe,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/yumrepos/",render:function(e){return n.a.createElement($a,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/yumrepos/add",render:function(e){return n.a.createElement(er,Qr({addview:!0},e))}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/yumrepos/:name",render:function(e){return n.a.createElement(er,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/packages/",render:function(e){return n.a.createElement(xr,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/packages/add",render:function(e){return n.a.createElement(Ur,Qr({addview:!0},e))}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/packages/:nameversion",render:function(e){return n.a.createElement(Ur,e)}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/administration",component:rt}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/administration/users",component:na}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/administration/users/add",render:function(e){return n.a.createElement(aa,Qr({},e,{addview:!0}))}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/administration/users/:user_name",render:function(e){return n.a.createElement(aa,e)}}),n.a.createElement(Ka.b,{component:Ba}))},Zr=function(e){function t(e){var a,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(a=!(n=Kr(t).call(this,e))||"object"!==Rr(n)&&"function"!=typeof n?zr(r):n).cookies=new M.a,a.backend=new I.a,a.state={isLogged:!!localStorage.getItem("authIsLogged"),isSessionActive:void 0,areYouSureModal:!1,webApiAggregation:void 0,webApiMetric:void 0,webApiThresholds:void 0,tenantName:void 0,token:void 0,isTenantSchema:null},a.onLogin=a.onLogin.bind(zr(a)),a.onLogout=a.onLogout.bind(zr(a)),a.toggleAreYouSure=a.toggleAreYouSure.bind(zr(a)),a.flushStorage=a.flushStorage.bind(zr(a)),a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yr(e,t)}(t,e),a=t,(r=[{key:"onLogin",value:function(e,t){var a=this;localStorage.setItem("authUsername",e.username),localStorage.setItem("authIsLogged",!0),localStorage.setItem("authFirstName",e.first_name),localStorage.setItem("authLastName",e.last_name),localStorage.setItem("authIsSuperuser",e.is_superuser),this.backend.isTenantSchema().then((function(e){return a.initalizeState(e,!0,!0)})).then(setTimeout((function(){t.push("/ui/home")}),50)).then(this.cookies.set("poemActiveSession",!0))}},{key:"flushStorage",value:function(){localStorage.removeItem("authUsername"),localStorage.removeItem("authIsLogged"),localStorage.removeItem("authFirstName"),localStorage.removeItem("authLastName"),localStorage.removeItem("authIsSuperuser"),this.cookies.remove("poemActiveSession")}},{key:"onLogout",value:function(){this.flushStorage(),this.setState({isLogged:!1,isSessionActive:!1})}},{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"fetchConfigOptions",value:function(){return fetch("/api/v2/internal/config_options").then((function(e){if(e.ok)return e.json()}))}},{key:"fetchToken",value:function(){return fetch("/api/v2/internal/apikeys/WEB-API").then((function(e){return e.ok?e.json():null})).then((function(e){return e.token})).catch((function(e){return alert("Something went wrong: "+e)}))}},{key:"initalizeState",value:function(e,t,a){var r=this;if(e)return Promise.all([this.fetchToken(),this.fetchConfigOptions()]).then((function(n){var o=Wr(n,2),i=o[0],l=o[1];r.setState({isTenantSchema:e,isSessionActive:t,isLogged:a,token:i,webApiMetric:l&&l.result.webapimetric,webApiAggregation:l&&l.result.webapiaggregation,webApiThresholds:l&&l.result.webapithresholds,tenantName:l&&l.result.tenant_name})}));this.setState({isTenantSchema:e,isSessionActive:t,isLogged:a})}},{key:"componentDidMount",value:function(){var e=this;this.backend.isTenantSchema().then((function(t){e.state.isLogged&&e.backend.isActiveSession().then((function(a){a?e.initalizeState(t,a,e.state.isLogged):e.flushStorage()}))}))}},{key:"render",value:function(){var e=this,t=this.cookies.get("poemActiveSession");return t&&this.state.isLogged?this.state.isLogged&&t&&null!==this.state.isTenantSchema?n.a.createElement(P.a,null,n.a.createElement(l.a,{fluid:!0},n.a.createElement(c.a,null,n.a.createElement(ue.NotificationContainer,null),n.a.createElement(s.a,null,n.a.createElement(Fr,{onLogout:this.onLogout,isOpenModal:this.state.areYouSureModal,toggle:this.toggleAreYouSure,titleModal:"Log out",msgModal:"Are you sure you want to log out?"}))),n.a.createElement(c.a,{className:"no-gutters"},n.a.createElement(s.a,{sm:{size:2},md:{size:2},id:"sidebar-col",className:"d-flex flex-column"},n.a.createElement(Vr,{isTenantSchema:this.state.isTenantSchema}),n.a.createElement("div",{id:"sidebar-grow",className:"flex-grow-1 border-left border-right rounded-bottom"})),n.a.createElement(s.a,null,n.a.createElement(Hr,null),this.state.isTenantSchema?n.a.createElement(qr,{webApiMetric:this.state.webApiMetric,webApiAggregation:this.state.webApiAggregation,webApiThresholds:this.state.webApiThresholds,token:this.state.token,tenantName:this.state.tenantName}):n.a.createElement(Gr,null))),n.a.createElement(c.a,null,n.a.createElement(s.a,null,n.a.createElement(y.i,{loginPage:!1}))))):null:n.a.createElement(P.a,null,n.a.createElement(Ka.d,null,n.a.createElement(Ka.b,{exact:!0,path:"/ui/login",render:function(t){return n.a.createElement(k,Qr({onLogin:e.onLogin},t))}}),n.a.createElement(Ka.b,{exact:!0,path:"/ui/(home|services|probes|reports|probes|metrics|metricprofiles|aggregationprofiles|administration|metrictemplates|yumrepos)",render:function(e){return n.a.createElement(Ka.a,{to:{pathname:"/ui/login",state:{from:e.location}}})}}),n.a.createElement(Ka.b,{component:Ba})))}}])&&Br(a.prototype,r),o&&Br(a,o),t}(r.Component),Jr=a("dLgX");a("q4sD");i.a.render(n.a.createElement(Zr,null),document.getElementById("react")),Jr.a()},hQ4L:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAdCAYAAAC9pNwMAAAABmJLR0QAngCeAJ53Twm3AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH4wQcDRUGZUVdGQAABRJJREFUSMell2tsFFUUx393drcv+oIWKpZFSrFuSmo24oMQSCSGogVtDOERWEHUGA2SILZUDCImBMFVCBLAmGIhKdEgJgSs0AEaNBKw8phS0LYqpQylAmH7Jt3HzPjBWVjKbLuN/y+7M/ee87/nzHldgQWc7kJURQ7/twEpQB7wEjAZyAEygB7gKnAOOAKcArpVRQ7019MfYhDSScALwDtAFoNDA74CDqiKLA9ELgYgXQ28Z1o2VGhABbBWVeQ2K3IRSQoIVZENp7vwAjARkPh/aAWmqYrcbGlxP0v9QFyMigOAH9DNZwmIt5DPUBXZF8kjwg9Od6EEnAceH4xN17WaUMB/ZVhaxtEla8prJ7gzxbA0gif21xnfeJdPEUK8bHfEO4UQU0yRPiBPVWQ1zBfp6jXAx4O497SuhfbMW7mlJTk9c27Q78/SQsEnwUgFeoQQf9sdcbX2uIT2czXf7zx58OvnktMztwNpwK+qIk/u7+pngGpzQzT8iOb3TL9wouPaCVJTe0hNCmHL7LuVHq/5NgIz+31F1Wa3bdi4YEKFGTN5QKmqyJ853YUIp7vQDnwIrB2AtE5VZDdA1aaCOebeEUAHGOuLNl/cV/b5H1MNxAHzfSS2ej2uFSZ5F1CsKvJt4XQXDgeaB7D2T1WR8w5/WjBLN9gVJZ97E0Nts445j/iCUvIh4BHzvWF6dafX41rpdBfeAF5RFfmgcLoLpwM10Uw1DHJ3L76e7w+J74CEgWIuKdQ6+4dxZzolI3AyUgUgJJv93R0lxVfSR2bnAF9IQHE0TQI2XKuTL8dACiDdsWcfKDs3vtEsn/fFka6FyhaW7WjUdW0SkCoBT0fTdLXdsa9qU8G6GEjDiDszauKzmohbYLH20MgxufO1YKArnPC5UZRcoSWzBXhzKKXKQFq2edH4zoiicq/a9N2ZINkdm0JBf5cEjIyaPuzpAGxDLJMTMQyA9gcOpetTF67antZ26SdNstpg4pb5Gxoi8WXaEECyxVq2EP8ZKgGXB1F0cIjE2188D2bN7g8bCClMfMZKOhjoY9XehiWzyurfHgKpnttZf9zV3lgRZb0d6A4TH7LMDck25Xab6iipbFqQoN1cGgtrvObzlOc3ZQGLo2w5DzSEiWvNxn2/T+yOGbtKZh8T6Dtl5/HGYUF1jtkCLeHQu+b+Mnp3rcDYazXZmGj0elwdYeJOYJvVrtQxj+YA+3Vhr6kad9pRdLY+BVgO3DS3+ICSdP/FtKPO6rpeh7MajPwopN1mI6K0suFud5oGHLMaAFRFFqWVDV3mwPdzr2Ps678PT7zdlE4gpxvHY+3EZ/Q1bQDjtUG+xGGvx1VUWtmA1+O6rx9vAVZYCGxbXVFd3nyp8beIg2mmp5JirGoNwFNej6vnbgyZsxbAGkC1EFr+ydKZRVlj8+ZF5LTNbH+xkF4Air0eV09pZcO94DXHHlRF7gXGRhH+aMuyGaMyRudMNuesWFEFzPB6XE1hFw82ZbYCDz+QpJq2rrX++PpVext3AM8bhjECSDSD1DA/QbcQ4nooGNi6+dWC8gE6n+VNIsWM9PkR7gw39ZYu340P4uITmxe9/+WoxJS0fJvNHmcYBoaut7f+VX+qcuNbCQlJKb7M7PFdWiioXqs7OuSbxDSzGLxhcT6fFgqd0rVQNxgaiGQhSelCko7YbPazQL2qyP9Eu02IGO5O8WbBfwLYDORbTKI+c277Fgioitwz2N3pX3OCCLv6PHumAAAAAElFTkSuQmCC"},kWNB:function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,"#argo-contentwrap {\n  background-color: white;\n}\n#sidebar-grow {\n  background-color: white;\n  margin-bottom: 1px;\n}\n#argo-nav {\n  background-color: #416090;\n}\n\n#argo-breadcrumb {\n  background-color: #ecf0f5;\n}\n\n#sidebar-col {\n  max-width: 215px;\n}\n\n#argo-breadcrumb > ol {\n  background-color: #ecf0f5;\n}\n",""])},lrsP:function(e,t,a){var r=a("eVqg");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},"p3/T":function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,"#argo-footer {\n  background-color: #ffffff;\n  max-height: 92px;\n}\n\n#argo-loginfooter {\n  background-color: #ffffff;\n  max-height: 155px;\n}\n\n#argo-navbar-logout {\n  color: #ffffff;\n  border-color: #ffffff;\n  background-color: #416090;\n}\n#argo-navbar-logout:hover {\n  color: #ffffff;\n  background-color: #31496d;\n}\n\n#argo-navlinks {\n  background-color: #ffffff;\n}\n\n.argo-autocomplete-menu {\n  display: block;\n  width: 94%;\n  color: #495057;\n  position: absolute;\n  background-color: white;\n  z-index: 1000;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n  overflow-y: auto;\n  max-height: 400px;\n}\n\n.argo-autocomplete-entries {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #495057;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n.argo-autocomplete-entries-highlighted {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  background-color: #4A90D9;\n  color: white;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n",""])},s1Uj:function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,"#argo-td {\n  vertical-align: middle;\n}\n",""])},"tYV+":function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,"#select-field{\n    width: 150px;\n}\n\n.grouplabel {\n    width: 180px;\n}\n\n.col-md-6 {\n    padding: 5px;\n}\n\n#checkbox {\n    margin-right: 5px;\n}",""])},uU5Y:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAZCAIAAAA5RHCCAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAA6cAAAOdQGIKBt4AAAGqklEQVRIiY1WSYxdVxGtuve++f3/e/jt73Y7aRts05A2ih0jAxEICGKIQBAEG6JYEUhIWbDIgh0LiAQBNiyQEOsIkAIRyhZEcIiwE4eEJHZIHCKP6W735D+/6Q5VLH73l91xSym9xbuqUp1X51TderjnyD+JyDnngAGAEQCAmQMrpQiK3CbNm+UwBQhl8j/dWyhqa1NuUpQeT1br3XIiIagsu1iF0845Y6vQUwhkjPaUQESQiogQUSmFiALeZ8wMAE6VhbhaCTvM5jBxWtl2e5HClHRM1Cax1rkpvNRUIHIbUzCZVTcNDwjLyuVOOKHQMhly45yjtHfAG1nORLAQTwUFXhnoNgQ9r96z/rVQBopD1g09rKc1r+zNBbG0VkofpY8qUE6QEwSeNEAWeYw0QhXjgnY4HCqQusi15KSuZvVG6A2SeDhHWdRqDX70m98vnnixc1XKzA8K6VUbTKGupDZgndAGDCMoH7xgnHlkYgx2K5kA4Cuo9IagoqHq0BXH771w6gd/rfFFkkt3Lbx99OS1u+dKlcvFe1555LFnDzY3JYVgPEGxr2rAvrEA6DmW44QjU7vpx1olooHct8MSivQzX1158LuvX3xhz/W3Tlx4ufzxdw6trc3VauXsofPfeuz5bOnI2890fN9nRoUeIBhHoICdA7wtuUymH72N4223Yut7OMhXAFnJxtpG+cpL8ZU37y8nsLsSZAOoZFxh2t70Lry4eO7MdD9fbu6JjO1bm6FwjpzvhQzobycUQiCiTKYfJSJmJmZEhPE8RMv9jenDJ5aPf/F6pxteuriwdP3unESleoGcCsJgwOTSYQVw+fynq6A6eKA6evRDTEWpc9/znQMpfSb2EJgZEcXIAC0KRsFCAm6ZBBBF2Yrr8sRC/uQTv1ts/dtH8lRrImxHJkGZ5Ww8QX7py2oynHpPoFqoZz/97fdPHnvXtT/SH86WdkZBv1YYQ44QWKADNuRkMn2KGbb5HNWHzMyYurJsrwzfef3gy2c/Bw3GdCMbRqjuPEKDdvTq2QNvvjbfKRyng7CmbRYGMrLCbZeBAIAzR/5OBETkgIEFIzAjEVmv63emIpB97dt6KdObhnLmicgmd8RzOuUM09iWZMVEXlkJmqeCWLMbkTnC23XecagOH3rj/gefN+EmpH3PzdfoY1L4u8VDeDWaeueTXzl9YH5FlFEcUlLXeZHuiNoVry6mvvHI+R/+7MzisY4buGwzU9RVhdkVrth3YK94/OenH3r4Xezt0d3Iahumgx1hu+oHubZl78rFyf+c/qhQM0nSAFdSriDA94MBQCM0VReydXHhpenlpVimOQBJ22TUH0i/JMwGm3VVNVS4xmmVsU+2aAXNLtk74lXVZqsWDa7u9+uZmlAF+cydAKVD8YH0G5RNO1mKvZuzH+44PU1hREmZDXeNh0YYtBJ/H9PEalu3yc/JSYSdHyfICXJADpgkMzIJJgBGK3tprr737af/+Ocn7jt4kbpNhXeTKjQweZuI6wGIokKTdNhTOKh97ciVp5558usPPctr85M+SFN5SdDHumCQgIJh9MikeWprySIgChAwutNEtG67s2l9WJnk1TP3asdkurFUGYYpTcWQFEUY1HMa1sQwDvx26IFRwzfO7e9s7McAjfOdyIVyyonb9Gsefo6ZyYEDBhBb+53AgEmkNGWhlNI9O7e3J/xqdXVf3tLiejjTyNezubDZl4P+gbu6q8vzuRkme97LB3WmOYDIoSJvQwWkyvoITAixpR8zMzhmBqDtI/myrm00lF4vqEPQeODL13/11F8WPj7UN1upp2thT6mSLR77xFu/+NOvP/vN/xpv/+qN+6zYL2NJQiolFCSst7cAbnW1YHbMjpkBiZnHR1eR4QxjzQG4oLO6rK9dNks3ViBqf+pLl37y9B+Ofv5s/4bNO7Ov/eP40qWAPPCSQARsSYComDPhasrVd/TLeP8RgACk7Y4la0p/ouPMpG3PRFOrZ144ee5fXxjKEqpyfQNLg0ASE3v56uwvH39YRKKUa77nysqArQUeaFPFsiFVal02Lm40f38bzx+iZABmZOYw6PUHrTDuRKispUHeMEAzTWdKGUPHdGYqKdTejWwQ+sJglUKUo2CgCAiVZ4uiSoIGkQUQt+mHiELAaDdt9xEjYpVHQUSQq1grKBs86anZYSfLWfctJVZMxPXNfq+wQUJpYtRQkHO5r+ykRCcYAhnJKNfc28Enzt/z3K3/M2OH4zvfW4C09cIj5sf7G29tjTGHihEARsUBwP8BoRsQdzWv4kYAAAAASUVORK5CYII="}},[["f1jT",1,2]]]);