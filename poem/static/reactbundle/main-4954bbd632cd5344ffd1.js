(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"/WES":function(e,t,a){var r=a("kWNB");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},"29KK":function(e,t,a){"use strict";a.d(t,"k",(function(){return se})),a.d(t,"f",(function(){return ue})),a.d(t,"q",(function(){return me})),a.d(t,"d",(function(){return pe})),a.d(t,"m",(function(){return fe})),a.d(t,"n",(function(){return _e})),a.d(t,"i",(function(){return he})),a.d(t,"l",(function(){return Ee})),a.d(t,"o",(function(){return ve})),a.d(t,"b",(function(){return be})),a.d(t,"c",(function(){return ye})),a.d(t,"h",(function(){return Me})),a.d(t,"a",(function(){return De})),a.d(t,"g",(function(){return we})),a.d(t,"j",(function(){return Ae})),a.d(t,"e",(function(){return ke})),a.d(t,"p",(function(){return Se}));var r=a("q1tI"),n=a.n(r),o=a("9ONQ"),i=a("DCcX"),l=a("vkoW"),c=a("CaDr"),s=a("OBzv"),u=a("sOKU"),m=a("XI7o"),d=a("EvW+"),p=a("tiWs"),f=a("374E"),_=a("a5/R"),g=a("nsn4"),h=a("9a8N"),E=a("F66N"),v=a("arvA"),b=a("BLzl"),y=a("afej"),M=a("/kxI"),O=a("xdlx"),D=a("aLZG"),w=a("jrRI"),A=a("ok1R"),k=a("rhny"),S=a("q7Gj"),P=a("re1l"),C=a("0E8A"),I=a("3OM0"),T=a("55Ip"),N=a("5tO7"),j=a.n(N),L=a("RYGk"),x=a.n(L),U=a("uU5Y"),R=a.n(U),W=a("hQ4L"),B=a.n(W),K=(a("Pn3v"),a("IP2g")),z=a("wHSu"),Y=a("of9s"),Q=a("KYPV"),F=a("/8CB"),V=a.n(F),H=a("a/x8"),q=a("XNy0"),G=a.n(q);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t,a){return t&&X(e.prototype,t),a&&X(e,a),e}function ee(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ae(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function oe(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var ie=["administration","services","probes","metrics","metricprofiles","aggregationprofiles","thresholdsprofiles"],le=["administration","probes","yumrepos","packages","metrictemplates"],ce=new Map;ce.set("administration","Administration"),ce.set("services","Services"),ce.set("reports","Reports"),ce.set("probes","Probes"),ce.set("metrics","Metrics"),ce.set("metricprofiles","Metric profiles"),ce.set("aggregationprofiles","Aggregation profiles"),ce.set("groupofaggregations","Groups of aggregations"),ce.set("groupofmetrics","Groups of metrics"),ce.set("groupofmetricprofiles","Groups of metric profiles"),ce.set("users","Users"),ce.set("apikey","API key"),ce.set("metrictemplates","Metric templates"),ce.set("yumrepos","YUM repos"),ce.set("groupofthresholdsprofiles","Groups of thresholds profiles"),ce.set("thresholdsprofiles","Thresholds profiles"),ce.set("packages","Packages");var se=function(e){var t=new Map;return t.set("administration",z.v),t.set("services",z.p),t.set("serviceflavour",z.h),t.set("reports",z.g),t.set("probes",z.n),t.set("metrics",z.d),t.set("metrictemplates",z.d),t.set("metricprofiles",z.e),t.set("aggregationprofiles",z.r),t.set("apikey",z.j),t.set("yumrepos",z.b),t.set("thresholdsprofiles",z.f),t.set("users",z.u),t.set("packages",z.a),e.i.startsWith("groupof")?n.a.createElement("span",{className:"fa-layers fa-fw"},n.a.createElement(K.a,{icon:z.q,color:"white",fixedWidth:!0}),n.a.createElement(K.a,{icon:t.get(e.i.replace("groupof","")),transform:"shrink-".concat("groupofmetricprofiles"===e.i?9:8," up-3")}),n.a.createElement(K.a,{icon:t.get(e.i.replace("groupof","")),transform:"shrink-".concat("groupofmetricprofiles"===e.i?9:8," down-4.2 left-5")}),n.a.createElement(K.a,{icon:t.get(e.i.replace("groupof","")),transform:"shrink-".concat("groupofmetricprofiles"===e.i?9:8," down-4.2 right-5")})):n.a.createElement(K.a,{icon:t.get(e.i),size:"yumrepos"===e.i||"metricprofiles"===e.i?"sm":"1x",fixedWidth:!0})},ue=function(e){var t=e.field,a=e.data,r=void 0===a?[]:a,o=e.prefix,i=void 0===o?"":o,l=e.class_name,c=void 0===l?"":l,s=e.isnew,u=void 0!==s&&s;return n.a.createElement(Q.a,{component:"select",name:i?"".concat(i,".").concat(t.name):t.name,required:!0,className:"form-control ".concat(c," ").concat(u?"border-success":"")},r.map((function(e,t){return 0===t?n.a.createElement("option",{key:t,hidden:!0},e):n.a.createElement("option",{key:t,value:e},e)})))},me=function(e){e.form;var t=e.field,a=oe(e,["form","field"]);return n.a.createElement("div",{className:"input-group"},n.a.createElement("input",ne({type:"text",placeholder:"Search"},t,a)),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("span",{className:"input-group-text",id:"basic-addon"},n.a.createElement(K.a,{icon:z.m}))))},de=function(e){var t=e.isOpen,a=e.toggle,r=e.title,o=e.msg,m=e.onYes;return n.a.createElement(i.a,{isOpen:t,toggle:a},n.a.createElement(l.a,{toggle:a},r),n.a.createElement(c.a,null,o),n.a.createElement(s.a,null,n.a.createElement(u.a,{color:"primary",onClick:function(){m(),a()}},"Yes")," ",n.a.createElement(u.a,{color:"secondary",onClick:a},"No")))},pe=function(e){var t=e.location,a=(e.history,t.pathname.split("/")),r=new Array;r.push({url:"/ui/home",title:"Home"});var o=new Object({url:"/ui/"+a[2]});if(o.title=ce.get(a[2]),r.push(o),a.length>3){var i=new Object({url:o.url+"/"+a[3]});i.title="Administration"===o.title?ce.get(a[3]):a[3],r.push(i)}if(a.length>4){var l=new Object({url:i.url+"/"+a[4]});l.title=a[4],r.push(l)}if(a.length>5){var c=new Object({url:l.url+"/"+a[5]});c.title=a[5],r.push(c)}if(a.length>6&&"history"===c.title){var s=new Object({url:c.url+"/"+a[6]});s.title=a[6],r.push(s)}return n.a.createElement(m.a,{id:"argo-breadcrumb",className:"border-top rounded"},r.map((function(e,t){return t!==r.length-1?n.a.createElement(d.a,{key:t},n.a.createElement(T.b,{to:e.url},e.title)):n.a.createElement(d.a,{key:t,active:!0},e.title)})))},fe=function(e){var t=e.history,a=e.onLogout,r=e.isOpenModal,i=e.toggle,l=e.titleModal,c=e.msgModal,s=e.userDetails;return n.a.createElement(n.a.Fragment,null,n.a.createElement(de,{isOpen:r,toggle:i,title:l,msg:c,onYes:function(){return function(e,t){var a=new o.a;return t(),fetch("/rest-auth/logout/",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":a.get("csrftoken"),Referer:"same-origin"}}).then((function(t){return e.push("/ui/login")}))}(t,a)}}),n.a.createElement(p.a,{expand:"md",id:"argo-nav",className:"border rounded"},n.a.createElement(f.a,{className:"text-light"},n.a.createElement("img",{src:j.a,alt:"ARGO logo",className:"img-responsive"}),n.a.createElement("span",{className:"pl-3"},n.a.createElement("strong",null,"ARGO")," POEM")),n.a.createElement(_.a,null),n.a.createElement(g.a,{navbar:!0,className:"justify-content-end"},n.a.createElement(h.a,{navbar:!0},n.a.createElement(E.a,{className:"m-2 text-light"},"Welcome, ",n.a.createElement("span",{className:"font-weight-bold"},s.first_name?s.first_name:s.username)),n.a.createElement(E.a,{className:"m-2"},n.a.createElement(u.a,{id:"argo-navbar-logout",size:"sm",onClick:function(){return i()}},n.a.createElement(K.a,{icon:z.o})))))))},_e=function(e){var t=e.location,a=e.isTenantSchema,r=e.userDetails,o=void 0;return o=a?ie:le,r.is_superuser||(o=o.filter((function(e){return"administration"!==e}))),n.a.createElement(h.a,{vertical:!0,pills:!0,id:"argo-navlinks",className:"border-left border-right border-top rounded-top sticky-top"},o.map((function(e,a){return n.a.createElement(E.a,{key:a},n.a.createElement(v.a,{tag:T.b,active:t.pathname.split("/")[2]===e,className:t.pathname.split("/")[2]===e?"text-white bg-info":"text-dark",to:"/ui/"+e},n.a.createElement(se,{i:e})," ",ce.get(e)))})))},ge=function(e){var t=e.border,a=void 0!==t&&t;return n.a.createElement(n.a.Fragment,null,a&&n.a.createElement("div",{className:"pt-1"}),n.a.createElement("div",{className:"text-center pt-1"},n.a.createElement("img",{src:R.a,id:"eulogo",alt:"EU logo"}),n.a.createElement("img",{src:B.a,id:"eosclogo",alt:"EOSC logo",className:"pl-1"})),n.a.createElement("p",{className:"text-center"},n.a.createElement("small",null,n.a.createElement("strong",null,"ARGO POEM")," is a service jointly developed and maintained by  ",n.a.createElement("a",{href:"http://www.cnrs.fr/",title:"Centre national de la recherche scientifique"},"CNRS"),",  ",n.a.createElement("a",{href:"https://grnet.gr/",title:"Greek Research and Technology Network"},"GRNET")," and  ",n.a.createElement("a",{href:"http://www.srce.unizg.hr/",title:"University computing centre"},"SRCE"),"  co-funded by ",n.a.createElement("a",{href:"https://www.eosc-hub.eu",title:"EOSC-Hub"},"EOSC-Hub")," and  ",n.a.createElement("a",{href:"http://www.egi.eu/",title:"EGI.eu"},"EGI.eu"),n.a.createElement("br",null),n.a.createElement("a",{href:"http://argo.egi.eu/lavoisier/TermsofUse",title:"Terms of use"},"Terms of use"),", ",n.a.createElement("a",{href:"http://www.apache.org/licenses/LICENSE-2.0",title:"License"},"License"))))},he=function(e){var t=e.loginPage;return void 0!==t&&t?n.a.createElement("div",{id:"argo-loginfooter"},n.a.createElement(ge,null)):n.a.createElement("div",{id:"argo-footer",className:"border rounded"},n.a.createElement(ge,{border:!0}))},Ee=function(){return n.a.createElement(b.a,{className:"text-center"},n.a.createElement(y.a,{className:"bg-light"},n.a.createElement("h4",{className:"text-dark"},"Loading data...")),n.a.createElement(M.a,null,n.a.createElement("img",{src:x.a,alt:"ARGO logo anim",className:"img-responsive",height:"300px"})))},ve=function(e){var t=e.msg,a=void 0===t?"":t,r=e.title,n=void 0===r?"":r,o=e.callback,i=void 0===o?void 0:o;Y.NotificationManager.success(a,n,2e3),setTimeout(i,2e3)},be=function(e){var t=e.resourcename,a=void 0===t?"":t,r=e.location,o=void 0===r?void 0:r,i=e.infoview,l=void 0!==i&&i,c=e.addview,s=void 0!==c&&c,u=e.listview,m=void 0!==u&&u,d=e.modal,p=void 0!==d&&d,f=e.state,_=void 0===f?void 0:f,g=e.toggle,h=void 0===g?void 0:g,E=e.submitperm,v=void 0===E||E,b=e.history,y=void 0===b||b,M=e.addnew,w=void 0===M||M,A=e.clone,k=void 0!==A&&A,S=e.cloneview,P=void 0!==S&&S,C=e.tenantview,I=void 0!==C&&C,N=e.children;return n.a.createElement(n.a.Fragment,null,p&&n.a.createElement(de,{isOpen:_.areYouSureModal,toggle:h,title:_.modalTitle,msg:_.modalMsg,onYes:_.modalFunc}),n.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},l?n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},a):s?n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Add ".concat(a)):m?n.a.createElement(n.a.Fragment,null,w?n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Select ".concat(a," to change")):n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Select ".concat(a," for details")),w&&n.a.createElement(T.b,{className:"btn btn-secondary",to:o.pathname+"/add",role:"button"},"Add")):P?n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Clone ".concat(a))):I?n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},a),y&&n.a.createElement(T.b,{className:"btn btn-secondary",to:o.pathname+"/history",role:"button"},"History")):n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Change ".concat(a)),n.a.createElement(O.a,null,k&&n.a.createElement(T.b,{className:"btn btn-secondary mr-2",to:o.pathname+"/clone",role:"button"},"Clone"),y&&n.a.createElement(T.b,{className:"btn btn-secondary",to:o.pathname+"/history",role:"button"},"History")))),n.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},!v&&!l&&!m&&n.a.createElement(D.a,{color:"danger"},n.a.createElement("center",null,"This is a read-only instance, please request the corresponding permissions to perform any changes in this form.")),N))},ye=function(e){var t=e.field,a=t.name,r=t.value,o=t.onChange,i=t.onBlur,l=e.form,c=l.errors,s=l.touched,u=e.id,m=e.label;oe(e,["field","form","id","label"]);return n.a.createElement("div",null,n.a.createElement("input",{name:a,id:u,type:"checkbox",value:r,checked:r,onChange:o,onBlur:i}),n.a.createElement("label",{htmlFor:u},m),s[a]&&c[a]&&n.a.createElement("div",{className:"error"},c[a]))},Me=function(e){return n.a.createElement("div",{style:{color:"#FF0000",fontSize:"small"}},e)};function Oe(e,t){if(t)return-1!==e.toLowerCase().indexOf(t.toLowerCase())}var De=function(e){var t=e.lists,a=e.onselect_handler,r=e.field,o=e.val,i=e.icon,l=e.setFieldValue,c=e.req,s=e.label,u=(e.values,"form-control ".concat(c&&"border-danger"));return n.a.createElement(V.a,{inputProps:{className:u},getItemValue:function(e){return e},items:t,value:o,renderItem:function(e,a){return n.a.createElement("div",{key:t.indexOf(e),className:"argo-autocomplete-entries ".concat(a?"argo-autocomplete-entries-highlighted":"")},e?n.a.createElement(se,{i:i}):""," ",e)},renderInput:function(e){return s?n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},s)),n.a.createElement("input",ne({},e,{type:"text",className:u,"aria-label":"label"}))):n.a.createElement("input",e)},onChange:function(e){l(r,e.target.value)},onSelect:function(e){l(r,e),a(r,e)},wrapperStyle:{},shouldItemRender:Oe,renderMenu:function(e){return n.a.createElement("div",{className:"argo-autocomplete-menu",children:e})}})},we=function(e){var t=e.value,a=e.onChange,r=e.data;return n.a.createElement("select",{onChange:a,style:{width:"100%"},value:t},n.a.createElement("option",{key:0,value:""},"Show all"),r.map((function(e,t){return n.a.createElement("option",{key:t+1,value:e},e)})))};function Ae(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(a){function r(e){var t;return J(this,r),(t=ee(this,te(r).call(this,e))).name=e.match.params.name,t.history=e.history,t.state={loading:!1,list_versions:null,compare1:"",compare2:""},t.backend=new H.a,t}return ae(r,a),$(r,[{key:"componentDidMount",value:function(){var t=this;this.setState({loading:!0});var a=void 0;a=["metric","metricprofile","aggregationprofile","thresholdsprofile"].includes(e)?"/api/v2/internal/tenantversion/":"/api/v2/internal/version/",this.backend.fetchData("".concat(a,"/").concat(e,"/").concat(this.name)).then((function(e){e.length>1?t.setState({list_versions:e,loading:!1,compare1:e[0].version,compare2:e[1].version}):t.setState({list_versions:e,loading:!1})}))}},{key:"render",value:function(){var a=this,r=this.state,o=r.loading,i=r.list_versions,l=void 0;return l=t?"/ui/administration/".concat(e,"s/").concat(this.name,"/history"):"/ui/".concat(e,"s/").concat(this.name,"/history"),o?n.a.createElement(Ee,null):!o&&i?n.a.createElement(be,{resourcename:"Version history",infoview:!0},n.a.createElement("table",{className:"table table-sm"},n.a.createElement("thead",{className:"table-active"},n.a.createElement("tr",null,1===i.length?n.a.createElement("th",{scope:"col"},"Compare"):n.a.createElement("th",{scope:"col"},n.a.createElement(u.a,{color:"info",onClick:function(){return a.history.push("".concat(l,"/compare/").concat(a.state.compare1,"/").concat(a.state.compare2))}},"Compare")),n.a.createElement("th",{scope:"col"},"Version"),n.a.createElement("th",{scope:"col"},"Date/time"),n.a.createElement("th",{scope:"col"},"User"),n.a.createElement("th",{scope:"col"},"Comment"))),n.a.createElement("tbody",null,i.map((function(e,t){return n.a.createElement("tr",{key:t},1===i.length?n.a.createElement("td",null,"-"):0===t?n.a.createElement("td",null,n.a.createElement("input",{type:"radio",name:"radio-1",value:e.version,defaultChecked:!0,onChange:function(e){return a.setState({compare1:e.target.value})}})):n.a.createElement("td",null,n.a.createElement("input",{type:"radio",name:"radio-1",value:e.version,onChange:function(e){return a.setState({compare1:e.target.value})}})," ",n.a.createElement("input",{type:"radio",name:"radio-2",value:e.version,defaultChecked:1===t,onChange:function(e){return a.setState({compare2:e.target.value})}})),n.a.createElement("td",null,e.version?n.a.createElement(T.b,{to:"".concat(l,"/").concat(e.version)},e.version):""),n.a.createElement("td",null,e.date_created?e.date_created:""),n.a.createElement("td",null,e.user?e.user:""),n.a.createElement("td",{className:"col-md-6"},e.comment?e.comment:""))}))))):null}}]),r}(r.Component)}var ke=function(e){var t=e.title,a=e.item1,r=e.item2;a=a.split("\r\n"),r=r.split("\r\n");var o=Math.max(a.length,r.length);if(a.length>r.length)for(var i=r.length;i<a.length;i++)r.push(" ");else if(r.length>a.length)for(var l=a.length;l<r.length;l++)a.push(" ");for(var c=[],s=0;s<o;s++)c.push(n.a.createElement(G.a,{oldValue:r[s],newValue:a[s],showDiffOnly:!0,splitView:!1,hideLineNumbers:!0,disableWordDiff:!0,key:"diff-"+s}));return n.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},n.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},t),c)},Se=function(e){var t=e.errors,a=e.grouplist,r=void 0===a?void 0:a,o=e.description,i=void 0===o?void 0:o,l=e.fieldsdisable,c=void 0!==l&&l,s=e.profiletype,u=void 0===s?void 0:s;return n.a.createElement(w.a,null,n.a.createElement(A.a,null,n.a.createElement(k.a,{md:6},n.a.createElement(S.a,null,n.a.createElement(P.a,{addonType:"prepend"},"Name"),n.a.createElement(Q.a,{type:"text",name:"name",className:"form-control form-control-lg ".concat(t.name&&"border-danger"),disabled:c})),t.name&&Me(t.name),n.a.createElement(C.a,{color:"muted"},"Name of ".concat(u," profile")))),i&&n.a.createElement(A.a,{className:"mt-3"},n.a.createElement(k.a,{md:10},n.a.createElement(I.a,{for:"profileDescription"},"Description:"),n.a.createElement(Q.a,{id:"profileDescription",className:"form-control",component:"textarea",name:i,disabled:c}),n.a.createElement(C.a,{color:"muted"},"Free text description outlining the purpose of this profile."))),n.a.createElement(A.a,{className:"mt-4"},n.a.createElement(k.a,{md:3},n.a.createElement(S.a,null,n.a.createElement(P.a,{addonType:"prepend"},"Group"),c?n.a.createElement(Q.a,{type:"text",name:"groupname",className:"form-control",disabled:!0}):n.a.createElement(Q.a,{name:"groupname",component:"select",className:"form-control custom-select ".concat(t.groupname&&"border-danger")},n.a.createElement("option",{key:0,value:"",hidden:!0,color:"muted"},"Select group"),r.map((function(e,t){return n.a.createElement("option",{key:t+1,value:e},e)})))),t.groupname&&Me(t.groupname),n.a.createElement(C.a,{color:"muted"},"".concat(u.charAt(0).toUpperCase()+u.slice(1)," profile is member of given group.")))))}},"5tO7":function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgdmVyc2lvbj0iMS4xIiAKICAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgCiAgICB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQgbWVldCIgdmlld0JveD0iNC45MTc4NjU2NTY3NTI0NCA0LjY0MjkwMjM3NzQwOTk2OCAxMDIuMjMzMjE1NTQ3NzAzMiA1MCIgd2lkdGg9Ijk4LjIzIiBoZWlnaHQ9IjQ2Ij4KICAgIDxkZWZzPgogICAgICAgIDxwYXRoIGQ9Ik0xMDMuMTkgMjkuMDFMMTAyLjIyIDMwLjE2TDEwMS4yMyAzMS4yOUwxMDAuMjMgMzIuMzhMOTkuMjEgMzMuNDVMOTguMTggMzQuNDhMOTcuMTQgMzUuNDlMOTYuMDggMzYuNDZMOTUuMDEgMzcuNDFMOTMuOTMgMzguMzJMOTIuODMgMzkuMkw5MS43MiA0MC4wNkw5MC42IDQwLjg4TDg5LjQ2IDQxLjY3TDg4LjMxIDQyLjQzTDg3LjE0IDQzLjE2TDg1Ljk2IDQzLjg3TDg0Ljc3IDQ0LjU0TDgzLjU3IDQ1LjE4TDgyLjM1IDQ1Ljc5TDgxLjExIDQ2LjM3TDc5Ljg3IDQ2LjkyTDc4LjYxIDQ3LjQ0TDc3LjMzIDQ3LjkzTDc2LjA0IDQ4LjM5TDc0Ljc0IDQ4LjgyTDczLjQzIDQ5LjIyTDcyLjEgNDkuNThMNzAuNzYgNDkuOTJMNjkuNCA1MC4yM0w2OC4wMyA1MC41MUw2Ni42NSA1MC43Nkw2NS4yNSA1MC45N0w2My44NCA1MS4xNkw2Mi40MiA1MS4zMkw2MC45OCA1MS40NEw1OS41MyA1MS41NEw1OC4wNiA1MS42TDU2LjU4IDUxLjY0TDU1LjA5IDUxLjY0TDUzLjYgNTEuNjJMNTIuMTIgNTEuNTdMNTAuNjYgNTEuNDlMNDkuMjEgNTEuMzhMNDcuNzcgNTEuMjRMNDYuMzQgNTEuMDdMNDQuOTMgNTAuODhMNDMuNTMgNTAuNjZMNDIuMTUgNTAuNDFMNDAuNzggNTAuMTNMMzkuNDIgNDkuODJMMzguMDggNDkuNDlMMzYuNzUgNDkuMTJMMzUuNDMgNDguNzNMMzQuMTMgNDguMzFMMzIuODQgNDcuODZMMzEuNTYgNDcuMzlMMzAuMyA0Ni44OEwyOS4wNSA0Ni4zNUwyNy44MSA0NS43OUwyNi41OSA0NS4yTDI1LjM4IDQ0LjU4TDI0LjE4IDQzLjk0TDIzIDQzLjI2TDIxLjgzIDQyLjU2TDIwLjY4IDQxLjgzTDE5LjU0IDQxLjA3TDE4LjQxIDQwLjI5TDE3LjI5IDM5LjQ3TDE2LjE5IDM4LjYzTDE1LjEgMzcuNzZMMTQuMDMgMzYuODZMMTIuOTcgMzUuOTNMMTEuOTIgMzQuOTdMMTAuODkgMzMuOTlMOS44NyAzMi45OEw4Ljg2IDMxLjk0TDcuODYgMzAuODdMNi44OCAyOS43N0w1LjkyIDI4LjY0TDU1LjA5IDUuNjRMMTA0LjE1IDI3LjgyTDEwMy4xOSAyOS4wMVpNNTEuNzkgMTMuNjFMNTAuNTQgMTMuODhMNDkuMzMgMTQuMjVMNDguMTcgMTQuNzJMNDcuMDUgMTUuMjdMNDUuOTkgMTUuOTFMNDQuOTkgMTYuNjNMNDQuMDUgMTcuNDNMNDMuMTggMTguMzFMNDIuMzggMTkuMjRMNDEuNjUgMjAuMjVMNDEuMDEgMjEuMzFMNDAuNDYgMjIuNDJMMzkuOTkgMjMuNTlMMzkuNjIgMjQuOEwzOS4zNSAyNi4wNEwzOS4xOSAyNy4zM0wzOS4xMyAyOC42NEwzOS4xOSAyOS45NkwzOS4zNSAzMS4yNEwzOS42MiAzMi40OUwzOS45OSAzMy43TDQwLjQ2IDM0Ljg3TDQxLjAxIDM1Ljk4TDQxLjY1IDM3LjA0TDQyLjM4IDM4LjA0TDQzLjE4IDM4Ljk4TDQ0LjA1IDM5Ljg2TDQ0Ljk5IDQwLjY1TDQ1Ljk5IDQxLjM4TDQ3LjA1IDQyLjAyTDQ4LjE3IDQyLjU3TDQ5LjMzIDQzLjA0TDUwLjU0IDQzLjQxTDUxLjc5IDQzLjY4TDUzLjA3IDQzLjg0TDU0LjM5IDQzLjlMNTUuNyA0My44NEw1Ni45OSA0My42OEw1OC4yNCA0My40MUw1OS40NCA0My4wNEw2MC42MSA0Mi41N0w2MS43MiA0Mi4wMkw2Mi43OCA0MS4zOEw2My43OSA0MC42NUw2NC43MyAzOS44Nkw2NS42IDM4Ljk4TDY2LjQgMzguMDRMNjcuMTIgMzcuMDRMNjcuNzYgMzUuOThMNjguMzIgMzQuODdMNjguNzggMzMuN0w2OS4xNSAzMi40OUw2OS40MiAzMS4yNEw2OS41OCAyOS45Nkw2OS42NCAyOC42NEw2OS41OCAyNy4zM0w2OS40MiAyNi4wNEw2OS4xNSAyNC44TDY4Ljc4IDIzLjU5TDY4LjMyIDIyLjQyTDY3Ljc2IDIxLjMxTDY3LjEyIDIwLjI1TDY2LjQgMTkuMjRMNjUuNiAxOC4zMUw2NC43MyAxNy40M0w2My43OSAxNi42M0w2Mi43OCAxNS45MUw2MS43MiAxNS4yN0w2MC42MSAxNC43Mkw1OS40NCAxNC4yNUw1OC4yNCAxMy44OEw1Ni45OSAxMy42MUw1NS43IDEzLjQ1TDU0LjM5IDEzLjM5TDUzLjA3IDEzLjQ1TDUxLjc5IDEzLjYxWiIgaWQ9ImIzZHhnVUpTTFciPjwvcGF0aD4KICAgICAgICA8cGF0aCBkPSJNNjYuMTEgMjguODJDNjYuMTEgMzUuMzUgNjAuOCA0MC42NiA1NC4yNyA0MC42NkM0Ny43NCA0MC42NiA0Mi40MyAzNS4zNSA0Mi40MyAyOC44MkM0Mi40MyAyMi4yOSA0Ny43NCAxNi45OCA1NC4yNyAxNi45OEM2MC44IDE2Ljk4IDY2LjExIDIyLjI5IDY2LjExIDI4LjgyWiIgaWQ9ImU0ZXBvZkxQV0wiPjwvcGF0aD4KICAgIDwvZGVmcz4KICAgIDxnPgogICAgICAgIDxnPgogICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9IiNiM2R4Z1VKU0xXIiBvcGFjaXR5PSIxIiBmaWxsPSIjNzViM2Q5IiAgZmlsbC1vcGFjaXR5PSIxIj48L3VzZT4KICAgICAgICA8L2c+CiAgICAgICAgPGc+CiAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI2U0ZXBvZkxQV0wiIG9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlPSJ3aGl0ZSIgZmlsbD0iIzZmOGRjNCIgZmlsbC1vcGFjaXR5PSIxIj48L3VzZT4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},ML16:function(e,t,a){var r=a("dtk8");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},Pn3v:function(e,t,a){var r=a("p3/T");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},QjdQ:function(e,t,a){var r=a("tYV+");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},RYGk:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgdmVyc2lvbj0iMS4xIiAKICAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgCiAgICB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQgbWVldCIgdmlld0JveD0iNC45MTc4NjU2NTY3NTI0NCA0LjY0MjkwMjM3NzQwOTk2OCAxMDIuMjMzMjE1NTQ3NzAzMiA1MCIgd2lkdGg9Ijk4LjIzIiBoZWlnaHQ9IjQ2Ij4KICAgIDxkZWZzPgogICAgICAgIDxwYXRoIGQ9Ik0xMDMuMTkgMjkuMDFMMTAyLjIyIDMwLjE2TDEwMS4yMyAzMS4yOUwxMDAuMjMgMzIuMzhMOTkuMjEgMzMuNDVMOTguMTggMzQuNDhMOTcuMTQgMzUuNDlMOTYuMDggMzYuNDZMOTUuMDEgMzcuNDFMOTMuOTMgMzguMzJMOTIuODMgMzkuMkw5MS43MiA0MC4wNkw5MC42IDQwLjg4TDg5LjQ2IDQxLjY3TDg4LjMxIDQyLjQzTDg3LjE0IDQzLjE2TDg1Ljk2IDQzLjg3TDg0Ljc3IDQ0LjU0TDgzLjU3IDQ1LjE4TDgyLjM1IDQ1Ljc5TDgxLjExIDQ2LjM3TDc5Ljg3IDQ2LjkyTDc4LjYxIDQ3LjQ0TDc3LjMzIDQ3LjkzTDc2LjA0IDQ4LjM5TDc0Ljc0IDQ4LjgyTDczLjQzIDQ5LjIyTDcyLjEgNDkuNThMNzAuNzYgNDkuOTJMNjkuNCA1MC4yM0w2OC4wMyA1MC41MUw2Ni42NSA1MC43Nkw2NS4yNSA1MC45N0w2My44NCA1MS4xNkw2Mi40MiA1MS4zMkw2MC45OCA1MS40NEw1OS41MyA1MS41NEw1OC4wNiA1MS42TDU2LjU4IDUxLjY0TDU1LjA5IDUxLjY0TDUzLjYgNTEuNjJMNTIuMTIgNTEuNTdMNTAuNjYgNTEuNDlMNDkuMjEgNTEuMzhMNDcuNzcgNTEuMjRMNDYuMzQgNTEuMDdMNDQuOTMgNTAuODhMNDMuNTMgNTAuNjZMNDIuMTUgNTAuNDFMNDAuNzggNTAuMTNMMzkuNDIgNDkuODJMMzguMDggNDkuNDlMMzYuNzUgNDkuMTJMMzUuNDMgNDguNzNMMzQuMTMgNDguMzFMMzIuODQgNDcuODZMMzEuNTYgNDcuMzlMMzAuMyA0Ni44OEwyOS4wNSA0Ni4zNUwyNy44MSA0NS43OUwyNi41OSA0NS4yTDI1LjM4IDQ0LjU4TDI0LjE4IDQzLjk0TDIzIDQzLjI2TDIxLjgzIDQyLjU2TDIwLjY4IDQxLjgzTDE5LjU0IDQxLjA3TDE4LjQxIDQwLjI5TDE3LjI5IDM5LjQ3TDE2LjE5IDM4LjYzTDE1LjEgMzcuNzZMMTQuMDMgMzYuODZMMTIuOTcgMzUuOTNMMTEuOTIgMzQuOTdMMTAuODkgMzMuOTlMOS44NyAzMi45OEw4Ljg2IDMxLjk0TDcuODYgMzAuODdMNi44OCAyOS43N0w1LjkyIDI4LjY0TDU1LjA5IDUuNjRMMTA0LjE1IDI3LjgyTDEwMy4xOSAyOS4wMVpNNTEuNzkgMTMuNjFMNTAuNTQgMTMuODhMNDkuMzMgMTQuMjVMNDguMTcgMTQuNzJMNDcuMDUgMTUuMjdMNDUuOTkgMTUuOTFMNDQuOTkgMTYuNjNMNDQuMDUgMTcuNDNMNDMuMTggMTguMzFMNDIuMzggMTkuMjRMNDEuNjUgMjAuMjVMNDEuMDEgMjEuMzFMNDAuNDYgMjIuNDJMMzkuOTkgMjMuNTlMMzkuNjIgMjQuOEwzOS4zNSAyNi4wNEwzOS4xOSAyNy4zM0wzOS4xMyAyOC42NEwzOS4xOSAyOS45NkwzOS4zNSAzMS4yNEwzOS42MiAzMi40OUwzOS45OSAzMy43TDQwLjQ2IDM0Ljg3TDQxLjAxIDM1Ljk4TDQxLjY1IDM3LjA0TDQyLjM4IDM4LjA0TDQzLjE4IDM4Ljk4TDQ0LjA1IDM5Ljg2TDQ0Ljk5IDQwLjY1TDQ1Ljk5IDQxLjM4TDQ3LjA1IDQyLjAyTDQ4LjE3IDQyLjU3TDQ5LjMzIDQzLjA0TDUwLjU0IDQzLjQxTDUxLjc5IDQzLjY4TDUzLjA3IDQzLjg0TDU0LjM5IDQzLjlMNTUuNyA0My44NEw1Ni45OSA0My42OEw1OC4yNCA0My40MUw1OS40NCA0My4wNEw2MC42MSA0Mi41N0w2MS43MiA0Mi4wMkw2Mi43OCA0MS4zOEw2My43OSA0MC42NUw2NC43MyAzOS44Nkw2NS42IDM4Ljk4TDY2LjQgMzguMDRMNjcuMTIgMzcuMDRMNjcuNzYgMzUuOThMNjguMzIgMzQuODdMNjguNzggMzMuN0w2OS4xNSAzMi40OUw2OS40MiAzMS4yNEw2OS41OCAyOS45Nkw2OS42NCAyOC42NEw2OS41OCAyNy4zM0w2OS40MiAyNi4wNEw2OS4xNSAyNC44TDY4Ljc4IDIzLjU5TDY4LjMyIDIyLjQyTDY3Ljc2IDIxLjMxTDY3LjEyIDIwLjI1TDY2LjQgMTkuMjRMNjUuNiAxOC4zMUw2NC43MyAxNy40M0w2My43OSAxNi42M0w2Mi43OCAxNS45MUw2MS43MiAxNS4yN0w2MC42MSAxNC43Mkw1OS40NCAxNC4yNUw1OC4yNCAxMy44OEw1Ni45OSAxMy42MUw1NS43IDEzLjQ1TDU0LjM5IDEzLjM5TDUzLjA3IDEzLjQ1TDUxLjc5IDEzLjYxWiIgaWQ9ImExcGtjZVVMNDQiPjwvcGF0aD4KICAgICAgICA8cGF0aCBkPSJNNjYuMTEgMjguODJDNjYuMTEgMzUuMzUgNjAuOCA0MC42NiA1NC4yNyA0MC42NkM0Ny43NCA0MC42NiA0Mi40MyAzNS4zNSA0Mi40MyAyOC44MkM0Mi40MyAyMi4yOSA0Ny43NCAxNi45OCA1NC4yNyAxNi45OEM2MC44IDE2Ljk4IDY2LjExIDIyLjI5IDY2LjExIDI4LjgyWiIgaWQ9ImRqWGR6bnhlSSI+PC9wYXRoPgogICAgPC9kZWZzPgogICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCw0MCkiPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsLTQwKSI+CiAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI2ExcGtjZVVMNDQiIG9wYWNpdHk9IjEiIGZpbGw9IiNkMmQyZDIiIGZpbGwtb3BhY2l0eT0iMSI+PC91c2U+CiAgICAgICAgPC9nPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsLTQwKSI+CiAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI2RqWGR6bnhlSSIgb3BhY2l0eT0iMSIgZmlsbD0iI2JmYmZiZiIgZmlsbC1vcGFjaXR5PSIxIj48L3VzZT4KICAgICAgICA8L2c+CiAgICAgICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIgogICAgICAgICAgICAgdHlwZT0ic2NhbGUiCiAgICAgICAgICAgICBhZGRpdGl2ZT0ic3VtIiAKICAgICAgICAgICAgIGZyb209IjEgMSIKICAgICAgICAgICAgIHRvPSIxIDEiCiAgICAgICAgICAgICBiZWdpbj0iMHMiCiAgICAgICAgICAgICBkdXI9IjFzIgogICAgICAgICAgICAgdmFsdWVzPSIxIDE7IDEgMTsgMSAwOyAxIDE7IDEgMTsgMSAwOyAxIDE7IDEgMDsgMSAxIgogICAgICAgICAgICAga2V5VGltZXM9IjA7IDAuMzsgMC40OyAwLjU7IDAuNzsgMC43NjsgMC44OyAwLjk7IDEiCiAgICAgICAgICAgICByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIKICAgICAgICAvPgogICAgPC9nPgo8L3N2Zz4="},SKq3:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",(function(){return MetricList})),__webpack_require__.d(__webpack_exports__,"e",(function(){return MetricHistory})),__webpack_require__.d(__webpack_exports__,"h",(function(){return MetricVersonCompare})),__webpack_require__.d(__webpack_exports__,"i",(function(){return ProbeVersionLink})),__webpack_require__.d(__webpack_exports__,"b",(function(){return ListOfMetrics})),__webpack_require__.d(__webpack_exports__,"d",(function(){return MetricForm})),__webpack_require__.d(__webpack_exports__,"a",(function(){return CompareMetrics})),__webpack_require__.d(__webpack_exports__,"c",(function(){return MetricChange})),__webpack_require__.d(__webpack_exports__,"g",(function(){return MetricVersionDetails}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("q1tI"),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_DataManager__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("a/x8"),react_router_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("55Ip"),_UIElements__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("29KK"),react_table__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("0enf"),formik__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("KYPV"),reactstrap__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("ok1R"),reactstrap__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("rhny"),reactstrap__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("3OM0"),reactstrap__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("sOKU"),reactstrap__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("aLZG"),reactstrap__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("jrRI"),reactstrap__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("q7Gj"),reactstrap__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("re1l"),reactstrap__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("0E8A"),reactstrap__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("iqOp"),reactstrap__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("glTy"),reactstrap__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("YGfb"),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("IP2g"),_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("wHSu"),react_notifications__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("of9s"),react_notifications__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(react_notifications__WEBPACK_IMPORTED_MODULE_20__),react_diff_viewer__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("XNy0"),react_diff_viewer__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(react_diff_viewer__WEBPACK_IMPORTED_MODULE_21__);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){var a=[],r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return a}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var MetricList=ListOfMetrics("metric"),MetricHistory=Object(_UIElements__WEBPACK_IMPORTED_MODULE_3__.j)("metric"),MetricVersonCompare=CompareMetrics("metric"),DefaultFilterComponent=function(e){var t=e.value,a=e.onChange,r=e.field;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{type:"text",placeholder:"Search by "+r,value:t,onChange:a,style:{width:"100%"}})};function validateConfig(e){var t;return e||(t="Required"),t}var InlineDiffElement=function(e){for(var t=e.title,a=e.item1,r=e.item2,n=Math.max(a.length,r.length),o=[],i=0;i<a.length;i++)o.push("key: "+a[i].key+", value: "+a[i].value);for(var l=[],c=0;c<r.length;c++)l.push("key: "+r[c].key+", value: "+r[c].value);if(a.length>r.length)for(var s=r.length;s<a.length;s++)l.push(" ");else if(r.length>a.length)for(var u=a.length;u<r.length;u++)o.push(" ");for(var m=[],d=0;d<n;d++)m.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_diff_viewer__WEBPACK_IMPORTED_MODULE_21___default.a,{oldValue:l[d],newValue:o[d],showDiffOnly:!0,splitView:!1,hideLineNumbers:!0,disableWordDiff:!0,key:"diff-"+d}));return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},t),m)};function arraysEqual(e,t){if(e.length!==t.length)return!1;for(var a=e.length;a--;)if(e[a].key!==t[a].key||e[a].value!==t[a].value)return!1;return!0}var InlineFields=function(e){var t=e.values,a=e.errors,r=e.field,n=e.addnew,o=void 0!==n&&n,i=e.readonly,l=void 0!==i&&i;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase",hidden:"Passive"===t.type&&"flags"!==r},r.replace("_"," ")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.b,{name:r,render:function(e){return t[r]&&t[r].length>0?t[r].map((function(n,i){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,{key:"fragment.".concat(r,".").concat(i)},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_6__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:5},0===i&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_8__.a,{hidden:"Passive"===t.type&&"flags"!==r,for:"".concat(r,".0.key")},"Key")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:5},0===i&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_8__.a,{hidden:"Passive"===t.type&&"flags"!==r,for:"".concat(r,".0.value")},"Value"))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_6__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:5},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",name:"".concat(r,".").concat(i,".key"),id:"".concat(r,".").concat(i,".key"),className:"form-control ".concat(t[r][i].isNew&&"border-success"),readOnly:!o||"config"===r||"Passive"===t.type&&"PASSIVE"===n.key,hidden:"Passive"===t.type&&"flags"!==r})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:5},"Active"===t.type&&"config"===r?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",name:"".concat(r,".").concat(i,".value"),id:"".concat(r,".").concat(i,".value"),className:"form-control ".concat(a.config&&a.config[i]&&"border-danger"),readOnly:l||!o&&"config"===r&&"path"===n.key,validate:validateConfig}):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",name:"".concat(r,".").concat(i,".value"),id:"".concat(r,".").concat(i,".value"),className:"form-control ".concat(t[r][i].isNew&&"border-success"),style:{overflowX:"auto"},readOnly:l||!o&&("config"!==r||"config"===r&&"path"===n.key)||"Passive"===t.type&&"PASSIVE"===n.key,hidden:"Passive"===t.type&&"flags"!==r}),a.config&&"config"===r&&a.config[i]&&Object(_UIElements__WEBPACK_IMPORTED_MODULE_3__.h)(a.config[i].value)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:2},o&&"config"!==r&&(""!==t[r][0].key||""!==t[r][0].value||t[r].length>1)&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_9__.a,{hidden:"Passive"===t.type&&"flags"!==r||"flags"===r&&"Passive"===t.type&&("PASSIVE"===t[r][i].key||""===t[r][i].key&&""===t[r][i].value),size:"sm",color:"danger",type:"button",onClick:function(){e.remove(i),1===t[r].length&&e.push({key:"",value:""})}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_18__.a,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_19__.k})))),o&&"config"!==r&&i===t[r].length-1&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_6__.a,{className:"Passive"===t.type?"mt-0":"mt-2"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:2},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_9__.a,{hidden:"Passive"===t.type&&"flags"!==r,size:"sm",color:"success",type:"button",onClick:function(){return e.push({key:"",value:"",isNew:!0})}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_18__.a,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_19__.l})," Add another ","s"===r.slice(-1)?r.slice(0,-1).replace("_"," "):r.replace("_"," ")))))})):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,{key:"fragment.".concat(r)},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_6__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:5},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_8__.a,{to:"empty-key",hidden:"Passive"===t.type&&"flags"!==r},"Key"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",className:"form-control",value:"",id:"empty-key",readOnly:!o,hidden:"Passive"===t.type&&"flags"!==r})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:5},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_8__.a,{to:"empty-value",hidden:"Passive"===t.type&&"flags"!==r},"Value"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",value:"",className:"form-control",id:"empty-value",readOnly:!o,hidden:"Passive"===t.type&&"flags"!==r}))),o&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_6__.a,{className:"Passive"===t.type?"mt-0":"mt-2"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:2},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_9__.a,{hidden:"Passive"===t.type&&"flags"!==r,size:"sm",color:"success",type:"button",onClick:function(){return e.push({key:"",value:""})}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_18__.a,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_19__.l})," Add another ","s"===r.slice(-1)?r.slice(0,-1).replace("_"," "):r.replace("_"," ")))))}}))},ProbeVersionLink=function(e){var t=e.probeversion;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.b,{to:"/ui/probes/"+t.split(" ")[0]+"/history/"+t.split(" ")[1].substring(1,t.split(" ")[1].length-1)},t)};function ListOfMetrics(type){var imp=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(_Component){function _class(e){var t;return _classCallCheck(this,_class),(t=_possibleConstructorReturn(this,_getPrototypeOf(_class).call(this,e))).location=e.location,t.state="metric"===type?{loading:!1,list_metric:null,list_tags:null,list_groups:null,list_types:null,search_name:"",search_probeversion:"",search_type:"",search_group:"",userDetails:void 0}:{loading:!1,list_metric:null,list_types:null,list_ostags:null,search_name:"",search_probeversion:"",search_ostag:"",search_type:"",selected:{},selectAll:0,userDetails:void 0},t.backend=new _DataManager__WEBPACK_IMPORTED_MODULE_1__.a,t.doFilter=t.doFilter.bind(_assertThisInitialized(t)),t.toggleRow=t.toggleRow.bind(_assertThisInitialized(t)),t.importMetrics=t.importMetrics.bind(_assertThisInitialized(t)),t}return _inherits(_class,_Component),_createClass(_class,[{key:"doFilter",value:function doFilter(list_metric,field,filter){return list_metric.filter((function(row){return eval("row.".concat(field)).toLowerCase().includes(filter.toLowerCase())}))}},{key:"toggleRow",value:function(e){var t=Object.assign({},this.state.selected);t[e]=!this.state.selected[e],this.setState({selected:t,selectAll:2})}},{key:"toggleSelectAll",value:function(){var e=this,t=this.state.list_metric;this.state.search_name&&(t=this.doFilter(t,"name",this.state.search_name)),this.state.search_probeversion&&(t=this.doFilter(t,"probeversion",this.state.search_probeversion)),this.state.search_type&&(t=this.doFilter(t,"mtype",this.state.search_type)),this.state.search_ostag&&(t=t.filter((function(t){return"".concat(t.ostag.join(", ")).includes(e.state.search_ostag)})));var a={};0===this.state.selectAll&&t.forEach((function(e){a[e.name]=!0})),this.setState({selected:a,selectAll:0===this.state.selectAll?1:0})}},{key:"importMetrics",value:function(){var e=this.state.selected;Object.keys(e).length>0?this.backend.importMetrics({metrictemplates:Object.keys(e)}).then((function(e){return e.json()})).then((function(e){e.imported&&react_notifications__WEBPACK_IMPORTED_MODULE_20__.NotificationManager.success(e.imported,"Imported"),e.err&&react_notifications__WEBPACK_IMPORTED_MODULE_20__.NotificationManager.warning(e.err,"Not imported")})):react_notifications__WEBPACK_IMPORTED_MODULE_20__.NotificationManager.error("No metric templates were selected!","Error")}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.isTenantSchema().then((function(t){e.backend.isActiveSession(t).then((function(t){t.active&&("metric"===type?Promise.all([e.backend.fetchData("/api/v2/internal/metric"),e.backend.fetchResult("/api/v2/internal/usergroups"),e.backend.fetchData("/api/v2/internal/mtypes")]).then((function(a){var r=_slicedToArray(a,3),n=r[0],o=r[1],i=r[2];return e.setState({list_metric:n,list_groups:o.metrics,list_types:i,loading:!1,search_name:"",search_probeversion:"",search_group:"",search_type:"",userDetails:t.userdetails})})):Promise.all([e.backend.fetchData("/api/v2/internal/metrictemplates".concat(imp?"-import":"")),e.backend.fetchData("/api/v2/internal/mttypes"),e.backend.fetchData("/api/v2/internal/ostags")]).then((function(a){var r=_slicedToArray(a,3),n=r[0],o=r[1],i=r[2];return e.setState({list_metric:n,list_types:o,list_ostags:i,loading:!1,search_name:"",search_probeversion:"",search_type:"",search_ostag:"",userDetails:t.userdetails})})))}))}))}},{key:"render",value:function(){var e=this,t=void 0;t="metric"===type?"/ui/metrics/":imp?"/ui/administration/metrictemplates/":"/ui/metrictemplates/";var a=[{Header:"Name",id:"name",minWidth:100,accessor:function(a){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.b,{to:imp?"CentOS 6"===e.state.search_ostag&&a.centos6_probeversion?"".concat(t).concat(a.name,"/history/").concat(a.centos6_probeversion.split(" ")[1].substring(1,a.centos6_probeversion.split(" ")[1].length-1)):"CentOS 7"===e.state.search_ostag&&a.centos7_probeversion?"".concat(t).concat(a.name,"/history/").concat(a.centos7_probeversion.split(" ")[1].substring(1,a.centos7_probeversion.split(" ")[1].length-1)):"".concat(t).concat(a.name):"".concat(t).concat(a.name)},a.name)},filterable:!0,Filter:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DefaultFilterComponent,{field:"name",value:this.state.search_name,onChange:function(t){return e.setState({search_name:t.target.value})}})},{Header:"Probe version",id:"probeversion",minWidth:80,accessor:function(t){return t.probeversion?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ProbeVersionLink,{probeversion:imp?"CentOS 6"===e.state.search_ostag&&t.centos6_probeversion?t.centos6_probeversion:"CentOS 7"===e.state.search_ostag&&t.centos7_probeversion?t.centos7_probeversion:t.probeversion:t.probeversion}):""},Cell:function(e){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{textAlign:"center"}},e.value)},filterable:!0,Filter:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DefaultFilterComponent,{field:"probe version",value:this.state.search_probeversion,onChange:function(t){return e.setState({search_probeversion:t.target.value})}})},{Header:"Type",minWidth:30,accessor:"mtype",Cell:function(e){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{textAlign:"center"}},e.value)},filterable:!0,Filter:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.g,{value:this.state.mtype,onChange:function(t){return e.setState({search_type:t.target.value})},data:this.state.list_types})}];imp&&this.state.userDetails&&this.state.userDetails.is_superuser?a.splice(0,0,{id:"checkbox",accessor:"",Cell:function(t){var a=t.original;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{type:"checkbox",className:"checkbox",checked:!0===e.state.selected[a.name],onChange:function(){return e.toggleRow(a.name)}}))},Header:"Select all",Filter:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{type:"checkbox",className:"checkbox",checked:1===this.state.selectAll,ref:function(t){t&&(t.indeterminate=2===e.state.selectAll)},onChange:function(){return e.toggleSelectAll()}})),filterable:!0,sortable:!1,minWidth:12}):a.splice(0,0,{Header:"#",id:"row",minWidth:12,Cell:function(e){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{textAlign:"center"}},e.index+1)}}),"metric"===type&&a.splice(4,0,{Header:"Group",minWidth:30,accessor:"group",Cell:function(e){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{textAlign:"center"}},e.value)},filterable:!0,Filter:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.g,{value:this.state.search_group,onChange:function(t){return e.setState({search_group:t.target.value})},data:this.state.list_groups})}),imp&&a.splice(4,0,{Header:"OS",minWidth:30,accessor:"ostag",Cell:function(e){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{textAlign:"center"}},e.value.join(", "))},filterable:!0,Filter:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.g,{value:this.state.ostag,onChange:function(t){return e.setState({search_ostag:t.target.value})},data:this.state.list_ostags})});var r=this.state,n=r.loading,o=r.list_metric;return this.state.search_name&&(o=this.doFilter(o,"name",this.state.search_name)),this.state.search_probeversion&&(o=this.doFilter(o,"probeversion",this.state.search_probeversion)),this.state.search_type&&(o=this.doFilter(o,"mtype",this.state.search_type)),this.state.search_ostag&&(o=o.filter((function(t){return"".concat(t.ostag.join(", ")).toLowerCase().includes(e.state.search_ostag.toLowerCase())}))),"metric"===type&&this.state.search_group&&(o=this.doFilter(o,"group",this.state.search_group)),n?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.l,null):!n&&o&&this.state.userDetails?"metric"===type?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.b,{resourcename:"metric",location:this.location,listview:!0,addnew:!1},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_table__WEBPACK_IMPORTED_MODULE_4__.a,{data:o,columns:a,className:"-highlight",defaultPageSize:50,rowsText:"metrics",getTheadThProps:function(){return{className:"table-active font-weight-bold p-2"}}})):imp?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Select metric template".concat(this.state.userDetails.is_superuser?"(s) to import":" for details")),this.state.userDetails.is_superuser&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_9__.a,{className:"btn btn-secondary",disabled:!this.state.search_ostag,onClick:function(){return e.importMetrics()}},"Import")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},!this.state.search_ostag&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_10__.a,{color:"danger"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("center",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_18__.a,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_19__.i,size:"lg",color:"black"}),"   You should choose OS for import.")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_table__WEBPACK_IMPORTED_MODULE_4__.a,{data:o,columns:a,className:"-highlight",defaultPageSize:50,rowsText:"metrics",getTheadThProps:function(){return{className:"table-active font-weight-bold p-2"}}}))):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.b,{resourcename:"metric template",location:this.location,listview:!imp,importlistview:imp,addnew:!0},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_table__WEBPACK_IMPORTED_MODULE_4__.a,{data:o,columns:a,className:"-striped -highlight",defaultPageSize:50,rowsText:"metrics",getTheadThProps:function(){return{className:"table-active font-weight-bold p-2"}}})):null}}]),_class}(react__WEBPACK_IMPORTED_MODULE_0__.Component)}var MetricForm=function(e){var t=e.values,a=void 0===t?void 0:t,r=e.errors,n=void 0===r?{name:void 0,probeversion:void 0,probeexecutable:void 0}:r,o=e.setFieldValue,i=void 0===o?void 0:o,l=e.handleChange,c=e.obj,s=void 0===c?"":c,u=e.state,m=void 0===u?void 0:u,d=e.togglePopOver,p=void 0===d?void 0:d,f=e.onSelect,_=void 0===f?void 0:f,g=e.isHistory,h=void 0!==g&&g,E=e.isTenantSchema,v=void 0!==E&&E,b=e.addview,y=void 0!==b&&b,M=e.probeversions,O=void 0===M?[]:M,D=e.groups,w=void 0===D?[]:D,A=e.metrictemplatelist,k=void 0===A?[]:A,S=e.types,P=void 0===S?[]:S;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_11__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_6__.a,{className:"mb-3"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:4},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{addonType:"prepend"},"Name"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",name:"name",className:"form-control ".concat(n.name&&"border-danger"),id:"name",readOnly:h||v})),n.name&&Object(_UIElements__WEBPACK_IMPORTED_MODULE_3__.h)(n.name),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_14__.a,{color:"muted"},"Metric name.")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:4},"Passive"===a.type?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{addonType:"prepend"},"Probe"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{type:"text",className:"form-control",disabled:!0,id:"passive-probeversion"})):h||v&&"metrictemplate"===s?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{addonType:"prepend"},"Probe"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",name:"probeversion",className:"form-control",id:"probeversion",disabled:!0})):v&&"metric"===s?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{addonType:"prepend"},"Probe"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{component:"select",name:"probeversion",className:"form-control custom-select",id:"probeversion",onChange:function(e){return _("probeversion",e.target.value)}},O.map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option",{key:t,value:e},e)})))):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.a,{setFieldValue:i,lists:O,icon:"probes",field:"probeversion",val:a.probeversion,onselect_handler:_,req:n.probeversion,label:"Probe"}),n.probeversion&&Object(_UIElements__WEBPACK_IMPORTED_MODULE_3__.h)(n.probeversion),"Active"===a.type&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_14__.a,{color:"muted"},"Probe name and version",!h&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_18__.a,{id:"probe-popover",hidden:"Passive"==="state.".concat(s,".mtype")||y,icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_19__.i,style:{color:"#416090"}}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_15__.a,{placement:"bottom",isOpen:m.popoverOpen,target:"probe-popover",toggle:p,trigger:"click"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_16__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ProbeVersionLink,{probeversion:"metric"===s?m.metric.probeversion:m.metrictemplate.probeversion})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_17__.a,null,m.probe.description))))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:2},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{addonType:"prepend"},"Type"),v||h?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",name:"type",className:"form-control",id:"mtype",readOnly:!0}):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{component:"select",name:"type",className:"form-control custom-select",id:"mtype",onChange:function(e){if(l(e),"Passive"===e.target.value){var t=a.flags.length;1===t&&""===a.flags[0].key?(i("flags[0].key","PASSIVE"),i("flags[0].value","1")):(i("flags[".concat(t,"].key"),"PASSIVE"),i("flags[".concat(t,"].value"),"1"))}else if("Active"===e.target.value){var r=void 0;a.flags.forEach((function(e,t){"PASSIVE"===e.key&&(r=t)})),1===a.flags.length?a.flags.splice(r,1,{key:"",value:""}):a.flags.splice(r,1)}}},P.map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option",{key:t,value:e},e)})))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_14__.a,{color:"muted"},"Metric is of given type."))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_6__.a,{className:"mb-4"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:10},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_8__.a,{for:"description"},"Description:"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{id:"description",className:"form-control",component:"textarea",name:"description",disabled:v||h}))),"metric"===s&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_6__.a,{className:"mb-4"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:3},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_12__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_13__.a,{addonType:"prepend"},"Group"),h?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",name:"group",className:"form-control",disabled:!0,id:"group"}):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{component:"select",name:"group",className:"form-control custom-select",id:"group"},w.map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option",{key:t,value:e},e)})))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_14__.a,{color:"muted"},"Metric is member of selected group.")))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_11__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Metric configuration"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase",hidden:"Passive"===a.type},"probe executable"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_6__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:5},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",name:"probeexecutable",id:"probeexecutable",className:"form-control ".concat(n.probeexecutable&&"border-danger"),hidden:"Passive"===a.type,readOnly:v||h}),n.probeexecutable&&Object(_UIElements__WEBPACK_IMPORTED_MODULE_3__.h)(n.probeexecutable))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineFields,{values:a,errors:n,field:"config",addnew:!v&&!h,readonly:"metrictemplate"===s&&v||h}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineFields,{values:a,errors:n,field:"attributes",addnew:!v&&!h}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineFields,{values:a,errors:n,field:"dependency",addnew:!v&&!h}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineFields,{values:a,errors:n,field:"parameter",addnew:!v&&!h}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineFields,{values:a,errors:n,field:"flags",addnew:!v&&!h}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineFields,{values:a,errors:n,field:"file_attributes",addnew:!v&&!h}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineFields,{values:a,errors:n,field:"file_parameters",addnew:!v&&!h}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},"parent"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_6__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{md:5},v||h?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,{type:"text",name:"parent",id:"parent",className:"form-control",readOnly:!0}):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.a,{setFieldValue:i,lists:k,field:"parent",val:a.parent,icon:"metrics",className:"form-control ".concat(n.parent&&"border-danger"),onselect_handler:_,req:n.parent}),n.parent&&Object(_UIElements__WEBPACK_IMPORTED_MODULE_3__.h)(n.parent))))))};function CompareMetrics(e){return function(t){function a(e){var t;return _classCallCheck(this,a),(t=_possibleConstructorReturn(this,_getPrototypeOf(a).call(this,e))).version1=e.match.params.id1,t.version2=e.match.params.id2,t.name=e.match.params.name,t.state={loading:!1,name1:"",probeversion1:"",type1:"",group1:"",description1:"",probeexecutable1:"",parent1:"",config1:"",attribute1:"",dependency1:"",parameter1:"",flags1:"",files1:"",fileparameter1:"",name2:"",probeversion2:"",type2:"",group2:"",description2:"",probeexecutable2:"",parent2:"",config2:"",attribute2:"",dependency2:"",parameter2:"",flags2:"",files2:"",fileparameter2:""},t.backend=new _DataManager__WEBPACK_IMPORTED_MODULE_1__.a,t}return _inherits(a,t),_createClass(a,[{key:"componentDidMount",value:function(){var t=this;this.setState({loading:!0});var a=void 0;a="metric"===e?"/api/v2/internal/tenantversion/metric/".concat(this.name):"/api/v2/internal/version/metrictemplate/".concat(this.name),this.backend.fetchData(a).then((function(a){var r="",n="",o="",i="",l="",c="",s="",u="",m="",d="",p="",f="",_="",g="",h="",E="",v="",b="",y="",M="",O="",D="",w="",A="",k="",S="",P="",C="";a.forEach((function(a){a.version==t.version1?(r=a.fields.name,n=a.fields.probeversion,o=a.fields.mtype,"metric"===e?(i=a.fields.group,d=a.fields.dependancy):d=a.fields.dependency,l=a.fields.description,c=a.fields.probeexecutable,s=a.fields.parent,u=a.fields.config,m=a.fields.attribute,_=a.fields.parameter,p=a.fields.flags,f=a.fields.files,g=a.fields.fileparameter):a.version==t.version2&&(h=a.fields.name,E=a.fields.probeversion,v=a.fields.mtype,"metric"===e?(b=a.fields.group,A=a.fields.dependancy):A=a.fields.dependency,y=a.fields.description,M=a.fields.probeexecutable,O=a.fields.parent,D=a.fields.config,w=a.fields.attribute,k=a.fields.flags,S=a.fields.files,P=a.fields.parameter,C=a.fields.fileparameter)})),t.setState({name1:r,probeversion1:n,type1:o,group1:i,description1:l,probeexecutable1:c,parent1:s,config1:u,attribute1:m,dependency1:d,parameter1:_,flags1:p,files1:f,fileparameter1:g,name2:h,probeversion2:E,type2:v,group2:b,description2:y,probeexecutable2:M,parent2:O,config2:D,attribute2:w,dependency2:A,parameter2:P,flags2:k,files2:S,fileparameter2:C,loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.name1,a=e.name2,r=e.probeversion1,n=e.probeversion2,o=e.type1,i=e.type2,l=e.probeexecutable1,c=e.probeexecutable2,s=e.parent1,u=e.parent2,m=e.config1,d=e.config2,p=e.attribute1,f=e.attribute2,_=e.dependency1,g=e.dependency2,h=e.parameter1,E=e.parameter2,v=e.flags1,b=e.flags2,y=e.files1,M=e.files2,O=e.fileparameter1,D=e.fileparameter2,w=e.group1,A=e.group2,k=e.loading,S=e.description1,P=e.description2;return k?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.l,null):!k&&t&&a?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Compare ".concat(this.name))),t!==a&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.e,{title:"name",item1:t,item2:a}),r!==n&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.e,{title:"probe version",item1:r,item2:n}),o!==i&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.e,{title:"type",item1:o,item2:i}),w&&A&&w!==A&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.e,{title:"group",item1:w,item2:A}),S!==P&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.e,{title:"description",item1:S,item2:P}),l!==c&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.e,{title:"probe executable",item1:l,item2:c}),s!==u&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.e,{title:"parent",item1:s,item2:u}),!arraysEqual(m,d)&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineDiffElement,{title:"config",item1:m,item2:d}),!arraysEqual(p,f)&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineDiffElement,{title:"attribute",item1:p,item2:f}),!arraysEqual(_,g)&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineDiffElement,{title:"dependency",item1:_,item2:g}),!arraysEqual(h,E)&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineDiffElement,{title:"parameter",item1:h,item2:E}),!arraysEqual(v,b)&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineDiffElement,{title:"flags",item1:v,item2:b}),!arraysEqual(y,M)&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineDiffElement,{title:"file attributes",item1:y,item2:M}),!arraysEqual(O,D)&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(InlineDiffElement,{title:"file parameters",item1:O,item2:D})):null}}]),a}(react__WEBPACK_IMPORTED_MODULE_0__.Component)}var MetricChange=function(e){function t(e){var a;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).name=e.match.params.name,a.addview=e.addview,a.location=e.location,a.history=e.history,a.backend=new _DataManager__WEBPACK_IMPORTED_MODULE_1__.a,a.state={metric:{},probe:{},groups:[],probeversions:[],metrictemplateversions:[],loading:!1,popoverOpen:!1,write_perm:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},a.toggleAreYouSure=a.toggleAreYouSure.bind(_assertThisInitialized(a)),a.toggleAreYouSureSetModal=a.toggleAreYouSureSetModal.bind(_assertThisInitialized(a)),a.onSubmitHandle=a.onSubmitHandle.bind(_assertThisInitialized(a)),a.doChange=a.doChange.bind(_assertThisInitialized(a)),a.doDelete=a.doDelete.bind(_assertThisInitialized(a)),a.togglePopOver=a.togglePopOver.bind(_assertThisInitialized(a)),a.onSelect=a.onSelect.bind(_assertThisInitialized(a)),a}return _inherits(t,e),_createClass(t,[{key:"togglePopOver",value:function(){this.setState({popoverOpen:!this.state.popoverOpen})}},{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSelect",value:function(e,t){var a=this,r=this.state.metric;this.state.metrictemplateversions.forEach((function(e){if(e.fields.probeversion===t){var n,o=(_defineProperty(n={name:e.fields.name,probeversion:e.fields.probeversion,description:e.fields.description,group:r.group,mtype:e.fields.mtype,probeexecutable:e.fields.probeexecutable,parent:e.fields.parent,config:e.fields.config,attribute:e.fields.attribute,dependancy:e.fields.dependency,parameter:e.fields.parameter,flags:e.fields.flags,files:e.fields.flags},"files",e.fields.files),_defineProperty(n,"fileparameter",e.fields.fileparameter),n);a.setState({metric:o})}}))}},{key:"onSubmitHandle",value:function(e,t){var a=this;this.toggleAreYouSureSetModal("Are you sure you want to change metric?","Change metric",(function(){return a.doChange(e,t)}))}},{key:"doChange",value:function(e,t){var a=this;this.backend.changeObject("/api/v2/internal/metric/",{name:e.name,mtype:e.type,group:e.group,description:e.description,parent:e.parent,probeversion:e.probeversion,probeexecutable:e.probeexecutable,config:e.config,attribute:e.attributes,dependancy:e.dependency,flags:e.flags,files:e.file_attributes,parameter:e.parameter,fileparameter:e.file_parameters}).then((function(){return Object(_UIElements__WEBPACK_IMPORTED_MODULE_3__.o)({msg:"Metric successfully changed",title:"Changed",callback:function(){return a.history.push("/ui/metrics")}})})).catch((function(e){return alert("Something went wrong: "+e)}))}},{key:"doDelete",value:function(e){var t=this;this.backend.deleteObject("/api/v2/internal/metric/".concat(e)).then((function(){return Object(_UIElements__WEBPACK_IMPORTED_MODULE_3__.o)({msg:"Metric successfully deleted",title:"Deleted",callback:function(){return t.history.push("/ui/metrics")}})})).catch((function(e){return alert("Something went wrong: "+e)}))}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.addview||Promise.all([this.backend.isActiveSession(),this.backend.fetchData("/api/v2/internal/metric/".concat(this.name)),this.backend.fetchData("/api/v2/internal/version/metrictemplate/".concat(this.name))]).then((function(t){var a=_slicedToArray(t,3),r=a[0],n=a[1],o=a[2];r.active&&(n.probeversion?e.backend.fetchData("/api/v2/internal/version/probe/".concat(n.probeversion.split(" ")[0])).then((function(t){var a={},i=[];t.forEach((function(e){i.push(e.object_repr),e.object_repr===n.probeversion&&(a=e.fields)})),e.setState({metric:n,probe:a,probeversions:i,metrictemplateversions:o,groups:r.userdetails.groups.metrics,loading:!1,write_perm:r.userdetails.is_superuser||r.userdetails.groups.metrics.indexOf(n.group)>=0})})):e.setState({metric:n,groups:r.userdetails.groups.metrics,loading:!1,write_perm:r.userdetails.is_superuser||r.userdetails.groups.metrics.indexOf(n.group)>=0}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.metric,r=t.probeversions,n=t.groups,o=t.loading,i=t.write_perm;return n.includes(a.group)||n.push(a.group),o?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.l,null):o?void 0:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.b,{resourcename:"metric",location:this.location,addview:this.addview,modal:!0,state:this.state,toggle:this.toggleAreYouSure,submitperm:i},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.d,{enableReinitialize:!0,initialValues:{name:a.name,probeversion:a.probeversion,description:a.description,type:a.mtype,group:a.group,probeexecutable:a.probeexecutable,parent:a.parent,config:a.config,attributes:a.attribute,dependency:a.dependancy,parameter:a.parameter,flags:a.flags,file_attributes:a.files,file_parameters:a.fileparameter},onSubmit:function(t,a){return e.onSubmitHandle(t,a)},render:function(t){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.c,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(MetricForm,_extends({},t,{obj:"metric",isTenantSchema:!0,state:e.state,onSelect:e.onSelect,togglePopOver:e.togglePopOver,probeversions:r,groups:n})),i&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_9__.a,{color:"danger",onClick:function(){e.toggleAreYouSureSetModal("Are you sure you want to delete Metric?","Delete metric",(function(){return e.doDelete(t.values.name)}))}},"Delete"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_9__.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}}))}}]),t}(react__WEBPACK_IMPORTED_MODULE_0__.Component),MetricVersionDetails=function(e){function t(e){var a;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).name=e.match.params.name,a.version=e.match.params.version,a.backend=new _DataManager__WEBPACK_IMPORTED_MODULE_1__.a,a.state={name:"",probeversion:"",description:"",mtype:"",group:"",probeexecutable:"",parent:"",config:[],attribute:[],dependancy:[],parameter:[],flags:[],files:[],fileparameter:[],loading:!1},a}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/tenantversion/metric/".concat(this.name)).then((function(t){t.forEach((function(t){t.version==e.version&&e.setState({name:t.fields.name,probeversion:t.fields.probeversion,description:t.fields.description,type:t.fields.mtype,group:t.fields.group,probeexecutable:t.fields.probeexecutable,parent:t.fields.parent,config:t.fields.config,attribute:t.fields.attribute,dependancy:t.fields.dependancy,parameter:t.fields.parameter,flags:t.fields.flags,files:t.fields.files,fileparameter:t.fields.fileparameter,date_created:t.date_created,loading:!1})}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,r=t.probeversion,n=t.type,o=t.group,i=t.probeexecutable,l=t.parent,c=t.config,s=t.attribute,u=t.dependancy,m=t.parameter,d=t.flags,p=t.files,f=t.fileparameter,_=t.date_created,g=t.loading,h=t.description;return g?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.l,null):!g&&a?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UIElements__WEBPACK_IMPORTED_MODULE_3__.b,{resourcename:"".concat(a," (").concat(_,")"),infoview:!0},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.d,{initialValues:{name:a,probeversion:r,type:n,group:o,description:h,probeexecutable:i,parent:l,config:c,attributes:s,dependency:u,parameter:m,flags:d,files:p,fileparameter:f},render:function(t){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.c,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(MetricForm,_extends({},t,{obj:"metric",state:e.state,isHistory:!0})))}})):null}}]),t}(react__WEBPACK_IMPORTED_MODULE_0__.Component)},ZnWx:function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,".metricprofiles-autocomplete-menu {\n  display: block;\n  width: 40%;\n  color: #495057;\n  position: absolute;\n  background-color: white;\n  z-index: 1000;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n  overflow-y: auto;\n  max-height: 400px;\n}\n\n.metricprofiles-autocomplete-entries {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #495057;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n.metricprofiles-autocomplete-entries-highlighted {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  background-color: #4A90D9;\n  color: white;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n.ReactTable .rt-thead.-header {\n  box-shadow: none;\n}\n\n.ReactTable .-pagination {\n  box-shadow: none;\n}\n\n.ReactTable .-pagination select {\n  display: inline-block;\n  transition: background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;\n  width: 100%;\n  height: calc(1.5em + .75rem + 2px);\n  padding: .375rem 1.75rem .375rem .75rem;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #495057;\n  vertical-align: middle;\n  background: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e\") no-repeat right .75rem center/8px 10px;\n  background-color: rgba(0, 0, 0, 0);\n  background-color: #fff;\n  border: 1px solid #ced4da;\n  border-radius: .25rem;\n  border-top-left-radius: 0.25rem;\n  border-bottom-left-radius: 0.25rem;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n}\n",""])},"a/x8":function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return c}));var r=a("9ONQ");function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,a){return t&&o(e.prototype,t),a&&o(e,a),e}var l=function(){function e(){n(this,e)}return i(e,[{key:"isActiveSession",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return fetch("/api/v2/internal/sessionactive/".concat(e)).then((function(e){return!!e.ok&&e.json()})).catch((function(){return!1}))}},{key:"isTenantSchema",value:function(){return fetch("/api/v2/internal/istenantschema").then((function(e){return e.ok?e.json():null})).then((function(e){return e.isTenantSchema})).catch((function(e){return alert("Something went wrong: ".concat(e))}))}},{key:"fetchData",value:function(e){return fetch(e).then((function(e){return e.json()})).catch((function(e){return alert("Something went wrong: ".concat(e))}))}},{key:"fetchListOfNames",value:function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){var t=[];return e.forEach((function(e){return t.push(e.name)})),t})).catch((function(e){return alert("Something went wrong: ".concat(e))}))}},{key:"fetchResult",value:function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){return e.result})).catch((function(e){return alert("Something went wrong: ".concat(e))}))}},{key:"changeObject",value:function(e,t){return this.send(e,"PUT",t)}},{key:"addObject",value:function(e,t){return this.send(e,"POST",t)}},{key:"deleteObject",value:function(e){return this.send(e,"DELETE")}},{key:"importMetrics",value:function(e){return this.send("/api/v2/internal/importmetrics/","POST",e)}},{key:"send",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=new r.a;return fetch(e,{method:t,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":n.get("csrftoken"),Referer:"same-origin"},body:a&&JSON.stringify(a)})}}]),e}(),c=function(){function e(t){var a=t.token,r=void 0===a?void 0:a,o=t.metricProfiles,i=void 0===o?void 0:o,l=t.aggregationProfiles,c=void 0===l?void 0:l,s=t.thresholdsProfiles,u=void 0===s?void 0:s;t.reportsConfigurations;n(this,e),this.token=r,this.metricprofiles=i,this.aggregationprofiles=c,this.thresholdsprofiles=u}return i(e,[{key:"fetchMetricProfiles",value:function(){return fetch(this.metricprofiles,{headers:{Accept:"application/json","x-api-key":this.token}}).then((function(e){return e.json()})).then((function(e){return e.data})).catch((function(e){return alert("Something went wrong: ".concat(e))}))}},{key:"fetchMetricProfile",value:function(e){return this.fetchProfile("".concat(this.metricprofiles,"/").concat(e))}},{key:"fetchAggregationProfile",value:function(e){return this.fetchProfile("".concat(this.aggregationprofiles,"/").concat(e))}},{key:"fetchThresholdsProfile",value:function(e){return this.fetchProfile("".concat(this.thresholdsprofiles,"/").concat(e))}},{key:"changeAggregation",value:function(e){return this.changeProfile(this.aggregationprofiles,e)}},{key:"changeMetricProfile",value:function(e){return this.changeProfile(this.metricprofiles,e)}},{key:"changeThresholdsProfile",value:function(e){return this.changeProfile(this.thresholdsprofiles,e)}},{key:"addMetricProfile",value:function(e){return this.addProfile(this.metricprofiles,e)}},{key:"addAggregation",value:function(e){return this.addProfile(this.aggregationprofiles,e)}},{key:"addThresholdsProfile",value:function(e){return this.addProfile(this.thresholdsprofiles,e)}},{key:"deleteMetricProfile",value:function(e){return this.deleteProfile("".concat(this.metricprofiles,"/").concat(e))}},{key:"deleteAggregation",value:function(e){return this.deleteProfile("".concat(this.aggregationprofiles,"/").concat(e))}},{key:"deleteThresholdsProfile",value:function(e){return this.deleteProfile("".concat(this.thresholdsprofiles,"/").concat(e))}},{key:"fetchProfile",value:function(e){return fetch(e,{headers:{Accept:"application/json","x-api-key":this.token}}).then((function(e){return e.json()})).then((function(e){return e.data})).then((function(e){return e[0]})).catch((function(e){return alert("Something went wrong: ".concat(e))}))}},{key:"changeProfile",value:function(e,t){return this.send("".concat(e,"/").concat(t.id),"PUT",t)}},{key:"addProfile",value:function(e,t){return this.send(e,"POST",t)}},{key:"deleteProfile",value:function(e){return this.send(e,"DELETE")}},{key:"send",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return fetch(e,{method:t,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","x-api-key":this.token},body:a&&JSON.stringify(a)})}}]),e}()},acgP:function(e,t,a){var r=a("ZnWx");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},b4bE:function(e,t,a){var r=a("s1Uj");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},dLgX:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return r}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function r(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}}).call(this,a("8oxB"))},dtk8:function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,".bodyreact {\n  background-color: #ecf0f5;\n}\n.login-first-row {\n  margin-top: 10%;\n}\n#argo-loginheader {\n  background-color:#416090;\n}\n#argo-loginfooter {\n  background-color:#ffffff;\n}\n",""])},eVqg:function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,".group-operation {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n       appearance: none;\n  text-align: center;\n}\n\n.group-operation > select {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n       appearance: none;\n  text-align: center;\n}\n\n.aggregation-autocomplete-menu {\n  display: block;\n  width: 100%;\n  color: #495057;\n  position: absolute;\n  background-color: white;\n  z-index: 1000;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n  overflow-y: auto;\n  max-height: 400px;\n}\n\n.aggregation-autocomplete-entries {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #495057;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n.aggregation-autocomplete-entries-highlighted {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  background-color: #4A90D9;\n  color: white;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n",""])},f1jT:function(e,t,a){"use strict";a.r(t);var r=a("q1tI"),n=a.n(r),o=a("i8i4"),i=a.n(o),l=a("1Yj4"),c=a("ok1R"),s=a("rhny"),u=a("BLzl"),m=a("afej"),d=a("/kxI"),p=a("jrRI"),f=a("3OM0"),_=a("aLZG"),g=a("sOKU"),h=a("cZcL"),E=a("KYPV"),v=a("5tO7"),b=a.n(v),y=(a("ML16"),a("29KK")),M=a("a/x8");function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){function t(e){var a,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(a=!(n=w(t).call(this,e))||"object"!==O(n)&&"function"!=typeof n?A(r):n)._isMounted=!1,a.state={samlIdpString:null,loginFailedVisible:!1,isTenantSchema:null},a.backend=new M.a,a.dismissLoginAlert=a.dismissLoginAlert.bind(A(a)),a.AppOnLogin=e.onLogin,a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,e),a=t,(r=[{key:"fetchSamlButtonString",value:function(){return fetch("/api/v2/internal/config_options").then((function(e){return e.json()})).catch((function(e){return alert("Something went wrong: "+e)}))}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.backend.isTenantSchema().then((function(t){!0===t?e.fetchSamlButtonString().then((function(a){e.setState({isTenantSchema:t,samlIdpString:a.result.saml_login_string})})):!1===t&&e.setState({isTenantSchema:t})})).catch((function(e){return alert("Something went wrong: "+e)}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"doUserPassLogin",value:function(e,t){var a=this;return fetch("/rest-auth/login/",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json",Referer:"same-origin"},body:JSON.stringify({username:e,password:t})}).then((function(){return a.backend.isActiveSession(a.state.isTenantSchema)}))}},{key:"dismissLoginAlert",value:function(){this._isMounted&&this.setState({loginFailedVisible:!1})}},{key:"render",value:function(){var e=this;return null!==this.state.isTenantSchema?n.a.createElement(l.a,null,n.a.createElement(c.a,{className:"login-first-row"},n.a.createElement(s.a,{sm:{size:4,offset:4}},n.a.createElement(u.a,null,n.a.createElement(m.a,{id:"argo-loginheader",className:"d-sm-inline-flex align-items-center justify-content-around"},n.a.createElement("img",{src:b.a,id:"argologo",alt:"ARGO logo"}),n.a.createElement("h4",{className:"text-light"},n.a.createElement("strong",null,"ARGO")," POEM")),n.a.createElement(d.a,null,n.a.createElement(E.d,{initialValues:{username:"",password:""},onSubmit:function(t){return e.doUserPassLogin(t.username,t.password).then((function(t){t.active?e.AppOnLogin(t.userdetails,e.props.history):e.setState({loginFailedVisible:!0})}))}},n.a.createElement(E.c,null,n.a.createElement(p.a,null,n.a.createElement(f.a,{for:"username"},"Username: "),n.a.createElement(E.a,{name:"username",className:"form-control"})),n.a.createElement(p.a,null,n.a.createElement(f.a,{for:"password"},"Password: "),n.a.createElement(E.a,{name:"password",className:"form-control",type:"password"})),n.a.createElement(p.a,null,n.a.createElement(_.a,{color:"danger",isOpen:this.state.loginFailedVisible,toggle:this.dismissLoginAlert,fade:!1},n.a.createElement("p",{className:"text-center"},"Login failed, invalid username and password provided"))),n.a.createElement("div",{className:"pt-3"}),n.a.createElement(p.a,null,n.a.createElement(g.a,{color:"success",type:"submit",block:!0},"Login using username and password"),this.state.isTenantSchema&&n.a.createElement("a",{className:"btn btn-success btn-block",role:"button",href:"/saml2/login"},this.state.samlIdpString))))),n.a.createElement(h.a,{id:"argo-loginfooter"},n.a.createElement(y.i,{loginPage:!0})))))):null}}])&&D(a.prototype,r),o&&D(a,o),t}(r.Component),P=a("55Ip"),C=a("/8CB"),I=a.n(C),T=a("0enf"),N=(a("qBGJ"),a("IP2g")),j=a("wHSu"),L=a("XNy0"),x=a.n(L),U=a("lCZi");a("acgP");function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),r.forEach((function(t){K(e,t,a[t])}))}return e}function K(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function z(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t,a){return t&&F(e.prototype,t),a&&F(e,a),e}function H(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?G(e):t}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var X=Object(y.j)("metricprofile"),$=ne(!0),ee=ne();function te(e,t){return-1!==e.toLowerCase().indexOf(t.toLowerCase())}var ae=U.object().shape({name:U.string().required("Required"),groupname:U.string().required("Required")}),re=function(e){var t=e.serviceflavours_all,a=e.metrics_all,r=e.search_handler,o=e.remove_handler,i=e.insert_handler,l=e.onselect_handler,c=e.form,s=e.remove,u=e.insert;return n.a.createElement("table",{className:"table table-bordered table-sm"},n.a.createElement("thead",{className:"table-active"},n.a.createElement("tr",null,n.a.createElement("th",{className:"align-middle text-center",style:{width:"5%"}},"#"),n.a.createElement("th",{style:{width:"42.5%"}},n.a.createElement(y.k,{i:"serviceflavour"})," Service flavour"),n.a.createElement("th",{style:{width:"42.5%"}},n.a.createElement(y.k,{i:"metrics"})," Metric"),n.a.createElement("th",{style:{width:"10%"}},"Actions"))),n.a.createElement("tbody",null,n.a.createElement("tr",{style:{background:"#ECECEC"}},n.a.createElement("td",{className:"align-middle text-center"},n.a.createElement(N.a,{icon:j.m})),n.a.createElement("td",null,n.a.createElement(E.a,{type:"text",name:"search_serviceflavour",required:!1,className:"form-control",id:"searchServiceFlavour",onChange:function(e){return r(e,"view_services","searchServiceFlavour","service","searchMetric","metric")},component:y.q})),n.a.createElement("td",null,n.a.createElement(E.a,{type:"text",name:"search_metric",required:!1,className:"form-control",id:"searchMetric",onChange:function(e){return r(e,"view_services","searchMetric","metric","searchServiceFlavour","service")},component:y.q})),n.a.createElement("td",null,"")),c.values.view_services.map((function(e,r){return n.a.createElement("tr",{key:r},n.a.createElement("td",{className:e.isNew?"bg-light align-middle text-center":"align-middle text-center"},r+1),n.a.createElement("td",{className:e.isNew?"bg-light":""},n.a.createElement(I.a,{inputProps:{className:'"form-control custom-select " '.concat(e.isNew?"border border-success":"")},getItemValue:function(e){return e},items:t,value:e.service,renderItem:function(e,a){return n.a.createElement("div",{key:t.indexOf(e),className:"metricprofiles-autocomplete-entries ".concat(a?"metricprofiles-autocomplete-entries-highlighted":"")},e?n.a.createElement(y.k,{i:"serviceflavour"}):""," ",e)},onChange:function(e){return c.setFieldValue("view_services.".concat(r,".service"),e.target.value)},onSelect:function(e){c.setFieldValue("view_services.".concat(r,".service"),e),l(c.values.view_services[r],"service",e)},wrapperStyle:{},shouldItemRender:te,renderMenu:function(e){return n.a.createElement("div",{className:"metricprofiles-autocomplete-menu"},e)}})),n.a.createElement("td",{className:e.isNew?"bg-light":""},n.a.createElement(I.a,{inputProps:{className:'"form-control custom-select " '.concat(e.isNew?"border border-success":"")},getItemValue:function(e){return e},items:a,value:e.metric,renderItem:function(e,t){return n.a.createElement("div",{key:a.indexOf(e),className:"metricprofiles-autocomplete-entries ".concat(t?"metricprofiles-autocomplete-entries-highlighted":"")},e?n.a.createElement(y.k,{i:"metrics"}):""," ",e)},onChange:function(e){return c.setFieldValue("view_services.".concat(r,".metric"),e.target.value)},onSelect:function(e){c.setFieldValue("view_services.".concat(r,".metric"),e),l(c.values.view_services[r],"metric",e)},wrapperStyle:{},shouldItemRender:te,renderMenu:function(e){return n.a.createElement("div",{className:"metricprofiles-autocomplete-menu"},e)}})),n.a.createElement("td",{className:"align-middle pl-3"},n.a.createElement(g.a,{size:"sm",color:"light",type:"button",onClick:function(){if(o(c.values.view_services[r]),r>0&&c.values.view_services.length>1)return s(r)}},n.a.createElement(N.a,{icon:j.s})),n.a.createElement(g.a,{size:"sm",color:"light",type:"button",onClick:function(){var e={index:r+1,service:"",metric:"",isNew:!0};return i(e,r+1,c.values.groupname,c.values.name,c.values.description),u(r+1,e)}},n.a.createElement(N.a,{icon:j.l}))))}))))};function ne(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){function a(t){var r;return Q(this,a),(r=H(this,q(a).call(this,t))).tenant_name=t.tenant_name,r.token=t.webapitoken,r.webapimetric=t.webapimetric,r.profile_name=t.match.params.name,r.addview=t.addview,r.history=t.history,r.location=t.location,r.cloneview=e,r.state={metric_profile:{},metric_profile_name:void 0,metric_profile_description:void 0,groupname:void 0,list_user_groups:void 0,view_services:void 0,list_services:void 0,write_perm:!1,serviceflavours_all:void 0,metrics_all:void 0,areYouSureModal:!1,loading:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0,searchServiceFlavour:"",searchMetric:""},r.backend=new M.a,r.webapi=new M.b({token:t.webapitoken,metricProfiles:t.webapimetric}),r.toggleAreYouSure=r.toggleAreYouSure.bind(G(r)),r.toggleAreYouSureSetModal=r.toggleAreYouSureSetModal.bind(G(r)),r.handleSearch=r.handleSearch.bind(G(r)),r.onRemove=r.onRemove.bind(G(r)),r.onInsert=r.onInsert.bind(G(r)),r.onSelect=r.onSelect.bind(G(r)),r}return Z(a,t),V(a,[{key:"flattenServices",value:function(e){var t=[],a=0;return e.forEach((function(e){var r=e.service;e.metrics.forEach((function(e){t.push({index:a,service:r,metric:e}),a+=1}))})),t}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.isActiveSession().then((function(t){t.active&&Promise.all([e.backend.fetchListOfNames("/api/v2/internal/serviceflavoursall"),e.backend.fetchListOfNames("/api/v2/internal/metricsall")]).then((function(a){var r=Y(a,2),n=r[0],o=r[1];if(!e.addview||e.cloneview)e.backend.fetchData("/api/v2/internal/metricprofiles/".concat(e.profile_name)).then((function(a){return Promise.all([e.webapi.fetchMetricProfile(a.apiid)]).then((function(r){var i=Y(r,1)[0];return e.setState({metric_profile:i,metric_profile_name:i.name,metric_profile_description:i.description,groupname:a.groupname,list_user_groups:t.userdetails.groups.metricprofiles,write_perm:t.userdetails.is_superuser||t.userdetails.groups.metricprofiles.indexOf(a.groupname)>=0,view_services:e.flattenServices(i.services).sort(e.sortServices),serviceflavours_all:n,metrics_all:o,list_services:e.flattenServices(i.services).sort(e.sortServices),loading:!1})}))}));else{e.setState({metric_profile:{id:"",name:"",services:[]},metric_profile_name:"",metric_profile_description:"",groupname:"",list_user_groups:t.userdetails.groups.metricprofiles,write_perm:t.userdetails.is_superuser||t.userdetails.groups.metricprofiles.length>0,view_services:[{service:"",metric:"",index:0,isNew:!0}],serviceflavours_all:n,metrics_all:o,list_services:[{service:"",metric:"",index:0,isNew:!0}],loading:!1})}}))}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"sortServices",value:function(e,t){if(e.service.toLowerCase()<t.service.toLowerCase())return-1;if(e.service.toLowerCase()>t.service.toLowerCase())return 1;if(e.service.toLowerCase()===t.service.toLowerCase()){if(e.metric.toLowerCase()<t.metric.toLowerCase())return-1;if(e.metric.toLowerCase()>t.metric.toLowerCase())return 1;if(e.metric.toLowerCase()===t.metric.toLowerCase())return 0}}},{key:"handleSearch",value:function(e,t,a,r,n,o){var i,l=this,c=this.state[t.replace("view_","list_")],s=z(this.state.list_services);if(this.state[a].length>e.target.value.length){c=this.state[t.replace("view_","list_")].filter((function(t){return te(t[r],e.target.value)}));var u=0;s.forEach((function(e){e.index=u,u+=1})),s.sort(this.sortServices)}else""!==e.target.value&&(c=this.state[t].filter((function(t){return te(t[r],e.target.value)})));this.state[n].length&&(c=c.filter((function(e){return te(e[o],l.state[n])}))),c.sort(this.sortServices),this.setState((K(i={},"".concat(a),e.target.value),K(i,"".concat(t),c),K(i,"list_services",s),i))}},{key:"onInsert",value:function(e,t,a,r,n){if(""===this.state.searchServiceFlavour&&""===this.state.searchMetric){var o=e.service,i=e.metric,l=z(this.state.list_services),c=z(l).slice(0,t),s=z(l).slice(t);c.push({index:t,service:o,metric:i,isNew:!0});var u=0;c.forEach((function(e){e.index=u,u+=1})),u=c.length,s.forEach((function(e){e.index=u,u+=1})),l=[].concat(z(c),z(s)),this.setState({list_services:l,view_services:l,groupname:a,metric_profile_name:r,metric_profile_description:n})}else{var m=z(this.state.view_services),d=z(this.state.list_services),p=z(m).slice(0,t),f=z(m).slice(t);p.push(B({},e,{isNew:!0}));var _=0;p.forEach((function(e){e.index=_,_+=1})),_=t+1,f.forEach((function(e){e.index=_,_+=1})),d.push(B({},e,{isNew:!0})),this.setState({view_services:[].concat(z(p),z(f)),list_services:d})}}},{key:"onSubmitHandle",value:function(e,t){var a=this,r=e.formValues,n=e.servicesList,o=void 0,i=void 0;this.addview||this.cloneview?(o="Are you sure you want to add Metric profile?",i="Add metric profile"):(o="Are you sure you want to change Metric profile?",i="Change metric profile"),this.toggleAreYouSureSetModal(o,i,(function(){return a.doChange({formValues:r,servicesList:n},t)}))}},{key:"groupMetricsByServices",value:function(e){var t=[];return e.forEach((function(e){var a=t.filter((function(t){return t.service===e.service}));a.length?a[0].metrics.push(e.metric):t.push({service:e.service,metrics:[e.metric]})})),t}},{key:"doChange",value:function(e,t){var a=this,r=e.formValues,n=e.servicesList,o=[],i=new Object;if(this.addview||this.cloneview)o=this.groupMetricsByServices(n),i={name:r.name,description:r.description,services:o},this.webapi.addMetricProfile(i).then((function(e){e.ok?e.json().then((function(e){a.backend.addObject("/api/v2/internal/metricprofiles/",{apiid:e.data.id,name:i.name,groupname:r.groupname,description:r.description,services:r.view_services}).then((function(){return Object(y.o)({msg:"Metric profile successfully added",title:"Added",callback:function(){return a.history.push("/ui/metricprofiles")}})})).catch((function(e){return alert("Something went wrong: "+e)}))})).catch((function(e){return alert("Something went wrong: "+e)})):a.toggleAreYouSureSetModal("Error: ".concat(e.status,", ").concat(e.statusText),"Error adding metric profile",void 0)})).catch((function(e){return alert("Something went wrong: "+e)}));else{var l=this.state.metric_profile.id;o=this.groupMetricsByServices(n),i={id:l,name:r.name,description:r.description,services:o},this.webapi.changeMetricProfile(i).then((function(e){e.ok?e.json().then((function(e){a.backend.changeObject("/api/v2/internal/metricprofiles/",{apiid:i.id,name:i.name,description:i.description,groupname:r.groupname,services:r.view_services}).then((function(){return Object(y.o)({msg:"Metric profile succesfully changed",title:"Changed",callback:function(){return a.history.push("/ui/metricprofiles")}})})).catch((function(e){return alert("Something went wrong: "+e)}))})).catch((function(e){return alert("Something went wrong: "+e)})):a.toggleAreYouSureSetModal("Error: ".concat(e.status,", ").concat(e.statusText),"Error changing metric profile",void 0)})).catch((function(e){return alert("Something went wrong: "+e)}))}}},{key:"doDelete",value:function(e){var t=this;this.webapi.deleteMetricProfile(e).then((function(a){a.ok?a.json().then(t.backend.deleteObject("/api/v2/internal/metricprofiles/".concat(e))).then((function(){return Object(y.o)({msg:"Metric profile sucessfully deleted",title:"Deleted",callback:function(){return t.history.push("/ui/metricprofiles")}})})):alert("Error: ".concat(a.status,", ").concat(a.statusText))})).catch((function(e){return alert("Something went wrong: "+e)}))}},{key:"onSelect",value:function(e,t,a){var r=e.index,n=z(this.state.list_services),o=z(this.state.view_services),i=n.findIndex((function(e){return e.index===r&&!0===e.isNew}));i>=0?n[i][t]=a:n[r][t]=a;for(var l=0;l<o.length;l++)o[l].index===r&&(o[l][t]=a);this.setState({list_services:n,view_services:o})}},{key:"onRemove",value:function(e){var t=[],a=[],r=this.state.list_services.findIndex((function(t){return e.index===t.index&&e.service===t.service&&e.metric===t.metric})),n=this.state.view_services.findIndex((function(t){return e.index===t.index&&e.service===t.service&&e.metric===t.metric}));if(1===this.state.view_services.length&&1===this.state.list_services.length)a=[{index:0,service:"",metric:""}],t=[{index:0,service:"",metric:""}];else if(r>=0&&n>=0){a=z(this.state.list_services),t=z(this.state.view_services),a.splice(r,1),t.splice(n,1);for(var o=r;o<a.length;o++){var i=a[o].index;a[o].index=i-1}for(o=n;o<t.length;o++){var l=t[o].index;t[o].index=l-1}}this.setState({list_services:a,view_services:t})}},{key:"render",value:function(){var e=this,t=this.state,a=t.write_perm,r=t.loading,o=t.metric_profile_description,i=t.view_services,l=t.groupname,c=t.list_user_groups,s=t.serviceflavours_all,u=t.metrics_all,m=t.searchMetric,d=t.searchServiceFlavour,p=this.state,f=p.metric_profile,_=p.metric_profile_name;return this.cloneview&&f&&_&&f.id&&(f.id="",_="Cloned "+_),r?n.a.createElement(y.l,null):!r&&f&&i?n.a.createElement(y.b,{resourcename:"Metric profile",location:this.location,addview:this.addview,modal:!0,cloneview:this.cloneview,clone:!0,state:this.state,toggle:this.toggleAreYouSure,submitperm:a},n.a.createElement(E.d,{initialValues:{id:f.id,name:_,description:o,groupname:l,view_services:i,search_metric:m,search_serviceflavour:d},onSubmit:function(t,a){return e.onSubmitHandle({formValues:t,servicesList:e.state.list_services},a)},enableReinitialize:!0,validationSchema:ae,render:function(t){return n.a.createElement(E.c,null,n.a.createElement(y.p,W({},t,{description:"description",grouplist:a?c:[l],profiletype:"metric"})),n.a.createElement("h4",{className:"mt-4 alert-info p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Metric instances"),n.a.createElement(E.b,{name:"view_services",render:function(t){return n.a.createElement(re,W({},t,{serviceflavours_all:s,metrics_all:u,search_handler:e.handleSearch,remove_handler:e.onRemove,insert_handler:e.onInsert,onselect_handler:e.onSelect}))}}),a&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},n.a.createElement(g.a,{color:"danger",onClick:function(){e.toggleAreYouSureSetModal("Are you sure you want to delete Metric profile?","Delete metric profile",(function(){return e.doDelete(t.values.id)}))}},"Delete"),n.a.createElement(g.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):null}}]),a}(r.Component)}var oe=function(e){function t(e){var a;return Q(this,t),(a=H(this,q(t).call(this,e))).state={loading:!1,list_metricprofiles:null},a.location=e.location,a.backend=new M.a,a}return Z(t,e),V(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/metricprofiles").then((function(t){return e.setState({list_metricprofiles:t,loading:!1})}))}},{key:"render",value:function(){var e=[{Header:"Name",id:"name",maxWidth:350,accessor:function(e){return n.a.createElement(P.b,{to:"/ui/metricprofiles/"+e.name},e.name)}},{Header:"Description",accessor:"description"},{Header:"Group",accessor:"groupname",className:"text-center",maxWidth:150}],t=this.state,a=t.loading,r=t.list_metricprofiles;return a?n.a.createElement(y.l,null):!a&&r?n.a.createElement(y.b,{resourcename:"metric profile",location:this.location,listview:!0},n.a.createElement(T.a,{data:r,columns:e,className:"-highlight",defaultPageSize:12,rowsText:"profiles",getTheadThProps:function(){return{className:"table-active font-weight-bold p-2"}}})):null}}]),t}(r.Component),ie=function(e){for(var t=e.title,a=e.item1,r=e.item2,o=[],i=[],l=0;l<a.length;l++)o.push("service: ".concat(a[l].service,", metric: ").concat(a[l].metric));for(var c=0;c<r.length;c++)i.push("service: ".concat(r[c].service,", metric: ").concat(r[c].metric));return n.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},n.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},t),n.a.createElement(x.a,{oldValue:i.join("\n"),newValue:o.join("\n"),showDiffOnly:!1,splitView:!0,hideLineNumbers:!0}))},le=function(e){function t(e){var a;return Q(this,t),(a=H(this,q(t).call(this,e))).version1=e.match.params.id1,a.version2=e.match.params.id2,a.name=e.match.params.name,a.state={loading:!1,name1:"",groupname1:"",metricinstances1:[],name2:"",groupname2:"",metricinstances2:[]},a.backend=new M.a,a}return Z(t,e),V(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/tenantversion/metricprofile/".concat(this.name)).then((function(t){var a="",r="",n="",o=[],i="",l="",c="",s=[];t.forEach((function(t){t.version==e.version1?(a=t.fields.name,n=t.fields.description,r=t.fields.groupname,o=t.fields.metricinstances):t.version==e.version2&&(i=t.fields.name,l=t.fields.groupname,c=t.fields.description,s=t.fields.metricinstances)})),e.setState({name1:a,groupname1:r,description1:n,metricinstances1:o,name2:i,description2:c,groupname2:l,metricinstances2:s,loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.name1,a=e.name2,r=e.description1,o=e.description2,i=e.groupname1,l=e.groupname2,c=e.metricinstances1,s=e.metricinstances2,u=e.loading;return u?n.a.createElement(y.l,null):!u&&t&&a?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Compare ".concat(this.name," versions"))),t!==a&&n.a.createElement(y.e,{title:"name",item1:t,item2:a}),t!==a&&n.a.createElement(y.e,{title:"name",item1:t,item2:a}),r!==o&&n.a.createElement(y.e,{title:"name",item1:r,item2:o}),i!==l&&n.a.createElement(y.e,{title:"groupname",item1:i,item2:l}),c!==s&&n.a.createElement(ie,{title:"metric instances",item1:c,item2:s})):null}}]),t}(r.Component),ce=function(e){function t(e){var a;return Q(this,t),(a=H(this,q(t).call(this,e))).name=e.match.params.name,a.version=e.match.params.version,a.backend=new M.a,a.state={name:"",groupname:"",description:"",date_created:"",metricinstances:[],loading:!1},a}return Z(t,e),V(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/tenantversion/metricprofile/".concat(this.name)).then((function(t){t.forEach((function(t){t.version==e.version&&e.setState({name:t.fields.name,groupname:t.fields.groupname,description:t.fields.description,date_created:t.date_created,metricinstances:t.fields.metricinstances,loading:!1})}))}))}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.description,r=e.groupname,o=e.date_created,i=e.metricinstances,l=e.loading;return l?n.a.createElement(y.l,null):!l&&t?n.a.createElement(y.b,{resourcename:"".concat(t," (").concat(o,")"),infoview:!0},n.a.createElement(E.d,{initialValues:{name:t,description:a,groupname:r,metricinstances:i},render:function(e){return n.a.createElement(E.c,null,n.a.createElement(y.p,W({},e,{fieldsdisable:!0,description:"description",profiletype:"metric"})),n.a.createElement("h4",{className:"mt-4 alert-info p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Metric instances"),n.a.createElement(E.b,{name:"metricinstances",render:function(t){return n.a.createElement("table",{className:"table table-bordered table-sm"},n.a.createElement("thead",{className:"table-active"},n.a.createElement("tr",null,n.a.createElement("th",{className:"align-middle text-center",style:{width:"5%"}},"#"),n.a.createElement("th",{style:{width:"47.5%"}},n.a.createElement(y.k,{i:"serviceflavour"}),"Service flavour"),n.a.createElement("th",{style:{width:"47.5%"}},n.a.createElement(y.k,{i:"metrics"}),"Metric"))),n.a.createElement("tbody",null,e.values.metricinstances.map((function(e,t){return n.a.createElement("tr",{key:t},n.a.createElement("td",{className:"align-middle text-center"},t+1),n.a.createElement("td",null,e.service),n.a.createElement("td",null,e.metric))}))))}}))}})):null}}]),t}(r.Component),se=function(e){return n.a.createElement("div",null,'"I\'m Home"')},ue=a("q7Gj"),me=a("re1l"),de=a("0E8A"),pe=a("of9s");function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(){return(_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t,a){return t&&Ee(e.prototype,t),a&&Ee(e,a),e}function be(e,t){return!t||"object"!==fe(t)&&"function"!=typeof t?ye(e):t}function ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function we(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Ae=Object(y.j)("probe"),ke=Ne(),Se=Ne(!0),Pe=U.object().shape({name:U.string().matches(/^\S*$/,"Name cannot contain white spaces").required("Required"),package:U.string().required("Required"),repository:U.string().url("Invalid url").required("Required"),docurl:U.string().url("Invalid url").required("Required"),description:U.string().required("Required"),comment:U.string().required("Required")}),Ce=function(e){var t=e.field.value;we(e,["field"]);return n.a.createElement("div",{className:"form-control",style:{backgroundColor:"#e9ecef"}},n.a.createElement("a",{href:t},t))},Ie=function(e){var t=e.isTenantSchema,a=void 0!==t&&t,r=e.isHistory,o=void 0!==r&&r,i=e.errors,l=void 0===i?{name:void 0,package:void 0,repository:void 0,docurl:void 0,comment:void 0}:i,u=e.state,m=void 0===u?void 0:u,d=e.addview,_=void 0!==d&&d,g=e.cloneview,h=void 0!==g&&g,v=e.list_packages,b=void 0===v?[]:v,M=e.setFieldValue,O=void 0===M?void 0:M,D=e.values,w=void 0===D?void 0:D,A=e.onSelect,k=void 0===A?void 0:A,S=e.metrictemplatelist,C=void 0===S?[]:S;return n.a.createElement(n.a.Fragment,null,n.a.createElement(p.a,null,n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(ue.a,null,n.a.createElement(me.a,{addonType:"prepend"},"Name"),n.a.createElement(E.a,{type:"text",name:"name",className:"form-control ".concat(l.name&&"border-danger"),id:"name",disabled:a||o})),l.name&&Object(y.h)(l.name),n.a.createElement(de.a,{color:"muted"},"Name of this probe.")),n.a.createElement(s.a,{md:2},n.a.createElement(ue.a,null,n.a.createElement(me.a,{addonType:"prepend"},"Version"),n.a.createElement(E.a,{type:"text",name:"version",className:"form-control",value:o?m.version:m.probe.version,id:"version",disabled:!0})),n.a.createElement(de.a,{color:"muted"},"Version of the probe.")),!_&&!h&&!a&&!o&&n.a.createElement(s.a,{md:2},n.a.createElement(E.a,{component:y.c,name:"update_metrics",className:"form-control",id:"checkbox",label:"Update metric templates"}),n.a.createElement(de.a,{color:"muted"},"Update all associated metric templates."))),n.a.createElement(c.a,{className:"mt-3"},n.a.createElement(s.a,{md:8},a||o?n.a.createElement(ue.a,null,n.a.createElement(me.a,{addonType:"prepend"},"Package"),n.a.createElement(E.a,{type:"text",name:"package",className:"form-control",id:"package",disabled:!0})):n.a.createElement(n.a.Fragment,null,n.a.createElement(y.a,{setFieldValue:O,lists:b,icon:"packages",field:"package",val:w.package,onselect_handler:k,req:l.package,label:"Package"}),l.package&&Object(y.h)(l.package)),n.a.createElement(de.a,{color:"muted"},"Probe is part of selected package.")))),n.a.createElement(p.a,null,n.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Probe metadata"),n.a.createElement(c.a,{className:"mt-4 mb-3 align-items-top"},n.a.createElement(s.a,{md:8},n.a.createElement(ue.a,null,n.a.createElement(me.a,{addonType:"prepend"},"Repository"),a||o?n.a.createElement(E.a,{component:Ce,name:"repository",className:"form-control",id:"repository",disabled:!0}):n.a.createElement(E.a,{type:"text",name:"repository",className:"form-control ".concat(l.repository&&"border-danger"),id:"repository"})),l.repository&&Object(y.h)(l.repository),n.a.createElement(de.a,{color:"muted"},"Probe repository URL."))),n.a.createElement(c.a,{className:"mb-3 align-items-top"},n.a.createElement(s.a,{md:8},n.a.createElement(ue.a,null,n.a.createElement(me.a,{addonType:"prepend"},"Documentation"),a||o?n.a.createElement(E.a,{component:Ce,name:"docurl",className:"form-control",id:"docurl",disabled:!0}):n.a.createElement(E.a,{type:"text",name:"docurl",className:"form-control ".concat(l.docurl&&"border-danger"),id:"docurl"})),l.docurl&&Object(y.h)(l.docurl),n.a.createElement(de.a,{color:"muted"},"Documentation URL."))),n.a.createElement(c.a,{className:"mb-3 align-items-top"},n.a.createElement(s.a,{md:8},n.a.createElement(f.a,{for:"description"},"Description"),n.a.createElement(E.a,{component:"textarea",name:"description",rows:"15",className:"form-control ".concat(l.description&&"border-danger"),id:"description",disabled:a||o}),l.description&&Object(y.h)(l.description),n.a.createElement(de.a,{color:"muted"},"Free text description outlining the purpose of this probe."))),n.a.createElement(c.a,{className:"mb-3 align-items-top"},n.a.createElement(s.a,{md:8},n.a.createElement(f.a,{for:"comment"},"Comment"),n.a.createElement(E.a,{component:"textarea",name:"comment",rows:"5",className:"form-control ".concat(l.comment&&"border-danger"),id:"comment",disabled:a||o}),l.comment&&Object(y.h)(l.comment),n.a.createElement(de.a,{color:"muted"},"Short comment about this version."))),!a&&!o&&!_&&!h&&n.a.createElement(c.a,null,n.a.createElement(s.a,{md:8},n.a.createElement("div",null,"Metric templates:",C.length>0&&n.a.createElement("div",null,C.map((function(e,t){return n.a.createElement(P.b,{key:t,to:"/ui/metrictemplates/".concat(e)},e)})).reduce((function(e,t){return[e,", ",t]}))))))))},Te=function(e){function t(e){var a;return he(this,t),(a=be(this,Me(t).call(this,e))).location=e.location,a.state={loading:!1,list_probe:null,isTenantSchema:null,search_name:"",search_description:"",search_package:""},a.backend=new M.a,a}return Oe(t,e),ve(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),Promise.all([this.backend.fetchData("/api/v2/internal/probes"),this.backend.isTenantSchema()]).then((function(t){var a=ge(t,2),r=a[0],n=a[1];return e.setState({list_probe:r,isTenantSchema:n,loading:!1,search_name:""})}))}},{key:"render",value:function(){var e=this,t=[{Header:"#",id:"row",minWidth:12,Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.index+1)}},{Header:"Name",id:"name",minWidth:80,accessor:function(e){return n.a.createElement(P.b,{to:"/ui/probes/".concat(e.name)},e.name)},filterable:!0,Filter:n.a.createElement("input",{value:this.state.search_name,onChange:function(t){return e.setState({search_name:t.target.value})},placeholder:"Search by name",style:{width:"100%"}})},{Header:"#versions",id:"nv",minWidth:25,accessor:function(e){return n.a.createElement(P.b,{to:"/ui/probes/".concat(e.name,"/history")},e.nv)},Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)}},{Header:"Package",minWidth:120,accessor:"package",filterable:!0,Filter:n.a.createElement("input",{type:"text",placeholder:"Search by package",value:this.state.search_package,onChange:function(t){return e.setState({search_package:t.target.value})},style:{width:"100%"}}),filterMethod:function(e,t){return void 0===t[e.id]||String(t[e.id]).toLowerCase().includes(e.value.toLowerCase())}},{Header:"Description",minWidth:200,accessor:"description",filterable:!0,Filter:n.a.createElement("input",{type:"text",placeholder:"Search by description",value:this.state.search_description,onChange:function(t){return e.setState({search_description:t.target.value})},style:{width:"100%"}}),filterMethod:function(e,t){return void 0===t[e.id]||String(t[e.id]).toLowerCase().includes(e.value.toLowerCase())}}],a=this.state,r=a.isTenantSchema,o=a.list_probe,i=a.loading;return this.state.search_name&&(o=o.filter((function(t){return t.name.toLowerCase().includes(e.state.search_name.toLowerCase())}))),this.state.search_description&&(o=o.filter((function(t){return t.description.toLowerCase().includes(e.state.search_description.toLowerCase())}))),this.state.search_package&&(o=o.filter((function(t){return t.package.toLowerCase().includes(e.state.search_package.toLowerCase())}))),i?n.a.createElement(y.l,null):!i&&o?n.a.createElement(y.b,{resourcename:"probe",location:this.location,listview:!0,addnew:!r},n.a.createElement(T.a,{data:o,columns:t,className:"-highlight",defaultPageSize:50,rowsText:"probes",getTheadThProps:function(){return{className:"table-active font-weight-bold p-2"}}})):null}}]),t}(r.Component);function Ne(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){function a(e){var t;return he(this,a),(t=be(this,Me(a).call(this,e))).name=e.match.params.name,t.addview=e.addview,t.location=e.location,t.history=e.history,t.backend=new M.a,t.state={probe:{id:"",name:"",version:"",package:"",repository:"",docurl:"",description:"",comment:""},isTenantSchema:null,metrictemplatelist:[],list_packages:[],validationVisible:!0,update_metrics:!1,loading:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},t.toggleAreYouSure=t.toggleAreYouSure.bind(ye(t)),t.toggleAreYouSureSetModal=t.toggleAreYouSureSetModal.bind(ye(t)),t.onSubmitHandle=t.onSubmitHandle.bind(ye(t)),t.doDelete=t.doDelete.bind(ye(t)),t.onDismiss=t.onDismiss.bind(ye(t)),t.onSelect=t.onSelect.bind(ye(t)),t}return Oe(a,t),ve(a,[{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSubmitHandle",value:function(t,a){var r=this,n=void 0,o=void 0;this.addview||e?(n="Are you sure you want to add probe?",o="Add probe"):(n="Are you sure you want to change probe?",o="Change probe"),this.toggleAreYouSureSetModal(n,o,(function(){return r.doChange(t,a)}))}},{key:"doChange",value:function(t,a){var r=this;if(this.addview||e){var n=void 0;n=e?t.id:"",this.backend.addObject("/api/v2/internal/probes/",{name:t.name,package:t.package,repository:t.repository,docurl:t.docurl,description:t.description,comment:t.comment,cloned_from:n}).then((function(e){e.ok?Object(y.o)({msg:"Probe successfully added",title:"Added",callback:function(){return r.history.push("/ui/probes")}}):e.json().then((function(e){pe.NotificationManager.error(e.detail,"Error")}))}))}else this.backend.changeObject("/api/v2/internal/probes/",{id:t.id,name:t.name,package:t.package,repository:t.repository,docurl:t.docurl,description:t.description,comment:t.comment,update_metrics:t.update_metrics}).then((function(e){e.ok?Object(y.o)({msg:"Probe successfully changed",title:"Changed",callback:function(){return r.history.push("/ui/probes")}}):e.json().then((function(e){pe.NotificationManager.error(e.detail,"Error")}))}))}},{key:"doDelete",value:function(e){var t=this;this.backend.deleteObject("/api/v2/internal/probes/".concat(e)).then((function(e){e.ok?Object(y.o)({msg:"Probe successfully deleted",title:"Deleted",callback:function(){return t.history.push("/ui/probes")}}):e.json().then((function(e){pe.NotificationManager.error(e.detail,"Error")}))}))}},{key:"onDismiss",value:function(){this.setState({validationVisible:!1})}},{key:"onSelect",value:function(e,t){var a=this.state.probe;a[e]=t,a.version=t.split(" ")[1].slice(1,-1),this.setState({probe:a})}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),Promise.all([this.backend.isTenantSchema(),this.backend.fetchData("/api/v2/internal/packages")]).then((function(t){var a=ge(t,2),r=a[0],n=a[1],o=[];n.forEach((function(e){return o.push("".concat(e.name," (").concat(e.version,")"))})),e.addview?e.setState({list_packages:o,isTenantSchema:r,loading:!1}):e.backend.fetchData("/api/v2/internal/probes/".concat(e.name)).then((function(t){e.backend.fetchData("/api/v2/internal/metricsforprobes/".concat(t.name,"(").concat(t.version,")")).then((function(a){e.setState({probe:t,list_packages:o,isTenantSchema:r,metrictemplatelist:a,loading:!1})}))}))}))}},{key:"render",value:function(){var t=this,a=this.state,r=a.probe,o=a.update_metrics,i=a.isTenantSchema,l=a.metrictemplatelist,c=a.list_packages,s=a.loading;return s?n.a.createElement(y.l,null):s?void 0:i?n.a.createElement(y.b,{resourcename:"Probe details",location:this.location,tenantview:!0,history:!0},n.a.createElement(E.d,{initialValues:{id:r.id,name:r.name,version:r.version,package:r.package,repository:r.repository,docurl:r.docurl,description:r.description,comment:r.comment},render:function(e){return n.a.createElement(Ie,_e({},e,{isTenantSchema:!0,state:t.state}))}})):n.a.createElement(y.b,{resourcename:"probe",location:this.location,addview:this.addview,cloneview:e,clone:!0,modal:!0,state:this.state,toggle:this.toggleAreYouSure},n.a.createElement(E.d,{initialValues:{id:r.id,name:r.name,version:r.version,package:r.package,repository:r.repository,docurl:r.docurl,description:r.description,comment:r.comment,update_metrics:o},validationSchema:Pe,onSubmit:function(e,a){return t.onSubmitHandle(e,a)}},(function(a){return n.a.createElement(E.c,null,n.a.createElement(Ie,_e({},a,{state:t.state,addview:t.addview,cloneview:e,list_packages:c,onSelect:t.onSelect,metrictemplatelist:l})),n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},t.addview||e?n.a.createElement("div",null):n.a.createElement(g.a,{color:"danger",onClick:function(){t.toggleAreYouSureSetModal("Are you sure you want to delete probe?","Delete probe",(function(){return t.doDelete(a.values.name)}))}},"Delete"),n.a.createElement(g.a,{color:"success",id:"submit-button",type:"submit"},"Save")))})))}}]),a}(r.Component)}var je=function(e){function t(e){var a;return he(this,t),(a=be(this,Me(t).call(this,e))).version1=e.match.params.id1,a.version2=e.match.params.id2,a.name=e.match.params.name,a.state={loading:!1,name1:"",version1:"",package1:"",description1:"",repository1:"",docurl1:"",comment1:"",name2:"",version2:"",package2:"",description2:"",repository2:"",docurl2:"",comment2:""},a.backend=new M.a,a}return Oe(t,e),ve(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/version/probe/".concat(this.name)).then((function(t){var a="",r="",n="",o="",i="",l="",c="",s="",u="",m="",d="",p="",f="",_="";t.forEach((function(t){t.version==e.version1?(a=t.fields.name,r=t.fields.version,n=t.fields.package,o=t.fields.description,i=t.fields.repository,l=t.fields.docurl,c=t.fields.comment):t.version===e.version2&&(s=t.fields.name,u=t.fields.version,m=t.fields.package,d=t.fields.description,p=t.fields.repository,f=t.fields.docurl,_=t.fields.comment)})),e.setState({name1:a,version1:r,package1:n,description1:o,repository1:i,docurl1:l,comment1:c,name2:s,version2:u,package2:m,description2:d,repository2:p,docurl2:f,comment2:_,loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.name1,a=e.name2,r=e.version1,o=e.version2,i=e.package1,l=e.package2,c=e.description1,s=e.description2,u=e.repository1,m=e.repository2,d=e.docurl1,p=e.docurl2,f=e.comment1,_=e.comment2,g=e.loading;return g?n.a.createElement(y.l,null):!g&&t&&a?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Compare "+this.name)),t!==a&&n.a.createElement(y.e,{title:"name",item1:t,item2:a}),r!==o&&n.a.createElement(y.e,{title:"version",item1:r,item2:o}),i!==l&&n.a.createElement(y.e,{title:"package",item1:i,item2:l}),c!==s&&n.a.createElement(y.e,{title:"description",item1:c,item2:s}),u!==m&&n.a.createElement(y.e,{title:"repository",item1:u,item2:m}),d!==p&&n.a.createElement(y.e,{title:"documentation",item1:d,item2:p}),f!==_&&n.a.createElement(y.e,{title:"comment",item1:f,item2:_})):null}}]),t}(r.Component),Le=function(e){function t(e){var a;return he(this,t),(a=be(this,Me(t).call(this,e))).name=e.match.params.name,a.version=e.match.params.version,a.backend=new M.a,a.state={name:"",version:"",pkg:"",description:"",repository:"",docurl:"",comment:"",loading:!1},a}return Oe(t,e),ve(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/version/probe/".concat(this.name)).then((function(t){t.forEach((function(t){t.version===e.version&&e.setState({name:t.fields.name,version:t.fields.version,pkg:t.fields.package,description:t.fields.description,repository:t.fields.repository,docurl:t.fields.docurl,comment:t.fields.comment,loading:!1})}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,r=t.version,o=t.pkg,i=t.description,l=t.repository,c=t.docurl,s=t.comment,u=t.loading;return u?n.a.createElement(y.l,null):!u&&a?n.a.createElement(y.b,{resourcename:"".concat(a," (").concat(r,")"),infoview:!0},n.a.createElement(E.d,{initialValues:{name:a,version:r,package:o,repository:l,docurl:c,description:i,comment:s},render:function(t){return n.a.createElement(Ie,_e({},t,{state:e.state,isHistory:!0}))}})):null}}]),t}(r.Component),xe=a("SKq3");function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(){return(Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function We(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ke(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e,t,a){return t&&Ke(e.prototype,t),a&&Ke(e,a),e}function Ye(e,t){return!t||"object"!==Ue(t)&&"function"!=typeof t?Fe(e):t}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ve(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&He(e,t)}function He(e,t){return(He=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qe=Object(xe.b)("metrictemplate"),Ge=Object(xe.b)("metrictemplate",!0),Ze=at(),Je=at(!0),Xe=Object(y.j)("metrictemplate"),$e=Object(y.j)("metrictemplate",!0),et=Object(xe.a)("metrictemplate"),tt=U.object().shape({name:U.string().matches(/^\S*$/,"Name cannot contain white spaces").required("Required"),type:U.string(),probeversion:U.string().when("type",{is:function(e){return"Active"===e},then:U.string().required("Required")}),probeexecutable:U.string().when("type",{is:function(e){return"Active"===e},then:U.string().required("Required")})});function at(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){function a(e){var t;return Be(this,a),(t=Ye(this,Qe(a).call(this,e))).name=e.match.params.name,t.location=e.location,t.addview=e.addview,t.tenantview=e.tenantview,t.history=e.history,t.backend=new M.a,t.state={metrictemplate:{},probe:{},types:[],probeversions:[],metrictemplatelist:[],loading:!1,popoverOpen:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},t.toggleAreYouSure=t.toggleAreYouSure.bind(Fe(t)),t.toggleAreYouSureSetModal=t.toggleAreYouSureSetModal.bind(Fe(t)),t.togglePopOver=t.togglePopOver.bind(Fe(t)),t.onSelect=t.onSelect.bind(Fe(t)),t.onSubmitHandle=t.onSubmitHandle.bind(Fe(t)),t.doChange=t.doChange.bind(Fe(t)),t.doDelete=t.doDelete.bind(Fe(t)),t}return Ve(a,t),ze(a,[{key:"togglePopOver",value:function(){this.setState({popoverOpen:!this.state.popoverOpen})}},{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSelect",value:function(e,t){var a=this.state.metrictemplate;a[e]=t,this.setState({metrictemplate:a})}},{key:"onSubmitHandle",value:function(t,a){var r=this,n=void 0,o=void 0;this.addview||e?(n="Are you sure you want to add metric template?",o="Add metric template"):(n="Are you sure you want to change metric template?",o="Change metric template"),this.toggleAreYouSureSetModal(n,o,(function(){return r.doChange(t,a)}))}},{key:"doChange",value:function(t,a){var r=this;if(this.addview||e){var n=void 0;n=e?t.id:"",this.backend.addObject("/api/v2/internal/metrictemplates/",{cloned_from:n,name:t.name,probeversion:t.probeversion,mtype:t.type,description:t.description,probeexecutable:t.probeexecutable,parent:t.parent,config:t.config,attribute:t.attributes,dependency:t.dependency,parameter:t.parameter,flags:t.flags,files:t.file_attributes,fileparameter:t.file_parameters}).then((function(e){e.ok?Object(y.o)({msg:"Metric template successfully added",title:"Added",callback:function(){return r.history.push("/ui/metrictemplates")}}):e.json().then((function(e){pe.NotificationManager.error(e.detail,"Error")}))})).catch((function(e){return alert("Something went wrong: "+e)}))}else this.backend.changeObject("/api/v2/internal/metrictemplates/",{id:t.id,name:t.name,probeversion:t.probeversion,mtype:t.type,description:t.description,probeexecutable:t.probeexecutable,parent:t.parent,config:t.config,attribute:t.attributes,dependency:t.dependency,parameter:t.parameter,flags:t.flags,files:t.file_attributes,fileparameter:t.file_parameters}).then((function(e){e.ok?Object(y.o)({msg:"Metric template successfully changed",title:"Changed",callback:function(){return r.history.push("/ui/metrictemplates")}}):e.json().then((function(e){pe.NotificationManager.error(e.detail,"Error")}))})).catch((function(e){return alert("Something went wrong: "+e)}))}},{key:"doDelete",value:function(e){var t=this;this.backend.deleteObject("/api/v2/internal/metrictemplates/".concat(e)).then((function(){return Object(y.o)({msg:"Metric template successfully deleted",title:"Deleted",callback:function(){return t.history.push("/ui/metrictemplates")}})})).catch((function(e){return alert("Something went wrong: "+e)}))}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),Promise.all([this.backend.fetchData("/api/v2/internal/mttypes"),this.backend.fetchData("/api/v2/internal/version/probe"),this.backend.fetchData("/api/v2/internal/metrictemplates")]).then((function(t){var a=We(t,3),r=a[0],n=a[1],o=a[2],i=[];o.forEach((function(e){return i.push(e.name)})),e.addview?e.setState({metrictemplate:{id:"",name:"",probeversion:"",mtype:"Active",description:"",probeexecutable:"",parent:"",config:[{key:"maxCheckAttempts",value:""},{key:"timeout",value:""},{key:"path",value:""},{key:"interval",value:""},{key:"retryInterval",value:""}],attribute:[{key:"",value:""}],dependency:[{key:"",value:""}],parameter:[{key:"",value:""}],flags:[{key:"",value:""}],files:[{key:"",value:""}],fileparameter:[{key:"",value:""}]},metrictemplatelist:i,probeversions:n,types:r,loading:!1}):e.backend.fetchData("/api/v2/internal/metrictemplates/".concat(e.name)).then((function(t){0===t.attribute.length&&(t.attribute=[{key:"",value:""}]),0===t.dependency.length&&(t.dependency=[{key:"",value:""}]),0===t.parameter.length&&(t.parameter=[{key:"",value:""}]),0===t.flags.length&&(t.flags=[{key:"",value:""}]),0===t.files.length&&(t.files=[{key:"",value:""}]),0===t.fileparameter.length&&(t.fileparameter=[{key:"",value:""}]),t.probeversion?e.backend.fetchData("/api/v2/internal/version/probe/".concat(t.probeversion.split(" ")[0])).then((function(a){var o={};a.forEach((function(e){e.object_repr===t.probeversion&&(o=e.fields)})),e.setState({metrictemplate:t,probe:o,probeversions:n,metrictemplatelist:i,types:r,loading:!1})})):e.setState({metrictemplate:t,metrictemplatelist:i,types:r,loading:!1})}))}))}},{key:"render",value:function(){var t=this,a=this.state,r=a.metrictemplate,o=a.types,i=a.probeversions,l=a.metrictemplatelist,c=a.loading;return c?n.a.createElement(y.l,null):!c&&r?n.a.createElement(y.b,{resourcename:this.tenantview?"".concat(r.name):"metric template",location:this.location,addview:this.addview,tenantview:this.tenantview,cloneview:e,clone:!0,modal:!0,state:this.state,toggle:this.toggleAreYouSure},n.a.createElement(E.d,{initialValues:{id:r.id,name:r.name,probeversion:r.probeversion,type:r.mtype,description:r.description,probeexecutable:r.probeexecutable,parent:r.parent,config:r.config,attributes:r.attribute,dependency:r.dependency,parameter:r.parameter,flags:r.flags,file_attributes:r.files,file_parameters:r.fileparameter},onSubmit:function(e,a){return t.onSubmitHandle(e,a)},validationSchema:tt,render:function(a){return n.a.createElement(E.c,null,n.a.createElement(xe.d,Re({},a,{obj:"metrictemplate",isTenantSchema:t.tenantview,addview:t.addview,state:t.state,onSelect:t.onSelect,togglePopOver:t.togglePopOver,types:o,probeversions:i,metrictemplatelist:l})),!t.tenantview&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},t.addview||e?n.a.createElement("div",null):n.a.createElement(g.a,{color:"danger",onClick:function(){t.toggleAreYouSureSetModal("Are you sure you want to delete Metric template?","Delete metric template",(function(){return t.doDelete(a.values.name)}))}},"Delete"),n.a.createElement(g.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):null}}]),a}(r.Component)}var rt=function(e){function t(e){var a;return Be(this,t),(a=Ye(this,Qe(t).call(this,e))).name=e.match.params.name,a.version=e.match.params.version,a.backend=new M.a,a.state={name:"",probeversion:"",mtype:"",probeexecutable:"",parent:"",config:[],attribute:[],dependency:[],parameter:[],flags:[],files:[],fileparameter:[],loading:!1},a}return Ve(t,e),ze(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/version/metrictemplate/".concat(this.name)).then((function(t){t.forEach((function(t){t.version==e.version&&e.setState({name:t.fields.name,probeversion:t.fields.probeversion,type:t.fields.mtype,probeexecutable:t.fields.probeexecutable,parent:t.fields.parent,config:t.fields.config,attribute:t.fields.attribute,dependency:t.fields.dependency,parameter:t.fields.parameter,flags:t.fields.flags,files:t.fields.files,fileparameter:t.fields.fileparameter,date_created:t.date_created,loading:!1})}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,r=t.probeversion,o=t.type,i=t.probeexecutable,l=t.parent,c=t.config,s=t.attribute,u=t.dependency,m=t.parameter,d=t.flags,p=t.files,f=t.fileparameter,_=t.loading;return _?n.a.createElement(y.l,null):!_&&a?n.a.createElement(y.b,{resourcename:"".concat(a," ").concat(r&&"[".concat(r,"]")),infoview:!0},n.a.createElement(E.d,{initialValues:{name:a,probeversion:r,type:o,probeexecutable:i,parent:l,config:c,attributes:s,dependency:u,parameter:m,flags:d,file_attributes:p,file_parameters:f},render:function(t){return n.a.createElement(E.c,null,n.a.createElement(xe.d,Re({},t,{obj:"metrictemplate",state:e.state,isHistory:!0})))}})):null}}]),t}(r.Component),nt=function(e){return n.a.createElement(E.c,{className:"ml-2 mb-2 mt-2"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Administration"),n.a.createElement(u.a,{className:"mb-2 pb-1 pt-1"},n.a.createElement(m.a,{className:"sm-5 p-2 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Poem"),n.a.createElement(d.a,null,n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"metrics"})," ",n.a.createElement(P.b,{className:"pl-1",to:"/ui/metrics"},"Metrics")),n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"metricprofiles"})," ",n.a.createElement(P.b,{className:"pl-1",to:"/ui/metricprofiles"},"Metric profiles")),n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"aggregationprofiles"})," ",n.a.createElement(P.b,{className:"pl-1",to:"/ui/aggregationprofiles"},"Aggregation profiles")),n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"thresholdsprofiles"})," ",n.a.createElement(P.b,{className:"pl-1",to:"/ui/thresholdsprofiles"},"Thresholds profiles")))),n.a.createElement(u.a,{className:"mb-2"},n.a.createElement(m.a,{className:"mt-2 p-2 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Authentication and authorization"),n.a.createElement(d.a,null,n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"groupofaggregationprofiles"})," ",n.a.createElement(P.b,{to:"/ui/administration/groupofaggregations"},"Groups of aggregations")),n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"groupofmetrics"})," ",n.a.createElement(P.b,{to:"/ui/administration/groupofmetrics"},"Groups of metrics")),n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"groupofmetricprofiles"})," ",n.a.createElement(P.b,{to:"/ui/administration/groupofmetricprofiles"},"Groups of metric profiles")),n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"groupofthresholdsprofiles"})," ",n.a.createElement(P.b,{to:"/ui/administration/groupofthresholdsprofiles"},"Groups of thresholds profiles")),n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"users"})," ",n.a.createElement(P.b,{to:"/ui/administration/users"},"Users")))),n.a.createElement(u.a,null,n.a.createElement(m.a,{className:"mt-2 p-2 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"SuperAdmin POEM data"),n.a.createElement(d.a,null,n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"metrics"})," ",n.a.createElement(P.b,{to:"/ui/administration/metrictemplates"},"Metric templates")),n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"yumrepos"})," ",n.a.createElement(P.b,{to:"/ui/administration/yumrepos"},"YUM repos")))),n.a.createElement(u.a,null,n.a.createElement(m.a,{className:"mt-2 p-2 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"API key permissions"),n.a.createElement(d.a,null,n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"apikey"})," ",n.a.createElement(P.b,{to:"/ui/administration/apikey"},"API keys")))))},ot=function(e){return n.a.createElement(E.c,{className:"ml-2 mb-2 mt-2"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Administration"),n.a.createElement(u.a,{className:"mb-2 pb-1 pt-1"},n.a.createElement(m.a,{className:"sm-5 p-2 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Poem"),n.a.createElement(d.a,null,n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"probes"})," ",n.a.createElement(P.b,{className:"pl-1",to:"/ui/probes"},"Probes")),n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"metrictemplates"})," ",n.a.createElement(P.b,{className:"pl-1",to:"/ui/metrictemplates"},"Metric templates")),n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"yumrepos"})," ",n.a.createElement(P.b,{className:"pl-1",to:"/ui/yumrepos"},"YUM repos")),n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"packages"})," ",n.a.createElement(P.b,{className:"pl-1",to:"/ui/packages"},"Packages")))),n.a.createElement(u.a,{className:"mb-2"},n.a.createElement(m.a,{className:"mt-2 p-2 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Authentication and authorization"),n.a.createElement(d.a,null,n.a.createElement(c.a,{className:"p-1 align-items-center"},n.a.createElement(y.k,{i:"users"})," ",n.a.createElement(P.b,{to:"/ui/administration/users"},"Users")))))};function it(e){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ct(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function st(e,t){return!t||"object"!==it(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ut(e){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mt(e,t){return(mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dt=function(e){function t(){return lt(this,t),st(this,ut(t).apply(this,arguments))}var a,r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mt(e,t)}(t,e),a=t,(r=[{key:"componentDidUpdate",value:function(e){e.formik!==this.props.formik&&this.props.onChange(this.props.formik,e.formik)}},{key:"render",value:function(){return null}}])&&ct(a.prototype,r),n&&ct(a,n),t}(r.Component),pt=Object(E.e)(dt);a("R9sY"),a("lrsP");function ft(e){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ht(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Et(e,t,a){return t&&ht(e.prototype,t),a&&ht(e,a),e}function vt(e,t){return!t||"object"!==ft(t)&&"function"!=typeof t?yt(e):t}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ot(e,t)}function Ot(e,t){return(Ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dt(){return(Dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function wt(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var At=Object(y.j)("aggregationprofile");function kt(e,t){return-1!==e.toLowerCase().indexOf(t.toLowerCase())}var St=U.object().shape({name:U.string().required("Required"),groupname:U.string().required("Required")});function Pt(e,t){return e?[t].concat(wt(e)):[t]}var Ct=function(e){var t=e.name,a=e.form,r=e.list_services,o=e.list_operations,i=e.last_service_operation,l=e.write_perm;return n.a.createElement(c.a,{className:"groups"},a.values[t].map((function(e,c){return n.a.createElement(E.b,{key:c,name:"groups",render:function(s){return n.a.createElement(It,Dt({},s,{key:c,operation:e.operation,services:e.services,list_services:r,list_operations:o,last_service_operation:i,write_perm:l,groupindex:c,isnew:e.isNew,last:c===a.values[t].length-1}))}})})))},It=function(e){var t=e.operation,a=e.services,r=e.list_operations,o=e.list_services,i=e.last_service_operation,l=e.write_perm,p=e.form,f=e.groupindex,_=e.remove,v=e.insert,b=e.isnew;return e.last?n.a.createElement(s.a,{sm:{size:12},md:{size:6},className:"mt-4 mb-2 d-flex justify-content-center align-items-center"},n.a.createElement(g.a,{outline:!0,color:"secondary",size:"lg",disabled:!l,onClick:function(){return l&&v(f,{name:"",operation:"",isNew:!0,services:[{name:"",operation:""}]})}},"Add new group")):n.a.createElement(n.a.Fragment,{key:f},n.a.createElement(s.a,{sm:{size:8},md:{size:5},className:"mt-4 mb-2"},n.a.createElement(u.a,{className:b?"border-success":""},n.a.createElement(m.a,{className:"p-1",color:"primary"},n.a.createElement(c.a,{className:"d-flex align-items-center no-gutters"},n.a.createElement(s.a,{sm:{size:10},md:{size:11}},n.a.createElement(E.a,{name:"groups.".concat(f,".name"),placeholder:"Name of service group",required:!0,className:"form-control"})),n.a.createElement(s.a,{sm:{size:2},md:{size:1},className:"pl-1"},n.a.createElement(g.a,{size:"sm",color:"danger",type:"button",onClick:function(){return l&&_(f)}},n.a.createElement(N.a,{icon:j.s}))))),n.a.createElement(d.a,{className:"p-1"},n.a.createElement(E.b,{name:"groups.".concat(f),render:function(e){return n.a.createElement(Tt,{list_services:o,list_operations:r,last_service_operation:i,services:a,groupindex:f,groupoperation:t,groupnew:b,form:p})}})),n.a.createElement(h.a,{className:"p-1 d-flex justify-content-center"},n.a.createElement(y.f,{field:{name:"operation",value:t},data:r,prefix:"groups.".concat(f),class_name:"custom-select col-2"})))),n.a.createElement(s.a,{sm:{size:4},md:{size:1},className:"mt-5"},n.a.createElement("div",{className:"group-operation",key:f},n.a.createElement(y.f,{field:{name:"profile_operation",value:p.values.profile_operation},data:r}))))},Tt=function(e){var t=e.services,a=e.list_services,r=void 0===a?[]:a,o=e.list_operations,i=void 0===o?[]:o,l=e.last_service_operation,c=e.groupindex,s=e.groupnew,u=void 0!==s&&s,m=e.form;return t.map((function(e,a){return n.a.createElement(E.b,{key:a,name:"groups.".concat(c,".services"),render:function(o){return n.a.createElement(Nt,Dt({},o,{key:a,service:e,operation:e.operation,list_services:r,list_operations:i,last_service_operation:l,groupindex:c,groupnew:u,index:a,last:a===t.length-1,form:m,isnew:e.isnew,ismissing:-1===r.indexOf(e.name)}))}})}))},Nt=function(e){e.name;var t=e.service,a=e.operation,r=e.list_services,o=e.list_operations,i=e.last_service_operation,l=e.groupindex,u=e.groupnew,m=e.index,d=e.remove,p=e.insert,f=e.form,_=e.isnew,h=e.ismissing;return n.a.createElement(c.a,{className:"d-flex align-items-center service pt-1 pb-1 no-gutters",key:m},n.a.createElement(s.a,{md:8},n.a.createElement(I.a,{inputProps:{className:'"form-control custom-select " '.concat(_&&!u?"border-success":""," ").concat(h?"border-danger":"")},getItemValue:function(e){return e},items:r,value:t.name,renderItem:function(e,t){return n.a.createElement("div",{key:r.indexOf(e),className:"aggregation-autocomplete-entries ".concat(t?"aggregation-autocomplete-entries-highlighted":"")},e?n.a.createElement(y.k,{i:"serviceflavour"}):""," ",e)},onChange:function(e){return f.setFieldValue("groups.".concat(l,".services.").concat(m,".name"),e.target.value)},onSelect:function(e){f.setFieldValue("groups.".concat(l,".services.").concat(m,".name"),e)},wrapperStyle:{},shouldItemRender:kt,renderMenu:function(e){return n.a.createElement("div",{className:"aggregation-autocomplete-menu",children:e})}})),n.a.createElement(s.a,{md:2},n.a.createElement("div",{className:"input-group"},n.a.createElement(y.f,{field:{name:"operation",value:a},data:o,prefix:"groups.".concat(l,".services.").concat(m),class_name:"custom-select service-operation",isnew:_&&!u}))),n.a.createElement(s.a,{md:2,className:"pl-2"},n.a.createElement(g.a,{size:"sm",color:"light",type:"button",onClick:function(){return d(m)}},n.a.createElement(N.a,{icon:j.s})),n.a.createElement(g.a,{size:"sm",color:"light",type:"button",onClick:function(){return p(m+1,{name:"",operation:i(m,f.values.groups[l].services),isnew:!0})}},n.a.createElement(N.a,{icon:j.l}))))},jt=function(e){var t=e.values,a=e.errors,r=e.historyview,o=void 0!==r&&r,i=e.write_perm,l=void 0!==i&&i,u=e.list_user_groups,m=e.logic_operations,d=e.endpoint_groups,_=e.list_id_metric_profiles;return n.a.createElement(n.a.Fragment,null,n.a.createElement(y.p,{values:t,errors:a,fieldsdisable:o,grouplist:o?void 0:l?u:[t.groupname],profiletype:"aggregation"}),n.a.createElement("h4",{className:"mt-4 alert-info p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Operations, endpoint group and metric profile"),n.a.createElement(c.a,{className:"mt-4"},n.a.createElement(s.a,{md:4},n.a.createElement(p.a,null,n.a.createElement(c.a,null,n.a.createElement(s.a,{md:12},n.a.createElement(f.a,{for:"aggregationMetric"},"Metric operation:"))),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:5},o?n.a.createElement(E.a,{name:"metric_operation",className:"form-control",id:"aggregationMetric",disabled:!0}):n.a.createElement(E.a,{name:"metric_operation",component:y.f,data:Pt(m,""),required:!0,class_name:"custom-select",id:"aggregationMetric"}))),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:12},n.a.createElement(de.a,null,"Logical operation that will be applied between metrics of each service flavour"))))),n.a.createElement(s.a,{md:4},n.a.createElement(p.a,null,n.a.createElement(c.a,null,n.a.createElement(s.a,{md:12},n.a.createElement(f.a,{for:"aggregationOperation"},"Aggregation operation:")),n.a.createElement(s.a,{md:5},o?n.a.createElement(E.a,{name:"profile_operation",className:"form-control",id:"aggregationOperation",disabled:!0}):n.a.createElement(E.a,{name:"profile_operation",component:y.f,data:Pt(m,""),required:!0,class_name:"custom-select",id:"aggregationOperation"}))),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:12},n.a.createElement(de.a,null,"Logical operation that will be applied between defined service flavour groups"))))),n.a.createElement(s.a,{md:4},n.a.createElement(p.a,null,n.a.createElement(c.a,null,n.a.createElement(s.a,{md:12},n.a.createElement(f.a,{for:"aggregationEndpointGroup"},"Endpoint group:")),n.a.createElement(s.a,{md:5},o?n.a.createElement(E.a,{name:"endpoint_group",className:"form-control",id:"aggregationEndpointGroup",disabled:!0}):n.a.createElement(E.a,{name:"endpoint_group",component:y.f,data:Pt(d,""),required:!0,class_name:"custom-select",id:"aggregationEndpointGroup"})))))),n.a.createElement(c.a,{className:"mt-4"},n.a.createElement(s.a,{md:5},n.a.createElement(p.a,null,n.a.createElement(f.a,{for:"metricProfile"},"Metric profile:"),o?n.a.createElement(E.a,{name:"metric_profile",className:"form-control",disabled:!0}):n.a.createElement(E.a,{name:"metric_profile",component:y.f,data:Pt(_.map((function(e){return e.name})),""),required:!0,class_name:"custom-select"}),n.a.createElement(de.a,null,"Metric profile associated to Aggregation profile. Service flavours defined in service flavour groups originate from selected metric profile.")))),n.a.createElement("h4",{className:"mt-2 alert-info p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Service flavour groups"))},Lt=function(e){function t(e){var a;return gt(this,t),(a=vt(this,bt(t).call(this,e))).tenant_name=e.tenant_name,a.token=e.webapitoken,a.webapiaggregation=e.webapiaggregation,a.webapimetric=e.webapimetric,a.profile_name=e.match.params.name,a.addview=e.addview,a.history=e.history,a.location=e.location,a.state={aggregation_profile:{},groupname:void 0,list_user_groups:[],write_perm:!1,list_id_metric_profiles:[],list_services:[],list_complete_metric_profiles:{},areYouSureModal:!1,loading:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},a.backend=new M.a,a.webapi=new M.b({token:e.webapitoken,metricProfiles:e.webapimetric,aggregationProfiles:e.webapiaggregation}),a.extractListOfMetricsProfiles=a.extractListOfMetricsProfiles.bind(yt(a)),a.toggleAreYouSure=a.toggleAreYouSure.bind(yt(a)),a.doChange=a.doChange.bind(yt(a)),a.doDelete=a.doDelete.bind(yt(a)),a.toggleAreYouSureSetModal=a.toggleAreYouSureSetModal.bind(yt(a)),a.onSubmitHandle=a.onSubmitHandle.bind(yt(a)),a.logic_operations=["OR","AND"],a.endpoint_groups=["servicegroups","sites"],a}return Mt(t,e),Et(t,[{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"correctMetricProfileName",value:function(e,t){var a=t.filter((function(t){return t.id===e}));return a.length?a[0].name:""}},{key:"extractListOfServices",value:function(e,t){var a=t.filter((function(t){return t.name===e.name}));return 0===a.length&&(a=t.filter((function(t){return t.id===e.id}))),a.length?a[0].services.map((function(e){return e.service})):[]}},{key:"sortMetricProfiles",value:function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:e.name.toLowerCase()===t.name.toLowerCase()?0:void 0}},{key:"extractListOfMetricsProfiles",value:function(e){var t=[];return e.forEach((function(e){var a=t.length,r=e.name,n=e.id;t[a]={name:r,id:n},a+=1})),t.sort(this.sortMetricProfiles)}},{key:"insertEmptyServiceForNoServices",value:function(e){return e.forEach((function(e){0===e.services.length&&e.services.push({name:"",operation:""})})),e}},{key:"insertOperationFromPrevious",value:function(e,t){return t.length?t[t.length-1].operation:""}},{key:"onSubmitHandle",value:function(e,t){var a=this,r=void 0,n=void 0;this.addview?(r="Are you sure you want to add Aggregation profile?",n="Add aggregation profile"):(r="Are you sure you want to change Aggregation profile?",n="Change aggregation profile"),this.toggleAreYouSureSetModal(r,n,(function(){return a.doChange(e,t)}))}},{key:"doChange",value:function(e,t){var a=this,r=JSON.parse(JSON.stringify(e));this.removeDummyGroup(r),r.namespace=this.tenant_name;var n=this.state.list_id_metric_profiles.filter((function(e){return r.metric_profile===e.name}));r.metric_profile=n[0],this.addview?this.webapi.addAggregation(r).then((function(t){t.ok?t.json().then((function(t){a.backend.addObject("/api/v2/internal/aggregations/",{apiid:t.data.id,name:r.name,groupname:r.groupname,endpoint_group:r.endpoint_group,metric_operation:r.metric_operation,profile_operation:r.profile_operation,metric_profile:e.metric_profile,groups:JSON.stringify(r.groups)}).then((function(){return Object(y.o)({msg:"Aggregation profile successfully added",title:"Added",callback:function(){return a.history.push("/ui/aggregationprofiles")}})})).catch((function(e){return alert("Something went wrong: "+e)}))})).catch((function(e){return alert("Something went wrong: "+e)})):a.toggleAreYouSureSetModal("Error: ".concat(t.status,", ").concat(t.statusText),"Error adding aggregation profile",void 0)})).catch((function(e){return alert("Something went wrong: "+e)})):this.webapi.changeAggregation(r).then((function(t){t.ok?t.json().then((function(t){a.backend.changeObject("/api/v2/internal/aggregations/",{apiid:r.id,name:r.name,groupname:r.groupname,endpoint_group:r.endpoint_group,metric_operation:r.metric_operation,profile_operation:r.profile_operation,metric_profile:e.metric_profile,groups:JSON.stringify(r.groups)}).then((function(){return Object(y.o)({msg:"Aggregation profile succesfully changed",title:"Changed",callback:function(){return a.history.push("/ui/aggregationprofiles")}})})).catch((function(e){return alert("Something went wrong: "+e)}))})).catch((function(e){return alert("Something went wrong: "+e)})):a.toggleAreYouSureSetModal("Error: ".concat(t.status,", ").concat(t.statusText),"Error changing aggregation profile",void 0)})).catch((function(e){return alert("Something went wrong: "+e)}))}},{key:"doDelete",value:function(e){var t=this;this.webapi.deleteAggregation(e).then((function(a){a.ok?a.json().then(t.backend.deleteObject("/api/v2/internal/aggregations/".concat(e))).then((function(){return Object(y.o)({msg:"Aggregation profile sucessfully deleted",title:"Deleted",callback:function(){return t.history.push("/ui/aggregationprofiles")}})})):alert("Error: ".concat(a.status,", ").concat(a.statusText))})).catch((function(e){return alert("Something went wrong: "+e)}))}},{key:"insertDummyGroup",value:function(e){return[].concat(wt(e),[{name:"dummy",operation:"OR",services:[{name:"dummy",operation:"OR"}]}])}},{key:"removeDummyGroup",value:function(e){var t=e.groups[e.groups.length-1];"dummy"==t.name&&"dummy"==t.services[0].name&&e.groups.pop()}},{key:"checkIfServiceMissingInMetricProfile",value:function(e,t){var a=new Set(e),r=!1;return t.forEach((function(e){var t=!0,n=!1,o=void 0;try{for(var i,l=e.services[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){var c=i.value;if(!a.has(c.name)){r=!0;break}}}catch(e){n=!0,o=e}finally{try{t||null==l.return||l.return()}finally{if(n)throw o}}})),r}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.isActiveSession().then((function(t){t.active&&Promise.all([e.webapi.fetchMetricProfiles()]).then((function(a){var r=_t(a,1)[0];if(e.addview){e.setState({aggregation_profile:{id:"",name:"",metric_operation:"",profile_operation:"",endpoint_group:"",metric_profile:{name:""},groups:[]},groupname:"",list_user_groups:t.userdetails.groups.aggregations,write_perm:t.userdetails.is_superuser||t.userdetails.groups.aggregations.length>0,list_id_metric_profiles:e.extractListOfMetricsProfiles(r),list_complete_metric_profiles:r,list_services:[],loading:!1})}else e.backend.fetchData("/api/v2/internal/aggregations/".concat(e.profile_name)).then((function(a){return Promise.all([e.webapi.fetchAggregationProfile(a.apiid)]).then((function(n){var o=_t(n,1)[0];return e.setState({aggregation_profile:o,groupname:a.groupname,list_user_groups:t.userdetails.groups.aggregations,write_perm:t.userdetails.is_superuser||t.userdetails.groups.aggregations.indexOf(a.groupname)>=0,list_id_metric_profiles:e.extractListOfMetricsProfiles(r),list_services:e.extractListOfServices(o.metric_profile,r),list_complete_metric_profiles:r,loading:!1})}))}))}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.aggregation_profile,r=t.list_id_metric_profiles,o=t.list_complete_metric_profiles,i=t.list_user_groups,l=t.groupname,c=t.list_services,s=t.write_perm,u=t.loading;if(u)return n.a.createElement(y.l,null);if(!u&&a&&a.metric_profile&&i&&this.token){var m=this.checkIfServiceMissingInMetricProfile(c,a.groups);return n.a.createElement(y.b,{resourcename:"aggregation profile",location:this.location,addview:this.addview,modal:!0,state:this.state,toggle:this.toggleAreYouSure,submitperm:s},n.a.createElement(E.d,{initialValues:{id:a.id,name:a.name,groupname:l,metric_operation:a.metric_operation,profile_operation:a.profile_operation,metric_profile:this.correctMetricProfileName(a.metric_profile.id,r),endpoint_group:a.endpoint_group,groups:this.insertDummyGroup(this.insertEmptyServiceForNoServices(a.groups))},onSubmit:function(t,a){return e.onSubmitHandle(t,a)},validationSchema:St,render:function(t){return n.a.createElement(E.c,null,n.a.createElement(pt,{onChange:function(t,a){if(t.values.metric_profile!==a.values.metric_profile){var r={name:t.values.metric_profile};e.setState({list_services:e.extractListOfServices(r,o)})}}}),m&&n.a.createElement(_.a,{color:"danger"},n.a.createElement("center",null,n.a.createElement(N.a,{icon:j.i,size:"lg",color:"black"}),"   Some Service Flavours used in Aggregation profile are not presented in associated Metric profile meaning that two profiles are out of sync. Check below for Service Flavours in red borders.")),n.a.createElement(jt,Dt({},t,{list_user_groups:i,logic_operations:e.logic_operations,endpoint_groups:e.endpoint_groups,list_id_metric_profiles:r,write_perm:s})),n.a.createElement(E.b,{name:"groups",render:function(t){return n.a.createElement(Ct,Dt({},t,{list_services:Pt(c,""),list_operations:Pt(e.logic_operations,""),last_service_operation:e.insertOperationFromPrevious,write_perm:s}))}}),s&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},n.a.createElement(g.a,{color:"danger",onClick:function(){e.toggleAreYouSureSetModal("Are you sure you want to delete Aggregation profile?","Delete aggregation profile",(function(){return e.doDelete(t.values.id)}))}},"Delete"),n.a.createElement(g.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}}))}return null}}]),t}(r.Component),xt=function(e){function t(e){var a;return gt(this,t),(a=vt(this,bt(t).call(this,e))).state={loading:!1,list_aggregations:null},a.location=e.location,a.backend=new M.a,a}return Mt(t,e),Et(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/aggregations").then((function(t){return e.setState({list_aggregations:t,loading:!1})}))}},{key:"render",value:function(){var e=[{Header:"Name",id:"name",maxWidth:350,accessor:function(e){return n.a.createElement(P.b,{to:"/ui/aggregationprofiles/"+e.name},e.name)}},{Header:"Description",accessor:"description"},{Header:"Group",accessor:"groupname",className:"text-center",maxWidth:150}],t=this.state,a=t.loading,r=t.list_aggregations;return a?n.a.createElement(y.l,null):!a&&r?n.a.createElement(y.b,{resourcename:"aggregation profile",location:this.location,listview:!0},n.a.createElement(T.a,{data:r,columns:e,className:"-highlight",defaultPageSize:12,rowsText:"profiles",getTheadThProps:function(){return{className:"table-active font-weight-bold p-2"}}})):null}}]),t}(r.Component),Ut=function(e){for(var t=e.title,a=e.item1,r=e.item2,o=[],i=[],l=0;l<a.length;l++){for(var c=[],s=0;s<a[l].services.length;s++)c.push("{name: ".concat(a[l].services[s].name,", operation: ").concat(a[l].services[s].operation,"}"));o.push("name: ".concat(a[l].name,",\noperation: ").concat(a[l].operation,",\nservices: [\n").concat(c.join("\n"),"\n]"))}for(var u=0;u<r.length;u++){for(var m=[],d=0;d<r[u].services.length;d++)m.push("{name: ".concat(r[u].services[d].name,", operation: ").concat(r[u].services[d].operation,"}"));i.push("name: ".concat(r[u].name,",\noperation: ").concat(r[u].operation,",\nservices: [\n").concat(m.join("\n"),"\n]"))}return n.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},n.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},t),n.a.createElement(x.a,{oldValue:i.join("\n"),newValue:o.join("\n"),showDiffOnly:!0,splitView:!0,hideLineNumbers:!0}))},Rt=function(e){function t(e){var a;return gt(this,t),(a=vt(this,bt(t).call(this,e))).version1=e.match.params.id1,a.version2=e.match.params.id2,a.name=e.match.params.name,a.state={loading:!1,name1:"",groupname1:"",metric_operation1:"",profile_operation1:"",endpoint_group1:"",metric_profile1:"",groups1:[],name2:"",groupname2:"",metric_operation2:"",profile_operation2:"",endpoint_group2:"",metric_profile2:"",groups2:[]},a.backend=new M.a,a}return Mt(t,e),Et(t,[{key:"componentDidMount",value:function(){var e=this;this.backend.fetchData("/api/v2/internal/tenantversion/aggregationprofile/".concat(this.name)).then((function(t){var a="",r="",n="",o="",i="",l="",c=[],s="",u="",m="",d="",p="",f="",_=[];t.forEach((function(t){t.version==e.version1?(a=t.fields.name,r=t.fields.groupname,n=t.fields.metric_operation,o=t.fields.profile_operation,i=t.fields.endpoint_group,l=t.fields.metric_profile,c=t.fields.groups):t.version==e.version2&&(s=t.fields.name,u=t.fields.groupname,m=t.fields.metric_operation,d=t.fields.profile_operation,p=t.fields.endpoint_group,f=t.fields.metric_profile,_=t.fields.groups)})),e.setState({name1:a,groupname1:r,metric_operation1:n,profile_operation1:o,endpoint_group1:i,metric_profile1:l,groups1:c,name2:s,groupname2:u,metric_operation2:m,profile_operation2:d,endpoint_group2:p,metric_profile2:f,groups2:_,loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.name1,a=e.name2,r=e.groupname1,o=e.groupname2,i=e.metric_operation1,l=e.metric_operation2,c=e.profile_operation1,s=e.profile_operation2,u=e.endpoint_group1,m=e.endpoint_group2,d=e.metric_profile1,p=e.metric_profile2,f=e.groups1,_=e.groups2,g=e.loading;return g?n.a.createElement(y.l,null):!g&&t&&a?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Compare ".concat(this.name," versions"))),t!==a&&n.a.createElement(y.e,{title:"name",item1:t,item2:a}),r!==o&&n.a.createElement(y.e,{title:"group name",item1:r,item2:o}),i!==l&&n.a.createElement(y.e,{title:"metric operation",item1:i,item2:l}),c!==s&&n.a.createElement(y.e,{title:"aggregation operation",item1:c,item2:s}),u!==m&&n.a.createElement(y.e,{title:"endpoint group",item1:u,item2:m}),d!==p&&n.a.createElement(y.e,{title:"metric profile",item1:d,item2:p}),f!==_&&n.a.createElement(Ut,{title:"groups",item1:f,item2:_})):null}}]),t}(r.Component),Wt=function(e){function t(e){var a;return gt(this,t),(a=vt(this,bt(t).call(this,e))).name=e.match.params.name,a.version=e.match.params.version,a.backend=new M.a,a.state={name:"",groupname:"",metric_operation:"",profile_operation:"",endpoint_group:"",metric_profile:"",groups:[],date_created:"",loading:!1},a}return Mt(t,e),Et(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/tenantversion/aggregationprofile/".concat(this.name)).then((function(t){t.forEach((function(t){t.version==e.version&&e.setState({name:t.fields.name,groupname:t.fields.groupname,metric_operation:t.fields.metric_operation,profile_operation:t.fields.profile_operation,endpoint_group:t.fields.endpoint_group,metric_profile:t.fields.metric_profile,groups:t.fields.groups,date_created:t.date_created,loading:!1})}))}))}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.groupname,r=e.metric_operation,o=e.profile_operation,i=e.endpoint_group,l=e.metric_profile,p=e.groups,f=e.date_created,_=e.loading;return _?n.a.createElement(y.l,null):!_&&t?n.a.createElement(y.b,{resourcename:"".concat(t," (").concat(f,")"),infoview:!0},n.a.createElement(E.d,{initialValues:{name:t,groupname:a,metric_operation:r,profile_operation:o,endpoint_group:i,metric_profile:l,groups:p},render:function(e){return n.a.createElement(E.c,null,n.a.createElement(jt,Dt({},e,{historyview:!0})),n.a.createElement(E.b,{name:"groups",render:function(t){return n.a.createElement(c.a,{className:"groups"},e.values.groups.map((function(t,a){return n.a.createElement(E.b,{key:a,name:"groups",render:function(r){return n.a.createElement(n.a.Fragment,{key:a},n.a.createElement(s.a,{sm:{size:8},md:{size:5},className:"mt-4 mb-2"},n.a.createElement(u.a,null,n.a.createElement(m.a,{className:"p-1",color:"primary"},n.a.createElement(c.a,{className:"d-flex align-items-center no-gutters"},n.a.createElement(s.a,{sm:{size:10},md:{size:11}},p[a].name))),n.a.createElement(d.a,{className:"p-1"},t.services.map((function(e,t){return n.a.createElement(E.b,{key:t,name:"groups.".concat(a,".services"),render:function(e){return n.a.createElement(c.a,{className:"d-flex align-items-center service pt-1 pb-1 no-gutters",key:t},n.a.createElement(s.a,{md:8},p[a].services[t].name),n.a.createElement(s.a,{md:2},p[a].services[t].operation))}})}))),n.a.createElement(h.a,{className:"p-1 d-flex justify-content-center"},p[a].operation))),n.a.createElement(s.a,{sm:{size:4},md:{size:1},className:"mt-5"},n.a.createElement("div",{className:"group-operation",key:a},e.values.profile_operation)))}})})))}}))}})):null}}]),t}(r.Component),Bt=function(e){return n.a.createElement("div",null,'"I\'m Reports"')};a("b4bE");function Kt(e){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yt(e,t){return!t||"object"!==Kt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qt(e){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ft(e,t){return(Ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Vt=function(e){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=Yt(this,Qt(t).call(this,e))).state={loading:!1,rows:null,rowspan:null},a.backend=new M.a,a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ft(e,t)}(t,e),a=t,(r=[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/services").then((function(t){return e.setState({rows:t.result.rows,rowspan:t.result.rowspan,loading:!1})}))}},{key:"getRowSpan",value:function(e,t){var a=e.filter((function(e){return e[0]===t}));return a.length?a[0][1]:1}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,r=t.rows,o=t.rowspan;return a?n.a.createElement(y.l,null):!a&&r?n.a.createElement(y.b,{resourcename:"Services and probes",infoview:!0},n.a.createElement("table",{className:"table table-bordered table-sm"},n.a.createElement("thead",{className:"table-active"},n.a.createElement("tr",null,n.a.createElement("th",{id:"argo-th",scope:"col"},"Service category"),n.a.createElement("th",{id:"argo-th",scope:"col"},"Service name"),n.a.createElement("th",{id:"argo-th",scope:"col"},n.a.createElement(y.k,{i:"serviceflavour"})," Service type"),n.a.createElement("th",{id:"argo-th",scope:"col"},n.a.createElement(y.k,{i:"metrics"})," Metric"),n.a.createElement("th",{id:"argo-th",scope:"col"},n.a.createElement(y.k,{i:"probes"})," Probe"))),n.a.createElement("tbody",null,r.map((function(t,a){return n.a.createElement("tr",{key:a},t.service_category&&n.a.createElement("td",{id:"argo-td",className:"table-light",rowSpan:e.getRowSpan(o.service_category,t.service_category)},t.service_category),t.service_name&&n.a.createElement("td",{id:"argo-td",className:"table-light",rowSpan:e.getRowSpan(o.service_name,t.service_name)},t.service_name),t.service_type&&n.a.createElement("td",{id:"argo-td",className:"table-light",rowSpan:e.getRowSpan(o.service_type,t.service_type)},n.a.createElement(y.k,{i:"serviceflavour"})," ",t.service_type),t.metric&&n.a.createElement("td",{id:"argo-td",className:"table-light",rowSpan:e.getRowSpan(o.metric,t.metric)},n.a.createElement(y.k,{i:"metrics"})," ",n.a.createElement(P.b,{to:"/ui/metrics/"+t.metric},t.metric)),t.probe&&n.a.createElement("td",{id:"argo-td",className:"table-light",rowSpan:e.getRowSpan(o.probe,t.probe)},n.a.createElement(y.k,{i:"probes"})," ",n.a.createElement(xe.i,{probeversion:t.probe})))}))))):null}}])&&zt(a.prototype,r),o&&zt(a,o),t}(r.Component);a("QjdQ");function Ht(e){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qt(){return(qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Zt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xt(e,t,a){return t&&Jt(e.prototype,t),a&&Jt(e,a),e}function $t(e,t){return!t||"object"!==Ht(t)&&"function"!=typeof t?ea(e):t}function ea(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ta(e){return(ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function aa(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ra(e,t)}function ra(e,t){return(ra=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var na=U.object().shape({username:U.string().max(30,"Username must be 30 characters or fewer.").matches(/^[A-Za-z0-9@.+\-_]*$/,"Letters, numbers and @/./+/-/_ characters").required("Required"),addview:U.boolean(),password:U.string().when("addview",{is:!0,then:U.string().required("Required").min(8,"Your password must contain at least 8 characters.").matches(/^\d*[a-zA-Z][a-zA-Z\d]*$/,"Your password cannot be entirely numeric.")}),confirm_password:U.string().when("addview",{is:!0,then:U.string().required("Required").oneOf([U.ref("password"),null],"Passwords do not match!")}),email:U.string().email("Enter valid email.").required("Required")}),oa=sa(!0),ia=sa(),la=function(e){var t=e.add,a=e.errors;e.values;return n.a.createElement(n.a.Fragment,null,t?n.a.createElement(p.a,null,n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(ue.a,null,n.a.createElement(me.a,{addonType:"prepend"},"Username"),n.a.createElement(E.a,{type:"text",name:"username",className:"form-control ".concat(a.username&&"border-danger"),id:"userUsername"})),a.username&&Object(y.h)(a.username))),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(ue.a,null,n.a.createElement(me.a,{addonType:"prepend"},"Password"),n.a.createElement(E.a,{type:"password",name:"password",className:"form-control ".concat(a.password&&"border-danger"),id:"password"})),a.password&&Object(y.h)(a.password))),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(ue.a,null,n.a.createElement(me.a,{addonType:"prepend"},"Confirm password"),n.a.createElement(E.a,{type:"password",name:"confirm_password",className:"form-control ".concat(a.confirm_password&&"border-danger"),id:"confirm_password"})),a.confirm_password&&Object(y.h)(a.confirm_password)))):n.a.createElement(p.a,null,n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(ue.a,null,n.a.createElement(me.a,{addonType:"prepend"},"Username"),n.a.createElement(E.a,{type:"text",name:"username",className:"form-control",id:"userUsername"})),a.username&&Object(y.h)(a.username)))),n.a.createElement(p.a,null,n.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Personal info"),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(ue.a,null,n.a.createElement(me.a,{addonType:"prepend"},"First name"),n.a.createElement(E.a,{type:"text",name:"first_name",className:"form-control",id:"userFirstName"})))),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(ue.a,null,n.a.createElement(me.a,{addonType:"prepend"},"Last name"),n.a.createElement(E.a,{type:"text",name:"last_name",className:"form-control",id:"userLastName"})))),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(ue.a,null,n.a.createElement(me.a,{addonType:"prepend"},"Email"),n.a.createElement(E.a,{type:"text",name:"email",className:"form-control ".concat(a.email&&"border-danger"),id:"userEmail"})),a.email&&Object(y.h)(a.email))),!t&&n.a.createElement(n.a.Fragment,null,n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(ue.a,null,n.a.createElement(me.a,{addonType:"prepend"},"Last login"),n.a.createElement(E.a,{type:"text",name:"last_login",className:"form-control",readOnly:!0})))),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(ue.a,null,n.a.createElement(me.a,{addonType:"prepend"},"Date joined"),n.a.createElement(E.a,{type:"text",name:"date_joined",className:"form-control",readOnly:!0})))))),n.a.createElement(p.a,null,n.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Permissions"),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(E.a,{component:y.c,name:"is_superuser",className:"form-control",id:"checkbox",label:"Superuser status"}),n.a.createElement(de.a,{color:"muted"},"Designates that this user has all permissions without explicitly assigning them."))),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(E.a,{component:y.c,name:"is_active",className:"form-control",id:"checkbox",label:"Active"}),n.a.createElement(de.a,{color:"muted"},"Designates whether this user should be treated as active. Unselect this instead of deleting accounts.")))))},ca=function(e){function t(e){var a;return Zt(this,t),(a=$t(this,ta(t).call(this,e))).state={loading:!1,list_users:null},a.location=e.location,a.backend=new M.a,a}return aa(t,e),Xt(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/users").then((function(t){return e.setState({list_users:t,loading:!1})}))}},{key:"render",value:function(){var e=[{Header:"Username",id:"username",accessor:function(e){return n.a.createElement(P.b,{to:"/ui/administration/users/"+e.username},e.username)}},{Header:"First name",accessor:"first_name",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)}},{Header:"Last name",accessor:"last_name",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)}},{Header:"Email address",accessor:"email",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)}},{id:"is_superuser",Header:"Superuser status",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)},accessor:function(e){return e.is_superuser?n.a.createElement(N.a,{icon:j.c,style:{color:"#339900"}}):n.a.createElement(N.a,{icon:j.t,style:{color:"#CC0000"}})}},{Header:"Active status",id:"is_active",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)},accessor:function(e){return e.is_active?n.a.createElement(N.a,{icon:j.c,style:{color:"#339900"}}):n.a.createElement(N.a,{icon:j.t,style:{color:"#CC0000"}})}}],t=this.state,a=t.loading,r=t.list_users;return a?n.a.createElement(y.l,null):!a&&r?n.a.createElement(y.b,{resourcename:"users",location:this.location,listview:!0},n.a.createElement(T.a,{data:r,columns:e,className:"-highlight",defaultPageSize:20,rowsText:"users",getTheadThProps:function(){return{className:"table-active font-weight-bold p-2"}}})):null}}]),t}(r.Component);function sa(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){function a(e){var t;return Zt(this,a),(t=$t(this,ta(a).call(this,e))).user_name=e.match.params.user_name,t.addview=e.addview,t.location=e.location,t.history=e.history,t.state={custuser:{pk:"",first_name:"",last_name:"",username:"",is_active:!0,is_superuser:!1,email:"",last_login:"",date_joined:""},password:"",userprofile:{displayname:"",subject:"",egiid:""},usergroups:{aggregations:[],metrics:[],metricprofiles:[],thresholdsprofiles:[]},allgroups:{metrics:[],aggregations:[],metricprofiles:[],thresholdsprofiles:[]},loading:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},t.backend=new M.a,t.toggleAreYouSure=t.toggleAreYouSure.bind(ea(t)),t.toggleAreYouSureSetModal=t.toggleAreYouSureSetModal.bind(ea(t)),t.onSubmitHandle=t.onSubmitHandle.bind(ea(t)),t.doChange=t.doChange.bind(ea(t)),t.doDelete=t.doDelete.bind(ea(t)),t}return aa(a,t),Xt(a,[{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSubmitHandle",value:function(e,t){var a=this,r=void 0,n=void 0;this.addview?(r="Are you sure you want to add user?",n="Add user"):(r="Are you sure you want to change user?",n="Change user"),this.toggleAreYouSureSetModal(r,n,(function(){return a.doChange(e,t)}))}},{key:"doChange",value:function(t,a){var r=this;this.addview?this.backend.addObject("/api/v2/internal/users/",{username:t.username,password:t.password,first_name:t.first_name,last_name:t.last_name,email:t.email,is_superuser:t.is_superuser,is_active:t.is_active}).then((function(a){a.ok?e?r.backend.addObject("/api/v2/internal/userprofile/",{username:t.username,displayname:t.displayname,subject:t.subject,egiid:t.egiid,groupsofaggregations:t.groupsofaggregations,groupsofmetrics:t.groupsofmetrics,groupsofmetricprofiles:t.groupsofmetricprofiles,groupsofthresholdsprofiles:t.groupsofthresholdsprofiles}).then((function(){return Object(y.o)({msg:"User successfully added",title:"Added",callback:function(){return r.history.push("/ui/administration/users")}})})):Object(y.o)({msg:"User successfully added",title:"Added",callback:function(){return r.history.push("/ui/administration/users")}}):a.json().then((function(e){pe.NotificationManager.error(e.detail,"Error")}))})):this.backend.changeObject("/api/v2/internal/users/",{pk:t.pk,username:t.username,first_name:t.first_name,last_name:t.last_name,email:t.email,is_superuser:t.is_superuser,is_active:t.is_active}).then((function(a){a.ok?e?r.backend.changeObject("/api/v2/internal/userprofile/",{username:t.username,displayname:t.displayname,subject:t.subject,egiid:t.egiid,groupsofaggregations:t.groupsofaggregations,groupsofmetrics:t.groupsofmetrics,groupsofmetricprofiles:t.groupsofmetricprofiles,groupsofthresholdsprofiles:t.groupsofthresholdsprofiles}).then((function(){return Object(y.o)({msg:"User successfully changed",title:"Changed",callback:function(){return r.history.push("/ui/administration/users")}})})):Object(y.o)({msg:"User successfully changed",title:"Changed",callback:function(){return r.history.push("/ui/administration/users")}}):a.json().then((function(e){pe.NotificationManager.error(e.detail,"Error")}))}))}},{key:"doDelete",value:function(e){var t=this;this.backend.deleteObject("/api/v2/internal/users/".concat(e)).then((function(){return Object(y.o)({msg:"User successfully deleted",title:"Deleted",callback:function(){return t.history.push("/ui/administration/users")}})}))}},{key:"componentDidMount",value:function(){var t=this;this.setState({loading:!0}),this.addview?e?this.backend.fetchResult("/api/v2/internal/usergroups").then((function(e){return t.setState({allgroups:e,loading:!1})})):this.setState({loading:!1}):e?Promise.all([this.backend.fetchData("/api/v2/internal/users/".concat(this.user_name)),this.backend.fetchData("/api/v2/internal/userprofile/".concat(this.user_name)),this.backend.fetchResult("/api/v2/internal/usergroups/".concat(this.user_name)),this.backend.fetchResult("/api/v2/internal/usergroups")]).then((function(e){var a=Gt(e,4),r=a[0],n=a[1],o=a[2],i=a[3];t.setState({custuser:r,userprofile:n,usergroups:o,allgroups:i,loading:!1})})):this.backend.fetchData("/api/v2/internal/users/".concat(this.user_name)).then((function(e){t.setState({custuser:e,loading:!1})}))}},{key:"render",value:function(){var t=this,a=this.state,r=a.custuser,o=a.userprofile,i=a.usergroups,l=a.allgroups,u=a.loading;return u?n.a.createElement(y.l,null):u?void 0:n.a.createElement(y.b,{resourcename:"users",location:this.location,addview:this.addview,history:!1,modal:!0,state:this.state,toggle:this.toggleAreYouSure},n.a.createElement(E.d,{initialValues:{addview:this.addview,pk:r.pk,first_name:r.first_name,last_name:r.last_name,username:r.username,password:"",confirm_password:"",is_active:r.is_active,is_superuser:r.is_superuser,email:r.email,last_login:r.last_login,date_joined:r.date_joined,groupsofaggregations:i.aggregations,groupsofmetrics:i.metrics,groupsofmetricprofiles:i.metricprofiles,groupsofthresholdsprofiles:i.thresholdsprofiles,displayname:o.displayname,subject:o.subject,egiid:o.egiid},validationSchema:na,onSubmit:function(e,a){return t.onSubmitHandle(e,a)},render:function(a){return n.a.createElement(E.c,null,n.a.createElement(la,qt({},a,{add:t.addview})),e&&n.a.createElement(n.a.Fragment,null,n.a.createElement(p.a,null,n.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"POEM user permissions"),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(f.a,{for:"groupsofmetrics",className:"grouplabel"},"Groups of metrics"),n.a.createElement(E.a,{component:"select",name:"groupsofmetrics",id:"select-field",onChange:function(e){return a.setFieldValue("groupsofmetrics",[].slice.call(e.target.selectedOptions).map((function(e){return e.value})))},multiple:!0},l.metrics.map((function(e){return n.a.createElement("option",{key:e,value:e},e)}))),n.a.createElement(de.a,{color:"muted"},'The groups of metrics that user will control. Hold down "Control" or "Command" on a Mac to select more than one.'))),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(f.a,{for:"groupsofmetricprofiles",className:"grouplabel"},"Groups of metric profiles"),n.a.createElement(E.a,{component:"select",name:"groupsofmetricprofiles",id:"select-field",onChange:function(e){return a.setFieldValue("groupsofmetricprofiles",[].slice.call(e.target.selectedOptions).map((function(e){return e.value})))},multiple:!0},l.metricprofiles.map((function(e){return n.a.createElement("option",{key:e,value:e},e)}))),n.a.createElement(de.a,{color:"muted"},'The groups of metric profiles that user will control. Hold down "Control" or "Command" on a Mac to select more than one.'))),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(f.a,{for:"groupsofaggregations",className:"grouplabel"},"Groups of aggregations"),n.a.createElement(E.a,{component:"select",name:"groupsofaggregations",id:"select-field",onChange:function(e){return a.setFieldValue("groupsofaggregations",[].slice.call(e.target.selectedOptions).map((function(e){return e.value})))},multiple:!0},l.aggregations.map((function(e){return n.a.createElement("option",{key:e,value:e},e)}))),n.a.createElement(de.a,{color:"muted"},'The groups of aggregations that user will control. Hold down "Control" or "Command" on a Mac to select more than one.'))),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(f.a,{for:"groupsofthresholdsprofiles",className:"grouplabel"},"Groups of thresholds profiles"),n.a.createElement(E.a,{component:"select",name:"groupsofthresholdsprofiles",id:"select-field",onChange:function(e){return a.setFieldValue("groupsofthresholdsprofiles",[].slice.call(e.target.selectedOptions).map((function(e){return e.value})))},multiple:!0},l.thresholdsprofiles.map((function(e){return n.a.createElement("option",{key:e,value:e},e)}))),n.a.createElement(de.a,{color:"muted"},'The groups of thresholds profiles that user will control. Hold down "Control" or "Command" on a Mac to select more than one.')))),n.a.createElement(p.a,null,n.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Additional information"),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:12},n.a.createElement(ue.a,null,n.a.createElement(me.a,{addonType:"prepend"},"distinguishedName"),n.a.createElement(E.a,{type:"text",name:"subject",required:!1,className:"form-control",id:"distinguishedname"}))))),n.a.createElement(p.a,null,n.a.createElement(c.a,null,n.a.createElement(s.a,{md:8},n.a.createElement(ue.a,null,n.a.createElement(me.a,{addonType:"prepend"},"eduPersonUniqueId"),n.a.createElement(E.a,{type:"text",name:"egiid",required:!1,className:"form-control",id:"eduid"}))))),n.a.createElement(p.a,null,n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(ue.a,null,n.a.createElement(me.a,{addonType:"prepend"},"displayName"),n.a.createElement(E.a,{type:"text",name:"displayname",required:!1,className:"form-control",id:"displayname"})))))),n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},t.addview?n.a.createElement("div",null):n.a.createElement(g.a,{color:"danger",onClick:function(){t.toggleAreYouSureSetModal("Are you sure you want to delete User?","Delete user",(function(){return t.doDelete(a.values.username)}))}},"Delete"),n.a.createElement(g.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}}))}}]),a}(r.Component)}var ua=a("csno");function ma(e){return(ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function da(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pa(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fa(e,t,a){return t&&pa(e.prototype,t),a&&pa(e,a),e}function _a(e,t){return!t||"object"!==ma(t)&&"function"!=typeof t?ga(e):t}function ga(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ha(e){return(ha=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ea(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&va(e,t)}function va(e,t){return(va=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ba=Sa("metrics","groupofmetrics","group of metrics"),ya=Pa("metrics","groupofmetrics","metrics"),Ma=Sa("aggregations","groupofaggregations","group of aggregations"),Oa=Pa("aggregations","groupofaggregations","aggregations"),Da=Sa("metricprofiles","groupofmetricprofiles","group of metric profiles"),wa=Pa("metricprofiles","groupofmetricprofiles","metric profiles"),Aa=Sa("thresholdsprofiles","groupofthresholdsprofiles","group of thresholds profiles"),ka=Pa("thresholdsprofiles","groupofthresholdsprofiles","thresholds profiles");function Sa(e,t,a){return function(r){function o(e){var t;return da(this,o),(t=_a(this,ha(o).call(this,e))).state={loading:!1,list_groups:null},t.location=e.location,t.backend=new M.a,t}return Ea(o,r),fa(o,[{key:"componentDidMount",value:function(){var t=this;this.setState({loading:!0}),this.backend.fetchResult("/api/v2/internal/usergroups").then((function(a){return t.setState({list_groups:a[e],loading:!1})}))}},{key:"render",value:function(){var e=[{Header:a.charAt(0).toUpperCase()+a.slice(1),id:t,accessor:function(e){return n.a.createElement(P.b,{to:"/ui/administration/".concat(t,"/").concat(e)},e)}}],r=this.state,o=r.loading,i=r.list_groups;return o?n.a.createElement(y.l,null):!o&&i?n.a.createElement(y.b,{resourcename:a,location:this.location,listview:!0},n.a.createElement(T.a,{data:i,columns:e,className:"-highlight",defaultPageSize:12,rowsText:"groups",getTheadThProps:function(){return{className:"table-active font-weight-bold p-2"}}})):null}}]),o}(r.Component)}function Pa(e,t,a){return function(r){function o(e){var t;return da(this,o),(t=_a(this,ha(o).call(this,e))).group=e.match.params.group,t.addview=e.addview,t.location=e.location,t.history=e.history,t.state={name:"",items:[],nogroupitems:[],loading:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},t.backend=new M.a,t.handleDeselect=t.handleDeselect.bind(ga(t)),t.handleSelect=t.handleSelect.bind(ga(t)),t.toggleAreYouSure=t.toggleAreYouSure.bind(ga(t)),t.toggleAreYouSureSetModal=t.toggleAreYouSureSetModal.bind(ga(t)),t.onSubmitHandle=t.onSubmitHandle.bind(ga(t)),t.doChange=t.doChange.bind(ga(t)),t.doDelete=t.doDelete.bind(ga(t)),t}return Ea(o,r),fa(o,[{key:"handleDeselect",value:function(e){var t=this.state.items.slice(),a=this.state.nogroupitems.slice();e.forEach((function(e){t.splice(t.indexOf(e),1)})),e.forEach((function(e){-1===a.indexOf(e)&&a.push(e)})),this.setState({items:t,nogroupitems:a})}},{key:"handleSelect",value:function(e){e.sort((function(e,t){return e.id-t.id})),this.setState({items:e})}},{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSubmitHandle",value:function(e,t){var r=this,n=void 0,o=void 0;this.addview?(n="Are you sure you want to add group of ".concat(a,"?"),o="Add group of ".concat(a)):(n="Are you sure you want to change group of ".concat(a,"?"),o="Change group of ".concat(a)),this.toggleAreYouSureSetModal(n,o,(function(){return r.doChange(e,t)}))}},{key:"doChange",value:function(r,n){var o=this,i=[];this.state.items.forEach((function(e){return i.push(e.name)})),this.addview?this.backend.addObject("/api/v2/internal/".concat(e,"group/"),{name:r.name,items:i}).then((function(){return Object(y.o)({msg:"Group of ".concat(a," successfully added"),title:"Added",callback:function(){return o.history.push("/ui/administration/".concat(t))}})})).catch((function(e){return alert("Something went wrong: ".concat(e))})):this.backend.changeObject("/api/v2/internal/".concat(e,"group/"),{name:r.name,items:i}).then((function(){return Object(y.o)({msg:"Group of ".concat(a," successfully changed"),title:"Changed",callback:function(){return o.history.push("/ui/administration/".concat(t))}})})).catch((function(e){return alert("Something went wrong: ".concat(e))}))}},{key:"doDelete",value:function(r){var n=this;this.backend.deleteObject("/api/v2/internal/".concat(e,"group/").concat(r)).then((function(){return Object(y.o)({msg:"Group of ".concat(a," successfully deleted"),title:"Deleted",callback:function(){return n.history.push("/ui/administration/".concat(t))}})})).catch((function(e){return alert("Something went wrong: ".concat(e))}))}},{key:"componentDidMount",value:function(){var t=this;this.setState({loading:!0}),this.backend.fetchResult("/api/v2/internal/".concat(e,"group")).then((function(a){t.addview?t.setState({name:"",items:[],nogroupitems:a,loading:!1}):t.backend.fetchResult("/api/v2/internal/".concat(e,"group/").concat(t.group)).then((function(e){return t.setState({name:t.group,items:e,nogroupitems:a,loading:!1})}))}))}},{key:"render",value:function(){var t=this,r=this.state,o=r.name,i=r.items,l=r.loading,u=this.state.nogroupitems,m={filter:"form-control",select:"form-control",button:"btn btn btn-block btn-primary",buttonActive:"btn btn btn-block btn-primary"};return l?n.a.createElement(y.l,null):l?void 0:n.a.createElement(y.b,{resourcename:"group of ".concat(a),location:this.location,addview:this.addview,history:!1,modal:!0,state:this.state,toggle:this.toggleAreYouSure},n.a.createElement(E.d,{initialValues:{name:o,items:i},onSubmit:function(e,a){return t.onSubmitHandle(e,a)},render:function(r){return n.a.createElement(E.c,null,n.a.createElement(p.a,null,n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(f.a,{for:"groupname"},"Name"),n.a.createElement(E.a,{type:"text",name:"name",required:!0,className:"form-control",id:"groupname",disabled:!t.addview})))),n.a.createElement(p.a,null,n.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},a),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:5},n.a.createElement(ua.a,{buttonText:"Add",classNames:m,onChange:t.handleSelect,options:u,selectedOptions:i,size:15,textProp:"name",valueProp:"id"})),n.a.createElement(s.a,{md:5},n.a.createElement(ua.a,{buttonText:"Remove",classNames:{filter:"form-control",select:"form-control",button:"btn btn btn-block btn-danger",buttonActive:"btn btn btn-block btn-danger"},onChange:t.handleDeselect,options:i,size:15,textProp:"name",valueProp:"id"})))),n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},t.addview?n.a.createElement("div",null):n.a.createElement(g.a,{color:"danger",onClick:function(){t.toggleAreYouSureSetModal("Are you sure you want to delete group of ".concat(e,"?"),"Delete group of ".concat(e),(function(){return t.doDelete(r.values.name)}))}},"Delete"),n.a.createElement(g.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}}))}}]),o}(r.Component)}var Ca=a("Q4bY"),Ia=a("VtcC"),Ta=a("p2VU");function Na(e){return(Na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ja(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function La(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xa(e,t,a){return t&&La(e.prototype,t),a&&La(e,a),e}function Ua(e,t){return!t||"object"!==Na(t)&&"function"!=typeof t?Ra(e):t}function Ra(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wa(e){return(Wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ba(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ka(e,t)}function Ka(e,t){return(Ka=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var za=function(e){function t(e){var a;return ja(this,t),(a=Ua(this,Wa(t).call(this,e))).location=e.location,a.state={list_keys:null,loading:!1},a.backend=new M.a,a}return Ba(t,e),xa(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/apikeys").then((function(t){return e.setState({list_keys:t,loading:!1})}))}},{key:"render",value:function(){var e=[{Header:"Name",id:"name",accessor:function(e){return n.a.createElement(P.b,{to:"/ui/administration/apikey/"+e.name},e.name)}},{Header:"Created",accessor:"created"},{Header:"Revoked",id:"revoked",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)},accessor:function(e){return e.revoked?n.a.createElement(N.a,{icon:j.c,style:{color:"#339900"}}):n.a.createElement(N.a,{icon:j.t,style:{color:"#CC0000"}})}}],t=this.state,a=t.loading,r=t.list_keys;return a?n.a.createElement(y.l,null):!a&&r?n.a.createElement(y.b,{resourcename:"API key",location:this.location,listview:!0},n.a.createElement(T.a,{data:r,columns:e,className:"-highlight",defaultPageSize:5,rowsText:"keys",getTheadThProps:function(){return{className:"table-active font-weight-bold p-2"}}})):null}}]),t}(r.Component),Ya=function(e){function t(e){var a;return ja(this,t),(a=Ua(this,Wa(t).call(this,e))).name=e.match.params.name,a.location=e.location,a.addview=e.addview,a.history=e.history,a.state={key:{},loading:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},a.backend=new M.a,a.toggleAreYouSure=a.toggleAreYouSure.bind(Ra(a)),a.toggleAreYouSureSetModal=a.toggleAreYouSureSetModal.bind(Ra(a)),a.onSubmitHandle=a.onSubmitHandle.bind(Ra(a)),a.doChange=a.doChange.bind(Ra(a)),a.doDelete=a.doDelete.bind(Ra(a)),a}return Ba(t,e),xa(t,[{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSubmitHandle",value:function(e,t){var a=this,r=void 0,n=void 0;this.addview?(r="Are you sure you want to add API key?",n="Add API key"):(r="Are you sure you want to change API key?",n="Change API key"),this.toggleAreYouSureSetModal(r,n,(function(){return a.doChange(e,t)}))}},{key:"doChange",value:function(e,t){var a=this;this.addview?this.backend.addObject("/api/v2/internal/apikeys/",{name:e.name}).then((function(e){return e.ok?Object(y.o)({msg:"API key successfully added",title:"Added",callback:function(){return a.history.push("/ui/administration/apikey")}}):alert("Something went wrong: "+e.statusText)})):this.backend.changeObject("/api/v2/internal/apikeys/",{id:this.state.key.id,revoked:e.revoked,name:e.name}).then((function(e){return e.ok?Object(y.o)({msg:"API key successfully changed",title:"Changed",callback:function(){return a.history.push("/ui/administration/apikey")}}):alert("Something went wrong: "+e.statusText)}))}},{key:"doDelete",value:function(e){var t=this;this.backend.deleteObject("/api/v2/internal/apikeys/".concat(e)).then((function(e){return e.ok?Object(y.o)({msg:"API key successfully deleted",title:"Deleted",callback:function(){return t.history.push("/ui/administration/apikey")}}):alert("Something went wrong: "+e.statusText)}))}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.addview?this.setState({key:{name:"",revoked:!1,token:""},loading:!1}):this.backend.fetchData("/api/v2/internal/apikeys/".concat(this.name)).then((function(t){return e.setState({key:t,loading:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.key,r=t.loading;return r?n.a.createElement(y.l,null):!r&&a?n.a.createElement(y.b,{resourcename:"API key",location:this.location,addview:this.addview,history:!1,modal:!0,state:this.state,toggle:this.toggleAreYouSure},n.a.createElement(E.d,{initialValues:{name:a.name,revoked:a.revoked,token:a.token},onSubmit:function(t,a){return e.onSubmitHandle(t,a)},render:function(t){return n.a.createElement(E.c,null,n.a.createElement(p.a,null,n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(f.a,{for:"name"},"Name"),n.a.createElement(E.a,{type:"text",name:"name",id:"name",required:!0,className:"form-control"}),n.a.createElement(de.a,{color:"muted"},"A free-form unique identifier of the client. 50 characters max."))),n.a.createElement(c.a,{className:"mt-2"},n.a.createElement(s.a,{md:6},n.a.createElement(E.a,{component:y.c,name:"revoked",className:"form-control",id:"checkbox",label:"Revoked"}),n.a.createElement(de.a,{color:"muted"},"If the API key is revoked, clients cannot use it any more. (This cannot be undone.)")))),n.a.createElement(p.a,null,n.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Credentials"),n.a.createElement(c.a,null,n.a.createElement(s.a,{sm:6},n.a.createElement(ue.a,null,n.a.createElement(me.a,{addonType:"prepend"},"Token"),n.a.createElement(E.a,{type:"text",name:"token",id:"token",readOnly:!0,className:"form-control"})),n.a.createElement(de.a,{color:"muted"},"A public, unique identifier for this API key."))),e.addview&&n.a.createElement(Ca.a,{className:"mt-3"},n.a.createElement(Ia.a,{icon:"info"},"Info"),n.a.createElement(Ta.a,null,"Token will be generated when clicking save."))),n.a.createElement("div",{className:e.addview?"submit-row d-flex align-items-center justify-content-end bg-light p-3 mt-5":"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},!e.addview&&n.a.createElement(g.a,{color:"danger",onClick:function(){e.toggleAreYouSureSetModal("Are you sure you want to delete API key?","Delete API key",(function(){return e.doDelete(t.values.name)}))}},"Delete"),n.a.createElement(g.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):void 0}}]),t}(r.Component),Qa=function(e){return n.a.createElement("div",null,n.a.createElement("h1",null,"Not found"))},Fa=a("Ty5D");function Va(e){return(Va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ha(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function qa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ga(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Za(e,t,a){return t&&Ga(e.prototype,t),a&&Ga(e,a),e}function Ja(e,t){return!t||"object"!==Va(t)&&"function"!=typeof t?Xa(e):t}function Xa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $a(e){return($a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function er(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tr(e,t)}function tr(e,t){return(tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ar=U.object().shape({name:U.string().matches(/^\S*$/,"Name cannot contain white spaces").required("Required"),content:U.string().required("Required"),description:U.string().required("Required")}),rr=function(e){function t(e){var a;return qa(this,t),(a=Ja(this,$a(t).call(this,e))).location=e.location,a.state={loading:!1,list_repos:null,list_tags:null,isTenantSchema:null,search_name:"",search_description:"",search_tag:""},a.backend=new M.a,a}return er(t,e),Za(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),Promise.all([this.backend.fetchData("/api/v2/internal/yumrepos"),this.backend.fetchData("/api/v2/internal/ostags"),this.backend.isTenantSchema()]).then((function(t){var a=Ha(t,3),r=a[0],n=a[1],o=a[2];e.setState({list_repos:r,list_tags:n,isTenantSchema:o,loading:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.list_repos,r=t.isTenantSchema,o=t.loading,i=void 0;i=r?"/ui/administration/yumrepos/":"/ui/yumrepos/";var l=[{Header:"#",id:"row",minWidth:12,Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.index+1)}},{Header:"Name",id:"name",minWidth:80,accessor:function(e){return n.a.createElement(P.b,{to:i+e.name+"-"+e.tag.replace(/\s/g,"").toLowerCase()},"".concat(e.name," (").concat(e.tag,")"))},filterable:!0,Filter:n.a.createElement("input",{value:this.state.search_name,onChange:function(t){return e.setState({search_name:t.target.value})},placeholder:"Search by name",style:{width:"100%"}})},{Header:"Description",accessor:"description",filterable:!0,Filter:n.a.createElement("input",{type:"text",placeholder:"Search by description",value:this.state.search_description,onChange:function(t){return e.setState({search_description:t.target.value})},style:{width:"100%"}})},{Header:"Tag",accessor:"tag",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value)},filterable:!0,Filter:n.a.createElement(y.g,{value:this.state.tag,onChange:function(t){return e.setState({search_tag:t.target.value})},data:this.state.list_tags})}];return this.state.search_name&&(a=a.filter((function(t){return t.name.toLowerCase().includes(e.state.search_name.toLowerCase())}))),this.state.search_description&&(a=a.filter((function(t){return t.description.toLowerCase().includes(e.state.search_description.toLowerCase())}))),this.state.search_tag&&(a=a.filter((function(t){return t.tag.toLowerCase().includes(e.state.search_tag.toLowerCase())}))),o?n.a.createElement(y.l,null):!o&&a?n.a.createElement(y.b,{resourcename:"YUM repo",location:this.location,listview:!0,addnew:!r},n.a.createElement(T.a,{data:a,columns:l,className:"-striped -highlight",defaultPageSize:20})):null}}]),t}(r.Component),nr=function(e){function t(e){var a;return qa(this,t),a=Ja(this,$a(t).call(this,e)),e.match.params.name&&(a.tag=e.match.params.name.split("-")[e.match.params.name.split("-").length-1],a.name=e.match.params.name.replace("-"+a.tag,"")),a.addview=e.addview,a.disabled=e.disabled,a.location=e.location,a.history=e.history,a.backend=new M.a,a.state={repo:{id:"",name:"",tag:"CentOS 6",content:"",description:""},tagslist:[],loading:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},a.toggleAreYouSure=a.toggleAreYouSure.bind(Xa(a)),a.toggleAreYouSureSetModal=a.toggleAreYouSureSetModal.bind(Xa(a)),a.onSubmitHandle=a.onSubmitHandle.bind(Xa(a)),a.doChange=a.doChange.bind(Xa(a)),a.doDelete=a.doDelete.bind(Xa(a)),a}return er(t,e),Za(t,[{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSubmitHandle",value:function(e,t){var a=this,r=void 0,n=void 0;this.addview?(r="Are you sure you want to add YUM repo?",n="Add YUM repo"):(r="Are you sure you want to change YUM repo?",n="Change YUM repo"),this.toggleAreYouSureSetModal(r,n,(function(){return a.doChange(e,t)}))}},{key:"doChange",value:function(e,t){var a=this;this.addview?this.backend.addObject("/api/v2/internal/yumrepos/",{name:e.name,tag:e.tag,content:e.content,description:e.description}).then((function(e){e.ok?Object(y.o)({msg:"YUM repo successfully added",title:"Added",callback:function(){return a.history.push("/ui/yumrepos")}}):e.json().then((function(e){pe.NotificationManager.error(e.detail,"Error")}))})):this.backend.changeObject("/api/v2/internal/yumrepos/",{id:e.id,name:e.name,tag:e.tag,content:e.content,description:e.description}).then((function(e){e.ok?Object(y.o)({msg:"YUM repo successfully changed",title:"Changed",callback:function(){return a.history.push("/ui/yumrepos")}}):e.json().then((function(e){pe.NotificationManager.error(e.detail,"Error")}))}))}},{key:"doDelete",value:function(e,t){var a=this;this.backend.deleteObject("/api/v2/internal/yumrepos/".concat(e,"/").concat(t)).then((function(e){e.ok?Object(y.o)({msg:"YUM repo successfully deleted",title:"Deleted",callback:function(){return a.history.push("/ui/yumrepos")}}):e.json().then((function(e){pe.NotificationManager.error(e.detail,"Error")}))}))}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/ostags").then((function(t){e.addview?e.setState({tagslist:t,loading:!1}):e.backend.fetchData("/api/v2/internal/yumrepos/".concat(e.name,"/").concat(e.tag)).then((function(a){e.setState({repo:a,tagslist:t,loading:!1})}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.repo,r=t.tagslist,o=t.loading;return o?n.a.createElement(y.l,null):!o&&a?n.a.createElement(y.b,{resourcename:"YUM repo",location:this.location,addview:this.addview,modal:!0,state:this.state,toggle:this.toggleAreYouSure,history:!1},n.a.createElement(E.d,{initialValues:{id:a.id,name:a.name,tag:a.tag,content:a.content,description:a.description},onSubmit:function(t,a){return e.onSubmitHandle(t,a)},validationSchema:ar,render:function(t){return n.a.createElement(E.c,null,n.a.createElement(p.a,null,n.a.createElement(c.a,null,n.a.createElement(s.a,{md:6},n.a.createElement(ue.a,null,n.a.createElement(me.a,{addonType:"prepend"},"Name"),n.a.createElement(E.a,{type:"text",name:"name",className:"form-control ".concat(t.errors.name&&"border-danger"),id:"name",disabled:e.disabled})),t.errors.name&&Object(y.h)(t.errors.name),n.a.createElement(de.a,{color:"muted"},"Name of YUM repo file.")),n.a.createElement(s.a,{md:2},n.a.createElement(ue.a,null,n.a.createElement(me.a,{addonType:"prepend"},"Tag"),e.disabled?n.a.createElement(E.a,{type:"text",name:"tag",className:"form-control",id:"tag",disabled:!0}):n.a.createElement(E.a,{component:"select",name:"tag",className:"form-control",id:"tag"},r.map((function(e,t){return n.a.createElement("option",{key:t,value:e},e)})))),n.a.createElement(de.a,{color:"muted"},"OS tag.")))),n.a.createElement(p.a,null,n.a.createElement(c.a,null,n.a.createElement(s.a,{md:8},n.a.createElement(f.a,{for:"content"},"File content"),n.a.createElement(E.a,{component:"textarea",name:"content",rows:"20",className:"form-control ".concat(t.errors.content&&"border-danger"),id:"content",disabled:e.disabled}),t.errors.content&&Object(y.h)(t.errors.content),n.a.createElement(de.a,{color:"muted"},"Content of the repo file.")))),n.a.createElement(p.a,null,n.a.createElement(c.a,null,n.a.createElement(s.a,{md:8},n.a.createElement(f.a,{for:"description"},"Description"),n.a.createElement(E.a,{component:"textarea",name:"description",rows:"5",className:"form-control ".concat(t.errors.description&&"border-danger"),id:"description",disabled:e.disabled}),t.errors.description&&Object(y.h)(t.errors.description),n.a.createElement(de.a,{color:"muted"},"Short free text description.")))),!e.disabled&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},e.addview?n.a.createElement("div",null):n.a.createElement(g.a,{color:"danger",onClick:function(){e.toggleAreYouSureSetModal("Are you sure you want to delete YUM repo?","Delete YUM repo",(function(){return e.doDelete(e.name,e.tag)}))}},"Delete"),n.a.createElement(g.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):null}}]),t}(r.Component),or=a("iqOp"),ir=a("glTy"),lr=a("YGfb");function cr(e){return(cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sr(){return(sr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function ur(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function mr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dr(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pr(e,t,a){return t&&dr(e.prototype,t),a&&dr(e,a),e}function fr(e,t){return!t||"object"!==cr(t)&&"function"!=typeof t?_r(e):t}function _r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gr(e){return(gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Er(e,t)}function Er(e,t){return(Er=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vr=Object(y.j)("thresholdsprofile"),br=U.object().shape({name:U.string().required("Required"),groupname:U.string().required("Required"),rules:U.array().of(U.object().shape({metric:U.string().required("Required"),thresholds:U.array().of(U.object().shape({label:U.string().matches(/^[a-zA-Z][A-Za-z0-9]*$/,"Label can contain alphanumeric characters, but must always begin with a letter.").required("Required"),value:U.string().matches(/^([-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").required("Required"),warn1:U.string().matches(/^[@]?(~|[-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").required("Required"),warn2:U.string().matches(/^([-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").test("greater-than","Should be greater than lower warning limit",(function(e){var t="@"===this.parent.warn1.charAt(0)?this.parent.warn1.substr(1):this.parent.warn1;return!t||!e||("~"===t||(!(!isNaN(Number(t))&&!isNaN(Number(e)))||Number(t)<=Number(e)))})),crit1:U.string().matches(/^[@]?(~|[-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").required("Required"),crit2:U.string().matches(/^([-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").test("greater-than","Should be greater than lower critical limit",(function(e){var t="@"===this.parent.crit1.charAt(0)?this.parent.crit1.substr(1):this.parent.crit1;return!t||!e||("~"===t||(!(!isNaN(Number(t))&&!isNaN(Number(e)))||Number(t)<=Number(e)))})),min:U.string().matches(/^([-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number."),max:U.string().matches(/^([-](?=\.?\d))?(\d+)?(\.\d+)?$/,"Must be a number.").test("greater-than-min","Should be greater than min value.",(function(e){var t=this.parent.min;return!t||(!(!isNaN(Number(t))&&!isNaN(Number(e)))||Number(t)<Number(e))}))}))}))});function yr(e){return e.forEach((function(e){var t=e.thresholds.split(" "),a=[];t.forEach((function(e){var t="",r="",n="",o="",i="",l="",c="",s="",u="",m=e.split("=");if(2===m.length){t=m[0];var d=m[1].split(";");if(d.length>0&&(n=function(e){return isNaN(e.charAt(e.length-1))?e.endsWith("us")?"us":e.endsWith("ms")?"ms":e.endsWith("s")?"s":e.endsWith("%")?"%":e.endsWith("KB")?"KB":e.endsWith("MB")?"MB":e.endsWith("TB")?"TB":e.endsWith("B")?"B":e.endsWith("c")?"c":void 0:""}(d[0]),r=d[0].replace(n,""),d.length>1))for(var p=1;p<d.length;p++)if(1===p){var f=d[p].split(":");f.length>1?(o=f[0],i=f[1]):(o="0",i=d[p])}else if(2===p){var _=d[p].split(":");_.length>1?(l=_[0],c=_[1]):(l="0",c=d[p])}else 3===p?s=d[p]:4===p&&(u=d[p])}a.push({label:t,value:r,uom:n,warn1:o,warn2:i,crit1:l,crit2:c,min:s,max:u})})),e.thresholds=a})),e}var Mr=function(e){var t=e.values,a=e.errors,r=e.setFieldValue,o=e.historyview,i=void 0!==o&&o,l=e.groups_list,f=void 0===l?void 0:l,_=e.metrics_list,v=void 0===_?void 0:_,b=e.write_perm,M=void 0!==b&&b,O=e.onSelect,D=e.state,w=e.toggleWarningPopOver,A=e.toggleCriticalPopOver;return n.a.createElement(n.a.Fragment,null,n.a.createElement(y.p,{values:t,errors:a,grouplist:M?f:[t.groupname],fieldsdisable:i,profiletype:"thresholds"}),n.a.createElement(p.a,null,n.a.createElement("h4",{className:"mt-4 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Thresholds rules"),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:12},n.a.createElement(E.b,{name:"rules",render:function(e){return n.a.createElement("div",null,t.rules&&t.rules.length>0?t.rules.map((function(o,l){return n.a.createElement(n.a.Fragment,{key:"fragment.rules.".concat(l)},n.a.createElement(u.a,{className:"mt-".concat(0===l?"1":"4")},n.a.createElement(m.a,{className:"p-1 font-weight-bold text-uppercase"},n.a.createElement("div",{className:"d-flex align-items-center justify-content-between no-gutters"},"Rule ",l+1,!i&&n.a.createElement(g.a,{size:"sm",color:"danger",type:"button",onClick:function(){return M&&e.remove(l)}},n.a.createElement(N.a,{icon:j.s})))),n.a.createElement(d.a,{className:"p-1"},n.a.createElement(c.a,{className:"d-flex align-items-center no-gutters"},n.a.createElement(s.a,{md:12},i?n.a.createElement(ue.a,null,n.a.createElement(me.a,{addonType:"prepend"},"Metric"),n.a.createElement(E.a,{name:"rules.".concat(l,".metric"),className:"form-control",disabled:!0})):n.a.createElement(y.a,{req:a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].metric,setFieldValue:r,lists:v,icon:"metrics",field:"rules[".concat(l,"].metric"),val:t.rules[l].metric,onselect_handler:O,label:"Metric"}),a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].metric&&Object(y.h)(a.rules[l].metric))),n.a.createElement(c.a,{className:"mt-2"},n.a.createElement(s.a,{md:12},n.a.createElement(ue.a,null,n.a.createElement(me.a,{addonType:"prepend"},"Host"),n.a.createElement(E.a,{name:"rules.".concat(l,".host"),className:"form-control",disabled:i})))),n.a.createElement(c.a,{className:"mt-2"},n.a.createElement(s.a,{md:12},n.a.createElement(ue.a,null,n.a.createElement(me.a,{addonType:"prepend"},"Endpoint group"),n.a.createElement(E.a,{name:"rules.".concat(l,".endpoint_group"),className:"form-control",disabled:i}))))),n.a.createElement(h.a,null,n.a.createElement(c.a,{className:"mt-2"},n.a.createElement(s.a,{md:12},n.a.createElement("h6",{className:"text-uppercase rounded"},"Thresholds"),n.a.createElement(E.b,{name:"rules.".concat(l,".thresholds"),render:function(e){return n.a.createElement("div",null,n.a.createElement("table",{className:"table table-bordered table-sm"},n.a.createElement("thead",{className:"table-active"},n.a.createElement("tr",{className:"align-middle text-center"},n.a.createElement("th",{style:{width:"4%"}},"#"),n.a.createElement("th",{style:{width:"13%"}},"Label"),n.a.createElement("th",{colSpan:2,style:{width:"13%"}},"Value"),i?n.a.createElement("th",{colSpan:3,style:{width:"13%"}},"Warning"):n.a.createElement("th",{colSpan:3,style:{width:"13%"}},"Warning ",n.a.createElement(N.a,{id:"warning-popover",icon:j.i,style:{color:"#416090"}}),n.a.createElement(or.a,{placement:"bottom",isOpen:D.popoverWarningOpen,target:"warning-popover",toggle:w,trigger:"hover"},n.a.createElement(ir.a,null,"Warning range"),n.a.createElement(lr.a,null,n.a.createElement("p",null,"Defined in format: ",n.a.createElement("code",null,"@{floor}:{ceil}")),n.a.createElement("p",null,n.a.createElement("code",null,"@")," - optional - negates the range (value should belong outside limits)"),n.a.createElement("p",null,n.a.createElement("code",null,"{floor}"),": integer/float or ",n.a.createElement("code",null,"~")," that defines negative infinity"),n.a.createElement("p",null,n.a.createElement("code",null,"{ceil}"),": integer/float or empty (defines positive infinity)")))),i?n.a.createElement("th",{colSpan:3,style:{width:"13%"}},"Critical"):n.a.createElement("th",{colSpan:3,style:{width:"13%"}},"Critical ",n.a.createElement(N.a,{id:"critical-popover",icon:j.i,style:{color:"#416090"}}),n.a.createElement(or.a,{placement:"bottom",isOpen:D.popoverCriticalOpen,target:"critical-popover",toggle:A,trigger:"hover"},n.a.createElement(ir.a,null,"Critical range"),n.a.createElement(lr.a,null,n.a.createElement("p",null,"Defined in format: ",n.a.createElement("code",null,"@{floor}:{ceil}")),n.a.createElement("p",null,n.a.createElement("code",null,"@")," - optional - negates the range (value should belong outside limits)"),n.a.createElement("p",null,n.a.createElement("code",null,"{floor}"),": integer/float or ",n.a.createElement("code",null,"~")," that defines negative infinity"),n.a.createElement("p",null,n.a.createElement("code",null,"{ceil}"),": integer/float or empty (defines positive infinity)")))),n.a.createElement("th",{style:{width:"12%"}},"min"),n.a.createElement("th",{style:{width:"12%"}},"max"),!i&&n.a.createElement("th",{style:{width:"8%"}},"Action"))),n.a.createElement("tbody",null,t.rules&&t.rules.length>l&&t.rules[l]&&t.rules[l].thresholds&&t.rules[l].thresholds.length>0?t.rules[l].thresholds.map((function(r,o){return n.a.createElement("tr",{key:"rule-".concat(l,"-threshold-").concat(o)},n.a.createElement("td",{className:"align-middle text-center"},o+1),n.a.createElement("td",null,i?t.rules[l].thresholds[o].label:n.a.createElement(E.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].label&&"border-danger"),name:"rules[".concat(l,"].thresholds[").concat(o,"].label"),id:"values.rules.".concat(l,".thresholds.").concat(o,".label")}),a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].label&&Object(y.h)(a.rules[l].thresholds[o].label)),n.a.createElement("td",null,i?t.rules[l].thresholds[o].value:n.a.createElement(E.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].value&&"border-danger"),name:"rules.".concat(l,".thresholds.").concat(o,".value"),id:"values.rules.".concat(l,".thresholds.").concat(o,".value")}),a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].value&&Object(y.h)(a.rules[l].thresholds[o].value)),n.a.createElement("td",{style:{width:"6%"}},i?t.rules[l].thresholds[o].uom:n.a.createElement(E.a,{component:"select",className:"form-control custom-select",name:"rules.".concat(l,".thresholds.").concat(o,".uom"),id:"values.rules.".concat(l,".thresholds.").concat(o,".uom")},n.a.createElement("option",{key:"option-0",value:""}),n.a.createElement("option",{key:"option-1",value:"s"},"s"),n.a.createElement("option",{key:"option-2",value:"us"},"us"),n.a.createElement("option",{key:"option-3",value:"ms"},"ms"),n.a.createElement("option",{key:"option-4",value:"B"},"B"),n.a.createElement("option",{key:"option-5",value:"KB"},"KB"),n.a.createElement("option",{key:"option-6",value:"MB"},"MB"),n.a.createElement("option",{key:"option-7",value:"TB"},"TB"),n.a.createElement("option",{key:"option-8",value:"%"},"%"),n.a.createElement("option",{key:"option-9",value:"c"},"c"))),n.a.createElement("td",null,i?t.rules[l].thresholds[o].warn1:n.a.createElement(E.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].warn1&&"border-danger"),name:"rules.".concat(l,".thresholds.").concat(o,".warn1"),id:"values.rules.".concat(l,".thresholds.").concat(o,".warn1")}),a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].warn1&&Object(y.h)(a.rules[l].thresholds[o].warn1)),n.a.createElement("td",null,":"),n.a.createElement("td",null,i?t.rules[l].thresholds[o].warn2:n.a.createElement(E.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].warn2&&"border-danger"),name:"rules.".concat(l,".thresholds.").concat(o,".warn2"),id:"values.rules.".concat(l,".thresholds.").concat(o,".warn2")}),a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].warn2&&Object(y.h)(a.rules[l].thresholds[o].warn2)),n.a.createElement("td",null,i?t.rules[l].thresholds[o].crit1:n.a.createElement(E.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].crit1&&"border-danger"),name:"rules.".concat(l,".thresholds.").concat(o,".crit1"),id:"values.rules.".concat(l,".thresholds.").concat(o,".crit1")}),a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].crit1&&Object(y.h)(a.rules[l].thresholds[o].crit1)),n.a.createElement("td",null,":"),n.a.createElement("td",null,i?t.rules[l].thresholds[o].crit2:n.a.createElement(E.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].crit2&&"border-danger"),name:"rules.".concat(l,".thresholds.").concat(o,".crit2"),id:"values.rules.".concat(l,".thresholds.").concat(o,".crit2")}),a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].crit2&&Object(y.h)(a.rules[l].thresholds[o].crit2)),n.a.createElement("td",null,i?t.rules[l].thresholds[o].min:n.a.createElement(E.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].min&&"border-danger"),name:"rules.".concat(l,".thresholds.").concat(o,".min"),id:"values.rules.".concat(l,".thresholds.").concat(o,".min")}),a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].min&&Object(y.h)(a.rules[l].thresholds[o].min)),n.a.createElement("td",null,i?t.rules[l].thresholds[o].max:n.a.createElement(E.a,{type:"text",className:"form-control ".concat(a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].max&&"border-danger"),name:"rules.".concat(l,".thresholds.").concat(o,".max"),id:"values.rules.".concat(l,".thresholds.").concat(o,".max")}),a.rules&&a.rules.length>l&&a.rules[l]&&a.rules[l].thresholds&&a.rules[l].thresholds.length>o&&a.rules[l].thresholds[o]&&a.rules[l].thresholds[o].max&&Object(y.h)(a.rules[l].thresholds[o].max)),!i&&n.a.createElement("td",{className:"align-middle d-flex justify-content-center align-items-center"},n.a.createElement(g.a,{size:"sm",color:"light",type:"button",onClick:function(){e.remove(o),1===t.rules[l].thresholds.length&&e.push({label:"",value:"",uom:"",warn1:"",warn2:"",crit1:"",crit2:"",min:"",max:""})}},n.a.createElement(N.a,{icon:j.s})),n.a.createElement(g.a,{size:"sm",color:"light",type:"button",onClick:function(){return e.push({label:"",value:"",uom:"",warn1:"",warn2:"",crit1:"",crit2:"",min:"",max:""})}},n.a.createElement(N.a,{icon:j.l}))))})):null)))}}))))),l+1===t.rules.length&&!i&&n.a.createElement(g.a,{color:"success",className:"mt-4",onClick:function(){return e.push({metric:"",thresholds:[{label:"",value:"",uom:"",warn1:"",warn2:"",crit1:"",crit2:"",min:"",max:""}],host:"",endpoint_group:""})}},"Add new rule"))})):!i&&n.a.createElement(g.a,{color:"success",onClick:function(){return e.push({metric:"",thresholds:[{label:"",value:"",uom:"",warn1:"",warn2:"",crit1:"",crit2:"",min:"",max:""}],host:"",endpoint_group:""})}},"Add a rule"))}})))))},Or=function(e){function t(e){var a;return mr(this,t),(a=fr(this,gr(t).call(this,e))).location=e.location,a.backend=new M.a,a.state={loading:!1,list_thresholdsprofiles:null},a}return hr(t,e),pr(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/thresholdsprofiles").then((function(t){return e.setState({list_thresholdsprofiles:t,loading:!1})}))}},{key:"render",value:function(){var e=[{Header:"Name",id:"name",maxWidth:350,accessor:function(e){return n.a.createElement(P.b,{to:"/ui/thresholdsprofiles/"+e.name},e.name)}},{Header:"Description",accessor:"description"},{Header:"Group",accessor:"groupname",className:"text-center",maxWidth:150}],t=this.state,a=t.loading,r=t.list_thresholdsprofiles;return a?n.a.createElement(y.l,null):!a&&r?n.a.createElement(y.b,{resourcename:"thresholds profile",location:this.location,listview:!0},n.a.createElement(T.a,{data:r,columns:e,className:"-highlight",defaultPageSize:12,rowsText:"profiles",getTheadThProps:function(){return{className:"table-active font-weight-bold p-2"}}})):null}}]),t}(r.Component),Dr=function(e){function t(e){var a;return mr(this,t),(a=fr(this,gr(t).call(this,e))).name=e.match.params.name,a.addview=e.addview,a.history=e.history,a.location=e.location,a.tenant_name=e.tenantname,a.webapithresholds=e.webapithresholds,a.token=e.webapitoken,a.backend=new M.a,a.webapi=new M.b({token:a.token,thresholdsProfiles:a.webapithresholds}),a.state={thresholds_profile:{apiid:"",name:"",groupname:""},thresholds_rules:[],groups_list:[],metrics_list:[],write_perm:!1,areYouSureModal:!1,loading:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0,popoverWarningOpen:!1,popoverCriticalOpen:!1},a.toggleAreYouSure=a.toggleAreYouSure.bind(_r(a)),a.toggleAreYouSureSetModal=a.toggleAreYouSureSetModal.bind(_r(a)),a.onSelect=a.onSelect.bind(_r(a)),a.toggleWarningPopOver=a.toggleWarningPopOver.bind(_r(a)),a.toggleCriticalPopOver=a.toggleCriticalPopOver.bind(_r(a)),a.thresholdsToString=a.thresholdsToString.bind(_r(a)),a.onSubmitHandle=a.onSubmitHandle.bind(_r(a)),a.doChange=a.doChange.bind(_r(a)),a.doDelete=a.doDelete.bind(_r(a)),a}return hr(t,e),pr(t,[{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleWarningPopOver",value:function(){this.setState({popoverWarningOpen:!this.state.popoverWarningOpen})}},{key:"toggleCriticalPopOver",value:function(){this.setState({popoverCriticalOpen:!this.state.popoverCriticalOpen})}},{key:"onSelect",value:function(e,t){var a=this.state.thresholds_rules,r=e.split("[")[1].split("]")[0];a.length==r&&a.push({metric:"",thresholds:[],host:"",endpoint_group:""}),a[r].metric=t,this.setState({thresholds_rules:a})}},{key:"thresholdsToString",value:function(e){return e.forEach((function(e){var t=[];e.host||delete e.host,e.endpoint_group||delete e.endpoint_group,e.thresholds.forEach((function(e){var a=void 0;a=e.label+"="+e.value+e.uom+";"+e.warn1+":"+e.warn2+";"+e.crit1+":"+e.crit2,e.min&&e.max&&(a=a+";"+e.min+";"+e.max),t.push(a)}));var a=t.join(" ");e.thresholds=a})),e}},{key:"onSubmitHandle",value:function(e,t){var a=this,r=void 0,n=void 0;this.addview?(r="Are you sure you want to add thresholds profile?",n="Add thresholds profile"):(r="Are you sure you want to change thresholds profile?",n="Change thresholds profile"),this.toggleAreYouSureSetModal(r,n,(function(){return a.doChange(e,t)}))}},{key:"doChange",value:function(e,t){var a=this,r=JSON.parse(JSON.stringify(e));this.addview?this.webapi.addThresholdsProfile({name:r.name,rules:this.thresholdsToString(r.rules)}).then((function(t){t.ok?t.json().then((function(t){a.backend.addObject("/api/v2/internal/thresholdsprofiles/",{apiid:t.data.id,name:r.name,groupname:e.groupname,rules:r.rules}).then((function(){return Object(y.o)({msg:"Thresholds profile successfully added",title:"Added",callback:function(){return a.history.push("/ui/thresholdsprofiles")}})}))})):pe.NotificationManager.error("Error: ".concat(t.status," ").concat(t.statusText),"Error adding thresholds profile")})):this.webapi.changeThresholdsProfile({id:r.id,name:r.name,rules:this.thresholdsToString(r.rules)}).then((function(t){t.ok?t.json().then((function(t){a.backend.changeObject("/api/v2/internal/thresholdsprofiles/",{apiid:r.id,name:r.name,groupname:e.groupname,rules:r.rules}).then((function(){return Object(y.o)({msg:"Thresholds profile successfully changed",title:"Changed",callback:function(){return a.history.push("/ui/thresholdsprofiles")}})}))})):pe.NotificationManager.error("Error: ".concat(t.status," ").concat(t.statusText),"Error changing thresholds profile")}))}},{key:"doDelete",value:function(e){var t=this;this.webapi.deleteThresholdsProfile(e).then((function(a){a.ok?a.json().then(t.backend.deleteObject("/api/v2/internal/thresholdsprofiles/".concat(e))).then((function(){return Object(y.o)({msg:"Thresholds profile successfully deleted",title:"Deleted",callback:function(){return t.history.push("/ui/thresholdsprofiles")}})})):pe.NotificationManager.error("Error: ".concat(a.status," ").concat(a.statusText),"Error deleting thresholds profile")}))}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.isActiveSession().then((function(t){Promise.all([e.backend.fetchListOfNames("/api/v2/internal/metricsall"),e.backend.fetchData("/api/v2/internal/thresholdsprofiles/".concat(e.name))]).then((function(a){var r=ur(a,2),n=r[0],o=r[1];e.addview?e.setState({loading:!1,groups_list:t.userdetails.groups.thresholdsprofiles,metrics_list:n,write_perm:t.userdetails.is_superuser||t.userdetails.groups.thresholdsprofiles.length>0}):e.webapi.fetchThresholdsProfile(o.apiid).then((function(a){return e.setState({thresholds_profile:{apiid:a.id,name:a.name,groupname:o.groupname},thresholds_rules:yr(a.rules),groups_list:t.userdetails.groups.thresholdsprofiles,metrics_list:n,write_perm:t.userdetails.is_superuser||t.userdetails.groups.thresholdsprofiles.indexOf(o.groupname)>=0,loading:!1})}))}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.thresholds_profile,r=t.thresholds_rules,o=t.metrics_list,i=t.groups_list,l=t.loading,c=t.write_perm;return l?n.a.createElement(y.l,null):!l&&a?n.a.createElement(y.b,{resourcename:"thresholds profile",location:this.location,addview:this.addview,modal:!0,state:this.state,toggle:this.toggleAreYouSure,submitperm:c},n.a.createElement(E.d,{initialValues:{id:a.apiid,name:a.name,groupname:a.groupname,rules:r},validationSchema:br,onSubmit:function(t,a){return e.onSubmitHandle(t,a)},render:function(t){return n.a.createElement(E.c,null,n.a.createElement(Mr,sr({},t,{groups_list:i,metrics_list:o,write_perm:c,onSelect:e.onSelect,state:e.state,toggleWarningPopOver:e.toggleWarningPopOver,toggleCriticalPopOver:e.toggleCriticalPopOver})),c&&n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},e.addview?n.a.createElement("div",null):n.a.createElement(g.a,{color:"danger",onClick:function(){e.toggleAreYouSureSetModal("Are you sure you want to delete thresholds profile?","Delete thresholds profile",(function(){return e.doDelete(t.values.id)}))}},"Delete"),n.a.createElement(g.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):null}}]),t}(r.Component),wr=function(e){for(var t=e.title,a=e.item1,r=e.item2,o=[],i=[],l=0;l<a.length;l++){var c="metric: ".concat(a[l].metric,",\n");"host"in a[l]&&(c+="host: ".concat(a[l].host,",\n")),"endpoint_group"in a[l]&&(c+="endpoint_group: ".concat(a[l].endpoint_group,",\n")),c+="thresholds: ".concat(a[l].thresholds),o.push(c)}for(var s=0;s<r.length;s++){var u="metric: ".concat(r[s].metric,",\n");"host"in r[s]&&(u+="host: ".concat(r[s].host,",\n")),"endpoint_group"in r[s]&&(u+="endpoint_group: ".concat(r[s].endpoint_group,",\n")),u+="thresholds: ".concat(r[s].thresholds),i.push(u)}return n.a.createElement("div",{id:"argo-contentwrap",className:"ml-2 mb-2 mt-2 p-3 border rounded"},n.a.createElement("h6",{className:"mt-4 font-weight-bold text-uppercase"},t),n.a.createElement(x.a,{oldValue:i.join("\n"),newValue:o.join("\n"),showDiffOnly:!0,splitView:!0,hideLineNumbers:!0}))};var Ar=function(e){function t(e){var a;return mr(this,t),(a=fr(this,gr(t).call(this,e))).version1=e.match.params.id1,a.version2=e.match.params.id2,a.name=e.match.params.name,a.state={loading:!1,name1:"",groupname1:"",rules1:[],name2:"",groupname2:"",rules2:[]},a.backend=new M.a,a}return hr(t,e),pr(t,[{key:"componentDidMount",value:function(){var e=this;this.backend.fetchData("/api/v2/internal/tenantversion/thresholdsprofile/".concat(this.name)).then((function(t){var a="",r="",n=[],o="",i="",l=[];t.forEach((function(t){t.version==e.version1?(a=t.fields.name,r=t.fields.groupname,n=t.fields.rules):t.version==e.version2&&(o=t.fields.name,i=t.fields.groupname,l=t.fields.rules)})),e.setState({name1:a,groupname1:r,rules1:n,name2:o,groupname2:i,rules2:l,loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.name1,a=e.name2,r=e.groupname1,o=e.groupname2,i=e.rules1,l=e.rules2,c=e.loading;return c?n.a.createElement(y.l,null):!c&&t&&a?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},n.a.createElement("h2",{className:"ml-3 mt-1 mb-4"},"Compare ".concat(this.name," versions"))),t!==a&&n.a.createElement(y.e,{title:"name",item1:t,item2:a}),r!==o&&n.a.createElement(y.e,{title:"group name",item1:r,item2:o}),!function(e,t){if(e.length!==t.length)return!1;for(var a=e.length;a--;)if(e[a].metric!==t[a].metric||e[a].thresholds!==t[a].thresholds||e[a].host!==t[a].host||e[a].endpoint_group!==t[a].endpoint_group)return!1;return!0}(i,l)&&n.a.createElement(wr,{title:"rules",item1:i,item2:l})):null}}]),t}(r.Component),kr=function(e){function t(e){var a;return mr(this,t),(a=fr(this,gr(t).call(this,e))).name=e.match.params.name,a.version=e.match.params.version,a.backend=new M.a,a.state={name:"",groupname:"",rules:[],date_created:"",loading:!1},a}return hr(t,e),pr(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/tenantversion/thresholdsprofile/".concat(this.name)).then((function(t){t.forEach((function(t){t.version==e.version&&e.setState({name:t.fields.name,groupname:t.fields.groupname,rules:yr(t.fields.rules),date_created:t.date_created,loading:!1})}))}))}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.groupname,r=e.rules,o=e.date_created,i=e.loading;return i?n.a.createElement(y.l,null):!i&&t?n.a.createElement(y.b,{resourcename:"".concat(t," (").concat(o,")"),infoview:!0},n.a.createElement(E.d,{initialValues:{name:t,groupname:a,rules:r},render:function(e){return n.a.createElement(E.c,null,n.a.createElement(Mr,sr({},e,{historyview:!0})))}})):null}}]),t}(r.Component),Sr=a("9ONQ");a("/WES");function Pr(e){return(Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cr(){return(Cr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Ir(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Tr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nr(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jr(e,t,a){return t&&Nr(e.prototype,t),a&&Nr(e,a),e}function Lr(e,t){return!t||"object"!==Pr(t)&&"function"!=typeof t?xr(e):t}function xr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ur(e){return(Ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wr(e,t)}function Wr(e,t){return(Wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Br=U.object().shape({name:U.string().matches(/^\S*$/,"Name cannot contain white spaces").required("Required"),present_version:U.boolean(),version:U.string().matches(/^\S*$/,"Version cannot contain white spaces").when("present_version",{is:!1,then:U.string().required("Required")}),repo_6:U.string(),repo_7:U.string()}).test("undefined","You must provide at least one repo!",(function(e){return!(!e.repo_6&&!e.repo_7)})),Kr=function(e){function t(e){var a;return Tr(this,t),(a=Lr(this,Ur(t).call(this,e))).location=e.location,a.backend=new M.a,a.state={loading:!1,list_packages:null,list_repos:null,search_name:"",search_repo:""},a}return Rr(t,e),jr(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),Promise.all([this.backend.fetchData("/api/v2/internal/packages"),this.backend.fetchData("/api/v2/internal/yumrepos")]).then((function(t){var a=Ir(t,2),r=a[0],n=a[1],o=[];n.forEach((function(e){return o.push(e.name+" ("+e.tag+")")})),e.setState({list_packages:r,list_repos:o,loading:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.list_packages,r=t.loading,o=[{Header:"#",id:"row",minWidth:12,Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.index+1)}},{Header:"Name and version",id:"name",minWidth:80,accessor:function(e){return n.a.createElement(P.b,{to:"/ui/packages/"+e.name+"-"+e.version},e.name+" ("+e.version+")")},filterable:!0,Filter:n.a.createElement("input",{value:this.state.search_name,onChange:function(t){return e.setState({search_name:t.target.value})},placeholder:"Search by name and version",style:{width:"100%"}})},{Header:"Repo",id:"repo",accessor:"repos",Cell:function(e){return n.a.createElement("div",{style:{textAlign:"center"}},e.value.join(", "))},filterable:!0,Filter:n.a.createElement(y.g,{value:this.state.repo,onChange:function(t){return e.setState({search_repo:t.target.value})},data:this.state.list_repos})}];return this.state.search_name&&(a=a.filter((function(t){return"".concat(t.name," + ' (' + ").concat(t.version," + ')").toLowerCase().includes(e.state.search_name.toLowerCase())}))),this.state.search_repo&&(a=a.filter((function(t){return"".concat(t.repos.join(", ")).toLowerCase().includes(e.state.search_repo.toLowerCase())}))),r?n.a.createElement(y.l,null):!r&&a?n.a.createElement(y.b,{resourcename:"package",location:this.location,listview:!0},n.a.createElement(T.a,{data:a,columns:o,className:"-striped -highlight",defaultPageSize:50})):null}}]),t}(r.Component),zr=function(e){function t(e){var a;return Tr(this,t),(a=Lr(this,Ur(t).call(this,e))).nameversion=e.match.params.nameversion,a.addview=e.addview,a.location=e.location,a.history=e.history,a.backend=new M.a,a.state={pkg:{id:"",name:"",version:""},repo_6:"",repo_7:"",list_repos_6:[],list_repos_7:[],list_probes:[],present_version:!1,loading:!1,areYouSureModal:!1,modalFunc:void 0,modalTitle:void 0,modalMsg:void 0},a.toggleAreYouSure=a.toggleAreYouSure.bind(xr(a)),a.toggleAreYouSureSetModal=a.toggleAreYouSureSetModal.bind(xr(a)),a.onSelect=a.onSelect.bind(xr(a)),a.onSubmitHandle=a.onSubmitHandle.bind(xr(a)),a.doChange=a.doChange.bind(xr(a)),a.doDelete=a.doDelete.bind(xr(a)),a.toggleCheckbox=a.toggleCheckbox.bind(xr(a)),a}return Rr(t,e),jr(t,[{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"toggleAreYouSureSetModal",value:function(e,t,a){this.setState((function(r){return{areYouSureModal:!r.areYouSureModal,modalFunc:a,modalMsg:e,modalTitle:t}}))}},{key:"onSelect",value:function(e,t){var a=this.state.pkg;a[e]=t,this.setState({pkg:a})}},{key:"onSubmitHandle",value:function(e,t){var a=this,r=void 0,n=void 0;this.addview?(r="Are you sure you want to add package?",n="Add package"):(r="Are you sure you want to change package?",n="Change package"),this.toggleAreYouSureSetModal(r,n,(function(){return a.doChange(e,t)}))}},{key:"doChange",value:function(e,t){var a=this,r=[];e.repo_6&&r.push(e.repo_6),e.repo_7&&r.push(e.repo_7),this.addview?this.backend.addObject("/api/v2/internal/packages/",{name:e.name,version:e.version,use_present_version:e.present_version,repos:r}).then((function(e){e.ok?Object(y.o)({msg:"Package successfully added",title:"Added",callback:function(){return a.history.push("/ui/packages")}}):e.json().then((function(e){pe.NotificationManager.error(e.detail,"Error")}))})):this.backend.changeObject("/api/v2/internal/packages/",{id:e.id,name:e.name,version:e.version,use_present_version:e.present_version,repos:r}).then((function(e){e.ok?Object(y.o)({msg:"Package successfully changed",title:"Changed",callback:function(){return a.history.push("/ui/packages")}}):e.json().then((function(e){pe.NotificationManager.error(e.detail,"Erro")}))}))}},{key:"doDelete",value:function(e){var t=this;this.backend.deleteObject("/api/v2/internal/packages/".concat(e)).then((function(e){e.ok?Object(y.o)({msg:"Package successfully deleted",title:"Deleted",callback:function(){return t.history.push("/ui/packages")}}):e.json().then((function(e){pe.NotificationManager.error(e.detail,"Error")}))}))}},{key:"toggleCheckbox",value:function(){this.setState({present_version:!present_version})}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.backend.fetchData("/api/v2/internal/yumrepos").then((function(t){var a=[],r=[];t.forEach((function(e){"CentOS 6"===e.tag?a.push(e.name+" ("+e.tag+")"):"CentOS 7"===e.tag&&r.push(e.name+" ("+e.tag+")")})),e.addview?e.setState({list_repos_6:a,list_repos_7:r,loading:!1}):Promise.all([e.backend.fetchData("/api/v2/internal/packages/".concat(e.nameversion)),e.backend.fetchData("/api/v2/internal/probes")]).then((function(t){for(var n=Ir(t,2),o=n[0],i=n[1],l=[],c="",s="",u=0;u<o.repos.length;u++)"CentOS 6"===o.repos[u].split("(")[1].slice(0,-1)&&(c=o.repos[u]),"CentOS 7"===o.repos[u].split("(")[1].slice(0,-1)&&(s=o.repos[u]);i.forEach((function(e){e.package==="".concat(o.name," (").concat(o.version,")")&&l.push(e.name)})),e.setState({pkg:o,list_repos_6:a,list_repos_7:r,repo_6:c,repo_7:s,list_probes:l,loading:!1})}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.pkg,r=t.repo_6,o=t.repo_7,i=t.list_repos_6,l=t.list_repos_7,u=t.list_probes,m=t.loading,d=t.present_version;return m?n.a.createElement(y.l,null):!m&&i?n.a.createElement(y.b,{resourcename:"package",location:this.location,addview:this.addview,modal:!0,state:this.state,toggle:this.toggleAreYouSure,history:!1},n.a.createElement(E.d,{initialValues:{id:a.id,name:a.name,version:a.version,repo_6:r,repo_7:o,present_version:d},onSubmit:function(t,a){return e.onSubmitHandle(t,a)},validationSchema:Br,enableReinitialize:!0,render:function(t){return n.a.createElement(E.c,null,n.a.createElement(p.a,null,n.a.createElement(c.a,{className:"align-items-center"},n.a.createElement(s.a,{md:6},n.a.createElement(ue.a,null,n.a.createElement(me.a,{addonType:"prepend"},"Name"),n.a.createElement(E.a,{type:"text",name:"name",className:"form-control ".concat(t.errors.name&&"border-danger"),id:"name"})),t.errors.name&&Object(y.h)(t.errors.name),n.a.createElement(de.a,{color:"muted"},"Package name.")),n.a.createElement(s.a,{md:2},n.a.createElement(c.a,null,n.a.createElement(s.a,{md:12},n.a.createElement(ue.a,null,n.a.createElement(me.a,{addonType:"prepend"},"Version"),n.a.createElement(E.a,{type:"text",name:"version",value:t.values.present_version?"present":t.values.version,disabled:t.values.present_version,className:"form-control ".concat(t.errors.version&&"border-danger"),id:"version"})),t.errors.version&&Object(y.h)(t.errors.version),n.a.createElement(de.a,{color:"muted"},"Package version.")))),n.a.createElement(s.a,{md:3},n.a.createElement(E.a,{component:y.c,name:"present_version",className:"form-control",id:"checkbox",label:"Use version which is present in repo",onChange:e.toggleCheckbox})))),n.a.createElement(p.a,null,n.a.createElement("h4",{className:"mt-2 p-1 pl-3 text-light text-uppercase rounded",style:{backgroundColor:"#416090"}},"Yum repo"),n.a.createElement(c.a,null,n.a.createElement(s.a,{md:8},n.a.createElement(y.a,Cr({},t,{lists:i,icon:"yumrepos",field:"repo_6",val:t.values.repo_6,onselect_handler:e.onSelect,req:t.errors.undefined,label:"CentOS 6 repo"})),t.errors.undefined&&Object(y.h)(t.errors.undefined),n.a.createElement(de.a,{color:"muted"},"Package is part of selected CentOS 6 repo."))),n.a.createElement(c.a,{className:"mt-4"},n.a.createElement(s.a,{md:8},n.a.createElement(y.a,Cr({},t,{lists:l,icon:"yumrepos",field:"repo_7",val:t.values.repo_7,onselect_handler:e.onSelect,req:t.errors.undefined,label:"CentOS 7 repo"})),t.errors.undefined&&Object(y.h)(t.errors.undefined),n.a.createElement(de.a,{color:"muted"},"Package is part of selected CentOS 7 repo."))),!e.addview&&n.a.createElement(c.a,{className:"mt-3"},n.a.createElement(s.a,{md:8},"Probes:",u.length>0&&n.a.createElement("div",null,u.map((function(e,t){return n.a.createElement(P.b,{key:t,to:"/ui/probes/"+e},e)})).reduce((function(e,t){return[e,", ",t]})))))),n.a.createElement("div",{className:"submit-row d-flex align-items-center justify-content-between bg-light p-3 mt-5"},e.addview?n.a.createElement("div",null):n.a.createElement(g.a,{color:"danger",onClick:function(){e.toggleAreYouSureSetModal("Are you sure you want to delete package?","Delete package",(function(){return e.doDelete(e.nameversion)}))}},"Delete"),n.a.createElement(g.a,{color:"success",id:"submit-button",type:"submit"},"Save")))}})):null}}]),t}(r.Component);function Yr(e){return(Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Fr(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vr(e){return(Vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qr(e,t){return(qr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gr(){return(Gr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Zr(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Jr=Object(Fa.g)(y.m),Xr=Object(Fa.g)(y.n),$r=Object(Fa.g)(y.d),en=function(e){var t=e.isSuperUser,a=Zr(e,["isSuperUser"]);return t?n.a.createElement(Fa.b,a):n.a.createElement(Fa.b,{component:Qa})},tn=function(e){var t=e.webApiAggregation,a=e.webApiMetric,r=e.webApiThresholds,o=e.token,i=e.tenantName,l=e.isSuperUser;return n.a.createElement(Fa.d,null,n.a.createElement(Fa.b,{exact:!0,path:"/ui/login",render:function(){return l?n.a.createElement(Fa.a,{to:"/ui/administration"}):n.a.createElement(Fa.a,{to:"/ui/metricprofiles"})}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/home",component:se}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/services",component:Vt}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/reports",component:Bt}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/probes",component:Te}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/probes/:name/history",render:function(e){return n.a.createElement(Ae,e)}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/probes/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(je,e)}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/probes/:name/history/:version",render:function(e){return n.a.createElement(Le,e)}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/probes/:name",render:function(e){return n.a.createElement(ke,e)}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/metrics",component:xe.f}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/metrics/:name/history",render:function(e){return n.a.createElement(xe.e,e)}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/metrics/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(xe.h,e)}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/metrics/:name/history/:version",render:function(e){return n.a.createElement(xe.g,e)}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/metrics/:name",render:function(e){return n.a.createElement(xe.c,e)}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/metricprofiles",component:oe}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/metricprofiles/add",render:function(e){return n.a.createElement(ee,Gr({},e,{webapimetric:a,webapitoken:o,tenantname:i,addview:!0}))}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/metricprofiles/:name",render:function(e){return n.a.createElement(ee,Gr({},e,{webapimetric:a,webapitoken:o,tenantname:i}))}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/metricprofiles/:name/clone",render:function(e){return n.a.createElement($,Gr({},e,{webapimetric:a,webapitoken:o,tenantname:i}))}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/metricprofiles/:name/history",render:function(e){return n.a.createElement(X,e)}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/metricprofiles/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(le,e)}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/metricprofiles/:name/history/:version",render:function(e){return n.a.createElement(ce,e)}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/aggregationprofiles",component:xt}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/aggregationprofiles/add",render:function(e){return n.a.createElement(Lt,Gr({},e,{webapiaggregation:t,webapimetric:a,webapitoken:o,tenantname:i,addview:!0}))}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/aggregationprofiles/:name",render:function(e){return n.a.createElement(Lt,Gr({},e,{webapiaggregation:t,webapimetric:a,webapitoken:o,tenantname:i}))}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/aggregationprofiles/:name/history",render:function(e){return n.a.createElement(At,e)}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/aggregationprofiles/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(Rt,e)}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/aggregationprofiles/:name/history/:version",render:function(e){return n.a.createElement(Wt,e)}}),n.a.createElement(en,{isSuperUser:l,exact:!0,path:"/ui/administration",component:nt}),n.a.createElement(en,{isSuperUser:l,exact:!0,path:"/ui/administration/users",component:ca}),n.a.createElement(en,{isSuperUser:l,exact:!0,path:"/ui/administration/users/add",render:function(e){return n.a.createElement(oa,Gr({},e,{addview:!0}))}}),n.a.createElement(en,{isSuperUser:l,exact:!0,path:"/ui/administration/users/:user_name",render:function(e){return n.a.createElement(oa,e)}}),n.a.createElement(en,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofmetrics",component:ba}),n.a.createElement(en,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofmetrics/add",render:function(e){return n.a.createElement(ya,Gr({},e,{addview:!0}))}}),n.a.createElement(en,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofmetrics/:group",render:function(e){return n.a.createElement(ya,e)}}),n.a.createElement(en,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofaggregations",component:Ma}),n.a.createElement(en,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofaggregations/add",render:function(e){return n.a.createElement(Oa,Gr({},e,{addview:!0}))}}),n.a.createElement(en,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofaggregations/:group",render:function(e){return n.a.createElement(Oa,e)}}),n.a.createElement(en,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofmetricprofiles",component:Da}),n.a.createElement(en,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofmetricprofiles/add",render:function(e){return n.a.createElement(wa,Gr({},e,{addview:!0}))}}),n.a.createElement(en,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofmetricprofiles/:group",render:function(e){return n.a.createElement(wa,e)}}),n.a.createElement(en,{isSuperUser:l,exact:!0,path:"/ui/administration/apikey",component:za}),n.a.createElement(en,{isSuperUser:l,exact:!0,path:"/ui/administration/apikey/add",render:function(e){return n.a.createElement(Ya,Gr({},e,{addview:!0}))}}),n.a.createElement(en,{isSuperUser:l,exact:!0,path:"/ui/administration/metrictemplates/",component:Ge}),n.a.createElement(en,{isSuperUser:l,exact:!0,path:"/ui/administration/metrictemplates/:name",render:function(e){return n.a.createElement(Ze,Gr({},e,{tenantview:!0}))}}),n.a.createElement(en,{isSuperUser:l,exact:!0,path:"/ui/administration/metrictemplates/:name/history",render:function(e){return n.a.createElement($e,e)}}),n.a.createElement(en,{isSuperUser:l,exact:!0,path:"/ui/administration/metrictemplates/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(et,e)}}),n.a.createElement(en,{isSuperUser:l,exact:!0,path:"/ui/administration/metrictemplates/:name/history/:version",render:function(e){return n.a.createElement(rt,e)}}),n.a.createElement(en,{isSuperUser:l,exact:!0,path:"/ui/administration/apikey/:name",render:function(e){return n.a.createElement(Ya,e)}}),n.a.createElement(en,{isSuperUser:l,exact:!0,path:"/ui/administration/yumrepos/",component:rr}),n.a.createElement(en,{isSuperUser:l,exact:!0,path:"/ui/administration/yumrepos/:name",render:function(e){return n.a.createElement(nr,Gr({},e,{disabled:!0}))}}),n.a.createElement(en,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofthresholdsprofiles",component:Aa}),n.a.createElement(en,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofthresholdsprofiles/add",render:function(e){return n.a.createElement(ka,Gr({},e,{addview:!0}))}}),n.a.createElement(en,{isSuperUser:l,exact:!0,path:"/ui/administration/groupofthresholdsprofiles/:group",render:function(e){return n.a.createElement(ka,e)}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/thresholdsprofiles",component:Or}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/thresholdsprofiles/add",render:function(e){return n.a.createElement(Dr,Gr({},e,{webapithresholds:r,webapitoken:o,tenantname:i,addview:!0}))}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/thresholdsprofiles/:name",render:function(e){return n.a.createElement(Dr,Gr({},e,{webapithresholds:r,webapitoken:o,tenantname:i}))}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/thresholdsprofiles/:name/history",render:function(e){return n.a.createElement(vr,e)}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/thresholdsprofiles/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(Ar,e)}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/thresholdsprofiles/:name/history/:version",render:function(e){return n.a.createElement(kr,e)}}),n.a.createElement(Fa.b,{component:Qa}))},an=function(e){e.props;return n.a.createElement(Fa.d,null,n.a.createElement(Fa.b,{exact:!0,path:"/ui/login",render:function(){return n.a.createElement(Fa.a,{to:"/ui/administration"})}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/home",component:se}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/probes",component:Te}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/probes/add",render:function(e){return n.a.createElement(ke,Gr({},e,{addview:!0}))}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/probes/:name/clone",render:function(e){return n.a.createElement(Se,e)}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/probes/:name/history",render:function(e){return n.a.createElement(Ae,e)}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/probes/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(je,e)}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/probes/:name/history/:version",render:function(e){return n.a.createElement(Le,e)}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/probes/:name",render:function(e){return n.a.createElement(ke,e)}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/metrictemplates",component:qe}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/metrictemplates/add",render:function(e){return n.a.createElement(Ze,Gr({},e,{addview:!0}))}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/metrictemplates/:name/clone",render:function(e){return n.a.createElement(Je,e)}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/metrictemplates/:name/history",render:function(e){return n.a.createElement(Xe,e)}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/metrictemplates/:name/history/compare/:id1/:id2",render:function(e){return n.a.createElement(et,e)}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/metrictemplates/:name/history/:version",render:function(e){return n.a.createElement(rt,e)}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/metrictemplates/:name",render:function(e){return n.a.createElement(Ze,e)}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/yumrepos/",render:function(e){return n.a.createElement(rr,e)}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/yumrepos/add",render:function(e){return n.a.createElement(nr,Gr({addview:!0},e))}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/yumrepos/:name",render:function(e){return n.a.createElement(nr,e)}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/packages/",render:function(e){return n.a.createElement(Kr,e)}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/packages/add",render:function(e){return n.a.createElement(zr,Gr({addview:!0},e))}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/packages/:nameversion",render:function(e){return n.a.createElement(zr,e)}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/administration",component:ot}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/administration/users",component:ca}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/administration/users/add",render:function(e){return n.a.createElement(ia,Gr({},e,{addview:!0}))}}),n.a.createElement(Fa.b,{exact:!0,path:"/ui/administration/users/:user_name",render:function(e){return n.a.createElement(ia,e)}}),n.a.createElement(Fa.b,{component:Qa}))},rn=function(e){function t(e){var a,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(a=!(n=Vr(t).call(this,e))||"object"!==Yr(n)&&"function"!=typeof n?Hr(r):n).cookies=new Sr.a,a.backend=new M.a,a.state={isSessionActive:void 0,areYouSureModal:!1,userDetails:void 0,webApiAggregation:void 0,webApiMetric:void 0,webApiThresholds:void 0,tenantName:void 0,token:void 0,isTenantSchema:null},a.onLogin=a.onLogin.bind(Hr(a)),a.onLogout=a.onLogout.bind(Hr(a)),a.toggleAreYouSure=a.toggleAreYouSure.bind(Hr(a)),a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qr(e,t)}(t,e),a=t,(r=[{key:"onLogin",value:function(e,t){var a=this,r=new Object({active:!0,userdetails:e});this.backend.isTenantSchema().then((function(e){return a.initalizeState(e,r)})).then(setTimeout((function(){r.userdetails.is_superuser?t.push("/ui/administration"):t.push("/ui/metricprofiles")}),50))}},{key:"onLogout",value:function(){this.setState({isSessionActive:!1})}},{key:"toggleAreYouSure",value:function(){this.setState((function(e){return{areYouSureModal:!e.areYouSureModal}}))}},{key:"fetchConfigOptions",value:function(){return fetch("/api/v2/internal/config_options").then((function(e){if(e.ok)return e.json()}))}},{key:"fetchToken",value:function(){return fetch("/api/v2/internal/apikeys/WEB-API").then((function(e){return e.ok?e.json():null})).then((function(e){return e.token})).catch((function(e){return alert("Something went wrong: "+e)}))}},{key:"initalizeState",value:function(e,t){var a=this;if(e)return Promise.all([this.fetchToken(),this.fetchConfigOptions()]).then((function(r){var n=Qr(r,2),o=n[0],i=n[1];a.setState({isTenantSchema:e,isSessionActive:t.active,userDetails:t.userdetails,token:o,webApiMetric:i&&i.result.webapimetric,webApiAggregation:i&&i.result.webapiaggregation,webApiThresholds:i&&i.result.webapithresholds,tenantName:i&&i.result.tenant_name})}));this.setState({isTenantSchema:e,isSessionActive:t.active,userDetails:t.userdetails})}},{key:"componentDidMount",value:function(){var e=this;this.backend.isTenantSchema().then((function(t){e.backend.isActiveSession(t).then((function(a){return a.active&&e.initalizeState(t,a)}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.isSessionActive,r=t.userDetails;return a?a&&r&&null!==this.state.isTenantSchema?n.a.createElement(P.a,null,n.a.createElement(l.a,{fluid:!0},n.a.createElement(c.a,null,n.a.createElement(pe.NotificationContainer,null),n.a.createElement(s.a,null,n.a.createElement(Jr,{onLogout:this.onLogout,isOpenModal:this.state.areYouSureModal,toggle:this.toggleAreYouSure,titleModal:"Log out",msgModal:"Are you sure you want to log out?",userDetails:r}))),n.a.createElement(c.a,{className:"no-gutters"},n.a.createElement(s.a,{sm:{size:2},md:{size:2},id:"sidebar-col",className:"d-flex flex-column"},n.a.createElement(Xr,{isTenantSchema:this.state.isTenantSchema,userDetails:r}),n.a.createElement("div",{id:"sidebar-grow",className:"flex-grow-1 border-left border-right rounded-bottom"})),n.a.createElement(s.a,null,n.a.createElement($r,null),this.state.isTenantSchema?n.a.createElement(tn,{webApiMetric:this.state.webApiMetric,webApiAggregation:this.state.webApiAggregation,webApiThresholds:this.state.webApiThresholds,token:this.state.token,tenantName:this.state.tenantName,isSuperUser:r.is_superuser}):n.a.createElement(an,null))),n.a.createElement(c.a,null,n.a.createElement(s.a,null,n.a.createElement(y.i,{loginPage:!1}))))):null:n.a.createElement(P.a,null,n.a.createElement(Fa.d,null,n.a.createElement(Fa.b,{path:"/ui/",render:function(t){return n.a.createElement(S,Gr({onLogin:e.onLogin},t))}}),n.a.createElement(Fa.b,{component:Qa})))}}])&&Fr(a.prototype,r),o&&Fr(a,o),t}(r.Component),nn=a("dLgX");a("q4sD");i.a.render(n.a.createElement(rn,null),document.getElementById("react")),nn.a()},hQ4L:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAdCAYAAAC9pNwMAAAABmJLR0QAngCeAJ53Twm3AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH4wQcDRUGZUVdGQAABRJJREFUSMell2tsFFUUx393drcv+oIWKpZFSrFuSmo24oMQSCSGogVtDOERWEHUGA2SILZUDCImBMFVCBLAmGIhKdEgJgSs0AEaNBKw8phS0LYqpQylAmH7Jt3HzPjBWVjKbLuN/y+7M/ee87/nzHldgQWc7kJURQ7/twEpQB7wEjAZyAEygB7gKnAOOAKcArpVRQ7019MfYhDSScALwDtAFoNDA74CDqiKLA9ELgYgXQ28Z1o2VGhABbBWVeQ2K3IRSQoIVZENp7vwAjARkPh/aAWmqYrcbGlxP0v9QFyMigOAH9DNZwmIt5DPUBXZF8kjwg9Od6EEnAceH4xN17WaUMB/ZVhaxtEla8prJ7gzxbA0gif21xnfeJdPEUK8bHfEO4UQU0yRPiBPVWQ1zBfp6jXAx4O497SuhfbMW7mlJTk9c27Q78/SQsEnwUgFeoQQf9sdcbX2uIT2czXf7zx58OvnktMztwNpwK+qIk/u7+pngGpzQzT8iOb3TL9wouPaCVJTe0hNCmHL7LuVHq/5NgIz+31F1Wa3bdi4YEKFGTN5QKmqyJ853YUIp7vQDnwIrB2AtE5VZDdA1aaCOebeEUAHGOuLNl/cV/b5H1MNxAHzfSS2ej2uFSZ5F1CsKvJt4XQXDgeaB7D2T1WR8w5/WjBLN9gVJZ97E0Nts445j/iCUvIh4BHzvWF6dafX41rpdBfeAF5RFfmgcLoLpwM10Uw1DHJ3L76e7w+J74CEgWIuKdQ6+4dxZzolI3AyUgUgJJv93R0lxVfSR2bnAF9IQHE0TQI2XKuTL8dACiDdsWcfKDs3vtEsn/fFka6FyhaW7WjUdW0SkCoBT0fTdLXdsa9qU8G6GEjDiDszauKzmohbYLH20MgxufO1YKArnPC5UZRcoSWzBXhzKKXKQFq2edH4zoiicq/a9N2ZINkdm0JBf5cEjIyaPuzpAGxDLJMTMQyA9gcOpetTF67antZ26SdNstpg4pb5Gxoi8WXaEECyxVq2EP8ZKgGXB1F0cIjE2188D2bN7g8bCClMfMZKOhjoY9XehiWzyurfHgKpnttZf9zV3lgRZb0d6A4TH7LMDck25Xab6iipbFqQoN1cGgtrvObzlOc3ZQGLo2w5DzSEiWvNxn2/T+yOGbtKZh8T6Dtl5/HGYUF1jtkCLeHQu+b+Mnp3rcDYazXZmGj0elwdYeJOYJvVrtQxj+YA+3Vhr6kad9pRdLY+BVgO3DS3+ICSdP/FtKPO6rpeh7MajPwopN1mI6K0suFud5oGHLMaAFRFFqWVDV3mwPdzr2Ps678PT7zdlE4gpxvHY+3EZ/Q1bQDjtUG+xGGvx1VUWtmA1+O6rx9vAVZYCGxbXVFd3nyp8beIg2mmp5JirGoNwFNej6vnbgyZsxbAGkC1EFr+ydKZRVlj8+ZF5LTNbH+xkF4Air0eV09pZcO94DXHHlRF7gXGRhH+aMuyGaMyRudMNuesWFEFzPB6XE1hFw82ZbYCDz+QpJq2rrX++PpVext3AM8bhjECSDSD1DA/QbcQ4nooGNi6+dWC8gE6n+VNIsWM9PkR7gw39ZYu340P4uITmxe9/+WoxJS0fJvNHmcYBoaut7f+VX+qcuNbCQlJKb7M7PFdWiioXqs7OuSbxDSzGLxhcT6fFgqd0rVQNxgaiGQhSelCko7YbPazQL2qyP9Eu02IGO5O8WbBfwLYDORbTKI+c277Fgioitwz2N3pX3OCCLv6PHumAAAAAElFTkSuQmCC"},kWNB:function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,"#argo-contentwrap {\n  background-color: white;\n}\n#sidebar-grow {\n  background-color: white;\n  margin-bottom: 1px;\n}\n#argo-nav {\n  background-color: #416090;\n}\n\n#argo-breadcrumb {\n  background-color: #ecf0f5;\n}\n\n#sidebar-col {\n  max-width: 215px;\n}\n\n#argo-breadcrumb > ol {\n  background-color: #ecf0f5;\n}\n",""])},lrsP:function(e,t,a){var r=a("eVqg");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,n);r.locals&&(e.exports=r.locals)},"p3/T":function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,"#argo-footer {\n  background-color: #ffffff;\n  max-height: 92px;\n}\n\n#argo-loginfooter {\n  background-color: #ffffff;\n  max-height: 155px;\n}\n\n#argo-navbar-logout {\n  color: #ffffff;\n  border-color: #ffffff;\n  background-color: #416090;\n}\n#argo-navbar-logout:hover {\n  color: #ffffff;\n  background-color: #31496d;\n}\n\n#argo-navlinks {\n  background-color: #ffffff;\n}\n\n.argo-autocomplete-menu {\n  display: block;\n  width: 94%;\n  color: #495057;\n  position: absolute;\n  background-color: white;\n  z-index: 1000;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n  overflow-y: auto;\n  max-height: 400px;\n}\n\n.argo-autocomplete-entries {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #495057;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n.argo-autocomplete-entries-highlighted {\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  background-color: #4A90D9;\n  color: white;\n  padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n}\n\n.ReactTable .rt-thead.-filters select {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  background: transparent;\n  background-image: url(\"data:image/svg+xml;utf8,<svg fill='black' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/><path d='M0 0h24v24H0z' fill='none'/></svg>\");\n  background-repeat: no-repeat;\n  background-position-x: 100%;\n  background-position-y: 5px;\n  border: 1px solid #dfdfdf;\n  border-radius: 2px;\n  margin-right: 2rem;\n  padding: 1rem;\n  padding-right: 2rem;\n}\n\n",""])},s1Uj:function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,"#argo-td {\n  vertical-align: middle;\n}\n",""])},"tYV+":function(e,t,a){(e.exports=a("JPst")(!1)).push([e.i,"#select-field{\n    width: 150px;\n}\n\n.grouplabel {\n    width: 180px;\n}\n\n.col-md-6 {\n    padding: 5px;\n}\n\n#checkbox {\n    margin-right: 5px;\n}",""])},uU5Y:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAZCAIAAAA5RHCCAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAA6cAAAOdQGIKBt4AAAGqklEQVRIiY1WSYxdVxGtuve++f3/e/jt73Y7aRts05A2ih0jAxEICGKIQBAEG6JYEUhIWbDIgh0LiAQBNiyQEOsIkAIRyhZEcIiwE4eEJHZIHCKP6W735D+/6Q5VLH73l91xSym9xbuqUp1X51TderjnyD+JyDnngAGAEQCAmQMrpQiK3CbNm+UwBQhl8j/dWyhqa1NuUpQeT1br3XIiIagsu1iF0845Y6vQUwhkjPaUQESQiogQUSmFiALeZ8wMAE6VhbhaCTvM5jBxWtl2e5HClHRM1Cax1rkpvNRUIHIbUzCZVTcNDwjLyuVOOKHQMhly45yjtHfAG1nORLAQTwUFXhnoNgQ9r96z/rVQBopD1g09rKc1r+zNBbG0VkofpY8qUE6QEwSeNEAWeYw0QhXjgnY4HCqQusi15KSuZvVG6A2SeDhHWdRqDX70m98vnnixc1XKzA8K6VUbTKGupDZgndAGDCMoH7xgnHlkYgx2K5kA4Cuo9IagoqHq0BXH771w6gd/rfFFkkt3Lbx99OS1u+dKlcvFe1555LFnDzY3JYVgPEGxr2rAvrEA6DmW44QjU7vpx1olooHct8MSivQzX1158LuvX3xhz/W3Tlx4ufzxdw6trc3VauXsofPfeuz5bOnI2890fN9nRoUeIBhHoICdA7wtuUymH72N4223Yut7OMhXAFnJxtpG+cpL8ZU37y8nsLsSZAOoZFxh2t70Lry4eO7MdD9fbu6JjO1bm6FwjpzvhQzobycUQiCiTKYfJSJmJmZEhPE8RMv9jenDJ5aPf/F6pxteuriwdP3unESleoGcCsJgwOTSYQVw+fynq6A6eKA6evRDTEWpc9/znQMpfSb2EJgZEcXIAC0KRsFCAm6ZBBBF2Yrr8sRC/uQTv1ts/dtH8lRrImxHJkGZ5Ww8QX7py2oynHpPoFqoZz/97fdPHnvXtT/SH86WdkZBv1YYQ44QWKADNuRkMn2KGbb5HNWHzMyYurJsrwzfef3gy2c/Bw3GdCMbRqjuPEKDdvTq2QNvvjbfKRyng7CmbRYGMrLCbZeBAIAzR/5OBETkgIEFIzAjEVmv63emIpB97dt6KdObhnLmicgmd8RzOuUM09iWZMVEXlkJmqeCWLMbkTnC23XecagOH3rj/gefN+EmpH3PzdfoY1L4u8VDeDWaeueTXzl9YH5FlFEcUlLXeZHuiNoVry6mvvHI+R/+7MzisY4buGwzU9RVhdkVrth3YK94/OenH3r4Xezt0d3Iahumgx1hu+oHubZl78rFyf+c/qhQM0nSAFdSriDA94MBQCM0VReydXHhpenlpVimOQBJ22TUH0i/JMwGm3VVNVS4xmmVsU+2aAXNLtk74lXVZqsWDa7u9+uZmlAF+cydAKVD8YH0G5RNO1mKvZuzH+44PU1hREmZDXeNh0YYtBJ/H9PEalu3yc/JSYSdHyfICXJADpgkMzIJJgBGK3tprr737af/+Ocn7jt4kbpNhXeTKjQweZuI6wGIokKTdNhTOKh97ciVp5558usPPctr85M+SFN5SdDHumCQgIJh9MikeWprySIgChAwutNEtG67s2l9WJnk1TP3asdkurFUGYYpTcWQFEUY1HMa1sQwDvx26IFRwzfO7e9s7McAjfOdyIVyyonb9Gsefo6ZyYEDBhBb+53AgEmkNGWhlNI9O7e3J/xqdXVf3tLiejjTyNezubDZl4P+gbu6q8vzuRkme97LB3WmOYDIoSJvQwWkyvoITAixpR8zMzhmBqDtI/myrm00lF4vqEPQeODL13/11F8WPj7UN1upp2thT6mSLR77xFu/+NOvP/vN/xpv/+qN+6zYL2NJQiolFCSst7cAbnW1YHbMjpkBiZnHR1eR4QxjzQG4oLO6rK9dNks3ViBqf+pLl37y9B+Ofv5s/4bNO7Ov/eP40qWAPPCSQARsSYComDPhasrVd/TLeP8RgACk7Y4la0p/ouPMpG3PRFOrZ144ee5fXxjKEqpyfQNLg0ASE3v56uwvH39YRKKUa77nysqArQUeaFPFsiFVal02Lm40f38bzx+iZABmZOYw6PUHrTDuRKispUHeMEAzTWdKGUPHdGYqKdTejWwQ+sJglUKUo2CgCAiVZ4uiSoIGkQUQt+mHiELAaDdt9xEjYpVHQUSQq1grKBs86anZYSfLWfctJVZMxPXNfq+wQUJpYtRQkHO5r+ykRCcYAhnJKNfc28Enzt/z3K3/M2OH4zvfW4C09cIj5sf7G29tjTGHihEARsUBwP8BoRsQdzWv4kYAAAAASUVORK5CYII="}},[["f1jT",1,2]]]);